;/*FB_PKG_DELIM*/

__d("LSFilteredThreadsRangesQuery",["LSGetCursor","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.i64.neq(a[10],f)?d[0]=a[10]:d[0]=c.i64.cast([0,0]),a[11]!==f?d[1]=a[11]:d[1]="",(a[2]&&c.i64.neq(a[7],f)&&c.i64.neq(a[4],f)||a[3]&&c.i64.neq(a[6],f)&&c.i64.neq(a[5],f))&&!(a[2]&&c.i64.neq(a[7],f)&&c.i64.neq(a[4],f)&&a[3]&&c.i64.neq(a[6],f)&&c.i64.neq(a[5],f))?c.seq([function(e){return d[3]=a[4]==null?c.i64.cast([-2147483648,0]):a[4],d[4]=a[7]==null?c.i64.cast([0,1]):a[7],d[10]=c.i64.gt(d[4],c.i64.cast([0,1]))&&c.i64.gt(d[3],c.i64.cast([-2147483648,0])),c.sp(b("LSGetCursor"),c.i64.cast([0,1])).then(function(a){return a=a,d[2]=a[0],a})},function(e){return d[5]=new c.Map(),d[5].set("cursor",d[2]),d[5].set("filter",a[1]),d[5].set("is_after",a[3]),d[5].set("parent_thread_key",a[0]),d[5].set("reference_activity_timestamp",a[3]?a[6]:a[7]),d[5].set("reference_thread_key",a[3]?a[5]:a[4]),d[5].set("secondary_filter",d[0]),d[5].set("filter_value",d[1]),d[5].set("sync_group",c.i64.cast([0,1])),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[11]=c.i64.of_float(Date.now()),d[6]=c.i64.add(d[11],c.i64.cast([0,0]))):d[6]=c.i64.cast([0,0]),d[7]=c.toJSON(d[5]),c.sp(b("LSIssueNewTaskAndGetTaskID"),"trq",c.i64.cast([0,313]),d[7],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,d[6]).then(function(a){return a=a,d[8]=a[0],a})},function(b){return c.ftr(c.db.table(247).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])&&b.threadRangeFilterValue===d[1]}).next().then(function(b,e){e=b.done;b=b.value;return e?c.db.table(247).add({folderName:"",parentThreadKey:a[0],minThreadKey:d[3]==null?c.i64.cast([-2147483648,0]):d[3],minLastActivityTimestampMs:d[4]==null?c.i64.cast([0,1]):d[4],threadRangeFilter:a[1],secondaryThreadRangeFilter:d[0],threadRangeFilterValue:d[1],maxLastActivityTimestampMs:c.i64.cast([0,1]),maxThreadKey:c.i64.cast([-2147483648,0]),isLoadingBefore:d[10],isLoadingAfter:!1,hasMoreBefore:d[10],hasMoreAfter:!1}):(b.item,c.fe(c.ftr(c.db.table(247).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.parentThreadKey,a[0])&&c.i64.eq(b.threadRangeFilter,a[1])&&c.i64.eq(b.secondaryThreadRangeFilter,d[0])&&b.threadRangeFilterValue===d[1]}),function(a){var b=a.update;a.item;return b({isLoadingBefore:!0,isLoadingAfter:!1,hasMoreBefore:d[10],hasMoreAfter:!1})}))})}]):c.resolve()},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSVerifyThreadsActivityStatus",["LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("server_mode",a[0]),d[0].set("from_timestamp_ms",a[1]),d[0].set("threads",a[2]),d[0].set("session_id",f),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTaskWithExtraOperations"),"verify_threads_activity_status",c.i64.cast([0,648]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),f)},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSClearTables",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(a){return b.seq([function(a){return b.fe(b.db.table(67).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(66).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(65).fetch(),function(a){return a["delete"]()})},function(a){return b.fe(b.db.table(69).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSInsertRankingContacts",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("limit",a[0]),d[1]=c.createArray(),d[5]=(d[1].push("search_contacts"),d[1]),d[2]=c.i64.of_float(Date.now()),d[5]=(d[1].push(c.i64.to_string(d[2])),d[1]),d[3]=c.toJSON(d[1]),d[4]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),d[3],c.i64.cast([0,452]),d[4],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSIssueSearchQuery",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.db.table(67).fetch([[[a[0]]]]).next().then(function(e,g){g=e.done;e=e.value;return g?c.seq([function(b){return d[1]=c.i64.of_float(Date.now()),c.db.table(67).add({query:a[0],statusPrimary:c.i64.cast([0,1]),statusSecondary:c.i64.cast([0,1]),startTimeMs:d[1]})},function(e){return d[2]=new c.Map(),d[2].set("query",a[0]),d[2].set("supported_types",a[1]),d[2].set("session_id",a[2]),d[2].set("surface_type",a[3]),d[2].set("group_id",a[4]),d[2].set("thread_id",a[5]),d[3]=c.createArray(),d[9]=(d[3].push("search_primary"),d[3]),d[4]=c.i64.of_float(Date.now()),d[9]=(d[3].push(c.i64.to_string(d[4])),d[3]),d[5]=c.toJSON(d[3]),d[6]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),d[5],c.i64.cast([0,30]),d[6],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(e){return d[7]=new c.Map(),d[7].set("query",a[0]),d[7].set("supported_types",a[1]),d[7].set("session_id",a[2]),d[7].set("surface_type",a[3]),d[7].set("group_id",a[4]),d[7].set("thread_id",a[5]),d[8]=c.toJSON(d[7]),c.sp(b("LSIssueNewTask"),"search_secondary",c.i64.cast([0,31]),d[8],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}]):(e.item,0)})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("MessengerGroup.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsxs("svg",babelHelpers["extends"]({fill:"currentColor",viewBox:"0 0 26 19",width:"1em",height:"1em"},a,{children:[a.title!=null&&h.jsx("title",{children:a.title}),a.children!=null&&h.jsx("defs",{children:a.children}),h.jsx("path",{d:"M13 10c-2.13 0-3.96-1.5-3.96-4.75C9.04 2.6 10.71.83 13 .83c2.3 0 3.96 1.77 3.96 4.42C16.96 8.51 15.13 10 13 10zm6.62 8.33c.57 0 .88-.5.88-1.1 0-3.08-3.47-5.56-7.5-5.56-4.03 0-7.5 2.48-7.5 5.55 0 .62.3 1.11.88 1.11h13.24zm2.55-7.5c-1.57 0-2.92-1.08-2.92-3.45 0-1.93 1.23-3.21 2.92-3.21s2.91 1.28 2.91 3.21c0 2.37-1.34 3.45-2.91 3.45zm.81 6.67a.83.83 0 0 1-.83-.72l-.01-.11a6.3 6.3 0 0 0-1.7-3.65c-.2-.22-.14-.57.14-.67a4.95 4.95 0 0 1 1.59-.27c1.66 0 3.33.84 3.33 2.5 0 2.92-2.08 2.92-2.08 2.92h-.44zM.92 7.38c0 2.37 1.34 3.45 2.91 3.45s2.92-1.08 2.92-3.45c0-1.93-1.23-3.21-2.92-3.21S.92 5.45.92 7.38zm2.1 10.12h-.44S.5 17.5.5 14.58c0-1.66 1.67-2.5 3.33-2.5.54 0 1.08.1 1.6.27.27.1.33.45.13.67a6.3 6.3 0 0 0-1.7 3.65l-.01.1a.83.83 0 0 1-.83.73z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MWChatSearchTypeheadActionButtonViewItem.react",["CometSkittleIcon.react","CometTypeaheadViewItem.react","MWXText.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry,d=a.icon,e=a.onHighlightEntry,f=a.onPressEntry;a=a.title;d=h.jsx(c("CometSkittleIcon.react"),{color:"gray",icon:d,size:36});return h.jsx("div",{className:"xe8uvvx xexx8yu xsyo7zv x18d9i69 x16hj40l",role:"listbox",children:h.jsx(c("CometTypeaheadViewItem.react"),{entry:b,isActive:!1,itemStartContent:d,onHighlightEntry:e,onPressEntry:f,role:"option",children:h.jsx(c("MWXText.react"),{type:"body3",children:a})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWLoggerEntrypoint",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("gkx")("1968579"),d=null;a!==void 0&&(a==="Inbox"?d=b?"messengerdotcom":"fb_groups:comet_www_inbox":a==="ChatTab"?d="fb_groups:comet_www_chat":a==="FullscreenChat"&&(d="fb_groups:comet_www_fullscreen_chat"));return d}g["default"]=a}),98);
__d("MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react",["fbt","$InternalEnum","GroupsCometChatsEngagementLogger","GroupsCometGlobalChatCreationDialog.entrypoint","LSThreadAttributionStore.bs","MWChatSearchTypeheadActionButtonViewItem.react","MWLSThreadDisplayContext","MessengerGroup.svg.react","emptyFunction","react","useGroupsCometChatsEngagementImpressionLogger","useMWLoggerEntrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=b("$InternalEnum")({CHAT_HEAD:"bottom_chat_create",JEWEL:"top_chat_create"});function a(){var a=c("useMWXEntryPointDialog")(c("GroupsCometGlobalChatCreationDialog.entrypoint"),{}),b=a[0],e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),f=c("useMWLoggerEntrypoint")(e);a=d("LSThreadAttributionStore.bs").getSourceForNewThread();var g=a==="chatheadsNewMessage"?j.CHAT_HEAD:a==="jewelNewMessage"?j.JEWEL:null;a=c("useGroupsCometChatsEngagementImpressionLogger")({client_extras:{entry_point:(a=f)!=null?a:"",origin:(a=g)!=null?a:""},event:"community_chat_button_impression",surface:"chat_creation_template_list"});return i.jsx("div",{ref:a,children:i.jsx(c("MWChatSearchTypeheadActionButtonViewItem.react"),{entry:{key:"newCommunityChat",label:"New Community Chat",type:"entry"},icon:c("MessengerGroup.svg.react"),onHighlightEntry:c("emptyFunction"),onPressEntry:function(){var a;b({entrypoint:f!=null?f:void 0,shouldCloseComposeTab:e==="ChatTab",shouldGoToMessenger:e==="Inbox"},function(){});d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{entry_point:(a=f)!=null?a:"",origin:(a=g)!=null?a:""},event:"create_cc_button_clicked",source:"create_cc_button",surface:"chat_creation_template_list"})},title:h._("__JHASH__Wh17zqow6GS__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMLightSpeedChatTabActionViewItems.react",["CometDivider.react","CurrentEnvironment","MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react","cr:6189","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={divider:{marginTop:"x1xmf6yo",marginEnd:"xktsk01",marginBottom:"x1e56ztr",marginStart:"x1d52u69",$$css:!0}};function a(){var a=c("gkx")("5449")&&!c("CurrentEnvironment").messengerdotcom,d=c("gkx")("8213");d=a||d;return d?h.jsxs(h.Fragment,{children:[a&&h.jsx(c("MWChatSearchTypeaheadCreateCommunityChatActionButtonViewItem.react"),{}),b("cr:6189")&&h.jsx(b("cr:6189"),{}),h.jsx(c("CometDivider.react"),{xstyle:i.divider})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxQuickPromotionWrapper.react",["CometErrorBoundary.react","CometPlaceholder.react","cr:7303","deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react").Fragment;var i=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MAWUserVisibleErrorsNuxWrapper.react").__setRef("MWInboxQuickPromotionWrapper.react")),j=(d=b("cr:7303"))!=null?d:e;function a(a){var b=a.children;a=a.onError;return h.jsx(c("CometErrorBoundary.react"),{onError:a,children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(i,{children:h.jsx(j,{children:b})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSMessageSearchType",[],(function(a,b,c,d,e,f){a=Object.freeze({THREAD:1,MESSAGE:2});f["default"]=a}),66);
__d("LSSearchRequestStatusType",[],(function(a,b,c,d,e,f){a=Object.freeze({PENDING:1,COMPLETE:2,FAILED:3});f["default"]=a}),66);
__d("MWLSParticipant.bs",["I64","LSContactBlockedByViewerStatus","LSContactGender","LSContactType","LSContactWorkForeignEntityType","LSIntEnum","LSMailboxType","LSMediaUrl.bs","MWLSContactTypeExactUtils","ReQL"],(function(a,b,c,d,e,f,g){"use strict";b={actual_name:"",blocked_by_viewer_status:d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contact_id:d("I64").zero,contactType:d("LSIntEnum").ofNumber(c("LSContactType").UNKNOWN),delivered_watermark_timestamp_ms:d("I64").zero,gender:d("LSIntEnum").ofNumber(c("LSContactGender").UNKNOWN),is_admin:!1,is_messenger_user:!1,mailbox_type:d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),name:"",nickname:void 0,profile_picture_url:"",rank:0,read_action_timestamp_ms:d("I64").zero,read_watermark_timestamp_ms:d("I64").zero,secondary_name:void 0,thread_key:d("I64").zero,work_company_name:void 0,work_foreign_entity_info:d("LSIntEnum").ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN),work_job_title:void 0};function h(a){var b=a[1];a=a[0];var e=a.nickname;if(e!=null)e=e;else{var f=b.firstName;e=f!=null?f:b.name}return{actual_name:b.name,blocked_by_viewer_status:b.blockedByViewerStatus,contact_id:a.contactId,contactType:b.contactType,delivered_watermark_timestamp_ms:a.deliveredWatermarkTimestampMs,gender:b.gender,is_admin:(f=a.isAdmin)!=null?f:!1,is_messenger_user:b.isMessengerUser,mailbox_type:d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),name:e,nickname:a.nickname,profile_picture_url:d("LSMediaUrl.bs").Contact.profilePictureUrl(b),rank:b.rank,read_action_timestamp_ms:a.readActionTimestampMs,read_watermark_timestamp_ms:a.readWatermarkTimestampMs,secondary_name:d("MWLSContactTypeExactUtils").isIgContact(b)?b.secondaryName:void 0,thread_key:a.threadKey,work_company_name:b.workCompanyName,work_foreign_entity_info:b.workForeignEntityType,work_job_title:b.workJobTitle}}function a(a,b,c){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(c),b).map(h)}g.empty=b;g.projectOpen=h;g.getAllInOpenThread=a}),98);
__d("MWLSThreadTitle",["fbt","I64","LSMessagingThreadTypeUtil","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a){switch(a.length){case 0:return c("gkx")("1341692")?"":h._("__JHASH__v1-lXqbvI1-__JHASH__");case 1:return a[0];case 2:return h._("__JHASH__CYtAjqXrfJL__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1])]);case 3:return h._("__JHASH__0GwsaOqt1zM__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("participant3",a[2])]);default:return h._("__JHASH__-HjU-GfOUIJ__JHASH__",[h._param("participant1",a[0]),h._param("participant2",a[1]),h._param("others_count",String(a.length-2))])}}var j=c("gkx")("1846003");function k(a,b,c,e,f,g){if(a!=null)return a;a=d("LSMessagingThreadTypeUtil").isGroup(e);e=c.filter(function(a){return!d("I64").equal(a.contact_id,b)});if(a)return i(e.map(f));return c.length!==1?i(e.map(g)):g(c[0])}function a(a,b,c,d){return k(a,b,c,d,function(a){var b=a.name;a=a.nickname;return j?(a=a)!=null?a:b:b},function(a){var b=a.actual_name;a=a.nickname;return j?(a=a)!=null?a:b:b}).toString()}function b(a,b,c,d){return k(a,b,c,d,function(a){a=a.actual_name;return a},function(a){a=a.actual_name;return a}).toString()}function e(a,b,c,d){return k(a,b,c,d,function(a){var b=a.actual_name;a=a.secondary_name;return(a=a)!=null?a:b},function(a){var b=a.actual_name;a=a.secondary_name;return(a=a)!=null?a:b}).toString()}g.getDefaultThreadTitle=a;g.getThreadTitleWithFullName=b;g.getThreadTitleWithSecondaryNames=e}),98);
__d("groupBy",[],(function(a,b,c,d,e,f){function a(a,b){return a.reduce(function(a,c){(a[b(c)]=a[b(c)]||[]).push(c);return a},{})}f["default"]=a}),66);
__d("MWInboxSecureContentSearch",["fbt","I64","LSIntEnum","LSMediaThreadPictureUrl","LSMediaUrl.bs","LSMessageSearchType","LSSearchRequestStatusType","MAWBridgeSendAndReceive","MAWMiActOnActThreadReadyDeferred","MAWThreadId","MAWTimeUtils","MWLSParticipant.bs","MWLSThreadTitle","Promise","ReQL","asyncToGeneratorRuntime","emptyFunction","groupBy"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,c){a=d("ReQL").mergeJoin(d("ReQL").fromTableAscending(c.table("participants")).getKeyRange(a),d("ReQL").fromTableAscending(c.table("contacts"))).filter(function(a){a[0];a=a[1];return!d("I64").equal(a.id,b)}).map(function(a){a[0];a=a[1];return a});return d("ReQL").firstAsync(a)}function i(a,c){return d("MAWThreadId").toThreadKey_DEPRECATED(c,a.chatId).then(function(e){return b("Promise").all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(c.table("threads")).getKeyRange(e)),b("Promise").resolve(a)])})}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,d){var e=!1;yield c("MAWMiActOnActThreadReadyDeferred")(a,d,"checkForE2eeSelfThreadKey",function(a,c,d){e=!0;return b("Promise").resolve()});return e});return k.apply(this,arguments)}function l(a,e,f){var g=c("LSMediaThreadPictureUrl")(a);if(g!=null)return b("Promise").resolve([g,void 0]);else{g=d("ReQL").toArrayAsync(d("ReQL").leftJoin(d("ReQL").fromTableAscending(f.table("participants")).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(f.table("contacts"))).map(function(a){a[0];a=a[1];return a}).filter(Boolean));a=g.then(function(a){return a.sort(function(a,b){return a.rank-b.rank}).filter(function(a){return d("I64").equal(a.id,e)?j(f,a.id):!0}).map(function(a){return d("LSMediaUrl.bs").Contact.profilePictureUrl(a)})}).then(function(a){var b=a[0];return b!=null?[b,a[1]]:["",void 0]});return a}}function m(a,b,e){if(a===1||d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSMessageSearchType").MESSAGE)))return b.content;else return h._("__JHASH__MOcENwPdyTO__JHASH__",[h._plural(a,"number")]).toString()}function n(a,b){return d("ReQL").toArrayAsync(d("MWLSParticipant.bs").getAllInOpenThread(b,d("ReQL").fromTableAscending(b.table("contacts")),a.threadKey))}function o(a,e,f,g,h,j){return j.runInTransaction(function(k){return i(a,k).then(function(a){var i=a[0];if(i==null)return;var o=a[1];if(o!=null)return b("Promise").all([l(i,h,j),n(i,j)]).then(function(a){var j=a[0],l=o.content;return b("Promise").all([k.table("message_search_queries").put({hasNextPage:void 0,nextPageCursor:void 0,query:f,resultCount:d("I64").of_int32(e),status:d("LSIntEnum").ofNumber(c("LSSearchRequestStatusType").COMPLETE),threadKeyV2:i.threadKey,type_:g}),k.table("message_search_results").put({contextLine:m(e,o,g),displayName:d("MWLSThreadTitle").getThreadTitleWithFullName(i.threadName,h,a[1],i.threadType),globalIndex:d("I64").of_int32(-o.rowId|0),matchLengths:String(f.length),matchOffsets:l!=null?String(l.indexOf(f)):void 0,messageId:o.msgId,messageTimestampMs:d("MAWTimeUtils").toTimestamp(o.ts),profilePicUrl:j[0],query:f,secondaryProfilePicUrl:j[1],threadKey:i.threadKey,threadType:i.threadType,type_:g})]).then(c("emptyFunction"))})})},"readwrite")}function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){c=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","search",{search:c}));return b("Promise").all(c.map(function(b){if(b.recordType==="msg"){b.recordType;var c=babelHelpers.objectWithoutPropertiesLoose(b,["recordType"]);return d("MAWThreadId").toThreadKey_DEPRECATED(a,c.chatId).then(function(a){return[c,a]})}}).filter(Boolean))});return q.apply(this,arguments)}function e(a,e,f){return p(f,a).then(function(g){return Object.values(c("groupBy")(g,function(a){a[0];a=a[1];return a==null?"":d("I64").to_string(a)})).map(function(b){var g=b[0];if(g!==null){g=g[0];return o(g,b.length,a,d("LSIntEnum").ofNumber(c("LSMessageSearchType").THREAD),e,f)}}).reduce(function(a,d){return b("Promise").all([a,d]).then(c("emptyFunction"))},b("Promise").resolve())})}function f(a,e,f,g){return p(g,a).then(function(h){h=h.filter(function(a){a[0];a=a[1];return e!=null&&a!=null&&d("I64").equal(a,e)});var i=h.length;return h.map(function(b){b=b[0];return o(b,i,a,d("LSIntEnum").ofNumber(c("LSMessageSearchType").MESSAGE),f,g)}).reduce(function(a,d){return b("Promise").all([a,d]).then(c("emptyFunction"))},b("Promise").resolve())})}g.getThreadOtherParticipantContact=a;g.getThreadPics=l;g.getThreadParticipants=n;g.searchSecureDatabaseThreads=e;g.searchSecureDatabaseMessages=f}),98);
__d("useMWCMMarkBumpedThreadsSeen",["Int64Hooks","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MWCMMarkBumpedThreadsSeen").__setRef("useMWCMMarkBumpedThreadsSeen");function a(a){var b=c("useReStore")();return d("Int64Hooks").useCallbackInt64(function(){h.onReady(function(c){void c.MWCMMarkBumpedThreadsSeen(a,b)})},[b,a])}g["default"]=a}),98);
__d("useMWCMVerifyThreadsActivityStatusOnce",["I64","LSDict","LSFactory","LSVec","LSVerifyThreadsActivityStatus","MWInboxPersistedUIState","justknobx","promiseDone","qex","react","useReStore","useServerTime"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useMemo,j=b.useRef,k=1e3*60*60*3;function a(a){var b=c("useReStore")(),e=c("useServerTime")(),f=d("MWInboxPersistedUIState").usePersistedUIState(d("I64").of_float(e.valueOf()-k),"__"+a+".fromTimestampMs__"),g=f[0],l=f[1],m=j(!1),n=i(function(){return c("justknobx")._("1225")?["JOINED_PUBLIC_CHANNELS"]:[]},[]),o=i(function(){return c("justknobx")._("815")||a==="ContextSwitcher"?["JOINED_COMMUNITY_CHANNELS"]:[]},[a]);h(function(){!m.current&&(n.length>0||o.length>0)&&(c("qex")._("1000"),c("promiseDone")(b.runInTransaction(function(a){return c("LSVerifyThreadsActivityStatus")(c("LSVec").make([].concat(o,n)),g,new(c("LSDict"))([]),c("LSFactory")(a))},"readwrite"),function(){l(d("I64").of_float(e.valueOf())),m.current=!0}))},[n,o,b,g,e,l])}g["default"]=a}),98);
__d("MWInboxContextSwitcher.react",["fbt","C4GFalcoLoggerDeferred","CometPivotLinkTabs.react","I64","LSIntEnum","MWChatBadgeCountUpdates.react","MWInboxPersistedUIState","MWPBumpEntityKey","ReQL","ReQLSuspense","cr:3408","cr:3437","promiseDone","react","useMWCMVerifyThreadsActivityStatusOnce","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect,k=(e=b("cr:3408"))!=null?e:function(){return!1},l={tabContainer:{paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0}};function a(a){var e=a.entryPoint,g=a.onTabChange,m=a.selectedFolderTab,n=c("useReStore")();j(function(){b("cr:3437")!=null&&c("promiseDone")(n.runInTransaction(function(a){return b("cr:3437")(a)},"readwrite","background"))},[n]);c("useMWCMVerifyThreadsActivityStatusOnce")("ContextSwitcher");a=!!d("ReQLSuspense").useFirst(function(){var a=[d("ReQL").fromTableDescending(n.table("threads").index("threadTypeLastActivityTimestampMs")).getKeyRange(d("LSIntEnum").ofNumber(23)),d("ReQL").fromTableDescending(n.table("threads").index("threadTypeLastActivityTimestampMs")).getKeyRange(d("LSIntEnum").ofNumber(18)),d("ReQL").fromTableDescending(n.table("threads").index("threadTypeLastActivityTimestampMs")).getKeyRange(d("LSIntEnum").ofNumber(21))];return d("ReQL").union.apply(void 0,a)},[n],f.id+":95");var o=k(),p=d("MWInboxPersistedUIState").usePersistedUIState(o,"__MWInboxContextSwitcher.hasViewedSuggestedChats__"),q=p[0],r=p[1];p=d("MWChatBadgeCountUpdates.react").useUnseenThreadCount(d("LSIntEnum").ofNumber(0));p=p!=null&&p>0;var s=d("MWChatBadgeCountUpdates.react").useHasUnseenCommunityThreads(),t=o&&!q,u=e==="jewel"?"jewel_tray":"messenger_inbox",v=e==="inbox"?"jewel_inbox":"chats_inbox",w=c("useSinglePartialViewImpression")({onImpressionStart:function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"impression",event:"blended_threadlist_community_tab_rendered",parent_surface:v,source:"blended_threadlist_community_tab",surface:u})}});p=[{folder:d("LSIntEnum").ofNumber(0),hasNewContentBadge:p,isShown:!0,label:h._("__JHASH__4dBM4WjAtAu__JHASH__"),odsAction:"inbox_tab_click"},{folder:d("LSIntEnum").ofNumber(-14),hasNewContentBadge:s||t,isShown:a||o,label:h._("__JHASH___yDrE8px4gt__JHASH__"),logClick:function(){d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"blended_threadlist_community_tab_clicked",parent_surface:v,source:"blended_threadlist_community_tab",surface:u})},odsAction:"communities_tab_click",ref:w}];s=p.filter(function(a){return a.isShown}).map(function(a,b){var c=a.folder;b=a.hasNewContentBadge;a.isShown;var f=a.logClick,h=a.odsAction,i=a.ref;a=babelHelpers.objectWithoutPropertiesLoose(a,["folder","hasNewContentBadge","isShown","logClick","odsAction","ref"]);return babelHelpers["extends"]({},a,{hasNewContentBadge:b,onPress:function(){d("I64").equal(c,d("LSIntEnum").ofNumber(-14))&&o&&!q&&r(!0),d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.contextswitcher."+e,h),f==null?void 0:f(),g(c)},ref:i,selected:d("I64").equal(c,m),testid:d("I64").equal(c,d("LSIntEnum").ofNumber(-14))?"communities_tab":void 0})});return i.jsx(c("CometPivotLinkTabs.react"),{linkType:"deemphasized",tabs:s,tabsContainerStyle:l.tabContainer})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxContextSwitcherCond.react",["cr:4067","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return b("cr:4067")?h.jsx(b("cr:4067"),babelHelpers["extends"]({},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxContextSwitcherGlimmer.react",["MDSGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={tabPlaceholder:{borderTopStartRadius:"x1tlxs6b",borderTopEndRadius:"x1g8br2z",borderBottomEndRadius:"x1gn5b1j",borderBottomStartRadius:"x230xth",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},tabPlaceholderRoot:{display:"x78zum5",minHeight:"xu0aao5",paddingStart:"x1swvt13",paddingEnd:"x1pi30zi",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",width:"x3bhodz",$$css:!0}};function a(){return h.jsx("div",{className:"x78zum5 xu0aao5 x1swvt13 x1pi30zi x1y1aw1k xwib8y2 x3bhodz",children:h.jsx(c("MDSGlimmer.react"),{index:0,xstyle:i.tabPlaceholder})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelMessageRequestsThread.react",["fbt","ix","I64","LSIntEnum","Locale","MWJewelThreadSnippet.react","ReQL","ReQLSuspense","TetraIcon.react","TetraListCell.react","fbicon","react","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=function(){var a=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(d("LSIntEnum").ofNumber(-1)).filter(function(a){return d("I64").gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs)}).map(function(b){b=b.snippetSenderContactId;if(b!=null){b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(b),f.id+":55");return b?b.name:void 0}})},[a],f.id+":40")};function a(a){var b=a.onOpenMessageRequests;a=a.unreadRequestsCount;var e=h._("__JHASH__SQMsXxQB2ND__JHASH__",[h._plural(a)]),f=h._("__JHASH__jhOYdnXiHj7__JHASH__",[h._enum(a===1?"someone":"people",{someone:"someone",people:"people"})]),g=k();g!=null&&(a===1?f=h._("__JHASH__Lhb1JePxKuz__JHASH__",[h._param("name",g)]):f=h._("__JHASH__CG_5_9rh3Rj__JHASH__",[h._param("name",g),h._param("count",a-1)]));return j.jsx(c("TetraListCell.react"),{addOnPrimary:{icon:d("fbicon")._(i("542884"),24),size:56,type:"contained-icon"},addOnSecondary:{addOn:j.jsx(c("TetraIcon.react"),{color:"secondary",icon:d("Locale").isRTL()?d("fbicon")._(i("492485"),16):d("fbicon")._(i("492533"),16)}),type:"body"},body:j.jsx(c("MWJewelThreadSnippet.react"),{isUnread:!0,text:f}),headline:e,level:4,onPress:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWLSLoadThreadFolderIfNotPresent",["CancellablePromise.bs","CancellationToken.bs","I64","Int64Hooks","MWLSJewelLoadMoreThreads.bs","Promise","ReQL","promiseDone","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=c("useReStore")(),f=d("MWLSJewelLoadMoreThreads.bs").useHook(a);d("Int64Hooks").useEffectInt64(function(){var g=d("CancellationToken.bs").CancellationToken();c("promiseDone")(d("CancellablePromise.bs").ignoreFailed(void 0,d("CancellablePromise.bs").then_(g,function(a){a==null&&f();return b("Promise").resolve()},d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("threads_ranges_v2__generated")).filter(function(b){return d("I64").equal(b.parentThreadKey,a)})))));return g.cancel},[f,e,a])}g["default"]=a}),98);
__d("MWLSJewelMessageRequestsThreadContainer.react",["I64","LSIntEnum","MWJewelMessageRequestsThread.react","ReQL","ReQLSuspense","react","useMWLSLoadThreadFolderIfNotPresent","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(){var a=c("useReStore")(),b=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(d("LSIntEnum").ofNumber(-1)).filter(function(a){return d("I64").gt(a.lastActivityTimestampMs,a.lastReadWatermarkTimestampMs)})},[a],f.id+":30");return b.length}function a(a){a=a.onOpenMessageRequests;c("useMWLSLoadThreadFolderIfNotPresent")(d("LSIntEnum").ofNumber(-1));var b=i();return a==null||b===0?null:h.jsx(c("MWJewelMessageRequestsThread.react"),{onOpenMessageRequests:a,unreadRequestsCount:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("mwGroupEntriesForDisplay",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=new Map();for(var a=a,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e,f,g;if(c){if(d>=a.length)break;g=a[d++]}else{d=a.next();if(d.done)break;g=d.value}g=g;e=(e=g.rawData.section)!=null?e:"";f=(f=b.get(e))!=null?f:[];f.push(g);b.set(e,f)}return b}f.mwGroupEntriesForDisplay=a}),66);
__d("MWChatSearchLightspeedTypeaheadViewList.react",["MWCMLightSpeedChatTabActionViewItems.react","TetraText.react","getItemRoleFromCompositeRole","mwGroupEntriesForDisplay","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function j(a){var b=a.activeEntryKey,d=a.children,e=a.entries,f=a.itemRole;a=a.title;return e!=null&&e.length>0?h.jsxs("li",{className:"xexx8yu xsyo7zv x18d9i69 x16hj40l",children:[a?h.jsx("div",{className:"x1y1aw1k x1sxyh0 xwib8y2 xurb0ha",children:h.jsx(c("TetraText.react"),{type:"entityHeaderMeta1",children:a})}):null,h.jsx("ul",{children:e.map(function(a,c){var e=b===a.key;return d({entry:a,index:c,isActive:e,itemRole:f})})})]}):null}function a(a){var b=a.ariaProps,e=a.children,f=a.entries,g=a.highlightedEntry,k=a.showActionItems;a=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","children","entries","highlightedEntry","showActionItems"]);var l=g!=null?g.key:null;a=i(function(){return d("mwGroupEntriesForDisplay").mwGroupEntriesForDisplay(f)},[f]);var m=c("getItemRoleFromCompositeRole")(b.role);return h.jsxs("ul",{"data-testid":void 0,role:"listbox",children:[k&&h.jsx(c("MWCMLightSpeedChatTabActionViewItems.react"),{}),Array.from(a.entries()).map(function(a){var b=a[0];a=a[1];return h.jsx(j,{activeEntryKey:l,children:e,entries:a,itemRole:m,title:b},b)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelLightspeedSearchTypeaheadViewList.react",["CometScrollView.react","MWChatSearchLightspeedTypeaheadViewList.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={scroll:{maxHeight:"x1wxkln1",$$css:!0}};function a(a){var b=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["xstyle"]);return h.jsx(c("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,xstyle:[i.scroll,b],children:h.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),babelHelpers["extends"]({showActionItems:!1},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWJewelSearchEmptyState.react",["fbt","TetraText.react","react","useCometTypeaheadEmptyState"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=c("useCometTypeaheadEmptyState")();return b?i.jsxs("div",{className:"xz9dl7a xn6708d xsag5q8 x1ye3gou",children:[i.jsx(c("TetraText.react"),{align:"center",type:"body2",children:h._("__JHASH__kjfZwRT5xYf__JHASH__")}),i.jsx("br",{}),i.jsx(c("TetraText.react"),{align:"center",color:"tertiary",type:"body3",children:h._("__JHASH__vJvyHT-oIpm__JHASH__",[h._param("query",a.queryString)])})]}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LSSearchType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:1,NONCONTACT:2,GROUP:3,PAGE:4,INTEGRATED_MESSAGE_SEARCH_THREAD:5,IG_CONTACT_FOLLOWING:6,IG_CONTACT_NONFOLLOWING:7,IG_NONCONTACT_FOLLOWING:8,IG_NONCONTACT_NONFOLLOWING:9,IG_BUSINESS:10,TAM_CONTACT:11,TAM_THREAD:12,COMMUNITY_MESSAGING_THREAD:13,RECOMMENDED_COMMUNITIES:14,SECTION_HEADER:15,AI_BOT:16});f["default"]=a}),66);
__d("MWJewelSearchTypeaheadHelper.bs",["I64","LSIntEnum","LSSearchType"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case c("LSSearchType").CONTACT:return 0;case c("LSSearchType").NONCONTACT:return 1;case c("LSSearchType").GROUP:return 2;case c("LSSearchType").PAGE:return 3;case c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD:return 4;case c("LSSearchType").IG_BUSINESS:return 6;default:return 5}}function a(a){var b=d("I64").to_int32(a.threadType),c=d("I64").to_int32(a.type_),e;switch(c){case 0:e=1;break;case 1:e=2;break;case 2:e=3;break;case 3:e=9;break;case 4:e=14;break;case 5:e=7;break;case 6:e=15;break;case 7:e=6;break;default:e=7}return{queryString:a.query,resultFbid:a.resultId,resultIndex:d("I64").to_string(a.globalIndex),resultType:h(d("LSIntEnum").unwrapIntEnum(a.type_)),threadType:d("I64").to_int32(a.threadType),transportType:b!==0?b!==1?3:2:1,universalSearchResultType:e}}g.getLoggingValues=a}),98);
__d("LsUniversalSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("92");b=d("FalcoLoggerInternal").create("ls_universal_search_end",a);e=b;g["default"]=e}),98);
__d("LsUniversalSearchResultSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("95");b=d("FalcoLoggerInternal").create("ls_universal_search_result_selected",a);e=b;g["default"]=e}),98);
__d("UniversalSearchEndFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("844");b=d("FalcoLoggerInternal").create("universal_search_end",a);e=b;g["default"]=e}),98);
__d("UniversalSearchResultSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("846");b=d("FalcoLoggerInternal").create("universal_search_result_selected",a);e=b;g["default"]=e}),98);
__d("MWSearchLogging",["LsUniversalSearchEndFalcoEvent","LsUniversalSearchResultSelectedFalcoEvent","MWJewelSearchTypeaheadHelper.bs","UniversalSearchEndFalcoEvent","UniversalSearchResultSelectedFalcoEvent","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){if(a==="offline"||a==="offline_nullstate"||a==="secure")return[0];return a==="server"?[1,2]:[]};function a(a,b,e,f,g){var i=e.rawData;e=i.id;var j=2,k=3;i.isE2EE&&(j=0,k=1);var l=e,m=5,n=7;e=i.serverSearchResult;if(e!=null){e=d("MWJewelSearchTypeaheadHelper.bs").getLoggingValues(e);m=e.resultType;j=e.threadType;l=e.resultFbid}var o=((e=i.renderIndex)!=null?e:-1).toString();c("LsUniversalSearchResultSelectedFalcoEvent").log(function(){return{data_sources:h(i.searchSource),instance_id:a,recipient_ids:f,result_index_without_header:o,search_result:{query_string:b,result_fbid:l,result_index:o,result_type:m},thread_type:j,ui_section:0}});c("LsUniversalSearchEndFalcoEvent").log(function(){return{end_action:6,instance_id:a,recipient_ids:f,thread_type:j}});c("gkx")("4370")&&(c("UniversalSearchResultSelectedFalcoEvent").log(function(){return{data_sources:h(i.searchSource),is_epd:c("gkx")("4438")||i.isEPD,search_result:{query_string:b,result_fbid:l,result_index:o,result_type:n},session_id:a,transport_type:k,ui_section:1}}),g.current||(c("UniversalSearchEndFalcoEvent").log(function(){return{end_action:7,is_epd:c("gkx")("4438")||i.isEPD,session_id:a,transport_type:k}}),g.current=!0))}g.getDataSources=h;g.logResultSelected=a}),98);
__d("MessengerDebugOverlay.react",["fbt","I64","MessagingThreadType","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={debug_overlay_block:{marginTop:"xr9ek0c",marginBottom:"xjpr12u",$$css:!0}},k=function(a){var b=Object.entries(c("MessagingThreadType")).filter(function(b){return b[1]===a});return b[0][0]};function a(a){a=a.rawData;var b="undefined";a.serverSearchResult!=null&&(b=k(d("I64").to_int32(a.serverSearchResult.threadType)));return i.jsxs("div",{style:j.debug_overlay_block,children:[i.jsxs("div",{children:[h._("__JHASH__XTPGN7Q8teR__JHASH__"),a.resultType]}),i.jsxs("div",{children:[h._("__JHASH__pgUGKyy7T9Y__JHASH__"),a.isE2EE.toString()]}),i.jsxs("div",{children:[h._("__JHASH__5mWNwl5tmCu__JHASH__"),b]}),i.jsxs("div",{children:[h._("__JHASH__2JdCmgbvVe7__JHASH__"),(b=a.serverSearchResult)==null?void 0:b.resultId]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("UniversalSearchImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("845");b=d("FalcoLoggerInternal").create("universal_search_impression",a);e=b;g["default"]=e}),98);
__d("useUniversalSearchImpressionFalcoEvent",["MWSearchLogging","UniversalSearchImpressionFalcoEvent","emptyFunction","gkx","react","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.cm_group_id,e=a.entry,f=a.is_community_chat,g=a.is_opened_instance_id,i=a.query_string,j=e.rawData;a=j.id;var k=3,l=a,m=((e=j.renderIndex)!=null?e:-1).toString();a=h(function(){c("UniversalSearchImpressionFalcoEvent").log(function(){return{cm_group_id:b,data_sources:d("MWSearchLogging").getDataSources(j.searchSource),impression_selected:!1,is_epd:c("gkx")("4438")||j.isEPD,search_result:{query_string:i,result_fbid:l,result_index:m,result_type:7},session_id:g,transport_type:k,ui_section:13}})},[b,g,i,j.isEPD,j.searchSource,l,m,k]);return c("usePartialViewImpression")({onImpressionStart:f?a:c("emptyFunction")})}g["default"]=a}),98);
__d("MWJewelSearchTypeaheadViewItem.react",["fbt","ix","CometMiddot.react","CometPageVerificationIcon.react","CometTypeaheadViewItem.react","ConstUriUtils","CurrentEnvironment","I64","LSIntEnum","LSSearchType","MAWGating","MAWThreadCutover.bs","MWCMIsAnyCMThread","MWChatFacepile.react","MWChatProfile.react","MWChatSearchResultType","MWSearchLogging","MWXIcon.react","MWXText.react","MWXTextPairing.react","MessengerDebugOverlay.react","QPLUserFlow","UniversalSearchResultSelectedFalcoEvent","XCometMessengerControllerRouteBuilder","XMessengerDotComCometMainControllerRouteBuilder","cr:4538","cr:4539","cr:7325","deferredLoadComponent","fbicon","gkx","qpl","react","requireDeferred","useCometRouterDispatcher","useUniversalSearchImpressionFalcoEvent","uuidv4"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState,l=c("deferredLoadComponent")(c("requireDeferred")("MAWChatVerifyCutover.react").__setRef("MWJewelSearchTypeaheadViewItem.react")),m=d("MAWGating").isTlcSearchEnabled(),n={contentRoot:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginTop:"xdj266r",marginBottom:"xat24cr",paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",":hover_backgroundColor":"x8du52y",$$css:!0},searchIcon:{paddingTop:"x123j3cw",paddingEnd:"x1mpkggp",paddingBottom:"xs9asl8",paddingStart:"x1t2a60a",$$css:!0},verifiedBadge:{paddingStart:"xurb0ha",$$css:!0}};function a(a){var e=a.entry,f=a.onPressEntry,g=a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry","onPressEntry","queryString"]);var o=e.rawData,p=o.id,q=o.imageUrl,r=o.isE2EE,s=o.isInstagramAccount,t=o.isInteropEligible,u=o.resultType,v=o.secondaryImageUrl,w=o.section,x=o.serverSearchResult,y=o.subtext;o=o.verificationStatus;var z=null,A=x==null?void 0:x.communityId;A!=null&&(z=d("I64").of_string_opt(A));var B=b("cr:4538")==null?void 0:b("cr:4538")(),C=b("cr:4539")==null?void 0:b("cr:4539")({onSuccess:function(a){return B==null?void 0:B(a)}}),D=x!=null&&x.threadType!=null&&c("MWCMIsAnyCMThread")(x.threadType),E=c("uuidv4")();A=c("useUniversalSearchImpressionFalcoEvent")({entry:e,is_community_chat:D,is_opened_instance_id:E,query_string:g});var F=c("useCometRouterDispatcher")(),G=(x==null?void 0:x.threadType)!=null&&(d("I64").to_int32(x.threadType)===151||d("I64").to_int32(x.threadType)===155&&c("gkx")("6661"))&&(x==null?void 0:x.type_)!=null&&d("I64").to_int32(x.type_)===c("LSSearchType").RECOMMENDED_COMMUNITIES&&(x==null?void 0:x.threadJoinLinkHash)!=null,H=(x==null?void 0:x.threadType)!=null&&d("LSIntEnum").toNumber(x.threadType)===153,I=d("MAWThreadCutover.bs").useIsCutoverSecureThread(d("I64").of_string_opt(p));r=r&&!I?h._("__JHASH__PXg4X26-RXS__JHASH__"):y;I=D&&z!=null&&b("cr:7325")?j.jsx(b("cr:7325"),{chatPictureUrl:q,size:28,threadKey:z}):u==="messages"?j.jsx("div",{className:"x123j3cw x1mpkggp xs9asl8 x1t2a60a",children:j.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("491284"),24),size:24})}):v!==""?j.jsx(c("MWChatFacepile.react"),{firstParticipantURI:q,secondParticipantURI:v,size:36}):j.jsx(c("MWChatProfile.react"),{size:36,src:q});y=k();z=y[0];u=y[1];v=e.rawData.otherUserId;y=(q=z)!=null?q:p;q=(G||H)&&(x==null?void 0:x.threadJoinLinkHash)!=null?(z=d("ConstUriUtils").getUri(x==null?void 0:x.threadJoinLinkHash))==null?void 0:z.getPath().split("/").reverse()[1]:void 0;var J=c("CurrentEnvironment").facebookdotcom?c("XCometMessengerControllerRouteBuilder").buildURL({link_hash:q,thread_key:y}):c("XMessengerDotComCometMainControllerRouteBuilder").buildURL({link_hash:q,thread_key:y});z=e.rawData.resultType===c("MWChatSearchResultType").USER||e.rawData.resultType===c("MWChatSearchResultType").GROUP;q=babelHelpers["extends"]({},e,{key:y,rawData:babelHelpers["extends"]({},e.rawData,{id:y},v==null&&p!==y?{otherUserId:p}:{})});v=c("gkx")("8387");return j.jsx("div",{ref:A,children:j.jsxs(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{entry:q,isDisabled:s===!0&&t===!1,itemStartContent:I,linkProps:{preventLocalNavigation:!0,url:J},onPressEntry:G?function(){(x==null?void 0:x.threadJoinLinkHash)!=null&&(C==null?void 0:C(x.threadJoinLinkHash))}:H?function(){F==null?void 0:F.go(J,{})}:function(a,b){f(a,b),D===!0?(c("QPLUserFlow").endSuccess(c("qpl")._(25312244,"1683")),c("UniversalSearchResultSelectedFalcoEvent").log(function(){var a;return{data_sources:d("MWSearchLogging").getDataSources(e.rawData.searchSource),is_epd:c("gkx")("4438")||e.rawData.isEPD,search_result:{query_string:g,result_fbid:e.rawData.id,result_index:((a=e.rawData.renderIndex)!=null?a:-1).toString(),result_type:7},session_id:E,transport_type:3,ui_section:13}})):c("QPLUserFlow").endCancel(c("qpl")._(25312244,"1683"))},testid:void 0,xstyle:n.contentRoot,children:[m===!0&&z?j.jsx(l,{id:p.toString(),updateThreadKey:u}):null,j.jsx(c("MWXTextPairing.react"),{body:j.jsxs(c("MWXText.react"),{numberOfLines:1,type:"body3",children:[e.label,o!=null?j.jsx("span",{className:"xurb0ha",children:j.jsx(c("CometPageVerificationIcon.react"),{size:"small",verificationBadge:o})}):null]}),level:3,meta:r&&r!==""?j.jsxs(c("MWXText.react"),{numberOfLines:1,type:"meta4",children:[r,(w==null||w==="")&&Boolean(e.rawData.isInstagramAccount)?j.jsxs(j.Fragment,{children:[j.jsx(c("CometMiddot.react"),{}),"Instagram"]}):null]}):null}),v?j.jsx(c("MessengerDebugOverlay.react"),{rawData:q.rawData}):null]}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("createMWJewelSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWJewelLightspeedSearchTypeaheadViewList.react","MWJewelSearchEmptyState.react","MWJewelSearchTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return function(b){var d=b.ariaProps,e=b.entries;b.extraViewProps;var f=b.highlightedEntry,g=b.isLoading;b.onAbandonTypeahead_DO_NOT_USE;var i=babelHelpers.objectWithoutPropertiesLoose(b,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE"]);b=e.length===0&&i.queryString.length>0;g=e.length>0&&g;return b?h.jsx(c("MWJewelSearchEmptyState.react"),{queryString:i.queryString}):h.jsxs(h.Fragment,{children:[h.jsx(c("MWJewelLightspeedSearchTypeaheadViewList.react"),{ariaProps:d,entries:e,highlightedEntry:f,xstyle:a,children:function(a){var b=a.entry,d=a.isActive;a=a.itemRole;return h.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},i,{entry:b,isActive:d,key:b.key,role:a}))}}),g&&h.jsx(c("CometTypeaheadProgressGlimmer.react"),{})]})}}g["default"]=a}),98);
__d("useHasUnjoinedCMThreads",["LSIntEnum","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useReStore")();return!!d("ReQLSuspense").useFirst(function(){return d("ReQL").union(d("ReQL").fromTableDescending(a.table("threads").index("threadTypeLastActivityTimestampMs")).getKeyRange(d("LSIntEnum").ofNumber(24)),d("ReQL").fromTableDescending(a.table("threads").index("threadTypeLastActivityTimestampMs")).getKeyRange(d("LSIntEnum").ofNumber(19)))},[a],f.id+":24")}g["default"]=a}),98);
__d("MAWUnsupportedIndexedDBNuxKey",["WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h="maw_unsupported_browser_nux_dismissed",i="dismissed";a=function(){var a;return((a=c("WebStorage").getLocalStorageForRead())==null?void 0:a.getItem(h))===i};b=function(){var a;(a=c("WebStorage").getLocalStorage())==null?void 0:a.setItem(h,i)};g.getIsDismissed=a;g.setIsDismissed=b}),98);
__d("useMAWIsUnsupportedBrowserNUXShown",["WebStorage","cr:5569","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){if(c("gkx")("1789")===!0)return!0;if(window.indexedDB==null||c("WebStorage").getLocalStorage()==null)return!0;return b("cr:5569")!=null&&!b("cr:5569").isEncryptionDBInited()?!0:!1}g.useMAWIsUnsupportedBrowserNUXShown=a}),98);
__d("MAWUserVisibleErrorsNuxWrapper.react",["fbt","CometPlaceholder.react","MAWIssueNewUserVisibleErrors","MAWUnsupportedIndexedDBNuxKey","cr:4216","cr:6429","promiseDone","react","useMAWGetUserVisibleErrors","useMAWIsUnsupportedBrowserNUXShown"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useState;function a(a){a=a.children;var e=k(d("MAWUnsupportedIndexedDBNuxKey").getIsDismissed()),f=e[0],g=e[1];e=(e=b("cr:4216").buildUri({cms_id:"597429858389632"}).setDomain("www.facebook.com"))==null?void 0:(e=e.setProtocol("https"))==null?void 0:e.toString();e={label:h._("__JHASH__W_KwwnBzw9K__JHASH__"),linkProps:{target:"_blank",url:e}};var l=d("useMAWIsUnsupportedBrowserNUXShown").useMAWIsUnsupportedBrowserNUXShown(),m=c("useMAWGetUserVisibleErrors")(),n=m[0],o=m[1];m=j(function(){c("promiseDone")(o(),function(){window.location.reload(!0)})},[o]);var p=d("MAWIssueNewUserVisibleErrors").errorMsgBodyToFbtMap.get(n==null?void 0:n.errorBodyText),q=d("MAWIssueNewUserVisibleErrors").errorMsgTitleToFbtMap.get(n==null?void 0:n.errorTitleText);return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:b("cr:6429")&&l&&!f?i.jsx(b("cr:6429"),{nuxBodyText:d("MAWIssueNewUserVisibleErrors").MAWUnsupportedIndexedDBErrorMsg,nuxButtonProps:e,nuxTitleText:d("MAWIssueNewUserVisibleErrors").MAWUnsupportedIndexedDBErrorMsgTitle,onCloseButtonClick:function(){g(!0),d("MAWUnsupportedIndexedDBNuxKey").setIsDismissed()}}):n&&b("cr:6429")&&q!=null&&p!=null?i.jsx(b("cr:6429"),{nuxBodyText:p,nuxButtonProps:{label:h._("__JHASH__PnVpnKg9Gg___JHASH__"),onPress:m},nuxTitleText:q,onCloseButtonClick:function(){c("promiseDone")(o())}}):a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSSearchIssueSearchQuerySupportedTypes.bs",["LSIntEnum","LSSearchType","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").GROUP),d("LSIntEnum").ofNumber(c("LSSearchType").PAGE),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)].concat(c("gkx")("6970")?[d("LSIntEnum").ofNumber(c("LSSearchType").RECOMMENDED_COMMUNITIES)]:[],c("gkx")("8968")||c("gkx")("8969")?[d("LSIntEnum").ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)]:[]);b=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").GROUP),d("LSIntEnum").ofNumber(c("LSSearchType").PAGE),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)];e=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").GROUP),d("LSIntEnum").ofNumber(c("LSSearchType").PAGE),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)];f=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT)];var h=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").GROUP),d("LSIntEnum").ofNumber(c("LSSearchType").PAGE),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)].concat(c("gkx")("5830")===!0?[d("LSIntEnum").ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)]:[]),i=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT)],j=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING),d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)];d=[d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT),d("LSIntEnum").ofNumber(c("LSSearchType").GROUP),d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT)];g.allSupportedTypes=a;g.allSupportedTypesWithMessageSearch=b;g.armadilloSupportedTypes=e;g.onlyContacts=f;g.broadcastFlowSupportedTypes=h;g.addParticipantBase=i;g.addParticipantXac=j;g.socialChannelsSupportedTypes=d}),98);
__d("MWChatSearchThreadCutover",["FBLogger","I64","ReQL","ReQLSuspense","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a,b){b=d("I64").of_string_opt(b);if(!b)return!1;a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(b),f.id+":27");return Boolean(a)};a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=d("I64").of_string_opt(b);if(!b)return;var e=Boolean(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("cutover_threads")).getKeyRange(b)));if(e){e=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table").index("jid")).getKeyRange(b)));if(e!=null)return d("I64").to_string(e==null?void 0:e.serverThreadKey);else{c("FBLogger")("Messenger Search").mustfix("Mapping of open thread not found in mi_act_mapping_table but found in cutover_threads table.");return}}return});return function(b,c){return a.apply(this,arguments)}}();e=function(a,b,c){var d=[],e=new Set();for(b of b)e.has(b.id)||(!c.has(b.resultType)||!h(a,b.id))&&(d.push(b),e.add(b.id));return d};g.getCutoverThreadKey=a;g.filterOutCutoverOpenThreadBasedOnSearchResultTypes=e}),98);
__d("MWChatSearchFilteringUtils",["LSMessagingThreadTypeUtil","MWChatSearchResultType","MWChatSearchThreadCutover","MWThreadCreationUtil","Promise","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,d){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c,d,e){d===void 0&&(d=!1);e===void 0&&(e=!0);var f=a;d&&(f=a.filter(function(a){a.key;a=a.rawData;return a.isE2EE}));if(c==null)return f;var g=(yield b("Promise").all(f.map(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){if(!d&&e&&(yield i(a,c)))return!1;a=(yield l(a,c));return a?!1:!0});return function(b){return a.apply(this,arguments)}}())));f=a.filter(function(a,b){return g[b]});return f});return h.apply(this,arguments)}function i(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e;a=a.rawData;if(a.resultType!==c("MWChatSearchResultType").USER&&a.resultType!==c("MWChatSearchResultType").GROUP)return!1;var f=a.otherUserId!=null;e=(e=a.otherUserId)!=null?e:a.id.toString();if(b==null)return!1;else b=(yield d("MWChatSearchThreadCutover").getCutoverThreadKey(b,e));e=b!=null;if(f){if(!e)return!1;return e&&a.id.toString()===b?!1:!0}else return e});return j.apply(this,arguments)}function e(a){var b=[],c=new Set();a.forEach(function(a){c.has(a.key)||(b.push(a),c.add(a.key))});return b}function k(a,b){if(b!=null)return d("LSMessagingThreadTypeUtil").isSecure(b.threadType);return a!=null?a.isE2EE===!0:!1}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=a.rawData;if(e.resultType!==c("MWChatSearchResultType").USER)return!1;var f=k(e);if(!f)return!1;if(!d("MWThreadCreationUtil").passesWebSearchDefaultE2eeThreadCreationGating())return!1;if(e.defaultE2eeThreadOneToOne===!0)return!0;f=(yield d("MWThreadCreationUtil").checkIfThreadExistsInThreadTable(a,b));return f==null?!1:d("MWThreadCreationUtil").hasDefaultThreadOneToOneCapability(f.threadKey,b)});return m.apply(this,arguments)}g.filterSearchResults=a;g.dedupeByThreadKey=e;g.getIsE2ee=k}),98);
__d("MWThreadCreationUtil",["FBLogger","I64","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","MAWGating","MAWVerifyThreadCutover","MWChatSearchFilteringUtils","MWInboxSecureContentSearch","Promise","ReQL","ReQLSuspense","asyncToGeneratorRuntime","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=m(a);b=d("ReQLSuspense").toArray(d("ReQL").fromTableAscending(b.table("participants")).filter(function(a){return c.has(d("I64").to_string(a.contactId))}).map(function(a){return[d("I64").to_string(a.threadKey),d("I64").to_string(a.contactId)]}),f.id+":52");var e=[],g=new Map();b!=null&&b.forEach(function(b){var c=g.get(b[0]);c=c!=null?c+1:1;g.set(b[0],c);c===a.length&&e.push(b[0])});return e}function e(a,b,e){var f=!1;c("promiseDone")(d("ReQL").firstAsync(d("ReQL").fromTableDescending(b.table("threads").index("lastActivityTimestampMs")).filter(function(b){return a.includes(d("I64").to_string(b.threadKey))&&b.threadName==null})).then(function(a){a!=null&&(f=!0,e(d("LSMessagingThreadTypeUtil").isSecure(a.threadType)))})["catch"](function(a){c("FBLogger")("Armadillo Group TLC").mustfix("Issue getting and navigating to the most recent thread",a)}));return f}function h(a,b){var c=!0;b=d("ReQLSuspense").toArray(d("ReQL").fromTableAscending(b.table("contacts")).filter(function(b){var c=a.has(d("I64").to_string(b.id));c&&a["delete"](d("I64").to_string(b.id));return c}),f.id+":124");for(var e=0;e<b.length;e++)if(b[e]!=null){var g=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(80),b[e]);if(!g){c=!1;break}}return c}function i(a,b){var c=!0;b=d("ReQLSuspense").toArray(d("ReQL").fromTableAscending(b.table("server_search_results")).filter(function(b){var c=a.has(b.resultId.toString());c&&a["delete"](b.resultId.toString());return c}),f.id+":159");for(var e=0;e<b.length;e++)if(b[e]!=null&&(b[e].defaultE2eeThreads===null||b[e].defaultE2eeThreads===!1)){c=!1;break}return c}function j(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=(yield d("ReQLSuspense").firstExn(d("ReQL").fromTableAscending(b.table("_user_info")).map(function(a){return a.facebookUserId}),f.id+":192")),g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.table("contacts")).getKeyRange(e)));if(g==null){c("FBLogger")("messenger_search").warn("Error fetching viewer details");return!1}g=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(80),g);if(!g)return!1;g=(yield d("MWInboxSecureContentSearch").getThreadOtherParticipantContact(a,e,b));if(g==null)return!1;e=(a=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(83),g))!=null?a:!1;return e});return k.apply(this,arguments)}function l(a,b,d){if(!d)return!1;d=m(a);a=h(d,b);if(d.size===0||!a)return a;a=i(d,b);if(d.size===0)return a;c("FBLogger")("Armadillo Group TLC").warn("Tokens not in the Contacts table or Server Search Results table");return!1}function m(a){var b=new Set();a.forEach(function(a){a=a.rawData.otherUserId!=null?a.rawData.otherUserId:a.key;b.add(a)});return b}function n(a){return a.rawData.hasCutoverThread===!0||o()&&a.rawData.defaultE2eeThreadOneToOne===!0}function o(){var a=d("MAWGating").isTlcSearchEnabled(),b=c("gkx")("3536");return a&&b}function p(a,c,e){return s(a,c).then(function(e){if(e!=null)if(a.rawData.isE2EE)return b("Promise").resolve(!0);else{e=a.rawData.otherUserId;e=e!=null?e:a.rawData.id;e=d("MAWVerifyThreadCutover").verifyThreadCutover(b("Promise").resolve(c),d("I64").of_string(e));return e}else return b("Promise").resolve(n(a))})}function q(a,b){return r.apply(this,arguments)}function r(){r=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){var e=d("MWChatSearchFilteringUtils").getIsE2ee(a.rawData);if(e)return!0;e=a.rawData.id;c=(yield d("MAWVerifyThreadCutover").verifyThreadCutover(b("Promise").resolve(c),d("I64").of_string(e)));return c?!0:n(a)});return r.apply(this,arguments)}function s(a,b){return t.apply(this,arguments)}function t(){t=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(b.table("threads")).getKeyRange(d("I64").of_string(a.key))));return b});return t.apply(this,arguments)}function u(a,b){if(a!=="group")return b?d("LSIntEnum").ofNumber(15):d("LSIntEnum").ofNumber(1);else return b?d("LSIntEnum").ofNumber(16):d("LSIntEnum").ofNumber(2)}function v(a,b,c,d,e){a.openTabOrInbox({clientThreadKey:b,threadKey:c,threadType:u(d,e)},"search")}g.getExistingThreadsWithTheTokens=a;g.maybeUpdateIsSecureBasedOnUnnamedRecentThread=e;g.hasDefaultThreadOneToOneCapability=j;g.checkE2EEligibilityForEachContact=l;g.passesWebSearchDefaultE2eeThreadCreationGating=o;g.getIsSecureBasedOnContactCapabilitiesForOneToOneThread=p;g.getIsSecureBasedOnContactCapabilitiesForOneToOneThreadV2=q;g.checkIfThreadExistsInThreadTable=s;g.navigateToThread=v}),98);
__d("LSSearchGranularSurfaceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNIVERSAL_ALL:1,UNIVERSAL_MORE_PEOPLE:2,UNIVERSAL_IG_FOLLOWING:3,UNIVERSAL_BUSINESS:4,UNIVERSAL_CM_THREADS:18,UNIVERSAL_AI_BOTS:28,UNIVERSAL_NULLSTATE_ALL:25,UNIVERSAL_NULLSTATE_CHANNELS:26,UNIVERSAL_NULLSTATE_PEOPLE:27,OMNIPICKER:5,BROADCAST:6,BLOCK_LIST:7,IMPERSONATION_EVIDENCE:8,UNIVERSAL_IG_NONFOLLOWING:9,GROUPS:10,OMNIPICKER_ARMADILLO:11,RESTRICTED_LIST:12,CALLS_TAB:13,CM_INVITE_ALL_MEMBERS:14,INSTAGRAM_ALL:15,CM_MEMBER_LIST:16,CM_THREAD_PARTICIPANT_SEARCH:17,CM_COMMUNITY_CREATION_INVITE:19,CM_INVITE_FB_FRIENDS:20,CM_COMMUNITY_INVITE_ALL_MEMBERS:21,CM_COMMUNITY_INVITE_FB_FRIENDS:22,CM_PRIVATE_COMMUNITY_BROADCAST:23,DISCOVERABLE_CHAT_MAIN_INVITE:24});f["default"]=a}),66);
__d("MNetContactItemType",[],(function(a,b,c,d,e,f){a=Object.freeze({CONTACT:0,NON_CONTACT:1,GROUP:2,PAGE:3,BOT:4,GAME:5,IG_USER:6,IG_THREAD:7,STICKER:8,INTEROP_THREAD:9,MSGR_THREAD:10,TEXT_SUGGESTION:11,COMMUNITY_MESSAGING_THREAD:12,IG_PUBLIC_CHANNELS:13,SIDE_CONVERSATIONS_COMMUNITY_MESSAGING_THREAD:14,COMMUNITY_MESSAGING_THREAD_FOR_CC_SECTION:15,BROADCAST_CHAT:16});f["default"]=a}),66);
__d("LSInstagramE2EEEligibility",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:-1,INELIGIBLE:0,ELIGIBLE:1,REQUIRED:2,DUAL_SEND_ELIGIBLE:3,GROUPS_ELIGIBLE:4});f["default"]=a}),66);
__d("MWChatTemporarySearchResult.bs",["I64","LSContactBitOffset","LSContactType","LSContactViewerRelationship","LSInstagramE2EEEligibility","LSIntEnum","LSMediaUrl.bs","LSMessagingThreadTypeUtil","LSRestrictionType","LSSearchType","LSWhatsAppConnectStatus","MWLSContactTypeExactUtils","MWLSThreadTitle","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_NONFOLLOWING))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING)))return!0;else return d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING))}function i(a){if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT))||h(a))return"user";else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").GROUP))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").RECOMMENDED_COMMUNITIES))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").COMMUNITY_MESSAGING_THREAD)))return"group";else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").PAGE)))return"page";else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD)))return"message";else{c("recoverableViolation")("Unknown Search Result Type "+d("I64").to_string(a),"messenger_web_product");return"user"}}function a(a,b,e,f,g){var h=d("MWLSContactTypeExactUtils").isIgContact(e),i=e.secondaryName;i=h&&i!=null?i:"";var j=f!=null?[f.e2eeEligibility,!d("I64").equal(f.e2eeEligibility,d("LSIntEnum").ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE))]:[void 0,void 0],k=e.contactType;return{canViewerMessage:void 0,communityId:void 0,defaultE2eeThreadOneToOne:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(83),e),defaultE2eeThreads:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(80),e),displayName:e.name,hasCutoverThread:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(76),e),id:d("I64").to_string(e.id),imageUrl:d("LSMediaUrl.bs").Contact.profilePictureUrl(e),isContact:d("I64").equal(e.contactViewerRelationship,d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER)),isE2EE:b===!0,isEligibleForCmInvite:void 0,isEPD:d("I64").equal(e.restrictionType,d("LSIntEnum").ofNumber(c("LSRestrictionType").DATA_PRIVACY)),isGroupsXacEligible:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(68),e),isInstagramAccount:h,isInteropEligible:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(67),e),isInvitedToCmChannel:void 0,isVerified:(b=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(23),e))!=null?b:!1,isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(d("LSIntEnum").ofNumber(64),e,!0),isWAEligible:j[1],otherUserId:void 0,rankingScore:a,restrictionType:void 0,resultIgid:(h=f==null?void 0:f.igId)!=null?h:void 0,resultType:d("I64").equal(k,d("LSIntEnum").ofNumber(c("LSContactType").USER))||!(d("I64").equal(k,d("LSIntEnum").ofNumber(c("LSContactType").PAGE))||d("I64").equal(k,d("LSIntEnum").ofNumber(c("LSContactType").PAGE_PERSONA)))?"user":"page",searchSource:g,secondaryImageUrl:void 0,section:"",serverSearchResult:void 0,subtext:i,supportsE2eeSpamdStorage:f!=null?f.supportsE2eeSpamdStorage:void 0,threadJoinLinkHash:void 0,threadKey:void 0,threadType:void 0,waAddressable:d("I64").equal(e.waConnectStatus,d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),waEligibility:j[0]}}function j(a,b,c){var e=a.threadDescription,f=a.threadName;if(e!=null)return e;else if(f!=null&&f!=="")return d("MWLSThreadTitle").getDefaultThreadTitle(void 0,b,c,a.threadType).toString();else return""}function b(a,b,c,e,f,g,h){var i=j(a,c,g);return{canViewerMessage:void 0,communityId:void 0,defaultE2eeThreadOneToOne:void 0,defaultE2eeThreads:void 0,displayName:d("MWLSThreadTitle").getDefaultThreadTitle(a.threadName,c,g,a.threadType).toString(),hasCutoverThread:void 0,id:d("I64").to_string(a.threadKey),imageUrl:e,isContact:!1,isE2EE:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),isEligibleForCmInvite:void 0,isEPD:!1,isGroupsXacEligible:void 0,isInstagramAccount:!1,isInteropEligible:void 0,isInvitedToCmChannel:void 0,isVerified:!1,isViewerUnconnected:void 0,isWAEligible:void 0,otherUserId:void 0,rankingScore:h,restrictionType:void 0,resultIgid:void 0,resultType:"group",searchSource:b,secondaryImageUrl:f,section:"",serverSearchResult:void 0,subtext:i,supportsE2eeSpamdStorage:void 0,threadJoinLinkHash:void 0,threadKey:a.threadKey,threadType:a.threadType,waAddressable:void 0,waEligibility:void 0}}function e(a,b,e){var f=d("I64").equal(a.type_,d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT)),g=h(a.type_);b=b!=null?(b=b.displayName)!=null?b:"":"";var j=a.defaultE2eeThreadOneToOne,k=a.defaultE2eeThreads,l=a.hasCutoverThread,m=a.isVerified,n=a.supportsE2eeSpamdStorage,o=a.waEligibility;return{canViewerMessage:a.canViewerMessage,communityId:a.communityId,defaultE2eeThreadOneToOne:j!==null?j:void 0,defaultE2eeThreads:k!==null?k:void 0,displayName:a.displayName,hasCutoverThread:l!==null?l:void 0,id:a.resultId,imageUrl:a.profilePicUrl,isContact:f,isE2EE:d("LSMessagingThreadTypeUtil").isSecure(a.threadType),isEligibleForCmInvite:void 0,isEPD:!1,isGroupsXacEligible:a.isGroupsXacEligible,isInstagramAccount:g,isInteropEligible:a.isInteropEligible,isInvitedToCmChannel:void 0,isVerified:m!=null?m:!1,isViewerUnconnected:a.isViewerUnconnected,isWAEligible:o!=null?!d("I64").equal(o,d("LSIntEnum").ofNumber(c("LSInstagramE2EEEligibility").INELIGIBLE)):void 0,otherUserId:void 0,rankingScore:void 0,restrictionType:a.restrictionType,resultIgid:a.resultIgid,resultType:i(a.type_),searchSource:e,secondaryImageUrl:a.secondaryProfilePicUrl,section:b,serverSearchResult:a,subtext:f?"":a.contextLine,supportsE2eeSpamdStorage:n,threadJoinLinkHash:a.threadJoinLinkHash,threadKey:void 0,threadType:a.threadType,waAddressable:a.isWaAddressable,waEligibility:a.waEligibility}}g.checkIsInstagramAccount=h;g.getResultType=i;g.fromContact=a;g.fromThread=b;g.fromServerSearchResult=e}),98);
__d("MWChatSearchFetchContactRecommendations",["I64","LSContactBitOffset","LSContactViewerRelationship","LSDatabaseSingleton","LSIntEnum","LSMediaUrl.bs","LSSearchType","LSWhatsAppConnectStatus","MNetContactItemType","MNetRankType","MWChatTemporarySearchResult.bs","MWLSContactTypeExactUtils","ReQL","ReQLSuspense","gkx","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function i(a){if(a<0)return-1;return a>0?1:0}function j(a){return a.sort(function(a,b){a=a[0];var c=a[0];a=a[1];b=b[0];var d=b[0];b=b[1];if(d.score!==c.score)return i(d.score-c.score);if(a!=null&&b!=null)return i(b.rank-a.rank);return b==null&&a==null?0:b!=null?1:-1})}function k(a){var b=a.contactViewerRelationship;if(d("MWLSContactTypeExactUtils").isIgContact(a)){if(d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)))return d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING);return d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").CONTACT_OF_VIEWER))?d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING):d("LSIntEnum").ofNumber(c("LSSearchType").IG_NONCONTACT_NONFOLLOWING)}return d("LSIntEnum").ofNumber(c("LSSearchType").CONTACT)}function l(a){return a.map(function(a,b){var e=a[0],f=e[0];e=e[1];a=a[1];if(e==null)return;f=d("LSIntEnum").toNumber(f.contactType);var g;!c("gkx")("3711")&&d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(76),e)?g=15:g=f===c("MNetContactItemType").GROUP?2:1;var h;switch(f){case c("MNetContactItemType").CONTACT:h=k(e);break;case c("MNetContactItemType").GROUP:h=d("LSIntEnum").ofNumber(c("LSSearchType").GROUP);break;case c("MNetContactItemType").PAGE:case c("MNetContactItemType").BOT:case c("MNetContactItemType").GAME:case c("MNetContactItemType").STICKER:h=d("LSIntEnum").ofNumber(c("LSSearchType").PAGE);break;case c("MNetContactItemType").IG_THREAD:case c("MNetContactItemType").INTEROP_THREAD:case c("MNetContactItemType").MSGR_THREAD:h=d("LSIntEnum").ofNumber(c("LSSearchType").INTEGRATED_MESSAGE_SEARCH_THREAD);break;case c("MNetContactItemType").IG_USER:h=d("LSIntEnum").ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING);break;default:h=d("LSIntEnum").ofNumber(c("LSSearchType").NONCONTACT)}f={blockedByViewerStatus:e.blockedByViewerStatus,contextLine:(f=e.secondaryName)!=null?f:"",defaultE2eeThreadOneToOne:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(83),e),defaultE2eeThreads:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(80),e),displayName:e.name,globalIndex:d("I64").of_int32(b),hasCutoverThread:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(76),e),isGroupsXacEligible:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(68),e),isInteropEligible:d("MWLSContactTypeExactUtils").isIgContact(e)?d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(67),e):void 0,isVerified:d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(23),e),isViewerUnconnected:d("LSContactBitOffset").hasWithDefault(d("LSIntEnum").ofNumber(64),e,!0),isWaAddressable:d("I64").equal(e.waConnectStatus,d("LSIntEnum").ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_ADDRESSABLE)),profilePicUrl:d("LSMediaUrl.bs").Contact.profilePictureUrl(e),query:"",resultId:d("I64").to_string(e.id),resultIgid:a==null?void 0:a.igId,threadType:d("LSIntEnum").ofNumber(g),type_:h,waEligibility:a==null?void 0:a.e2eeEligibility};b=d("MWChatTemporarySearchResult.bs").fromServerSearchResult(f,void 0,"offline_nullstate");return[b,e]}).filter(Boolean)}function m(a,b){return d("ReQL").leftJoin(d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.table("ranking_scores").index("scoreTypeContactId")).getKeyRange(b),d("ReQL").fromTableAscending(a.table("contacts"))),d("ReQL").fromTableAscending(a.table("ig_contact_info")))}function a(a){a===void 0&&(a=d("LSIntEnum").ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE));var b=c("useReStore")(),e=d("ReQLSuspense").useArray(function(){return m(b,a)},[a,b],f.id+":239");return h(function(){return l(j(e))},[e])}function b(a){a===void 0&&(a=d("LSIntEnum").ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE));return c("LSDatabaseSingleton").then(function(b){return d("ReQL").toArrayAsync(m(b,a))}).then(function(a){return l(j(a))})}g.sortInPlaceQueryResults=j;g.mapToServerSearchResults=l;g.makeQuery=m;g.useChatSearchContactRecommendations=a;g.fetchRecommendations=b}),98);
__d("MWChatSearchFetchThreadRecommendations",["I64","LSDatabaseSingleton","LSMessagingThreadTypeUtil","MWInboxSecureContentSearch","MWLSThreadTitle","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return d("ReQL").firstExnAsync(d("ReQL").fromTableAscending(a.table("_user_info")))}function i(a,b,c,e,f){var g=d("I64").to_float(b.lastActivityTimestampMs);g={contactId:d("I64").zero,contactType:d("I64").zero,score:g,scoreIndex:d("I64").zero,scoreType:d("I64").zero};return{displayName:d("MWLSThreadTitle").getDefaultThreadTitle(b.threadName,a,c,b.threadType).toString(),id:d("I64").to_string(b.threadKey),imageUrl:e,isContact:!1,isE2EE:d("LSMessagingThreadTypeUtil").isSecure(b.threadType),isEPD:!1,isInstagramAccount:!1,isVerified:!1,rankingScore:g,resultIgid:void 0,resultType:d("LSMessagingThreadTypeUtil").isGroup(b.threadType)?"group":"user",searchSource:"offline_nullstate",secondaryImageUrl:f,section:"",subtext:(a=b.threadDescription)!=null?a:"",threadKey:b.threadKey}}function j(a){return d("ReQL").fromTableDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs")).filter(function(a){if(d("LSMessagingThreadTypeUtil").isRecentsSectionAllowedTypes(a.threadType))return d("LSMessagingThreadTypeUtil").isMessengerOrE2EEInbox(a.folderName);else return!1})}function a(){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("LSDatabaseSingleton")),e=(yield b("Promise").all([h(a),d("ReQL").toArrayAsync(j(a))])),f=e[0];e=e[1];return b("Promise").all(e.map(function(){var c=b("asyncToGeneratorRuntime").asyncToGenerator(function*(c){var e=(yield b("Promise").all([d("MWInboxSecureContentSearch").getThreadPics(c,f.facebookUserId,a),d("MWInboxSecureContentSearch").getThreadParticipants(c,a)])),g=e[0];e=e[1];var h=g[0];g=g[1];return i(f.facebookUserId,c,e,h,g)});return function(a){return c.apply(this,arguments)}}()))});return k.apply(this,arguments)}g.fetchThreadRecommendations=a}),98);
__d("MWChatSearchIssueLightspeedQuery.bs",["I64","LSContactBlockedByViewerStatus","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueSearchQuery","LSPlatformWaitForTaskCompletion","LSSearchGranularSurfaceType","LSSearchRequestStatusType","LSVec","MWChatSearchFetchContactRecommendations","MWChatSearchFetchThreadRecommendations","MWChatSearchResultType","MWChatSearchThreadCutover","MWChatTemporarySearchResult.bs","Promise","ReQL","ReQLSubscription.bs","asyncToGeneratorRuntime","emptyFunction","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=a[1];a=a[0];var e=[],f=0;a.sort(function(a,b){return d("I64").compare(a.globalIndex,b.globalIndex)});c.sort(function(a,b){return d("I64").compare(a.globalIndex,b.globalIndex)});for(var g=0,h=a.length;g<h;++g){var i=a[g];while(f<c.length&&d("I64").ge(c[f].globalIndex,i.startIndex)&&d("I64").le(c[f].globalIndex,i.endIndex)){var j=c[f];e.push(d("MWChatTemporarySearchResult.bs").fromServerSearchResult(j,i,"server"));f=f+1|0}}return e.filter(function(a){if(b)return!0;else return a.resultType!=="group"})}var i={broadcast:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").BROADCAST),cmCommunityInviteAllMembers:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_COMMUNITY_INVITE_ALL_MEMBERS),cmCommunityInviteFbFriends:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_COMMUNITY_INVITE_FB_FRIENDS),cmInviteAllMembers:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_INVITE_ALL_MEMBERS),cmInviteFbFriends:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_INVITE_FB_FRIENDS),cmMemberList:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_MEMBER_LIST),cmThreadParticipantSearch:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").CM_THREAD_PARTICIPANT_SEARCH),instagramAll:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").INSTAGRAM_ALL),omnipickerArmadillo:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").OMNIPICKER_ARMADILLO),universal:d("LSIntEnum").ofNumber(c("LSSearchGranularSurfaceType").UNIVERSAL_ALL)};function j(a,b,d){var e=d.query;return c("LSDatabaseSingleton").then(function(d){return d.runInTransaction(function(d){return c("LSIssueSearchQuery")(e,c("LSVec").make(a),void 0,b,void 0,void 0,c("LSFactory")(d))},"readwrite").then(function(){return d})})}function a(a,e,f,g,i){if(e.length>0&&!e.includes("server"))return b("Promise").resolve([]);else return c("LSDatabaseSingleton").then(function(b){return c("LSPlatformWaitForTaskCompletion")(b,function(b){return c("LSIssueSearchQuery")(i.query,c("LSVec").make(a),void 0,f,void 0,void 0,c("LSFactory")(b))},"issueSearchQuery").then(function(){return b})}).then(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var e=d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("server_search_results")).getKeyRange(i.query).filter(function(a){return d("I64").equal(a.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}));a=d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("server_search_sections")).getKeyRange(i.query));a=(yield b("Promise").all([a,e]));return h(a,g)});return function(b){return a.apply(this,arguments)}}())}function e(a,c,e,f){return d("MWChatSearchFetchContactRecommendations").fetchRecommendations(f).then(function(a){return b("Promise").resolve(a.map(function(a){return a[0]}))})}function f(a,e,f,g){return d("MWChatSearchFetchThreadRecommendations").fetchThreadRecommendations().then(function(a){return c("LSDatabaseSingleton").then(function(e){var f=new Set([c("MWChatSearchResultType").USER,c("MWChatSearchResultType").GROUP]);e=d("MWChatSearchThreadCutover").filterOutCutoverOpenThreadBasedOnSearchResultTypes(e,a,f);return b("Promise").resolve(e)})})}function k(a,b,e,f){var g=d("ReQL").fromTableAscending(a.table("server_search_results")).getKeyRange(b).filter(function(a){return d("I64").equal(a.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}),i=d("ReQL").fromTableAscending(a.table("server_search_sections")).getKeyRange(b);b=d("ReQL").fromTableAscending(a.table("search_queries")).getKeyRange(b);return d("ReQLSubscription.bs").combineLatest3(a,g,i,b,function(a){var b=a[0],g=a[1];a=a[2];if(b==null||g==null||a==null)return;if(a.length!==1)return;d("I64").equal(a[0].statusPrimary,d("LSIntEnum").ofNumber(c("LSSearchRequestStatusType").PENDING))||f(h([g,b],e))})}function l(a,b,d,e,f,g){c("promiseDone")(j(b,d,f));return k(a,f.query,e,g)}function m(a,b,e,f,g,h,i){c("promiseDone")(j(b,g,h));f=d("MWChatSearchFetchContactRecommendations").makeQuery(a,e);c("promiseDone")(d("ReQL").toArrayAsync(f).then(function(a){return i(d("MWChatSearchFetchContactRecommendations").mapToServerSearchResults(d("MWChatSearchFetchContactRecommendations").sortInPlaceQueryResults(a)).map(function(a){return a[0]}))}));return c("emptyFunction")}g.Surfaces=i;g.fetchResults=a;g.fetchRecommendations=e;g.fetchThreadRecommendations=f;g.requestResults=l;g.requestRecommendations=m}),98);
__d("MWPSearchOfflineOpenConversations",["minisearch"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("minisearch"))({fields:["content"],searchOptions:{fuzzy:.2,prefix:!0},storeFields:["category"]});function a(a){return h.search(a)}function b(a){h.add(a)}function d(a){h.remove(a)}g.search=a;g.add=b;g.remove=d}),98);
__d("MWPSearchOfflineSearchTypes",[],(function(a,b,c,d,e,f){"use strict";a="Contact";b="ThreadName";c="ThreadParticipant";d={Contact:a,ThreadName:b,ThreadParticipant:c};f.MWPSearchType=d}),66);
__d("bs_belt_SortArray",["bs_belt_Array","bs_curry"],(function(a,b,c,d,e,f){"use strict";function g(a,b,c,d,e){while(!0){var f=c,g=b;if(f>=d)return f;var h=a[f];if(!e(h,g))return f;c=f+1|0;b=h;continue}}function h(a,b){var c=a.length;if(c===0||c===1)return c;var d=a[0],e=a[1];if(b(d,e)){var f=e,h=2;while(!0){var i=h,j=f;if(i>=c)return i;var k=a[i];if(!b(j,k))return i;h=i+1|0;f=k;continue}}else if(b(e,d))return-g(a,e,2,c,b)|0;else return 1}function a(a,c){return h(a,b("bs_curry").__2(c))}function i(a,b){var c=a.length;if(c===0)return!0;else{var d=0;c=c-1|0;while(!0){var e=d;if(e===c)return!0;if(b(a[e],a[e+1|0])>0)return!1;d=e+1|0;continue}}}function c(a,c){return i(a,b("bs_curry").__2(c))}function j(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;if(j(p,n)<=0){h[m]=p;p=q+1|0;if(p>=d)return b("bs_belt_Array").blitUnsafe(e,o,h,m+1|0,g-o|0);i=m+1|0;c=a[p];k=p;continue}h[m]=n;p=o+1|0;if(p>=g)return b("bs_belt_Array").blitUnsafe(a,q,h,m+1|0,d-q|0);i=m+1|0;f=e[p];l=p;continue}}function k(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k,r=j(p,n);if(r<0){h[m]=p;var s=q+1|0,t=m+1|0;if(s<d){i=t;c=a[s];k=s;continue}b("bs_belt_Array").blitUnsafe(e,o,h,t,g-o|0);return(t+g|0)-o|0}if(r===0){h[m]=p;s=q+1|0;t=o+1|0;r=m+1|0;if(!(s<d&&t<g))if(s===d){b("bs_belt_Array").blitUnsafe(e,t,h,r,g-t|0);return(r+g|0)-t|0}else{b("bs_belt_Array").blitUnsafe(a,s,h,r,d-s|0);return(r+d|0)-s|0}i=r;f=e[t];l=t;c=a[s];k=s;continue}h[m]=n;p=o+1|0;r=m+1|0;if(p<g){i=r;f=e[p];l=p;continue}b("bs_belt_Array").blitUnsafe(a,q,h,r,d-q|0);return(r+d|0)-q|0}}function d(a,c,d,e,f,g,h,i,j){return k(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function l(a,b,c,d,e,f,g,h,i){c=b+c|0;f=e+f|0;var j=b;b=a[b];var k=e;e=d[e];h=h;while(!0){var l=h,m=e,n=k,o=b,p=j;m=i(o,m);if(m<0){var q=p+1|0;if(q>=c)return l;b=a[q];j=q;continue}if(m===0){g[l]=o;q=p+1|0;m=n+1|0;o=l+1|0;if(!(q<c&&m<f))return o;h=o;e=d[m];k=m;b=a[q];j=q;continue}p=n+1|0;if(p>=f)return l;e=d[p];k=p;continue}}function e(a,c,d,e,f,g,h,i,j){return l(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function m(a,c,d,e,f,g,h,i,j){d=c+d|0;g=f+g|0;var k=c;c=a[c];var l=f;f=e[f];i=i;while(!0){var m=i,n=f,o=l,p=c,q=k;n=j(p,n);if(n<0){h[m]=p;p=m+1|0;var r=q+1|0;if(r>=d)return p;i=p;c=a[r];k=r;continue}if(n===0){p=q+1|0;r=o+1|0;if(!(p<d&&r<g))if(p===d)return m;else{b("bs_belt_Array").blitUnsafe(a,p,h,m,d-p|0);return(m+d|0)-p|0}f=e[r];l=r;c=a[p];k=p;continue}n=o+1|0;if(n<g){f=e[n];l=n;continue}b("bs_belt_Array").blitUnsafe(a,q,h,m,d-q|0);return(m+d|0)-q|0}}function n(a,c,d,e,f,g,h,i,j){return m(a,c,d,e,f,g,h,i,b("bs_curry").__2(j))}function o(a,b,c,d,e,f){for(var g=0;g<e;++g){var h=a[b+g|0],i=(d+g|0)-1|0;while(i>=d&&f(c[i],h)>0)c[i+1|0]=c[i],i=i-1|0;c[i+1|0]=h}}function p(a,b,c,d,e,f){if(e<=5)return o(a,b,c,d,e,f);var g=e/2|0;e=e-g|0;p(a,b+g|0,c,d+g|0,e,f);p(a,b,a,b+e|0,g,f);return j(a,b+e|0,g,c,d+g|0,e,c,d,f)}function q(a,b){var c=a.length;if(c<=5)return o(a,0,a,0,c,b);var d=c/2|0;c=c-d|0;var e=new Array(c);p(a,d,e,0,c,b);p(a,0,a,c,d,b);return j(a,c,d,e,0,c,a,0,b)}function r(a,c){return q(a,b("bs_curry").__2(c))}function s(a,b){a=a.slice(0);q(a,b);return a}function t(a,c){return s(a,b("bs_curry").__2(c))}function u(a,b,c){var d=a.length;if(d===0)return-1;var e=a[0];e=c(b,e);if(e<0)return-1;e=a[d-1|0];e=c(b,e);if(e>0)return-(d+1|0)|0;else{e=0;d=d-1|0;while(!0){var f=d,g=e,h=(g+f|0)/2|0,i=a[h];i=c(b,i);if(i===0)return h;if(i<0){if(f===h)if(c(a[g],b)===0)return g;else return-(f+1|0)|0;d=h;continue}if(g===h)if(c(a[f],b)===0)return f;else return-(f+1|0)|0;e=h;continue}}}function v(a,c,d){return u(a,c,b("bs_curry").__2(d))}var w,x;f.Int=w;f.$$String=x;f.strictlySortedLengthU=h;f.strictlySortedLength=a;f.isSortedU=i;f.isSorted=c;f.stableSortInPlaceByU=q;f.stableSortInPlaceBy=r;f.stableSortByU=s;f.stableSortBy=t;f.binarySearchByU=u;f.binarySearchBy=v;f.unionU=k;f.union=d;f.intersectU=l;f.intersect=e;f.diffU=m;f.diff=n}),null);
__d("MWPSearchOfflineOpenConversations.bs",["I64","LSContactBitOffset","LSInitSyncCompleteSubscription","LSIntEnum","LSMessagingThreadTypeUtil","MNetRankType","MWChatTemporarySearchResult.bs","MWInboxSecureContentSearch","MWPSearchOfflineOpenConversations","MWPSearchOfflineSearchTypes","Promise","ReQL.bs","asyncToGeneratorRuntime","bs_belt_SortArray"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return"p__"+d("I64").to_string(a)+"__"+d("I64").to_string(b)}function h(a){a=a.split("__");var b=a.length;if(b!==3)return;else return[d("I64").of_string(a[1]),d("I64").of_string(a[2])]}function i(a,b){return j.apply(this,arguments)}function j(){j=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){a=(yield b("Promise").all([d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("contacts")),{hd:d("I64").of_string(e),tl:0})),d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("ig_contact_info")),{hd:d("I64").of_string(e),tl:0})),d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("ranking_scores")),{hd:d("I64").of_string(e),tl:{hd:d("LSIntEnum").ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH),tl:0}}))]));e=a[0];var f=a[1];a=a[2];if(e==null)return;if(e.isMemorialized!==!0&&!d("I64").equal(e.contactViewerRelationship,d("I64").one)&&d("I64").equal(e.blockedByViewerStatus,d("I64").zero)&&!d("LSContactBitOffset").hasWithDefault(d("LSIntEnum").ofNumber(66),e,!1)){return d("MWChatTemporarySearchResult.bs").fromContact((a=a)!=null?a:void 0,void 0,e,(a=f)!=null?a:void 0,"offline")}});return j.apply(this,arguments)}function k(a,c){return b("Promise").all([d("ReQL.bs").firstExn(d("ReQL.bs").map(d("ReQL.bs").fromTableAscending(a.table("_user_info")),function(a){return a.facebookUserId})),d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:d("I64").of_string(c),tl:0}))]).then(function(c){var e=c[1];if(e!=null&&e.folderName==="inbox"){if(d("LSMessagingThreadTypeUtil").isChannelPreview(e.threadType))return b("Promise").resolve();var f=c[0];return b("Promise").all([d("MWInboxSecureContentSearch").getThreadPics(e,f,a),d("MWInboxSecureContentSearch").getThreadParticipants(e,a)]).then(function(a){var b=a[0],c=d("I64").to_float(e.lastActivityTimestampMs);c={contactId:d("I64").zero,contactType:d("I64").zero,score:c,scoreIndex:d("I64").zero,scoreType:d("I64").zero};return d("MWChatTemporarySearchResult.bs").fromThread(e,"offline",f,b[0],b[1],a[1],c)})}else return b("Promise").resolve()})}function l(a,b){a=a.rankingScore;a=a!=null?a.score:0;b=b.rankingScore;b=b!=null?b.score:0;if(b>a)return 1;else if(b<a)return-1;else return 0}function m(a,e){return b("Promise").all(e.map(function(c){var e=c.category;switch(e.type){case d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant:e=h(c.id);if(e!=null){e=e[0];return k(a,d("I64").to_string(e))}else return b("Promise").resolve();case d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName:return k(a,c.id);case d("MWPSearchOfflineSearchTypes").MWPSearchType.Contact:return i(a,c.id)}})).then(function(a){a=a.filter(Boolean);var b=c("bs_belt_SortArray").stableSortByU(a.filter(function(a){return a.resultType!=="group"}),l);a=c("bs_belt_SortArray").stableSortByU(a.filter(function(a){return a.resultType==="group"}),l);return b.concat(a)})}var n={contents:void 0};function e(a,c){var e=n.contents;if(e==null)return b("Promise").resolve([]);var f=d("MWPSearchOfflineOpenConversations").search(a).map(function(a){return a}).filter(function(a){if(c)return!0;a=a.category;switch(a.TAG){case 0:case 1:return!1;case 2:return!0}});return d("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(e,d("LSIntEnum").ofNumber(7)).then(function(){return m(e,f)})}function o(a,c,e){return d("LSInitSyncCompleteSubscription").maybeWaitForSyncGroup(a,d("LSIntEnum").ofNumber(7)).then(function(){return b("Promise").all(c.map(function(b){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("ranking_scores")),{hd:d("I64").of_string(b),tl:{hd:e,tl:0}})).then(function(a){if(a!=null)return[b,a.score]})}))})}function f(a,b){return o(a,b,d("LSIntEnum").ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH))}g.getGroupParticipantKey=a;g.searchHelper=m;g.db=n;g.search=e;g.fetchRankingScoresKP=f}),98);
__d("MWChatSearchInsertRankingContacts.bs",["I64","LSFactory","LSInsertRankingContacts","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:!1},i={contents:!1},j=d("I64").of_string("100");function a(a){if(!h.contents&&d("I64").gt(j,d("I64").zero)){h.contents=!0;c("promiseDone")(a.runInTransaction(function(a){return c("LSInsertRankingContacts")(j,c("LSFactory")(a))},"readwrite"),function(){i.contents=!0});return}}function b(){return i.contents}g.insertRankingContacts=a;g.isDone=b}),98);
__d("MWPSearchIndexingSource.bs",["I64","LSIntEnum","ReQL.bs","ReQLSuspense","SortedAsyncIterable.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("ReQL.bs").toArray(d("ReQL.bs").fromTableAscending(a.table("contacts")),f.id+":36")}function b(a,b){return d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").fromTableAscending(a.table("contacts")),function(a,c){return b(a.hd,c)})}function c(a){return d("ReQL.bs").toArray(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(a.table("threads")),function(a){return d("I64").equal(a.threadType,d("LSIntEnum").ofNumber(2))}),f.id+":47")}function e(a,b){return d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(a.table("threads")),function(a){return d("I64").equal(a.threadType,d("LSIntEnum").ofNumber(2))}),function(a,c){return b(a.hd,c)})}function h(a,b){return d("ReQL.bs").toArray(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(b.table("participants")),function(b){return!d("I64").equal(b.contactId,a)}),function(a){return[a,d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("contacts")),{hd:a.contactId,tl:0}),f.id+":79")]}),f.id+":71")}function i(a,b,c){return d("SortedAsyncIterable.bs").subscribe(d("ReQL.bs").filter(d("ReQL.bs").fromTableAscending(b.table("participants")),function(b){return!d("I64").equal(b.contactId,a)}),function(a,b){return c(a.hd,a.tl.hd,b)})}g.fetchContacts=a;g.subToContacts=b;g.fetchGroupThreads=c;g.subToGroupThreads=e;g.fetchGroupParticipants=h;g.subToGroupParticipants=i}),98);
__d("MWPSearchOpenIndexer.bs",["I64","MWPSearchOfflineOpenConversations","MWPSearchOfflineOpenConversations.bs","MWPSearchOfflineSearchTypes","Promise","ReQL","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function i(a){var b=d("I64").to_string(a.id);a=a.name;var c={type:d("MWPSearchOfflineSearchTypes").MWPSearchType.Contact};c={category:c,content:a,id:b};d("MWPSearchOfflineOpenConversations").add(c);h.set(b,c)}function j(a){var b=h.get(a);if(b!=null){h["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}var k=new Map();function l(a){var b=a.threadName;if(b==null)return;a=d("I64").to_string(a.threadKey);var c={type:d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadName};c={category:c,content:b,id:a};d("MWPSearchOfflineOpenConversations").add(c);k.set(a,c)}function m(a){var b=k.get(a);if(b!=null){k["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}var n=new Map();function o(a,b){if(b==null)return;a=d("MWPSearchOfflineOpenConversations.bs").getGroupParticipantKey(a.threadKey,a.contactId);b=b.name;var c={type:d("MWPSearchOfflineSearchTypes").MWPSearchType.ThreadParticipant};c={category:c,content:b,id:a};d("MWPSearchOfflineOpenConversations").add(c);n.set(a,c)}function p(a,b){return q.apply(this,arguments)}function q(){q=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("contacts")).getKeyRange(b.contactId)));return o(b,a)});return q.apply(this,arguments)}function r(a,b){a=d("MWPSearchOfflineOpenConversations.bs").getGroupParticipantKey(a,b);b=n.get(a);if(b!=null){n["delete"](a);d("MWPSearchOfflineOpenConversations").remove(b);return}}function a(a,b){switch(b.TAG){case 0:return i(b._0);case 1:b=b._0;j(d("I64").to_string(b.id));return i(b);case 2:return j(d("I64").to_string(a))}}function c(a,b){switch(b.TAG){case 0:return l(b._0);case 1:b=b._0;m(d("I64").to_string(b.threadKey));return l(b);case 2:return m(d("I64").to_string(a))}}function e(a,c,d,e){switch(e.TAG){case 0:return p(a,e._0);case 1:r(c,d);return p(a,e._0);case 2:return b("Promise").resolve(r(c,d))}}function f(a,b,c,e){d("MWPSearchOfflineOpenConversations.bs").db.contents=a,b.forEach(i),c.forEach(l),e.forEach(function(a){return o(a[0],a[1])})}g.onContactChanged=a;g.onGroupThreadChanged=c;g.onGroupParticipantChanged=e;g.startInitialIndex=f}),98);
__d("MWPSearchSystem",["CurrentUser","FBLogger","I64","JSScheduler","LSClearTables","LSFactory","MWChatSearchInsertRankingContacts.bs","MWLSSyncRankings","MWPSearchIndexingSource.bs","MWPSearchOpenIndexer.bs","Promise","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h={contents:!1},i={contents:!1},j={contents:!1},k=c("gkx")("2190");function a(a){if(!j.contents){j.contents=!0;d("JSScheduler").scheduleSpeculativeCallback(function(){d("MWChatSearchInsertRankingContacts.bs").insertRankingContacts(a);d("MWLSSyncRankings").sync(a);var e=d("I64").of_string(c("CurrentUser").getID());if(!h.contents){h.contents=!0;c("promiseDone")(b("Promise").all([d("MWPSearchIndexingSource.bs").fetchContacts(a),k?d("MWPSearchIndexingSource.bs").fetchGroupThreads(a):b("Promise").resolve([]),k?d("MWPSearchIndexingSource.bs").fetchGroupParticipants(e,a):b("Promise").resolve([])]).then(function(b){var c=b[0];d("MWPSearchOpenIndexer.bs").startInitialIndex(a,c,b[1],b[2])}),function(){i.contents=!0},function(a){c("FBLogger")("messenger_search").catching(a).mustfix("Error indexing contacts for search")});d("MWPSearchIndexingSource.bs").subToContacts(a,function(a,b){return d("MWPSearchOpenIndexer.bs").onContactChanged(a,b)});if(k){d("MWPSearchIndexingSource.bs").subToGroupThreads(a,function(a,b){return d("MWPSearchOpenIndexer.bs").onGroupThreadChanged(a,b)});d("MWPSearchIndexingSource.bs").subToGroupParticipants(e,a,function(b,c,e){return d("MWPSearchOpenIndexer.bs").onGroupParticipantChanged(a,b,c,e)});return}else return}else return});return}}function e(a){return a.runInTransaction(function(a){return c("LSClearTables")(c("LSFactory")(a))},"readwrite")}function f(){if(d("MWLSSyncRankings").isDone()&&d("MWChatSearchInsertRankingContacts.bs").isDone())return i.contents;else return!1}g.makeAll=a;g.clearAll=e;g.isDone=f}),98);
__d("filterInstagramContactsMWChatSearchLocalEntries",["MWChatSearchIssueLightspeedQuery.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return b===d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.instagramAll?a:a.filter(function(a){return!a.isInstagramAccount})}g["default"]=a}),98);
__d("mwStaticSearchEntries",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=h._("__JHASH__--dZZ_HGKAA__JHASH__",[h._param("query_value",a)]);return{key:a,label:b,rawData:{displayName:b,id:a,imageUrl:"",isContact:!1,isE2EE:!1,isEPD:!1,resultType:"messages",secondaryImageUrl:"",subtext:""},type:"entry"}}g.createMessageSearchEntry=a}),98);
__d("sortMWChatSearchLocalEntries",[],(function(a,b,c,d,e,f){"use strict";var g={group:1,message:2,messages:3,page:4,user:0};function a(a){var b={};for(var c=0;c<a.length;c++){var d=a[c];b[d.id]=(d=d.rankingScore)==null?void 0:d.score}return a.sort(function(a,c){var d=g[a.resultType],e=g[c.resultType];if(d!==e)return d-e;e=(d=b[a.id])!=null?d:0;d=(a=b[c.id])!=null?a:0;return d-e})}f["default"]=a}),66);
__d("MWChatSearchTypeaheadLightspeedSubscriptionDataSource",["FBLogger","LSIntEnum","MAWGating","MNetRankType","MWChatSearchFilteringUtils","MWChatSearchIssueLightspeedQuery.bs","MWLSSearchIssueSearchQuerySupportedTypes.bs","MWPSearchOfflineOpenConversations.bs","MWPSearchSystem","Promise","asyncToGeneratorRuntime","cr:3542","createMWChatSearchTypeaheadDataEntry","filterInstagramContactsMWChatSearchLocalEntries","mwChatSearchPayloadDecoratorRemoveExcluded","mwChatSearchPayloadEnumerate","mwStaticSearchEntries","promiseDone","relay-runtime/network/RelayObservable","sortMWChatSearchLocalEntries"],(function(a,b,c,d,e,f,g){"use strict";var h=10,i=10,j=d("MAWGating").isArmadillo()&&d("MAWGating").isTlcSearchEnabled();a=function(){function a(a){var b=a.database,e=a.excludedIDs;e=e===void 0?[]:e;var f=a.lightspeedSupportedTypes;f=f===void 0?d("MWLSSearchIssueSearchQuerySupportedTypes.bs").allSupportedTypes:f;var g=a.source;g=g===void 0?d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.universal:g;var h=a.includeRecommendations;h=h===void 0?!0:h;var i=a.includeGroupSearch;i=i===void 0?!1:i;var j=a.includeMessageSearchEntry;j=j===void 0?!0:j;a=a.nullstateRankType;a=a===void 0?d("LSIntEnum").ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE):a;this.$1=[];this.$5=function(){};this.$1=e;this.$2=g===d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.omnipickerArmadillo?d("MWLSSearchIssueSearchQuerySupportedTypes.bs").armadilloSupportedTypes:f;this.$3=g;this.$4=b;this.$6=h;this.$7=i;this.$8=j;this.$9=a;d("MWPSearchSystem").makeAll(b)}var e=a.prototype;e.resolveData=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){b=b.map(c("createMWChatSearchTypeaheadDataEntry"));b=[].concat(this.$8&&a.query.length?[d("mwStaticSearchEntries").createMessageSearchEntry(a.query)]:[],b);b=d("MWChatSearchFilteringUtils").dedupeByThreadKey(b);b=(yield d("MWChatSearchFilteringUtils").filterSearchResults(b,this.$4,!1,j));var e=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$1);return c("mwChatSearchPayloadEnumerate")(e({entries:b,params:a}))});function e(b,c){return a.apply(this,arguments)}return e}();e.fetchNetwork=function(a){var e=this;this.$5();return c("relay-runtime/network/RelayObservable").create(function(f){if(a.query.length===0&&!e.$6){f.next({entries:[],params:a});f.complete();return}if(a.query.length===0){e.$5=d("MWChatSearchIssueLightspeedQuery.bs").requestRecommendations(e.$4,e.$2,e.$9,e.$7,e.$3,a,function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){b=c("filterInstagramContactsMWChatSearchLocalEntries")(b,e.$3);b=(yield e.resolveData(a,b));f.next(b);f.complete()});return function(a){return d.apply(this,arguments)}}());return}var g=[],j=[],k=!1,l=b("Promise").allSettled([b("cr:3542")!=null?b("cr:3542").fetchResults(e.$2,e.$3,e.$7,a):b("Promise").resolve([]),e.$3!==d("MWChatSearchIssueLightspeedQuery.bs").Surfaces.broadcast?d("MWPSearchOfflineOpenConversations.bs").search(a.query,e.$7):b("Promise").resolve([])]).then(function(){var d=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var d=b[0];b=b[1];d=d.status==="fulfilled"?d.value:[];b=b.status==="fulfilled"?b.value:[];b=h<=0?b:b.slice(0,h);d=i<=0?d:d.slice(0,i);g=b.concat(d);g=c("sortMWChatSearchLocalEntries")(g);g=c("filterInstagramContactsMWChatSearchLocalEntries")(g,e.$3);b=(yield e.resolveData(a,g.concat(j)));k||f.next(b)});return function(a){return d.apply(this,arguments)}}())["catch"](function(a){c("FBLogger")("messenger_search").catching(a).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults")}),m=d("MWChatSearchIssueLightspeedQuery.bs").requestResults(e.$4,e.$2,e.$3,e.$7,a,function(h){j=h;h=a.query.length>0&&d("MWPSearchSystem").isDone()?l:b("Promise").resolve();c("promiseDone")(h["finally"](b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var b=(yield e.resolveData(a,g.concat(j)));f.next(b);f.complete()})))});e.$5=function(){m(),k=!0}})};e.setExcludedIds=function(a){this.$1=a};return a}();g["default"]=a}),98);
__d("useMWChatSearchClearSearchResults",["LSClearTables","LSFactory","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")();return h(function(){var b=a.runInTransaction(function(a){return c("LSClearTables")(c("LSFactory")(a))},"readwrite");c("promiseDone")(b)},[a])}g["default"]=a}),98);
__d("LSThreadRangeFilter",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,UNREAD_ONLY:1,GROUPS_ONLY:2,IGD_PRO_PRIMARY:3,IGD_PRO_GENERAL:4,PINNED:5,READ_BUT_UNRESPONDED:6,THREAD_CHAT_LABEL:7,BUSINESS_INBOX_FOLLOW_UP:8,FAMILY_AND_FRIENDS:9,CHANNELS:10,IGD_PRO_CHANNELS:11,BUSINESS_FOLDER_DONE:12,BUSINESS_FOLDER_SPAM:13,BUSINESS_FOLDER_FOLLOW_UP:14,BUSINESS_SECONDARY_FILTER:15,FROM_ADS:16,PRIORITY:17,ASSIGNED_ADMIN:18,COMMUNITIES:19,WORKROOMS_ONLY:20,SUBTHREAD:21,CHANNELS_AND_INVITES:22,UNIFIED_BUSINESS_INBOX_IGD:23,UNIFIED_BUSINESS_INBOX_MESSENGER:24});f["default"]=a}),66);
__d("useMarkSeenWhenVisible",["Int64Hooks","MWPFolderFocusedManager.bs","MetaConfig","ReQL","UserActivity","cr:355","emptyFunction","react","useMWPMarkSeen","useReStore","useSimpleImpression","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useRef;function a(a){var e,f=c("useReStore")(),g=i(!1),j=(e=b("cr:355")==null?void 0:b("cr:355")(a))!=null?e:c("emptyFunction");e=c("useVisibilityObserver")({onHidden:function(){g.current=!1},onVisible:function(){g.current=!0}});var k=c("useMWPMarkSeen")(a),l=h(function(){k(),void j()},[k,j]);d("MWPFolderFocusedManager.bs").useWatchFocusChanges(l,g);c("useSimpleImpression")(l);d("Int64Hooks").useEffectInt64(function(){if(c("MetaConfig")._("46"))return function(){};else return d("ReQL").fromTableDescending(f.table("threads").index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(a).take(1).subscribe(function(){c("UserActivity").isOnTab()&&g.current===!0&&l()})},[f,a,l]);return e}g["default"]=a}),98);
__d("MWPBaseThreadList.react",["Box.react","I64","Int64Hooks","LSFactory","LSFilteredThreadsRangesQuery","LSIntEnum","LSThreadRangeFilter","LSThreadsRangesQuery","MWCMIsThreadBumped","MWIsXacGroupThread.bs","MWThreadListFocusableTable.react","MWThreadListSupportedThreadTypes.bs","MWXacGating.bs","MetaConfig","ReQL","ReQLPaginatedList.react","ReQLPaginatedList.shared","ReQLSuspense","asyncToGeneratorRuntime","promiseDone","react","useMarkSeenWhenVisible","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useMemo,l=c("MetaConfig")._("41")===!0,m={container:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},emptyContentContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function n(a,e,f,g){g===void 0&&(g=!1),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield a.table("threads_ranges_v2__generated").get(e));if(b==null||b.isLoadingBefore)return;f&&f();return c("LSThreadsRangesQuery")(b.parentThreadKey,!0,!1,b.minThreadKey,b.maxThreadKey,b.maxLastActivityTimestampMs,b.minLastActivityTimestampMs,d("I64").zero,g,c("LSFactory")(a))});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui"))}function o(a,e,f,g,h){f===void 0&&(f=d("LSIntEnum").ofNumber(c("LSThreadRangeFilter").NONE)),g===void 0&&(g=d("LSIntEnum").ofNumber(c("LSThreadRangeFilter").NONE)),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=(yield a.table("filtered_threads_ranges_v3__generated").get(e));if(b==null||b.isLoadingBefore)return;h&&h();return c("LSFilteredThreadsRangesQuery")(b.parentThreadKey,f,!0,!1,b.minThreadKey,b.maxThreadKey,b.maxLastActivityTimestampMs,b.minLastActivityTimestampMs,void 0,void 0,g,void 0,c("LSFactory")(a))});return function(b){return a.apply(this,arguments)}}(),"readwrite","ui"))}function p(a,b,e,f,g,h){e===void 0&&(e=d("LSIntEnum").ofNumber(c("LSThreadRangeFilter").NONE));f===void 0&&(f=d("LSIntEnum").ofNumber(c("LSThreadRangeFilter").NONE));h===void 0&&(h=!1);if(b==null)return;if(!b.threadRangeFilter){var i=d("ReQL").key(b.parentThreadKey,b.minThreadKey,b.minLastActivityTimestampMs);n(a,i,g,h)}else{i=d("ReQL").key(b.parentThreadKey,b.minThreadKey,b.minLastActivityTimestampMs,b.threadRangeFilter,b.folderName,b.secondaryThreadRangeFilter,b.threadRangeFilterValue);o(a,i,e,f,g)}}function q(a,b,e,f,g,h){h===void 0&&(h=!1),c("promiseDone")(a.runInTransaction(function(a){g==null?void 0:g();if(e==null)return c("LSThreadsRangesQuery")(b,!0,!1,d("I64").max_int,d("I64").max_int,d("I64").max_int,d("I64").max_int,d("I64").zero,h,c("LSFactory")(a));else return c("LSFilteredThreadsRangesQuery")(b,e,!0,!1,d("I64").max_int,d("I64").max_int,d("I64").max_int,d("I64").max_int,void 0,void 0,f,void 0,c("LSFactory")(a))},"readwrite","ui"))}function a(a){var b=a.afterContent,e=a.beforeContent,g=a.customThreadFilter_DO_NOT_USE,n=a.emptyContent,o=a.filter,r=a.gridLabel,s=a.loadMoreThreads,t=s===void 0?p:s;s=a.loadMoreThreadsForEmptyRange;var u=s===void 0?q:s,v=a.onLoadMoreThreads;s=a.onScroll;var w=a.onReachingTop,x=a.onThreadsLoaded,y=a.pageSize,z=a.parentThreadKey,A=a.renderItem,B=a.renderLoadingAnimation,C=a.secondaryFilter,D=a.setIsEmptyInbox,E=a.shouldSkipE2eeThreadsRanges,F=E===void 0?!1:E;E=a.role;E=E===void 0?"grid":E;var G=a.containerStyle,H=a.imperativeRef;a=a.isSufficientContentLoadedBelow;var I=c("useReStore")(),J=d("ReQLSuspense").useFirst(function(){if(o==null)return d("ReQL").fromTableDescending(I.table("threads_ranges_v2__generated")).getKeyRange(z);else return d("ReQL").fromTableDescending(I.table("filtered_threads_ranges_v3__generated")).getKeyRange(z).filter(function(a){return d("I64").equal(a.threadRangeFilter,o)&&(!C||d("I64").equal(a.secondaryThreadRangeFilter,C))})},[I,z,o,C],f.id+":341"),K=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(I.table("pinned_threads").index("pinnedTimestamp"))},[I],f.id+":362"),L=d("ReQLSuspense").useArray(function(){return l?d("ReQL").fromTableAscending(I.table("community_folders")):d("ReQL").empty()},[I],f.id+":368"),M=k(function(){return L.filter(function(a){return a.isHidden}).map(function(a){return d("I64").to_string(a.folderId)})},[L]),N=c("MetaConfig")._("44");J!=null&&!J.isLoadingBefore&&(x&&x());var O=J!=null?d("I64").equal(J.minLastActivityTimestampMs,d("I64").zero)||d("I64").equal(J.minLastActivityTimestampMs,d("I64").one)||(N?d("I64").equal(J.minLastActivityTimestampMs,d("I64").max_int):!1)?null:J.minLastActivityTimestampMs:null,P=J!=null?d("I64").equal(J.maxLastActivityTimestampMs,d("I64").zero)||d("I64").equal(J.maxLastActivityTimestampMs,d("I64").one)?null:J.maxLastActivityTimestampMs:null,Q=d("Int64Hooks").useMemoInt64(function(){var a;return{gte:d("ReQL").key((a=O)!=null?a:d("I64").min_int),lte:d("ReQL").key((a=P)!=null?a:d("I64").max_int)}},[P,O]),R=d("Int64Hooks").useMemoInt64(function(){var a=d("ReQL").fromTableDescending(I.table("threads").index("parentThreadKeyLastActivityTimestampMs")).getKeyRange(z);a=(l?d("ReQL").union(a,d("ReQL").fromTableDescending(I.table("threads").index("secondaryParentThreadKeyLastActivityTimestampMs")).getKeyRange(z)):a).filter(function(a){return c("MWCMIsThreadBumped")(a)&&M.includes(d("I64").to_string(a.parentThreadKey))?!1:d("MWThreadListSupportedThreadTypes.bs").supportedThreadTypes.findIndex(function(b){return d("I64").equal(a.threadType,b)})!==-1&&(!c("MetaConfig")._("45")||K.findIndex(function(b){return d("I64").equal(a.threadKey,b.threadKey)})===-1)&&(d("MWXacGating.bs").isGroupsEnabled()||!d("MWIsXacGroupThread.bs").check(a))&&(!g||g(a))});return d("ReQLPaginatedList.shared").fromIterables(d("ReQL").empty(),a)},[I,z,K,g,M]),S=d("ReQLSuspense").useFirst(function(){return R.descending.bounds(Q)},[Q,R],f.id+":467")==null;j(function(){D&&D(S)},[S,D]);d("Int64Hooks").useEffectInt64(function(){J==null&&u(I,z,o,C,v)},[z,J,I,o,C,v,u]);x=c("useMarkSeenWhenVisible")(z);N=i(function(){t(I,J,o,C,v,F)},[I,t,J,o,C,v,F]);var T=i(function(a){return h.jsx(h.Fragment,{children:A(a)},d("I64").to_string(a.threadKey))},[A]);return J==null?B!=null?B():null:h.jsx(c("Box.react"),{"aria-label":r,"data-testid":void 0,ref:x,role:E,xstyle:[m.container,G],children:h.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTable,{children:h.jsx(c("ReQLPaginatedList.react"),{bounds:Q,data:R,direction:"desc",hasReachedBottom:!J.hasMoreBefore,hasReachedTop:!J.hasMoreAfter,imperativeRef:H,isSufficientContentLoadedBelow:a,onReachingBottom:N,onReachingTop:w,onScroll:s,pageSize:y,renderEmptyContent:function(){return S&&!J.isLoadingAfter&&!J.isLoadingBefore?h.jsx(c("Box.react"),{xstyle:m.emptyContentContainer,children:n}):null},renderFooter:function(){return b},renderHeader:function(){return e},renderItem:T,renderLoadingAnimation:B,xstyle:m.list})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadListFolderItem.react",["BaseView.react","CometTextWithEntities.react","I64","MAWVault","MWAddOnCircleContainer.react","MWCMThreadTypes.react","MWChatTextTransform","MWPIsThreadUnread.bs","MWThreadListFocusableTable.react","MWThreadListLastMessage.react","MWVerticalRhythm","MWXListCellPressable.react","MWXText.react","MWXTextPairing.react","ReQL","ReQLSuspense","react","useMatchMedia","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.icon,e=a.onClick,g=a.responsive,k=a.selectedThreadKey,l=a.size,m=a.systemFolder,n=a.thread,o=a.threadName,p=c("useReStore")();a=c("useMatchMedia")("(min-width: 900px)")||!g;g=d("ReQLSuspense").useFirst(function(){return k!=null?d("ReQL").fromTableAscending(p.table("threads")).getKeyRange(k).filter(function(a){a=a.parentThreadKey;return d("I64").equal(a,m)}):d("ReQL").empty()},[p,k,m],f.id+":69")!=null;var q=j(function(){return n.snippet!=null?d("MAWVault").unvault(n.snippet):null},[n]),r=d("I64").to_float(n.lastActivityTimestampMs),s=d("MWPIsThreadUnread.bs").isThreadUnread(n),t=j(function(){return h.jsx(c("MWAddOnCircleContainer.react"),{size:function(){switch(l){case"s_28":return 28;case"s_36":return 36;case"s_40":return 40;case"s_48":return 48;case"s_56":return 56}}(),children:b})},[b,l]),u=j(function(){var a;return(a=n.threadName)!=null?a:o},[n.threadName,o]),v=j(function(){return h.jsxs(h.Fragment,{children:[h.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:s?"headlineEmphasized4":"body3",children:h.jsx(c("CometTextWithEntities.react"),{text:u.toString(),transforms:d("MWChatTextTransform").epdTextTransforms})}),h.jsx(c("MWVerticalRhythm"),{height:4})]})},[s,u]),w=i(function(){return e()},[e]);return h.jsx(c("BaseView.react"),{testid:void 0,children:h.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:h.jsx("div",{role:"row",children:h.jsx(d("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:h.jsx("div",{className:"xurb0ha x1sxyh0",role:"gridcell",children:h.jsx(c("MWXListCellPressable.react"),{addOnStart:t,content:h.jsx(c("MWXTextPairing.react"),{body:a?h.jsx(c("MWThreadListLastMessage.react"),{hasOngoingCall:!1,isUnread:s,lastMessageTimestamp:r,showTimestamp:!d("MWCMThreadTypes.react").isUnjoinedCMThread(n.threadType),snippet:q}):null,bodyLineLimit:1,headline:a?v:null,headlineLineLimit:1,level:4,reduceEmphasis:!s}),onPress:w,selected:g,size:"large"})})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadListJobsItem.react",["fbt","ix","LSIntEnum","MWThreadListFolderItem.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onClick,e=a.responsive,f=a.selectedThreadKey,g=a.size;a=a.thread;var k=function(){return b(d("LSIntEnum").ofNumber(-13))};return j.jsx(c("MWThreadListFolderItem.react"),{icon:j.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("512668"),32),size:48}),onClick:k,responsive:e,selectedThreadKey:f,size:g,systemFolder:d("LSIntEnum").ofNumber(-13),thread:a,threadName:h._("__JHASH__fyt3EBzeQRx__JHASH__").toString()})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadList.bs",["fbt","CometPlaceholder.react","FocusRegion.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWCMIsThreadBumped","MWIsXacGroupThread.bs","MWJewelPopoverThreadlistContext.react","MWLSJewelMessageRequestsThreadContainer.react","MWPBaseThreadList.react","MWPBumpEntityKey","MWPThreadIsPage.react","MWPThreadsForThreadList.bs","MWThreadKey.react","MWThreadListGlimmer.react","MWThreadListItem.react","MWThreadListJobsItem.react","MWThreadListSupportedThreadTypes.bs","MWThread_DEPRECATED.bs","MWXText.react","MWXacGating.bs","MessengerWebUXLogger","ReQL.bs","ReQLSuspense","cr:2261","cr:4716","cr:6055","emptyFunction","gkx","lazyLoadComponent","qex","react","recoverableViolation","useCometUniqueID","useGroupsCometChatAdmodThreadImpressionStateUpdateMutation","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useContext,l=e.useEffect,m=b("cr:6055")||c("emptyFunction"),n=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWThreadListNullState.react").__setRef("MWThreadList.bs"));function o(){l(function(){c("recoverableViolation")("Unknown thread type","messenger_web_product")},[]);return null}function p(a){var b=d("I64").to_string(a.threadKey),c=a.threadType;a=a.cannotUnsendReason;if(a!=null&&d("I64").equal(c,d("LSIntEnum").ofNumber(1))&&d("I64").equal(a,d("I64").of_string("4")))return{NAME:"Page",VAL:b};if(d("LSMessagingThreadTypeUtil").isOneToOne(c))return{NAME:"User",VAL:b};else if(d("LSMessagingThreadTypeUtil").isGroup(c))return{NAME:"Group",VAL:b};else return}var q=c("gkx")("1968579")===!1,r=c("gkx")("6709");function s(a){var e=a.lsEntryPoint,f=a.messagingEntrypoint,g=a.onClickNestedFolderThread,h=a.onClose,j=a.responsive,m=a.selectedThreadKey,n=a.thread,s=k(c("MWJewelPopoverThreadlistContext.react")),t=n.threadKey;l(function(){if(!q||b("cr:2261")==null)return;s==null?void 0:s.add(t);return function(){s==null?void 0:s["delete"](t)}},[s,t]);a=c("useGroupsCometChatAdmodThreadImpressionStateUpdateMutation")();var u=a[0],v=a[1];a=d("Int64Hooks").useMemoInt64(function(){return function(){c("MWCMIsThreadBumped")({secondaryParentThreadKey:n.secondaryParentThreadKey,threadType:n.threadType})&&!v&&r&&u({thread_id:d("I64").to_string(n.threadKey)}),c("MWCMIsThreadBumped")({secondaryParentThreadKey:n.secondaryParentThreadKey,threadType:n.threadType})&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{is_bumped:"true"},event:"thread_open",group_id:d("I64").to_string(n.parentThreadKey),source:"chat_row",surface:e==="jewel"?"jewel_tray":"messenger_inbox",thread_id:d("I64").to_string(n.threadKey)})}},[v,n.threadKey,n.secondaryParentThreadKey,n.threadType,u]);if(d("I64").equal(n.threadType,d("LSIntEnum").ofNumber(6))){var w=n.threadKey;if(!d("I64").equal(w,d("LSIntEnum").ofNumber(-12)))if(d("I64").equal(w,d("LSIntEnum").ofNumber(-13)))return i.jsx(c("MWThreadListJobsItem.react"),{onClick:g,responsive:j,selectedThreadKey:m,size:"s_56",thread:n});else return null;return!q||b("cr:2261")==null?null:i.jsx(b("cr:2261"),{onClick:g,responsive:j,selectedThreadKey:m,size:"s_56",thread:n})}w=p(n);return w!=null&&w.VAL!=="0"?i.jsx(d("MWThread_DEPRECATED.bs").MWThread_DEPRECATED,{id:w,children:i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("MWThreadListGlimmer.react"),{parentComponentForDebug:"MWThreadListItem"}),children:i.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:n.threadKey,children:i.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:n.threadKey,children:i.jsx(c("MWThreadListItem.react"),{lsEntryPoint:e,messagingEntrypoint:f,onClose:h,onThreadSelected:a,responsive:j,selected:m!=null&&d("I64").equal(m,n.threadKey),size:56,thread:n})})})})}):i.jsx(o,{})}s.displayName=s.name+" [from "+f.id+"]";function a(a){var e=a.onClose,g=a.onClickNestedFolderThread,k=a.gridLabel,l=a.header,o=a.lsEntryPoint,p=a.onOpenMessageRequests,q=a.parentThreadKey,r=a.responsive,t=a.selectedThreadKey,u=a.setHasScrolled,v=a.setIsEmptyInbox,w=a.threadListMessagingEntrypoint,x=e!=null?e:function(){};a=(e=a.preamble)!=null?e:null;var y=g!=null?g:function(){},z=c("useReStore")(),A=d("ReQLSuspense").useFirst(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(z.table("threads_ranges_v2__generated")),{hd:q,tl:0})},[z,q],f.id+":309"),B=d("ReQLSuspense").useArray(function(){return d("ReQL.bs").take(d("ReQL.bs").filter(d("ReQL.bs").filter(d("MWPThreadsForThreadList.bs").createIterable(z,q,A),function(a){return d("MWThreadListSupportedThreadTypes.bs").supportedThreadTypes.findIndex(function(b){return d("I64").equal(a.threadType,b)})!==-1}),function(a){if(d("MWXacGating.bs").isGroupsEnabled())return!0;else return!d("MWIsXacGroupThread.bs").check(a)}),5)},[z,q,A],f.id+":320").pop();e=l!=null?i.jsx(d("FocusRegion.react").FocusRegion,{children:l}):null;g=c("useCometUniqueID")();m(g);l=j(function(a){var b;return a!=null?i.jsx(s,{lsEntryPoint:o==="inboxThreadList"?B!=null&&d("I64").le(a.lastActivityTimestampMs,B.lastActivityTimestampMs)?"inboxRecentThreads":"inboxRemainingThreads":o,messagingEntrypoint:(b=w)!=null?b:"jewel",onClickNestedFolderThread:y,onClose:x,responsive:r,selectedThreadKey:t,thread:a}):i.jsx("div",{})},[r,w,o,x,y,t,B]);var C=b("cr:4716")==null?null:i.jsx(b("cr:4716"),{renderItem:l}),D=j(function(a){u&&u(function(b){return a.scrollTop>0})},[u]),E=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"threadlist_impression"});return i.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",id:g,ref:E,children:i.jsx(c("MWPBaseThreadList.react"),{beforeContent:i.jsxs(i.Fragment,{children:[e,i.jsx(c("MWLSJewelMessageRequestsThreadContainer.react"),{onOpenMessageRequests:p}),a,C]}),emptyContent:c("qex")._("1310")===!0?i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(n,{parentThreadKey:q})}):i.jsx("div",{className:"xyamay9 x1pi30zi x1l90r2v x1swvt13",children:i.jsx(c("MWXText.react"),{align:"center",type:"body2",children:h._("__JHASH__1gb6sA7PX-j__JHASH__")})}),gridLabel:k,onLoadMoreThreads:function(){return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.threadlist","load_more_threads")},onScroll:D,pageSize:c("gkx")("830")?5:15,parentThreadKey:q,renderItem:l,renderLoadingAnimation:function(){return i.jsx(c("MWThreadListGlimmer.react"),{numberOfItems:2,parentComponentForDebug:"MWThreadListLoadingAnimation"})},setIsEmptyInbox:v})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadListMarketplaceItem.react",["fbt","ix","LSIntEnum","MWPBumpEntityKey","MWThreadListFolderItem.react","MWXIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onClick,e=a.responsive,f=a.selectedThreadKey,g=a.size;a=a.thread;return j.jsx(c("MWThreadListFolderItem.react"),{icon:j.jsx(c("MWXIcon.react"),{color:"primary",icon:d("fbicon")._(i("1027308"),32),size:48}),onClick:function(){b(d("LSIntEnum").ofNumber(-12));return d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","marketplace_threads")},responsive:e,selectedThreadKey:f,size:g,systemFolder:d("LSIntEnum").ofNumber(-12),thread:a,threadName:h._("__JHASH__0Ktcc3EsRI7__JHASH__").toString()})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=a.dataSource;a=k(!1);var c=a[0],d=a[1],e=j(null);a=h(function(a){var c,f=a.onResolvePayload;a=a.requestParams;(c=e.current)==null?void 0:c.unsubscribe();e.current=b.fetchNetwork(a).subscribe({complete:function(){d(!1)},error:function(a){d(!1)},next:function(a){return f(a)},start:function(a){d(!0)},unsubscribe:function(){d(!1)}})},[b]);i(function(){return function(){var a;(a=e.current)==null?void 0:a.unsubscribe()}},[]);return[{isLoading:c},a]}g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:2557","react","recoverableViolation","useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useRef;function a(a,d){var e=a.dataSource,f=a.dataSourceFetchConfigParams;f=f===void 0?{}:f;var g=f.requestFlow;f=f.shouldDebounceNetwork;var k=f===void 0?!0:f,l=a.onResolvePayload;f=c("useBaseTypeaheadSubscriptionDataSourceFetchResolverNetwork")({dataSource:e});a=f[0].isLoading;var m=f[1],n=c("useDebouncedComet")(m),o=h(function(a,b){var d=b.isTraceComplete;b=b.source;try{l(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},[l]),p=j(g),q=h(function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:2557")&&b("cr:2557")(["all"],a)},[o]);i(function(){function a(a){a=a.requestParams;var b=a.requestFlow;b!=null&&(p.current=b);b={onResolvePayload:q,requestParams:babelHelpers["extends"]({},a,{requestFlow:p.current})};Boolean(k)?n(b):m(b)}d!=null&&a(d)},[m,n,d,q,k]);return[{isLoading:a}]}g["default"]=a}),98);
__d("useBaseTypeaheadSubscriptionDataSourceFetch",["react","recoverableViolation","useBaseTypeaheadSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){var b=i(null),d=b[0],e=b[1];b=c("useBaseTypeaheadSubscriptionDataSourceFetchResolver")(a,d);a=b[0].isLoading;var f=h(function(a,b){b===void 0&&(b="all"),e({requestParams:a,source:b})},[]);b=h(function(a){a=a||{};var b=a.requestFlow;a=a.source;if(d==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var e=d.requestParams,g=e.loggingEventTrace;e=babelHelpers.objectWithoutPropertiesLoose(e,["loggingEventTrace"]);g=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},g,{sequenceID:String(Date.now())}),requestFlow:b},e);f(g,a)},[f,d]);return[{isLoading:a,source:(a=d==null?void 0:d.source)!=null?a:"all"},f,b]}g["default"]=a}),98);
__d("TypeaheadLoggingFetchRequestFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1880031");b=d("FalcoLoggerInternal").create("typeahead_logging_fetch_request",a);e=b;g["default"]=e}),98);
__d("CometTypeaheadVolumeLoggingProvider",["TypeaheadLoggingFetchRequestFalcoEvent","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){return Math.random().toString()};a=function(){function a(a){this.$2=null,this.$1=a,this.$2=h()}var b=a.prototype;b.getContext=function(){return this.$1};b.getSessionID=function(){this.$2==null&&c("recoverableViolation")("Logging sessionID requested from "+this.getContext()+" surface does not exist.","search");return this.$2};b.logRequest=function(a){var b={context:this.getContext(),requestType:a,sessionID:this.getSessionID()};c("TypeaheadLoggingFetchRequestFalcoEvent").log(function(){return{fetchRequest:b}})};return a}();g["default"]=a}),98);
__d("useCometTypeaheadVolumeLoggingProvider",["CometTypeaheadVolumeLoggingProvider","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){a===void 0&&(a="UNKNOWN");return h(function(){return new(c("CometTypeaheadVolumeLoggingProvider"))(a)},[a])}g["default"]=a}),98);
__d("CometInternalTypeaheadSubscriptionProvider",["CometInternalTypeaheadEmptyFetchProvider","CometInternalTypeaheadFetchContext","react","useBaseTypeaheadSubscriptionDataSourceFetch","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadVolumeLoggingProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.loggingContext,g=a.onFetchEntries_DO_NOT_USE,k=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var l=a.dispatchActiveEntries,m=c("useCometTypeaheadVolumeLoggingProvider")(f);a=c("useBaseTypeaheadSubscriptionDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:i(function(a,b){var c;a=a.entries;var d=b.isTraceComplete;b=b.source;l((c=a)!=null?c:[]);m.logRequest(o);g&&g(a);k&&!k.isResolved()&&(d&&(b==="cache"&&a.length>=k.getEntriesCountForVisualComplete()?k.setEndReason("max_suggestions_reached"):b==="network"?k.setEndReason("all_queries_completed"):b==="network-no-results"&&k.setEndReason("all_queries_completed_no_network_results"),k.resolve()))},[l,g,k])});f=a[0];var n=f.isLoading,o=f.source,p=a[1],q=a[2];d=j(function(){return{fetch:p,isLoading:n,refetch:q,source:o}},[p,n,q,o]);return h.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:d,children:h.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:n,source:o,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseSubscriptionTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadStateProvider","CometInternalTypeaheadSubscriptionProvider","emptyFunction","react","useCometUniqueID","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.autoOpen;b=b===void 0?!1:b;var d=a.autoFocus;d=d===void 0?!1:d;var e=a.isDisabled;e=e===void 0?!1:e;var f=a.errorMessage;f=f===void 0?null:f;var g=a.inputStrategyRenderer,k=a.dataSource,l=a.dataSourceFetchConfigParams,m=a.decorators,n=m===void 0?[]:m;m=a.emptyEntries_DO_NOT_USE;var o=a.id,p=a.label;p=p===void 0?"":p;var q=a.loggingContext,r=a.onBackspace;r=r===void 0?c("emptyFunction"):r;var s=a.onBlur;s=s===void 0?c("emptyFunction"):s;var t=a.onChange,u=a.onClose;u=u===void 0?c("emptyFunction"):u;var v=a.onEnter;v=v===void 0?c("emptyFunction"):v;var w=a.onEscape;w=w===void 0?c("emptyFunction"):w;var x=a.onFetchEntries_DO_NOT_USE,y=a.onFocus;y=y===void 0?c("emptyFunction"):y;var z=a.onOpen;z=z===void 0?c("emptyFunction"):z;var A=a.onPressEntry,B=a.placeholder;B=B===void 0?"":B;var C=a.shouldQueryStringFollowHighlightedEntry,D=C===void 0?!0:C;C=a.shouldQueryStringUpdateFromSelectedEntryOnClick;var E=C===void 0?!0:C;C=a.testid;C=C===void 0?"":C;C=a.traceProvider;var F=a.inputRef,G=a.viewRole;G=G===void 0?"listbox":G;var H=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","isDisabled","errorMessage","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","inputRef","viewRole","viewStrategyRenderer"]);var I=c("useCometUniqueID")(),J=j(function(){var a=c("CometInternalTypeahead.react");n.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a},[n]),K=i(function(a){E&&t(a.label),A&&A(a)},[t,A,E]),L=j(function(){return c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(g,{shouldQueryStringFollowHighlightedEntry:D})},[g,D]);p=p||B;return h.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:h.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:b,emptyEntries_DO_NOT_USE:m,onClose:u,onOpen:z,children:h.jsx(c("CometInternalTypeaheadSubscriptionProvider"),{dataSource:k,dataSourceFetchConfigParams:l,loggingContext:q,onFetchEntries_DO_NOT_USE:x,traceProvider:C,children:h.jsx(J,babelHelpers["extends"]({},a,{autoFocus:d,errorMessage:f,id:(b=o)!=null?b:I,inputRef:F,inputStrategyRenderer:L,isDisabled:e,label:p,onBackspace:r,onBlur:s,onChange:t,onDownArrow:c("emptyFunction"),onEnter:v,onEscape:w,onFocus:y,onHighlightEntry:c("emptyFunction"),onPressEntry:K,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:B,testid:void 0,viewRole:G,viewStrategyRenderer:H}))})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsUniversalSearchQueryChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("94");b=d("FalcoLoggerInternal").create("ls_universal_search_query_changed",a);e=b;g["default"]=e}),98);
__d("LsUniversalSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("96");b=d("FalcoLoggerInternal").create("ls_universal_search_start",a);e=b;g["default"]=e}),98);
__d("UniversalSearchQueryChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("843");b=d("FalcoLoggerInternal").create("universal_search_query_changed",a);e=b;g["default"]=e}),98);
__d("UniversalSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("840");b=d("FalcoLoggerInternal").create("universal_search_start",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("useRelayClientStateWithLocalStorage",["CometRelay","FBLogger","WebStorage","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=new Set();function a(a,b,e,f){var g=j.has(b),k=d("CometRelay").useRelayEnvironment(),l=c("useStable")(c("WebStorage").getLocalStorage),m=c("useStable")(function(){if(g||l==null)return f;var a=l.getItem(b);try{return a==null||a===""?f:JSON.parse(a)}catch(a){return f}}),n=h(function(c){d("CometRelay").commitLocalUpdate(k,function(d){d=d.get(a);if(d==null)return;if(d.getValue(e)===c)return;d.setValue(c,e);j.add(b)})},[k,e,a,b]);i(function(){if(l==null)return;if(!g)return;var a=JSON.stringify(f);if(a==null)return;try{l.setItem(b,a)}catch(b){b!=null&&typeof b==="object"&&b.code===22&&l.clear();a=c("FBLogger")("use_local_storage");b instanceof Error&&(a=a.catching(b));a.mustfix("Cannot save to local storage.")}},[b,g,l,f]);return[g?f:m,n]}g.useRelayClientStateWithLocalStorage=a}),98);
__d("useSEOLoggedOutWebCrawler",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("gkx")("1779508")}g["default"]=a}),98);
__d("VideoPlayerWwwLogger",["VideoPlayerWwwFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b,c=a.logData.live_trace_stream_id!==null&&a.logData.live_trace_stream_type!==null;return{access_token:a.logData.access_token,ad_client_token:a.logData.ad_client_token,attribution_id:a.logData.attribution_id,attribution_id_v2:a.logData.attribution_id_v2,attribution_id_v2_root:a.logData.attribution_id_v2_root,audio_only:a.logData.audio_only,audio_representation_id:a.logData.audio_representation_id,autoplay_eligible:a.logData.autoplay_eligible,autoplay_failure_reasons:a.logData.autoplay_failure_reasons,autoplay_setting:a.logData.autoplay_setting,available_qualities:a.logData.available_qualities,broadcaster_origin:a.logData.broadcaster_origin,browser_tab_id:a.logData.browser_tab_id,caption_state:a.logData.caption_state,cast_client_app_id:a.logData.cast_client_app_id,client_latency_setting:a.logData.client_latency_setting,current_playback_speed:a.logData.current_playback_speed,current_viewability_percentage:Number(a.logData.current_viewability_percentage),current_volume:a.logData.current_volume,dash_perf_logging_enabled:a.logData.dash_perf_logging_enabled,data_connection_quality:a.logData.data_connection_quality,debug_reason:a.logData.debug_reason,device_id:a.logData.device_id,device_type:a.logData.device_type,dropped_frame_count:Number(a.logData.dropped_frame_count),error:a.logData.error,error_code:a.logData.error_code,error_description:a.logData.error_description,error_domain:a.logData.error_domain,error_type:a.logData.error_type,error_user_info:a.logData.error_user_info,event_name:a.eventType,event_seq_num:a.logData.event_seq_num,external_log_id:a.logData.external_log_id,external_log_type:a.logData.external_log_id,fb_manifest_identifier:a.logData.fb_manifest_identifier,feed_aggregation_type:a.logData.feed_aggregation_type,feed_position:a.logData.feed_position,frame_events:a.logData.frame_events,ft:a.logData.ft,imf_emsg_id:a.logData.imf_emsg_id,imf_event_type:a.logData.imf_event_type,imf_topic:a.logData.imf_topic,interrupt_count:a.logData.interrupt_count!==null?Number(a.logData.interrupt_count):null,interrupt_time:Number(a.logData.interrupt_time),is_abr_enabled:a.logData.is_abr_enabled,is_fbms:a.logData.is_fbms,is_live_preview:(b=a.logData.is_live_preview)!=null?b:!1,is_live_video_rewound:a.logData.is_live_video_rewound,is_p2p_playback:a.logData.is_p2p_playback,is_pip:a.logData.is_pip,is_predictive_playback:a.logData.is_predictive_playback,is_sound_on:a.logData.is_sound_on,is_stalling:a.logData.is_stalling,is_templated_manifest:a.logData.is_templated_manifest,last_viewability_percentage:Number(a.logData.last_viewability_percentage),live_trace_source_id:a.logData.live_trace_source_id,live_trace_stream_id:c?a.logData.live_trace_stream_id:null,live_trace_stream_type:c?a.logData.live_trace_stream_type:null,mpd_validation_errors:a.logData.mpd_validation_errors,network_connected:a.logData.network_connected,next_representation_id:a.logData.next_representation_id,notification_id:a.logData.notification_id,notification_medium:a.logData.notification_medium,offset_ms:a.logData.offset_ms!=null?String(a.logData.offset_ms):null,permalink_share_id:a.logData.permalink_share_id,playback_caption_format:a.logData.playback_caption_format,playback_caption_locale:a.logData.playback_caption_locale,playback_duration:a.logData.playback_duration,playback_is_broadcast:a.logData.playback_is_broadcast,playback_is_drm:a.logData.playback_is_drm,playback_is_live_streaming:a.logData.playback_is_live_streaming,player_format:a.logData.player_format,player_instance_key:a.logData.player_instance_key,player_mode:a.logData.player_mode,player_origin:a.logData.player_origin,player_state:a.logData.player_state,player_suborigin:a.logData.player_suborigin,player_version:a.logData.player_version,reaction_video_channel_type:a.logData.reaction_video_channel_type,representation_id:a.logData.representation_id,resource_url:a.logData.resource_url,routeTracePolicy:a.routeTracePolicy,seq_num:a.logData.seq_num,source:a.source_VPL_LOGGING_HACK,source_VPL_LOGGING_HACK:a.logData.source_VPL_LOGGING_HACK,stall_count:Number(a.logData.stall_count),stall_count_200_ms:Number(a.logData.stall_count_200_ms),stall_time:Number(a.logData.stall_time),state:a.logData.state,streaming_format:a.logData.streaming_format,time_ms:a.logData.time_ms,total_frame_count:Number(a.logData.total_frame_count),tracking_data_encrypted:a.logData.tracking_data_encrypted,tracking_nodes:a.logData.tracking_nodes,tv_session_id:a.logData.tv_session_id,v2_heart_beat:a.logData.v2_heart_beat,video_bandwidth:a.logData.video_bandwidth,video_buffer_end_position:a.logData.video_buffer_end_position,video_chaining_depth_level:a.logData.video_chaining_depth_level,video_chaining_parent_video_id:a.logData.video_chaining_parent_video_id,video_chaining_session_id:a.logData.video_chaining_session_id,video_channel_id:a.logData.video_channel_id,video_id:a.logData.video_id,video_last_start_time_position:a.logData.video_last_start_time_position,video_play_reason:a.logData.video_play_reason,video_player_height:Number(a.logData.video_player_height),video_player_width:Number(a.logData.video_player_width),video_time_position:a.logData.video_time_position,vpts:a.logData.vpts,web_client_revision:a.logData.web_client_revision}}a={logComet:function(a){c("VideoPlayerWwwFalcoEvent").log(function(){return h(a)})},logCometImmediately:function(a){c("VideoPlayerWwwFalcoEvent").logImmediately(function(){return h(a)})}};b=a;g["default"]=b}),98);
__d("useConcurrentAutoplayManagementAPI",["react","removeFromArray","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useState;function a(){return c("useCometUniqueID")()}function i(){var a=[];return{isControllingComponent:function(b){var c=a.length;return a[c-1]===b},registerControllingComponent:function(b){c("removeFromArray")(a,b),a.push(b)},unregisterControllingComponent:function(b){var d=a.length;d>1&&c("removeFromArray")(a,b);return d>1}}}function b(){var a=h(function(){return i()});a=a[0];return a}g.useAutoplayControlID=a;g.createConcurrentAutoplayManagementAPI=i;g.useConcurrentAutoplayManagementAPI=b}),98);
__d("VideoPlayerCaptionsController",["JSResourceForInteraction","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("VideoPlayerHTML5ApiCea608State").__setRef("VideoPlayerCaptionsController"),i=c("JSResourceForInteraction")("VideoPlayerHTML5ApiWebVttState").__setRef("VideoPlayerCaptionsController");function a(a){var b=a.captionsUrl,d=a.inbandCaptionsExpected,e=a.onCaptionsLoaded,f=null,g=null,j=null,k=null;function l(a){var b=i.load().then(function(c){if(b!==j)return;f=new c({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(b){b.loadFromUrl(a)}})})["catch"](function(a){if(b!==j)return;c("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiWebVttState module: "+a.message,"comet_video_player")});return b}function m(){var a=h.load().then(function(b){if(a!==k)return;g=new b({captionsDisplay:null,onCaptionsLoaded:e,onReady:function(a){a.processQueue()}})})["catch"](function(b){if(a!==k)return;c("recoverableViolation")("Failed to load the VideoPlayerHTML5ApiCea608State module: "+b.message,"comet_video_player")});return a}b!=null?j=l(b):d===!0&&(k=m());return{destroy:function(){f&&(f.destroy(),f=null),g&&(g.destroy(),g=null),j&&(j=null),k&&(k=null)},getCaptionFormat:function(){return f?"webvtt":g?"cea608":null},handleCea608BytesReceived:function(a){g&&g.enqueueBytes(a)},handleTimeUpdate:function(a){if(f){var b;f.source&&f.source.handleTimeUpdate(a);return(b=(b=f)==null?void 0:b.getCurrentScreenRepresentation())!=null?b:null}else if(g){g.source&&g.source.handleTimeUpdate(a);return(a=(b=g)==null?void 0:b.getCurrentScreenRepresentation())!=null?a:null}return null},updateCaptionsUrl:function(a){f&&(f.destroy(),f=null),a!=null&&(j=l(a))},updateInbandCaptionsExpected:function(a){g&&(g.destroy(),g=null),a&&(k=m())}}}g.createCaptionsController=a}),98);
__d("CastingStateHooks",["CastingContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(d("CastingContext").CastingStateContext);return(a==null?void 0:a.receiverIsConnected)||!1}function i(){var a=s();return a==null?null:a.currentVideoID}function b(){var a=i();return a!=null}function c(){var a=s();return a==null?0:a.currentPosition||0}function e(){var a=s();return a==null?0:a.currentDuration||0}function f(){var a=s();if(a==null)return!1;a=a.currentPlaybackState;return a==="play"||a==="seeking"}function j(){var a=s();if(a==null)return!1;a=a.currentPlaybackState;return a==="paused"}function k(){var a=s();if(a==null)return!1;a=a.currentPlaybackState;return a==="ended"}function l(){var a=h(d("CastingContext").CastingStateContext);return a==null||!a.receiverIsConnected?!1:a.receiverIsMuted===!0}function m(){var a=h(d("CastingContext").CastingStateContext);return a==null||!a.receiverIsConnected?0:a.receiverVolume||0}function n(){var a=h(d("CastingContext").CastingStateContext);return a==null||!a.receiverIsConnected?null:a.receiverFriendlyName}function o(){var a=t();return a==null?!1:!0}function p(){var a=u();return a==null?!1:a.currentPlaybackState==="paused"}function q(){var a=u();return a==null?!1:a.currentPlaybackState==="play"}function r(){var a=u();return a==null?null:a.currentAssetID}function s(){var a=h(d("CastingContext").CastingStateContext),b=h(d("CastingContext").CastingExperienceStateContext);if(a==null||!a.receiverIsConnected)return null;return(b==null?void 0:b.type)!=="video_channel"?null:b}function t(){var a=h(d("CastingContext").CastingStateContext),b=h(d("CastingContext").CastingExperienceStateContext);if(a==null||!a.receiverIsConnected)return null;return(b==null?void 0:b.type)!=="photo"?null:b}function u(){var a=h(d("CastingContext").CastingStateContext),b=h(d("CastingContext").CastingExperienceStateContext);if(a==null||!a.receiverIsConnected)return null;return(b==null?void 0:b.type)!=="photo_album"?null:b}g.useIsCastingConnected=a;g.useCastingVideoID=i;g.useIsCastingAnyVideo=b;g.useCastingCurrentTime=c;g.useCastingDuration=e;g.useCastingIsPlaying=f;g.useCastingIsPaused=j;g.useCastingIsEnded=k;g.useCastingIsMuted=l;g.useCastingVolume=m;g.useCastingReceiverFriendlyName=n;g.useIsCastingPhotoExperience=o;g.useCastingIsAlbumPaused=p;g.useCastingIsAlbumPlaying=q;g.useCastingAlbumAssetID=r}),98);
__d("VideoPlayerControlsBottomRowAddOnContext",["react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");d=d("react");var i=d.useContext,j=d.useEffect,k=d.useState,l=h.createContext(null);function a(a){a=a.children;var b=c("useStable")(function(){var a=null,b=null,c=null;return{getBottomRowAddOn:function(){return b},initialize:function(d){c=function(a){b=a,d(a)};if(a==null)return;c(a);a=null},setBottomRowAddOn:function(b){if(c==null){a=b;return}c(b)}}});return h.jsx(l.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=i(l);a=k(a);var c=a[0],d=a[1];j(function(){if(b==null)return;b.initialize(d)},[b]);return c}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=i(l);j(function(){if(b==null)return;b.setBottomRowAddOn(a)},[a,b])}g.VideoPlayerControlsBottomRowAddOnContext=l;g.VideoPlayerControlsBottomRowAddOnContextProvider=a;g.useVideoPlayerControlsBottomRowAddOn=b;g.useSetVideoPlayerControlsBottomRowAddOn=e}),98);
__d("useSelectedLatencySetting",["useRelayClientStateWithLocalStorage"],(function(a,b,c,d,e,f,g){"use strict";var h="_video_LiveVideoLatencyMenuContextProvider_selected_latency_setting";function i(a){if(a==null)return null;switch(a){case"low":case"normal":return a;default:return null}}function a(a,b){b=d("useRelayClientStateWithLocalStorage").useRelayClientStateWithLocalStorage(a,h,"selected_latency_setting",(a=i(b))!=null?a:"normal");a=b[0];b=b[1];return[a,b]}g["default"]=a}),98);
__d("VideoPlayerEmsgForStateMachine",["deepEquals"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c;return[a.type,a.emsgScheme,(c=a.emsgId)!=null?c:""].concat(b?[(c=a.emsgStartTimeInSec)!=null?c:"",(b=a.emsgDurationInSec)!=null?b:""]:[]).join(":")}function i(a,b){a.set(h(b,!0),b);return a}function a(a,b){return b.reduce(i,new Map(a))}function b(a,b,d){a=b==null?[]:Array.from(a.values()).filter(function(a){var c=a.emsgStartTimeInSec;a=a.emsgDurationInSec||0;return c!=null&&b>=c&&b<c+a}).sort(function(a,b){return(a.emsgStartTimeInSec||0)-(b.emsgStartTimeInSec||0)});a=Array.from(a.reduce(function(a,b){a.set(h(b,!1),b);return a},new Map()).values());return c("deepEquals")(d,a)?d:a}g.makeEmsgBoxDedupKey=h;g.makeUpdatedAllEmsgBoxes=a;g.makeUpdatedActiveEmsgBoxes=b}),98);
__d("CometVideoPictureInPictureManagerContext",["gkx","react"],(function(a,b,c,d,e,f,g){"use strict";e=d("react").createContext;f=e({openPipPlayer:function(){},setController:function(){},setPipPortableVideoID:function(){}});d=e({hasNextChainedVideo:!1,isPipEnabled:!1,setHasNextChainedVideo:function(){},setSkippedFromPipPlayer:function(){},skippedFromPipPlayer:!1});function a(){return c("gkx")("3610")}function b(){return!1}g.CometVideoPictureInPictureManagerAPIContext=f;g.CometVideoPictureInPictureManagerContext=d;g.isInPictureInPictureExp=a;g.isInPictureInPictureExpControlGroup=b}),98);
__d("MediaPlaybackCompoundEventStateMachineLogger",["emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=.5;b=c("emptyFunction");d=c("emptyFunction");e=c("emptyFunction");function i(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,hasLoggedStartedPlaying:!1,hasPendingRequestedPlaying:!1,isLoggingScrubbingSequence:!1,lastLoggedCaptionState:null,lastLoggedFullscreenState:!1,lastLoggedSoundOnState:null,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1}}function a(a){var b={},d=a.initialLoggingMetaData;d;var e=[],f=i();function g(a){var b,c=a.eventType,g=a.snaplOverrides,h=a.state;a=a.tags;var i=null,j=null,k=(a==null?void 0:a.fullscreen)!=null?a==null?void 0:a.fullscreen:f.lastLoggedFullscreenState,l=(a==null?void 0:a.captions_displayed)!=null?a==null?void 0:a.captions_displayed:f.lastLoggedCaptionState,m=(a==null?void 0:a.player_sound_on)!=null?a==null?void 0:a.player_sound_on:f.lastLoggedSoundOnState;b=(b=d.coreVideoPlayerMetaData.videoFBID)!=null?b:"-1";var n=d.coreVideoPlayerMetaData.adClientToken==null?"organic":"paid";b={current_watching_module:"",media_id:b,player_origin:d.coreVideoPlayerMetaData.playerOriginOverride,player_suborigin:d.coreVideoPlayerMetaData.subOrigin,tracking_type:n};n="";(g==null?void 0:g.video_time_position)!=null?n=Math.round(g.video_time_position*1e3).toString():h.uncontrolledState.videoElementPlayheadPosition!=null&&(n=Math.round(h.uncontrolledState.videoElementPlayheadPosition*1e3).toString());g={client_time_ms:Date.now().toString(),event_name:c,media_time_ms:n,tag_metadata:{captions_displayed:a==null?void 0:a.captions_displayed,fullscreen:a==null?void 0:a.fullscreen,player_sound_on:a==null?void 0:a.player_sound_on}};h={client_high_res_packaging_time_ms:i,event:g,operational_metadata:j,required_metadata:b};e.push(h);f.lastLoggedSoundOnState=m;f.lastLoggedFullscreenState=k;f.lastLoggedCaptionState=l}function j(a){d;if(a.type==="notify_logging_metadata_change"){a=a.payload.loggingMetaData;d=a}}function k(a,c,d){if(a.controlledState.playbackState!==c.controlledState.playbackState&&c.controlledState.playbackState==="ended"&&f.canLogPausedOrFinishedPlaying){g({eventType:"completed",state:c});f.canLogPausedOrFinishedPlaying=!1;return b}else return b}function l(a,c){g({eventType:"requested_playing",snaplOverrides:c,state:a});f.hasPendingRequestedPlaying=!0;f.canLogPausedOrFinishedPlaying=!0;return b}function m(a){if(!f.canLogPausedOrFinishedPlaying)return b;else if(f.hasPendingRequestedPlaying){n(a);f.canLogPausedOrFinishedPlaying=!1;f.hasPendingRequestedPlaying=!1;return b}else{g({eventType:"paused",state:a});f.canLogPausedOrFinishedPlaying=!1;f.hasPendingRequestedPlaying=!1;return b}}function n(a){g({eventType:"cancelled",state:a});return b}function o(a,c,d){if(d.type==="dom_event_play_promise_rejected"&&f.hasPendingRequestedPlaying){a=d.payload.playPromiseRejectionReason;if(a!=null&&a.name==="NotAllowedError"){n(c);return b}else return b}else return b}function p(a,c,d){if((d.type==="controller_play_requested"||d.type==="dom_event_play"&&!f.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==c.controlledState.playbackState){l(c);return b}else return b}function q(a,c,d){var e=c.controlledState.playbackState,g=a.controlledState.playbackState;if(d.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){m(c);f.isLoggingScrubbingSequence=!0;return b}else if(!a.controlledState.seeking&&c.controlledState.seeking&&!f.isLoggingScrubbingSequence&&e!=="paused"&&e!=="ended"&&!f.hasPendingRequestedPlaying){m(c);f.shouldLogRequestedPlayingForScrub=!0;return b}else if(d.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){l(c,{video_time_position:d.payload.seekTargetPosition});return b}else if(a.controlledState.seeking&&!c.controlledState.seeking){d=c.uncontrolledState.videoElementPlayheadPosition;a=a.controlledState.implementationSeekSourcePosition;a!=null&&d!=null&&Math.abs(a-d)>h&&(f.shouldLogRequestedPlayingForScrub&&e!=="paused"&&e!=="ended"&&l(c),f.isLoggingScrubbingSequence=!1,f.shouldLogRequestedPlayingForScrub=!1,g!=="paused"&&g!=="ended"&&(f.canLogPlayingEvent=!0));return b}else return b}function r(a,c,d){if(a.controlledState.playbackState==="stalling"&&c.controlledState.playbackState==="playing"&&f.canLogPlayingEvent){g({eventType:f.hasLoggedStartedPlaying?"unpaused":"started_playing",state:c});f.hasLoggedStartedPlaying=!0;f.canLogPlayingEvent=!1;f.hasPendingRequestedPlaying=!1;return b}else return b}function s(a,c,d){if((d.type==="controller_pause_requested"||d.type==="dom_event_pause"&&!f.shouldIgnoreDomPause)&&a.controlledState.playbackState!==c.controlledState.playbackState){m(c);return b}else return b}function t(a,d,e){a=d.controlledState.playbackState;if(a!=="paused"&&a!=="ended"){c("gkx")("1469813")&&e.type==="implementation_video_node_unmounted"?m(d):(e.type==="implementation_unmounted"||e.type==="implementation_engine_destroy_requested")&&m(d);return b}else return b}function u(a,c,d){if(d.type!=="notify_fullscreen_changed")return b;a=f.lastLoggedFullscreenState;d=c.uncontrolledState.isFullscreen;if(a!==!0&&d===!0){x(c,!0);return b}else if(a===!0&&d===!1){x(c,!1);return b}else return b}function v(a,c,d){if(d.type!=="controller_muted_requested"&&d.type!=="controller_volume_requested")return b;a=c.controlledState.muted;d=c.controlledState.volume;a=!(a||d===0);d=f.lastLoggedSoundOnState;if(d!==!0&&a===!0){g({eventType:"tags_changed",state:c,tags:{player_sound_on:!0}});return b}else if(d!==!1&&a===!1){g({eventType:"tags_changed",state:c,tags:{player_sound_on:!1}});return b}else return b}function w(a,c,d){if(d.type!=="controller_set_captions_visible_requested")return b;a=f.lastLoggedCaptionState;d=c.controlledState.captionsVisible;if(a!==!0&&d===!0){g({eventType:"tags_changed",state:c,tags:{captions_displayed:!0}});return b}else if(a!==!1&&d===!1){g({eventType:"tags_changed",state:c,tags:{captions_displayed:!1}});return b}else return b}function x(a,b){g({eventType:"tags_changed",state:a,tags:{fullscreen:b}})}return{consumeLoggerEvents:function(){return e.length>0?e.splice(0):[]},handleStateMachine:function(a,b,c){j(c);var d=b.controlledState.playbackState,e=[u,o,p,q,r,k,s,v,t,w];e.forEach(function(d){d(a,b,c)});(d==="paused"||d==="ended")&&(f.canLogPlayingEvent=!0);c.type==="controller_pause_requested"&&(f.shouldIgnoreDomPause=!0);c.type==="controller_play_requested"&&(f.shouldIgnoreDomPlay=!0);c.type==="dom_event_pause"&&(f.shouldIgnoreDomPause=!1);c.type==="dom_event_play"&&(f.shouldIgnoreDomPlay=!1)}}}g.createMediaPlaybackCompoundEventStateMachineLogger=a}),98);
__d("VideoPlayerBanzaiLogFlusher",["VideoPlayerWwwLogger","emptyFunction","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=c("emptyFunction");b=function(){function a(a){this.$1=a}var b=a.prototype;b.flushLogs=function(){var a=this.$1.consumeLoggerEvents();a.forEach(function(a){var b={event:a.eventType,logData:a.logData,routeTracePolicy:a.routeTracePolicy,source:a.source_VPL_LOGGING_HACK};if(a.source_VPL_LOGGING_HACK==="animated_image_share")return;b=(b=a.logData)==null?void 0:b.ad_client_token;b!=null?c("VideoPlayerWwwLogger").logCometImmediately(a):c("VideoPlayerWwwLogger").logComet(a)})};b.discardLogsWithoutFlushing=function(){var a=this.$1.consumeLoggerEvents()};return a}();g["default"]=b}),98);
__d("VideoPlayerImplementationReactVideoElement.react",["gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.alt,d=a.implementationExposedState,e=a.poster,f=a.seoWebCrawlerVideoTracks,g=a.src,i=a.videoElementCallbacks,j=a.videoElementPreloadDisabled,k=a.videoElementRefCallback;a=a.videoPixelsFit;var l=d.hasPlayEverBeenRequested;d=d.isExternalMedia;l=d&&!l?null:g;g=d&&c("gkx")("2449")?babelHelpers["extends"]({crossOrigin:"anonymous"},i):babelHelpers["extends"]({},i);return h.jsx("video",babelHelpers["extends"]({"aria-label":(d=b)!=null?d:void 0,className:"x1lliihq x5yr21d xh8yej3",controls:!1,muted:!0,playsInline:!0,preload:j===!0?"none":void 0},g,{poster:e,ref:k,src:l,style:a?{objectFit:a.objectFit}:void 0,children:f}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerImplementationErrorNormalization",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.getType();switch(b){case"OZ_NETWORK":b=(b=(b=a.getExtra())==null?void 0:b.code)!=null?b:"0";b=parseInt(b,10);return b<100||b>599?"NetworkError":"HTTPError";case"OZ_SOURCE_BUFFER_QUOTA_EXCEEDED":a=(b=a.getExtra())==null?void 0:b.mimeType;if(a!=null&&a.indexOf("video")>-1)return"VideoDecodeError";else if(a!=null&&a.indexOf("audio")>-1)return"AudioDecodeError";else return"GenericDecodeError"}return null}function b(a){switch(a){case"MEDIA_ERR_NETWORK":return"NetworkError";case"MEDIA_ERR_ABORTED":case"MEDIA_ERR_DECODE":case"MEDIA_ERR_SRC_NOT_SUPPORTED":case"MEDIA_ERR_UNKNOWN":return"GenericDecodeError";case"OZ_REPRESENTATION_PARSER":case"OZ_XML_PARSER":return"ManifestParseError";case"BUFFERING_TIMEOUT":case"OZ_DRM_MANAGER":case"OZ_INITIALIZATION":case"OZ_JAVASCRIPT_NATIVE":case"OZ_SOURCE_BUFFER":case"OZ_STREAM_APPEND_QUOTA_EXCEEDED_HANDLER_ERROR":case"OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR":return"RuntimeError"}return null}f.getVideoPlayerNormalizedErrorTypeFromOzError=a;f.getErrorTypeFromErrorName=b}),66);
__d("VideoPlayerImplementationErrors",["NetworkStatus","VideoPlayerImplementationErrorNormalization","getErrorMessageFromMediaErrorCode","getErrorNameFromMediaErrorCode","gkx","oz-player/utils/OzError"],(function(a,b,c,d,e,f,g){"use strict";var h={BUFFERING_TIMEOUT_INPLAY:"30000",BUFFERING_TIMEOUT_INPLAY_NO_NETWORK:"30001",BUFFERING_TIMEOUT_LIVEREWIND_INPLAY:"30010",BUFFERING_TIMEOUT_LIVEREWIND_INPLAY_NO_NETWORK:"30011",BUFFERING_TIMEOUT_LIVEREWIND_START:"30012",BUFFERING_TIMEOUT_LIVEREWIND_START_NO_NETWORK:"30013",BUFFERING_TIMEOUT_START:"30002",BUFFERING_TIMEOUT_START_NO_NETWORK:"30003"};function a(a){var b=a.errorLocation,d=a.hostCallError,e=a.videoElementError,f=a.videoElementNetworkState;a=a.videoElementReadyState;var g=e==null?void 0:e.code,h=d!=null&&typeof d.message==="string"?d.message:null;h==null&&(h=e==null?void 0:e.message);h==null&&g!=null&&(h=c("getErrorMessageFromMediaErrorCode")(g));return{createdTimestamp:Date.now(),errorDescription:((e=h)!=null?e:"Empty error")+("; code: "+((h=g)!=null?h:"undefined"))+("; readyState: "+a)+("; networkState: "+f),errorLocation:b,errorName:c("getErrorNameFromMediaErrorCode")(g),originalError:d}}function b(a,b){return a==null?{createdTimestamp:Date.now(),errorDescription:"Empty rejection reason from video play()",errorLocation:b,errorName:"PlayRejectedError"}:{createdTimestamp:Date.now(),errorCode:typeof a.code==="string"?a.code:typeof a.code==="number"?String(a.code):void 0,errorDescription:typeof a.message==="string"?a.message:String(a),errorLocation:b,errorName:typeof a.name==="string"?a.name:"PlayRejectedError"}}function e(a,b,d,e,f){var g,i=function(){if(f)if(e==="in_play"&&c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_LIVEREWIND_INPLAY;else if(e==="in_play"&&!c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_LIVEREWIND_INPLAY_NO_NETWORK;else if(e==="start/unpause"&&c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_LIVEREWIND_START;else if(e==="start/unpause"&&!c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_LIVEREWIND_START_NO_NETWORK;else return 0;else if(e==="in_play"&&c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_INPLAY;else if(e==="in_play"&&!c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_INPLAY_NO_NETWORK;else if(e==="start/unpause"&&c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_START;else if(e==="start/unpause"&&!c("NetworkStatus").isOnline())return h.BUFFERING_TIMEOUT_START_NO_NETWORK;else return 0}();g={message:String((g=b==null?void 0:b.message)!=null?g:""),name:String((g=b==null?void 0:b.name)!=null?g:"UnknownError"),stack:String((b==null?void 0:b.stack)||new Error().stack)};return{createdTimestamp:Date.now(),errorCode:String(i),errorDescription:g.name+" "+g.message,errorLocation:d,errorName:a,stack:g.stack,url:null}}function i(a,b,d,e){var f;e===void 0&&(e=null);f={message:String((f=b==null?void 0:b.message)!=null?f:""),name:String((f=b==null?void 0:b.name)!=null?f:"UnknownError"),stack:String((b==null?void 0:b.stack)||new Error().stack)};return{createdTimestamp:Date.now(),errorCode:null,errorDescription:f.name+" "+f.message,errorLocation:d,errorName:a,stack:f.stack,url:e!=null&&c("gkx")("1526990")?e:null}}function f(a,b){if(a instanceof c("oz-player/utils/OzError")){var e=a,f=e.getExtra();return{createdTimestamp:Date.now(),errorCode:f.code,errorDescription:e.getDescription(),errorLocation:b,errorName:e.getType(),errorType:d("VideoPlayerImplementationErrorNormalization").getVideoPlayerNormalizedErrorTypeFromOzError(e),stack:e.stack,url:f.url}}else return i("OZ_JAVASCRIPT_NATIVE",a,b)}function j(a,b){a=a.message;var c="The video node set its error property to a MediaError",d=a.split(": ");d.length>1&&(a=d.shift(),c=d.join(": "));return{createdTimestamp:Date.now(),errorDescription:c,errorLocation:b,errorName:a,errorType:"GenericDecodeError"}}g.createVideoPlayerErrorFromHTMLVideoElementError=a;g.createVideoPlayerErrorFromVideoElementPlayPromiseRejectionReason=b;g.createVideoPlayerBufferingErrorFromGenericError=e;g.createVideoPlayerErrorFromGenericError=i;g.createVideoPlayerErrorFromOzImplementationError=f;g.createVideoPlayerErrorFromVideoNodeError=j}),98);
__d("VideoPlayerODS",["ODS","Random"],(function(a,b,c,d,e,f,g){"use strict";a=function(a,b,c){d("Random").coinflip(c)&&d("ODS").bumpEntityKey(2079,a,b,c)};g.bumpEntityKey=a}),98);
__d("VideoPlayerImplementationStateMachine",["VideoPlayerEmsgForStateMachine","VideoPlayerImplementationErrors","VideoPlayerODS","gkx","recoverableViolation","shallowEqual","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.bufferingDetected,c=a.seeking;a=a.waitingForDomPlaying;return!b&&!c&&!a}function i(a){var b=a.bufferingDetected,d=a.prevPlaybackState,e=a.seeking;a=a.waitingForDomPlaying;b=h({bufferingDetected:b,seeking:e,waitingForDomPlaying:a});e=d;switch(d){case"stalling":e=b?"playing":"stalling";break;case"ended":case"paused":case"playing":break;default:d;c("recoverableViolation")("unexpected playbackState: "+d,"comet_video_player");break}return e}function j(a){return a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1}function k(a,b,e){switch(e.type){case"host_call_pause":case"host_call_play":case"host_call_set_current_time":case"host_call_set_volume":case"host_call_set_muted":case"host_call_set_playback_rate":case"host_call_set_video_quality":case"host_call_set_latency_level":return babelHelpers["extends"]({},a,{hostCallQueue:a.hostCallQueue.concat([e])});case"controller_set_latency_level_requested":case"implementation_set_latency_level_requested":return babelHelpers["extends"]({},a,{latencyLevel:e.payload.latencyLevel,ullIneligibilityReason:e.payload.ullIneligibilityReason});case"controller_override_player_format":return babelHelpers["extends"]({},a,{overriddenPlayerFormat:a.playerFormat,playerFormat:e.payload.playerFormat});case"controller_set_player_format":return babelHelpers["extends"]({},a,{playerFormat:e.payload.playerFormat});case"dom_event_ended":return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});case"dom_event_pause":if(a.playbackState==="ended")return a;if(b.videoElementEnded===!0)return babelHelpers["extends"]({},a,{playbackState:"ended",waitingForDomPlaying:!1});return a.playbackState==="paused"?a:babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play":var f=a.playbackState,g=f;switch(f){case"playing":case"stalling":case"ended":case"paused":g="stalling";break;default:f;c("recoverableViolation")("unexpected playbackState: "+f,"comet_video_player");break}f=!0;return babelHelpers["extends"]({},a,{playbackState:g,waitingForDomPlaying:f});case"dom_event_playing":g=a.bufferingDetected;f=a.seeking;var h=!1,k=a.playbackState;return babelHelpers["extends"]({},a,{playbackState:i({bufferingDetected:g,prevPlaybackState:k,seeking:f,waitingForDomPlaying:h}),waitingForDomPlaying:h});case"dom_event_timeupdate":g=d("VideoPlayerEmsgForStateMachine").makeUpdatedActiveEmsgBoxes(a.allEmsgBoxes,b.videoElementPlayheadPosition,a.activeEmsgBoxes);if(a.waitingForDomTimeUpdateAfterSeeked){k=a.bufferingDetected;f=a.seeking;h=!1;var l=a.playbackState;return babelHelpers["extends"]({},a,{activeEmsgBoxes:g,playbackState:i({bufferingDetected:k,prevPlaybackState:l,seeking:f,waitingForDomPlaying:h}),waitingForDomPlaying:h,waitingForDomTimeUpdateAfterSeeked:!1})}return babelHelpers["extends"]({},a,{activeEmsgBoxes:g});case"dom_event_seeking":k=a.playbackState;l=k;switch(k){case"paused":case"ended":break;case"stalling":case"playing":l="stalling";break;default:k,c("recoverableViolation")("unexpected playbackState: "+k,"comet_video_player")}return babelHelpers["extends"]({},a,{playbackState:l,seeking:!0,waitingForDomPlaying:!0});case"dom_event_seeked":f=a.bufferingDetected;h=a.waitingForDomPlaying;g=!1;k=a.playbackState;return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:null,playbackState:i({bufferingDetected:f,prevPlaybackState:k,seeking:g,waitingForDomPlaying:h}),seeking:g,waitingForDomTimeUpdateAfterSeeked:!0});case"dom_event_error":e.payload.videoElementError==null&&d("VideoPlayerODS").bumpEntityKey("comet_video_player","dom_event_error.error_is_nullish",14);return babelHelpers["extends"]({},a,{playbackState:"paused",waitingForDomPlaying:!1});case"dom_event_play_promise_created":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:e.payload.hostCallPlayID});case"dom_event_play_promise_resolved":return a.hostCallPlayIDLast!==e.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"dom_event_play_promise_rejected":return a.hostCallPlayIDLast!==e.payload.hostCallPlayID?a:babelHelpers["extends"]({},a,{hostCallPlayIDLast:null,playbackState:a.playbackState==="stalling"?"paused":a.playbackState,waitingForDomPlaying:!1});case"implementation_host_call_queue_flushed":return babelHelpers["extends"]({},a,{hostCallQueue:[]});case"implementation_host_call_failed":l=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromHTMLVideoElementError({errorLocation:e.payload.errorLocation,hostCallError:e.payload.hostCallError,videoElementError:e.payload.videoElementError,videoElementNetworkState:e.payload.videoElementNetworkState,videoElementReadyState:e.payload.videoElementReadyState});return babelHelpers["extends"]({},a,{error:l,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_mounted":return babelHelpers["extends"]({},a,{mountState:"mounted_onscreen"});case"implementation_unmounted":return babelHelpers["extends"]({},a,{mountState:"unmounted"});case"implementation_onscreen":return babelHelpers["extends"]({},a,{mountState:"mounted_onscreen"});case"implementation_offscreen":return babelHelpers["extends"]({},a,{mountState:"mounted_offscreen"});case"implementation_video_node_unmounted":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"implementation_engine_initialized":k=(f=e.payload.streamingFormat)!=null?f:a.streamingFormat;return babelHelpers["extends"]({},a,{availableAudioTracks:e.payload.availableAudioTracks,availableQualities:e.payload.availableQualities,selectedAudioTrackID:e.payload.selectedAudioTrackID,selectedVideoQuality:e.payload.selectedVideoQuality,streamingFormat:k,targetVideoQuality:e.payload.targetVideoQuality,videoProjection:e.payload.videoProjection});case"implementation_engine_representation_blocked":return babelHelpers["extends"]({},a,{availableQualities:e.payload.availableQualities});case"implementation_engine_destroyed":return babelHelpers["extends"]({},a,{hostCallPlayIDLast:null});case"implementation_fatal_error":return babelHelpers["extends"]({},a,{error:e.payload.fatalError,hostCallPlayIDLast:null,playbackState:"paused",waitingForDomPlaying:!1});case"implementation_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:e.payload.seekSourcePosition});case"representation_changed":return babelHelpers["extends"]({},a,{targetVideoQuality:e.payload.targetVideoQuality});case"controller_pause_requested":return a.playbackState==="ended"?a:babelHelpers["extends"]({},a,{lastPausedTimeMs:Date.now(),lastPauseReason:e.payload.reason,lastPlayedTimeMs:0,playbackState:"paused",waitingForDomPlaying:!1,watchTimeMs:a.lastPlayedTimeMs>0?a.watchTimeMs+(Date.now()-a.lastPlayedTimeMs):a.watchTimeMs});case"controller_play_requested":return a.playbackState!=="paused"&&a.playbackState!=="ended"?a:babelHelpers["extends"]({},a,{hasPlayEverBeenRequested:!0,lastPlayedTimeMs:a.lastPlayedTimeMs===0?Date.now():a.lastPlayedTimeMs,lastPlayReason:e.payload.reason,loopCurrent:j(a)?e.payload.reason==="loop_initiated"?a.loopCurrent+1:a.loopCurrent:0,playbackState:"stalling",waitingForDomPlaying:!0});case"controller_seek_requested":return babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(h=b.videoElementPlayheadPosition)!=null?h:a.implementationSeekSourcePosition,seeking:!0,seekTargetPosition:e.payload.seekTargetPosition});case"controller_audio_track_requested":return babelHelpers["extends"]({},a,{selectedAudioTrackID:e.payload.selectedAudioTrackID});case"controller_quality_requested":return babelHelpers["extends"]({},a,{selectedVideoQuality:e.payload.selectedVideoQuality});case"controller_set_caption_display_style_requested":return babelHelpers["extends"]({},a,{captionDisplayStyle:e.payload.captionDisplayStyle});case"controller_set_picture_in_picture_state_requested":return babelHelpers["extends"]({},a,{isDesktopPictureInPicture:e.payload.isInPictureInPictureMode});case"controller_set_caption_format_requested":return babelHelpers["extends"]({},a,{captionFormat:e.payload.captionFormat});case"controller_set_playback_rate":return babelHelpers["extends"]({},a,{targetPlaybackRate:e.payload.playbackRate});case"controller_muted_requested":return babelHelpers["extends"]({},a,{lastMuteReason:e.payload.reason,muted:e.payload.muted});case"controller_volume_requested":return babelHelpers["extends"]({},a,{volume:e.payload.volume});case"controller_scrub_begin_requested":return a.scrubbing?a:babelHelpers["extends"]({},a,{scrubbing:!0,seekTargetPosition:null});case"controller_scrub_end_requested":return!a.scrubbing?a:babelHelpers["extends"]({},a,{implementationSeekSourcePosition:(g=b.videoElementPlayheadPosition)!=null?g:a.implementationSeekSourcePosition,scrubbing:!1,seeking:e.payload.seekTargetPosition!=null,seekTargetPosition:e.payload.seekTargetPosition});case"buffering_begin_requested":l=a.playbackState;f=l;switch(l){case"paused":case"ended":break;case"playing":case"stalling":f="stalling";break;default:l;c("recoverableViolation")("unexpected playbackState: "+l,"comet_video_player");break}k=e.payload.bufferingType;return babelHelpers["extends"]({},a,{bufferingDetected:!0,lastBufferingType:k,playbackState:f});case"buffering_end_requested":h=a.seeking;g=a.waitingForDomPlaying;l=!1;k=a.playbackState;return babelHelpers["extends"]({},a,{bufferingDetected:l,playbackState:i({bufferingDetected:l,prevPlaybackState:k,seeking:h,waitingForDomPlaying:g})});case"controller_set_captions_visible_requested":f=e.payload.captionsVisible;return a.captionsVisible===f?a:babelHelpers["extends"]({},a,{activeCaptions:f?a.activeCaptions:null,captionsLocale:f?a.captionsLocale:null,captionsVisible:f});case"controller_set_active_captions_requested":l=e.payload.activeCaptions;h=(k=l==null?void 0:l.rows)!=null?k:[];g=e.payload.captionsLocale;f=a.activeCaptions;var m=(k=f==null?void 0:f.rows)!=null?k:[];return m.length===h.length&&h.every(function(a,b){return m[b]===a})?a:babelHelpers["extends"]({},a,{activeCaptions:l,captionsLocale:g});case"captions_loaded":return babelHelpers["extends"]({},a,{activeCaptions:a.activeCaptions,captionsLoaded:!0});case"captions_unloaded":return babelHelpers["extends"]({},a,{activeCaptions:null,captionsLoaded:!1,captionsLocale:null});case"inband_captions_autogenerated_changed":f=e.payload.inbandCaptionsAutogenerated;return a.inbandCaptionsAutogenerated===f?a:babelHelpers["extends"]({},a,{inbandCaptionsAutogenerated:f});case"stream_ended":return babelHelpers["extends"]({},a,{streamEnded:!0});case"stream_gone_before_start":return babelHelpers["extends"]({},a,{playbackState:"ended",streamEnded:!0,waitingForDomPlaying:!1});case"stream_interrupted":return babelHelpers["extends"]({},a,{streamInterrupted:!0});case"stream_resumed":return babelHelpers["extends"]({},a,{streamInterrupted:!1});case"seekable_ranges_changed":k=e.payload.seekableRanges;return babelHelpers["extends"]({},a,{seekableRanges:k});case"controller_set_is_live_rewind_active_requested":h=e.payload.isLiveRewindActive;return babelHelpers["extends"]({},a,{isLiveRewindActive:h});case"loop_count_change_requested":l=e.payload.loopCount;return l===a.loopCount?a:babelHelpers["extends"]({},a,{loopCount:l,loopCurrent:0});case"player_dimensions_changed":g=e.payload.dimensions;f=g.height;k=g.width;return k===a.dimensions.width&&f===a.dimensions.height?a:babelHelpers["extends"]({},a,{dimensions:{height:f,width:k}});case"emsg_boxes_parsed":h=d("VideoPlayerEmsgForStateMachine").makeUpdatedAllEmsgBoxes(a.allEmsgBoxes,e.payload.emsgBoxes);l=d("VideoPlayerEmsgForStateMachine").makeUpdatedActiveEmsgBoxes(h,b.videoElementPlayheadPosition,a.activeEmsgBoxes);return babelHelpers["extends"]({},a,{activeEmsgBoxes:l,allEmsgBoxes:h});case"register_emsg_observer":g=new Set(a.emsgObserverTokens);g.add(e.payload.token);return babelHelpers["extends"]({},a,{emsgObserverTokens:g});case"unregister_emsg_observer":f=new Set(a.emsgObserverTokens);f["delete"](e.payload.token);return babelHelpers["extends"]({},a,{emsgObserverTokens:f});default:return a}}function l(a,b,d){var e=b.type!=="dom_seeking";e=e?d:a.uncontrolledState;d=!c("shallowEqual")(e,a.uncontrolledState);b=k(a.controlledState,e,b);var f=!c("shallowEqual")(b,a.controlledState);return d||f?babelHelpers["extends"]({},a,{controlledState:f?b:a.controlledState,uncontrolledState:d?e:a.uncontrolledState}):a}var m,n;function o(a){var b=a.collectUncontrolledState,d=a.debugLogId;d=a.initialState;var e=a.onDispatched,f=a.onFatalError,g=d,h=g,i=0,j=!1,k=!1,m=!0,n=!0;return{dispatch:function(a){if(!n)return;var d=null,g=null;try{++i;if(i>=10)if(!j){j=!0;throw c("unrecoverableViolation")("Video player state machine loop detected","comet_video_player")}else return;var o=h.uncontrolledState;if(m)try{o=b()}catch(a){m=!1,g=a}var p=h;o=l(p,a,o);h=o;e(p,o,a)}catch(a){n=!1,d=a}finally{if(!k&&(d!=null||g!=null)){k=!0;try{f((p=d)!=null?p:g)}catch(a){}}--i}},getCurrentState:function(){return h},getInitialState:function(){return g}}}var p,q;function a(a){var b=a.collectUncontrolledState,c=a.debugLogId,d=a.initialState,e=a.onFatalError,f=a.stateTransitionHandlers;function g(a,b,c){try{var d=!0,e=0;while(d&&e<f.length){var g=f[e];d=g(a,b,c);++e}}finally{}}return o({collectUncontrolledState:b,debugLogId:c,initialState:d,onDispatched:g,onFatalError:e})}function b(a,b){function c(){}function d(a){return a}function e(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c)}}function f(c){return function(e){var f=d(e.currentTarget);b(f,["reactEvent("+e.type+")"]);a.dispatch(c(e,f))}}return{onAbort:c,onCanPlay:c,onCanPlayThrough:c,onDurationChange:e({type:"dom_event_durationchange"}),onEmptied:c,onEncrypted:c,onEnded:e({type:"dom_event_ended"}),onError:f(function(a,b){return{payload:{videoElementError:b.error,videoElementNetworkState:b.networkState,videoElementReadyState:b.readyState},type:"dom_event_error"}}),onLoadedData:c,onLoadedMetadata:c,onLoadStart:c,onPause:e({type:"dom_event_pause"}),onPlay:e({type:"dom_event_play"}),onPlaying:f(function(a){return{payload:{domEventPerfTimestamp:a.timeStamp},type:"dom_event_playing"}}),onProgress:e({type:"dom_event_progress"}),onRateChange:e({type:"dom_event_ratechange"}),onSeeked:e({type:"dom_event_seeked"}),onSeeking:e({type:"dom_event_seeking"}),onStalled:c,onSuspend:c,onTimeUpdate:e({type:"dom_event_timeupdate"}),onVolumeChange:e({type:"dom_event_volumechange"}),onWaiting:e({type:"dom_event_waiting"})}}g.createVideoPlayerImplementationStateMachine=o;g.createVideoPlayerImplementationStateMachineWithStateTransitionHandlers=a;g.createReactVideoElementCallbacksForStateMachine=b}),98);
__d("VideoPlayerImplementationStateMachineHostCallQueue",["cometUniqueID","emptyFunction","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";b=c("emptyFunction");function h(){return"id-vpdom-"+c("cometUniqueID")()}function i(a){var b=a.engineExtrasAPI,d=a.hostCall,e=a.machine;a=a.videoElementAPI;switch(d.type){case"host_call_play":var f=a.play();f&&(e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_created"}),c("promiseDone")(f.then(function(){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID},type:"dom_event_play_promise_resolved"})},function(a){e.dispatch({payload:{hostCallPlayID:d.payload.hostCallID,playPromiseRejectionReason:a},type:"dom_event_play_promise_rejected"})})));break;case"host_call_pause":a.pause();break;case"host_call_set_playback_rate":a.setPlaybackRate(d.payload.playbackRate);break;case"host_call_set_muted":a.setMuted(d.payload.muted);break;case"host_call_set_volume":a.setVolume(d.payload.volume);break;case"host_call_set_current_time":a.setPlayheadPosition(d.payload.currentTime);break;case"host_call_set_audio_track":b.setUserSelectedAudioTrackID(d.payload.selectedAudioTrackID);break;case"host_call_set_video_quality":b.setUserSelectedVideoQuality(d.payload.selectedVideoQuality);break;case"host_call_set_latency_level":b.setLatencyLevel(d.payload.latencyLevel);break;case"host_call_picture_in_picture":a.requestPictureInPicture();break;case"host_call_exit_picture_in_picture":a.exitPictureInPicture();break;default:d.type;return!1}return!0}function j(a){var b=a.engineExtrasAPI,c=a.hostCall,d=a.machine;a=a.videoElementAPI;if(!a||!b)d.dispatch(c);else{var e=!1;try{e=i({engineExtrasAPI:b,hostCall:c,machine:d,videoElementAPI:a})}catch(b){d.dispatch({payload:{errorLocation:"apply_host_call_catch",hostCall:c,hostCallError:b,videoElementError:a.getError(),videoElementNetworkState:a.getNetworkState(),videoElementReadyState:a.getReadyState()},type:"implementation_host_call_failed"})}e&&d.dispatch({payload:{hostCall:c},type:"implementation_host_call_applied"})}}function k(a){var b=[];function c(){b=b.filter(function(a){return a.type!=="host_call_play"&&a.type!=="host_call_pause"})}function d(a){b=b.filter(function(b){return b.type!==a})}a.forEach(function(a){switch(a.type){case"host_call_play":c();break;case"host_call_pause":c();break;case"host_call_set_playback_rate":d(a.type);break;case"host_call_set_muted":d(a.type);break;case"host_call_set_volume":d(a.type);break;case"host_call_set_current_time":d(a.type);break;case"host_call_set_audio_track":d(a.type);break;case"host_call_set_video_quality":d(a.type);break;case"host_call_set_latency_level":d(a.type);break;case"host_call_picture_in_picture":d(a.type);break;case"host_call_exit_picture_in_picture":d(a.type);break;default:a.type}b=b.concat([a])});return b}function a(a){var b=a.engineExtrasAPI,c=a.machine,d=a.reason,e=a.state,f=a.videoElementAPI;a=[{payload:{hostCallID:h(),reason:d,volume:e.controlledState.volume},type:"host_call_set_volume"},{payload:{hostCallID:h(),muted:e.controlledState.muted,reason:d},type:"host_call_set_muted"},{payload:{hostCallID:h(),reason:d,selectedVideoQuality:e.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"},{payload:{hostCallID:h(),reason:d,selectedAudioTrackID:e.controlledState.selectedAudioTrackID},type:"host_call_set_audio_track"}];d=k(e.controlledState.hostCallQueue.concat(a));d.forEach(function(a){j({engineExtrasAPI:b,hostCall:a,machine:c,videoElementAPI:f})});c.dispatch({payload:{hostCallsFlushed:d},type:"implementation_host_call_queue_flushed"})}g.makeHostCallID=h;g.applyOrQueueHostCall=j;g.flushHostCallQueue=a}),98);
__d("VideoPlayerMutedStateChange",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.currMuted,c=a.currVolume,d=a.prevMuted;a=a.prevVolume;b=b||c===0;c=d||a===0;if(c===b)return null;return b?"muted":"unmuted"}f.getVideoPlayerMutedStateChange=a}),66);
__d("VideoPlayerImplementationStateMachineLogger",["CometProductAttribution","NetworkStatus","PlaybackSpeedExperiments","SiteData","VideoMimeTypes","VideoPlayerConnectionQuality","VideoPlayerImplementationErrorNormalization","VideoPlayerLoggerPlayerStates","VideoPlayerMutedStateChange","VideoPlayerStateBasedLoggingEvents","emptyFunction","getPlayerFormatForLogData","getVideoBrowserTabId","gkx","mapObject","performanceAbsoluteNow","qex","recoverableViolation","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4,i=.5,j=(b=c("qex")._("1675"))!=null?b:0,k=1e3,l=null,m=function(a){var b;l=(b=l)!=null?b:document.createElement("video");return!("canPlayType"in l)?"":l.canPlayType(a)};e=c("emptyFunction");f=c("emptyFunction");b=c("emptyFunction");e=c("emptyFunction");var n=(f=d("PlaybackSpeedExperiments").enablePlaybackSpeedLogging())!=null?f:!1;function o(){return{canLogPausedOrFinishedPlaying:!1,canLogPlayingEvent:!0,debugSubscribers:[],dontLogPauseOnUnpausedSeeking:!1,errorRecoveryAttemptState:{currentRecoverableError:null,eventsLogged:0,repeatCount:0},hasLoggedStallData:!1,hasLoggedStartedPlaying:!1,hasPausedOnce:!1,hasPendingRequestedPlaying:!1,initialSuborigin:void 0,inPlayStallCount200ms:0,interruptCount:0,interruptDuration:0,interruptEndTimestamp:0,interruptStartTimestamp:0,isLoggingScrubbingSequence:!1,lastLoggedError:null,lastLoggedFullscreenState:!1,lastLoggedPlaybackSpeed:null,lastLoggedViewabilityPercentage:void 0,lastStartTimePosition:null,lastTrackedRepresentation:null,nextHeartbeatTime:null,nextPlayedThreeSecondsPlayheadPosition:null,sequenceNumber:0,shouldIgnoreDomPause:!1,shouldIgnoreDomPlay:!1,shouldLogRequestedPlayingForScrub:!1,stallCount:0,stallCount200ms:0,stallCountTotal:0,stallDuration:0,stallDurationTotal:0,stallStartTimestamp:0,startStallCountTotal:0,startStallDurationTotal:0,vplEventSequenceNumber:0}}function p(a,b){return b==="muted"||b==="unmuted"||b==="started_playing"||b==="caption_change"||b==="unpaused"?a.controlledState.captionsVisible?"on":"off":void 0}function a(a){var b=new Map(),e=a.initialLoggingMetaData,f=e,g=[],l=o(),q=new Set(c("VideoPlayerStateBasedLoggingEvents").StateBasedLoggingEventNames);function r(a){l.debugSubscribers.push(a);return function(){c("removeFromArray")(l.debugSubscribers,a)}}function s(a){l.debugSubscribers.forEach(function(b){return b(a)})}function t(a){var b=l.stallStartTimestamp;if(b>0){l.stallCount+=1;l.stallCountTotal+=1;l.hasPendingRequestedPlaying&&(l.startStallCountTotal+=1);a=a-b;b=a>200;l.stallDurationTotal+=a;l.stallDuration+=a;l.stallCount200ms+=b?1:0;l.inPlayStallCount200ms+=b&&!l.hasPendingRequestedPlaying?1:0;l.hasPendingRequestedPlaying&&(l.startStallDurationTotal+=a)}}function u(a,b){a=a.uncontrolledState.videoElementPlayheadPosition==null?null:a.uncontrolledState.videoElementPlayheadPosition;var c=null;switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"heart_beat":case"playback_speed_changed":case"representation_ended":c=l.lastStartTimePosition;break;case"scrubbed":c=a;break;default:break}switch(b){case"paused":case"cancelled_requested_playing":case"finished_playing":case"scrubbed":l.lastStartTimePosition=null;break;case"started_playing":case"unpaused":case"heart_beat":case"playback_speed_changed":case"representation_ended":l.lastStartTimePosition=a;break;default:break}return{video_last_start_time_position:c}}function v(a,b){var c=b.uncontrolledState.clockTimestamp;a=a.controlledState.streamInterrupted;b=b.controlledState.streamInterrupted;!a&&b?l.interruptStartTimestamp=c:a&&!b&&l.interruptStartTimestamp>0&&(l.interruptEndTimestamp=c,l.interruptCount+=1,l.interruptDuration+=l.interruptEndTimestamp-l.interruptStartTimestamp)}function w(a,b,c){var d=b.uncontrolledState.clockTimestamp;a=a.controlledState.playbackState;var e=b.controlledState.playbackState;a!=="stalling"&&e==="stalling"&&(s("stall_start"),l.stallStartTimestamp=d);if(a==="stalling"&&e!=="stalling"){d=0;(c.type==="dom_event_playing"||c.type==="buffering_end_requested")&&c.payload.domEventPerfTimestamp!=null&&(d=Math.max(b.uncontrolledState.perfTimestamp-c.payload.domEventPerfTimestamp,0));t(b.uncontrolledState.clockTimestamp-d);l.stallStartTimestamp=0;s("stall_end")}}function x(a,b,c){a=b.uncontrolledState;b=a.videoElementPlayheadPosition;switch(c){case"unpaused":case"started_playing":l.nextPlayedThreeSecondsPlayheadPosition=((a=b)!=null?a:0)+3;break;case"paused":case"finished_playing":l.nextPlayedThreeSecondsPlayheadPosition=null;break;default:break}}function y(a,b,c){if(l.interruptCount>0&&l.interruptDuration>0){a={interrupt_count:l.interruptCount,interrupt_time:l.interruptDuration};l.interruptCount=0;l.interruptDuration=0;l.interruptStartTimestamp=0;l.interruptEndTimestamp=0;return a}return{interrupt_count:null,interrupt_time:null}}function z(a,b,c){var d={stall_count:null,stall_count_200_ms:null,stall_time:null},e=b.uncontrolledState.clockTimestamp,f=function(){var a={stall_count:l.stallCount,stall_count_200_ms:l.stallCount200ms,stall_time:l.stallDuration};l.stallCount=0;l.stallCount200ms=0;l.stallDuration=0;l.stallStartTimestamp=0;return a};a=a.controlledState.playbackState;var g=b.controlledState.playbackState;a!=="stalling"&&g==="stalling"&&(l.stallStartTimestamp=e);switch(c){case"started_playing":case"unpaused":case"finished_playing":case"paused":case"cancelled_requested_playing":case"playback_speed_changed":case"representation_ended":t(b.uncontrolledState.clockTimestamp);d=f();break;case"heart_beat":b.controlledState.playbackState!=="stalling"&&(t(b.uncontrolledState.clockTimestamp),d=f());break;default:break}return d}function A(a,b,c){a=b.controlledState.playbackState==="paused"&&a.controlledState.playbackState==="stalling";return c>0&&(b.controlledState.playbackState==="stalling"||a)}function B(a,b){a=a.current;var c=null;switch(b){case"finished_playing":case"paused":case"heart_beat":a&&(c=a.getAndFlushTracedFrames());return c!=null?JSON.stringify(c):null;default:return null}}function C(a){a=a.controlledState.playbackState;switch(a){case"playing":case"stalling":return"playing";case"paused":return"paused";case"ended":return"finished";default:a;return"unknown"}}function D(a){switch(a){case"normal":return"normal";case"low":return"low";case"ultra-low":return"ultra_low";default:return null}}function E(){return{state:l.hasLoggedStartedPlaying?c("VideoPlayerLoggerPlayerStates").UNPAUSED:c("VideoPlayerLoggerPlayerStates").STARTED}}function F(a){if(c("gkx")("2714")&&(a==null?void 0:a.v2)&&(a==null?void 0:a.v2.length)>0){var b=a==null?void 0:a.v2;b=b[b.length-1];return[b["class"],b.module].map(d("CometProductAttribution").filterEntryValue).join(":")}return(a=a==null?void 0:(b=a.v2)==null?void 0:b.map(function(a){return[a["class"],a.module].map(d("CometProductAttribution").filterEntryValue).join(":")}).join(";"))!=null?a:""}function G(f){var h,i=f.eventType,j=f.logDataOverrides,k=f.prevState,m=f.state;f=u(m,i);f=f.video_last_start_time_position;var o=z(k,m,i),r=o.stall_count,s=o.stall_count_200_ms;o=o.stall_time;var t=y(k,m,i),v=t.interrupt_count;t=t.interrupt_time;var w=B(a.videoLiveTraceRef,i),E=[],G=a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplayGatingResult;G&&E.push(G);G=i==="entered_fs"?!0:i==="exited_fs"?!1:l.lastLoggedFullscreenState;h=c("getPlayerFormatForLogData")({isDesktopPictureInPicture:(h=m.controlledState.isDesktopPictureInPicture)!=null?h:!1,isFullscreen:G},e.coreVideoPlayerMetaData.playerFormat);var H=m.uncontrolledState.viewabilityPercentage,I=Boolean(m.uncontrolledState.isFBIsLiveTemplated),J=Boolean(m.uncontrolledState.isFBWasLive),K=m.uncontrolledState.videoElementPlaybackRate;K=K==null||K===0?l.lastLoggedPlaybackSpeed:K;var L=a.initialLoggingMetaData.productAttribution;if(h==="watch_scroll"&&L&&L.v2){var M,N={0:babelHelpers["extends"]({},L["0"]),v2:[babelHelpers["extends"]({},L.v2[0])]};M=(M=e.productAttribution)==null?void 0:(M=M.v2)==null?void 0:M[0];if(M){var O=N.v2[0];O["class"]=M["class"];O.scope_id=M.scope_id;O.ts=M.ts}L=N}O=null;M=null;O=L!=null?d("CometProductAttribution").minifyProductAttributionV2(L):null;M=L!=null?F(L):null;N=A(k,m,(N=o)!=null?N:0);M={access_token:a.initialLoggingMetaData.accessToken,ad_client_token:e.coreVideoPlayerMetaData.adClientToken,attribution_id:L!=null&&Object.prototype.hasOwnProperty.call(L,"0")?JSON.stringify({0:L["0"]}):null,attribution_id_v2:O,attribution_id_v2_root:M,audio_only:e.coreVideoPlayerMetaData.audioOnly,audio_representation_id:m.uncontrolledState.audioRepresentationID,autoplay_eligible:a.initialLoggingMetaData.coreVideoPlayerMetaData.canAutoplay==="allow",autoplay_failure_reasons:JSON.stringify(E),autoplay_setting:a.initialLoggingMetaData.coreVideoPlayerMetaData.autoplaySetting,available_qualities:m.controlledState.availableQualities.length,broadcaster_origin:a.initialLoggingMetaData.coreVideoPlayerMetaData.broadcasterOrigin,browser_tab_id:c("getVideoBrowserTabId")(),caption_state:p(m,i),client_latency_setting:D(m.controlledState.latencyLevel),current_playback_speed:n?K:null,current_viewability_percentage:H,dash_perf_logging_enabled:e.coreVideoPlayerMetaData.VideoPlayerShakaPerformanceLoggerClass!=null&&e.coreVideoPlayerMetaData.VideoPlayerShakaPerformanceLoggerClass.isEnabled(),data_connection_quality:d("VideoPlayerConnectionQuality").evaluate(function(){return m.uncontrolledState.estimatedBandwidth}),dropped_frame_count:m.uncontrolledState.videoElementDroppedFrameCount,external_log_id:e.coreVideoPlayerMetaData.externalLogID,external_log_type:e.coreVideoPlayerMetaData.externalLogType,fb_manifest_identifier:m.uncontrolledState.manifestIdentifier,frame_events:w,interrupt_count:v,interrupt_time:t,is_abr_enabled:m.isAbrEnabled,is_fbms:m.uncontrolledState.isFBMS,is_live_video_rewound:m.controlledState.isLiveRewindActive,is_pip:m.controlledState.isDesktopPictureInPicture,is_predictive_playback:m.uncontrolledState.isPredictiveDash,is_sound_on:!m.controlledState.muted,is_stalling:N,is_templated_manifest:I||J,last_viewability_percentage:l.lastLoggedViewabilityPercentage,mpd_validation_errors:m.uncontrolledState.mpdValidationErrors,network_connected:m.uncontrolledState.networkConnected,playback_caption_format:m.controlledState.captionFormat,playback_caption_locale:m.controlledState.captionsLocale,playback_duration:m.uncontrolledState.videoElementDuration,playback_is_broadcast:a.initialLoggingMetaData.coreVideoPlayerMetaData.isVideoBroadcast,playback_is_drm:Boolean(a.initialLoggingMetaData.coreVideoPlayerMetaData.graphQLVideoDRMInfo),playback_is_live_streaming:a.initialLoggingMetaData.coreVideoPlayerMetaData.isLiveStreaming,player_format:h,player_instance_key:e.instanceKey,player_origin:e.coreVideoPlayerMetaData.playerOriginOverride,player_state:C(m),player_suborigin:e.coreVideoPlayerMetaData.subOrigin,player_version:m.playerVersion,representation_id:m.uncontrolledState.videoRepresentationID,source_VPL_LOGGING_HACK:e.coreVideoPlayerMetaData.source_VPL_LOGGING_HACK,stall_count:r,stall_count_200_ms:s,stall_time:o,streaming_format:m.controlledState.streamingFormat,total_frame_count:m.uncontrolledState.videoElementTotalFrameCount,tracking_data_encrypted:a.initialLoggingMetaData.trackingDataEncrypted,tracking_nodes:a.initialLoggingMetaData.trackingNodes,v2_heart_beat:c("gkx")("1434599")&&i==="heart_beat"?!0:null,video_bandwidth:m.uncontrolledState.estimatedBandwidth,video_buffer_end_position:m.uncontrolledState.videoElementLastBufferEndPosition,video_id:e.coreVideoPlayerMetaData.videoFBID,video_last_start_time_position:f,video_play_reason:m.controlledState.lastPlayReason,video_player_height:(L=e.dimensions)==null?void 0:L.height,video_player_width:(O=e.dimensions)==null?void 0:O.width,video_time_position:m.uncontrolledState.videoElementPlayheadPosition,web_client_revision:c("SiteData").client_revision};E=c("gkx")("1286")&&i==="error_recovery_attempt"?null:q.has(i)?++l.sequenceNumber:null;w={event_seq_num:++l.vplEventSequenceNumber,seq_num:E,time_ms:Date.now(),vpts:c("performanceAbsoluteNow")()};var P={};b.forEach(function(a,b){P[b]=a});v=e.coreVideoPlayerMetaData.additionalLogData;t=babelHelpers["extends"]({},v,P);N=babelHelpers["extends"]({},t,M,j,w);J=(I=l.initialSuborigin)!=null?I:e.coreVideoPlayerMetaData.subOrigin;r=(h=N.source_VPL_LOGGING_HACK)!=null?h:J;o=(s=e.coreVideoPlayerMetaData.initialTracePolicy)!=null?s:e.coreVideoPlayerMetaData.routeTracePolicy;f={eventType:i,logData:N,routeTracePolicy:o,source_VPL_LOGGING_HACK:r};g.push(f);x(k,m,i);l.initialSuborigin==null&&J!=null&&(l.initialSuborigin=J);l.lastLoggedFullscreenState=G;l.lastLoggedPlaybackSpeed=K;i==="viewability_changed"&&(l.lastLoggedViewabilityPercentage=H)}var H={};function I(a,b,c){G({eventType:"requested_playing",logDataOverrides:babelHelpers["extends"]({},c,E()),prevState:a,state:b});l.hasPendingRequestedPlaying=!0;l.canLogPausedOrFinishedPlaying=!0;return H}function J(a,b,c){if(!l.canLogPausedOrFinishedPlaying)return H;else if(l.hasPendingRequestedPlaying){K(a,b,c);l.canLogPausedOrFinishedPlaying=!1;l.hasPendingRequestedPlaying=!1;return H}else{G({eventType:"paused",logDataOverrides:babelHelpers["extends"]({},c,{error_user_info:JSON.stringify({is_document_hidden:b.uncontrolledState.isDocumentHidden})}),prevState:a,state:b});l.canLogPausedOrFinishedPlaying=!1;l.hasPendingRequestedPlaying=!1;return H}}function K(a,b,c){var d=b.uncontrolledState.liveTraceContext;c=babelHelpers["extends"]({},c,E(),{live_trace_source_id:d?d.sourceId:void 0,live_trace_stream_id:d?d.streamId:void 0,live_trace_stream_type:d?d.streamType:void 0});G({eventType:"cancelled_requested_playing",logDataOverrides:c,prevState:a,state:b});return H}function L(a,b,c){if(c.type==="dom_event_play_promise_rejected"&&c.payload.hostCallPlayID===a.controlledState.hostCallPlayIDLast&&b.controlledState.hostCallPlayIDLast==null&&l.hasPendingRequestedPlaying){c=c.payload.playPromiseRejectionReason;if(c!=null&&c.name==="NotAllowedError"){K(a,b,{debug_reason:"not_allowed"});return H}else if(c!=null&&c.name==="AbortError"){K(a,b,{debug_reason:"aborted"});return H}else return H}else return H}function M(a,b,c){if((c.type==="controller_play_requested"||c.type==="dom_event_play"&&!l.shouldIgnoreDomPlay)&&a.controlledState.playbackState!==b.controlledState.playbackState){c=b.uncontrolledState.liveTraceContext;c=c?{live_trace_source_id:c.sourceId,live_trace_stream_id:c.streamId,live_trace_stream_type:c.streamType}:null;I(a,b,c);return H}else return H}function N(a,b,c){if(a.controlledState.playbackState==="stalling"&&b.controlledState.playbackState==="playing"&&l.canLogPlayingEvent){c=b.uncontrolledState.liveTraceContext;c=c?{live_trace_source_id:c.sourceId,live_trace_stream_id:c.streamId,live_trace_stream_type:c.streamType}:null;G({eventType:l.hasLoggedStartedPlaying?"unpaused":"started_playing",logDataOverrides:c,prevState:a,state:b});l.hasLoggedStartedPlaying=!0;l.canLogPlayingEvent=!1;l.hasPendingRequestedPlaying=!1;return H}else return H}function O(a,b,d){var e=b.controlledState.playbackState,f=a.controlledState.playbackState;if(d.type==="controller_scrub_begin_requested"&&!a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){J(a,b);l.isLoggingScrubbingSequence=!0;return H}else if(!a.controlledState.seeking&&b.controlledState.seeking&&!l.isLoggingScrubbingSequence&&e!=="paused"&&e!=="ended"&&!l.hasPendingRequestedPlaying){J(a,b);l.shouldLogRequestedPlayingForScrub=!0;return H}else if(d.type==="controller_scrub_end_requested"&&a.controlledState.scrubbing&&e!=="paused"&&e!=="ended"){I(a,b,{video_time_position:d.payload.seekTargetPosition});return H}else if(a.controlledState.seeking&&!b.controlledState.seeking){d=b.uncontrolledState.videoElementPlayheadPosition;var g=a.controlledState.implementationSeekSourcePosition;(!c("gkx")("1482680")||g!=null&&d!=null&&Math.abs(g-d)>i)&&(l.shouldLogRequestedPlayingForScrub&&e!=="paused"&&e!=="ended"&&I(a,b),G({eventType:"scrubbed",prevState:a,state:b}),l.isLoggingScrubbingSequence=!1,l.shouldLogRequestedPlayingForScrub=!1,f!=="paused"&&f!=="ended"&&(l.canLogPlayingEvent=!0));return H}else return H}function P(a,b,c){if(a.controlledState.playbackState!==b.controlledState.playbackState&&b.controlledState.playbackState==="ended"&&l.canLogPausedOrFinishedPlaying){G({eventType:"finished_playing",prevState:a,state:b});l.canLogPausedOrFinishedPlaying=!1;return H}else return H}function Q(a,b,c){if((c.type==="controller_pause_requested"||c.type==="dom_event_pause"&&!l.shouldIgnoreDomPause)&&a.controlledState.playbackState!==b.controlledState.playbackState){J(a,b,{debug_reason:"paused"});return H}else return H}function R(a,b,d){var e=b.controlledState.playbackState;if(e!=="paused"&&e!=="ended"){c("gkx")("1469813")&&d.type==="implementation_video_node_unmounted"?J(a,a,{debug_reason:"unloaded"}):(d.type==="implementation_unmounted"||d.type==="implementation_engine_destroy_requested")&&J(a,b,{debug_reason:"unloaded"});return H}else return H}function S(a,b,c){if(c.type==="implementation_engine_representation_blocked"){c=c.payload.blockedRepresentationID;G({eventType:"video_playback_fallback",logDataOverrides:{representation_id:c},prevState:a,state:b})}return H}function T(a,b,e){e=b.controlledState.muted;var f=b.controlledState.volume,g=a.controlledState.muted,h=a.controlledState.volume;e=d("VideoPlayerMutedStateChange").getVideoPlayerMutedStateChange({currMuted:e,currVolume:f,prevMuted:g,prevVolume:h});g={current_volume:Math.round(f*100)};switch(e){case"muted":G({eventType:"muted",logDataOverrides:g,prevState:a,state:b});return H;case"unmuted":G({eventType:"unmuted",logDataOverrides:g,prevState:a,state:b});return H;case null:if(h<f){G({eventType:"volume_increase",logDataOverrides:g,prevState:a,state:b});return H}else if(h>f){G({eventType:"volume_decrease",logDataOverrides:g,prevState:a,state:b});return H}else return H;default:e;c("recoverableViolation")('Unexpected mutedStateChange "'+e+'"',"comet_video_player");return H}}function U(a,b,c){c=b.uncontrolledState.videoRepresentationID;var d=l.lastTrackedRepresentation,e=b.controlledState.playbackState,f=b.controlledState.seeking;if(!f&&e!=="paused"&&e!=="ended"&&d!=null&&d!==c){G({eventType:"representation_ended",logDataOverrides:{next_representation_id:c,representation_id:d},prevState:a,state:b});l.lastTrackedRepresentation=c;s("quality_change");return H}else if(d==null&&d!==c){l.lastTrackedRepresentation=c;return H}else return H}function V(a,b){var d=a.controlledState.error;return{currentVideo:{audioStreamId:a.uncontrolledState.audioRepresentationID,dashAudioFormat:void 0,hasHD:void 0,hasRateLimit:void 0,hasSubtitles:a.controlledState.captionsLoaded,isDrm:Boolean(e.coreVideoPlayerMetaData.graphQLVideoDRMInfo),isHD:void 0,isLiveStream:e.coreVideoPlayerMetaData.isLiveStreaming,isRateLimited:void 0,liveManifestUrl:void 0,projection:void 0,resourceUrl:void 0,streamId:a.uncontrolledState.videoRepresentationID,streamType:a.controlledState.streamingFormat,tagHD:void 0,tagSD:void 0,videoID:e.coreVideoPlayerMetaData.videoFBID},player:{canPlayType:c("mapObject")(c("VideoMimeTypes"),m),dimensions:e.dimensions?{height:e.dimensions.height,width:e.dimensions.width}:null,droppedFrames:a.uncontrolledState.videoElementDroppedFrameCount,initializationTime:void 0,initializationTimestamp:void 0,inPlayStallCount:void 0,inPlayStallTime:void 0,interruptCount:void 0,interruptTime:void 0,lastError:d,loggedError:l.lastLoggedError,stack:d==null?void 0:d.stack,stallCount:l.stallCount,stallTime:l.stallDuration,state:C(a),totalFrames:a.uncontrolledState.videoElementTotalFrameCount,version:a.playerVersion,videoSource:void 0,viewabilityPercentage:a.uncontrolledState.viewabilityPercentage},playerStateMachine:{action:b,state:a}}}function W(a,b,c){var e=b.controlledState.error;if(e!=null&&e!==l.lastLoggedError&&e.errorCode!=="410"){var f=e.errorDescription,g=e.errorName,h=e.errorType,i=e.url,j=e.errorCode==null||e.errorCode===""?g:e.errorCode;c=V(b,c);G({eventType:"error",logDataOverrides:babelHelpers["extends"]({},E(),{error:g,error_code:j,error_description:f,error_domain:g,error_type:(j=h)!=null?j:d("VideoPlayerImplementationErrorNormalization").getErrorTypeFromErrorName(g),error_user_info:JSON.stringify(c),resource_url:i}),prevState:a,state:b});l.lastLoggedError=e}return H}function X(a,b){var c=l.errorRecoveryAttemptState.currentRecoverableError;if(c!=null){var d=c.errorCode,e=c.errorDescription,f=c.errorName,g=c.errorType;c=c.url;l.errorRecoveryAttemptState.eventsLogged++;l.errorRecoveryAttemptState.repeatCount=0;G({eventType:"error_recovery_attempt",logDataOverrides:{error:f,error_code:d,error_description:e,error_domain:f,error_type:g,resource_url:c},prevState:a,state:b})}return H}function Y(a,b,d){if(d.type==="error_recovery_attempt"&&l.errorRecoveryAttemptState.eventsLogged<k){var e=l.errorRecoveryAttemptState.currentRecoverableError;d=d.payload.recoverableError;if(c("gkx")("1541")&&d!=null&&d.errorName==="OZ_NETWORK"&&!c("NetworkStatus").isOnline())return H;l.errorRecoveryAttemptState.currentRecoverableError=d;e==null||e.errorName!==d.errorName||e.errorCode!==d.errorCode?X(a,b):(l.errorRecoveryAttemptState.repeatCount++,l.errorRecoveryAttemptState.repeatCount>j&&X(a,b))}return H}function Z(a,b,c){if(!n)return H;var d=b.uncontrolledState.videoElementPlaybackRate;c.type==="dom_event_ratechange"&&l.lastLoggedPlaybackSpeed!=null&&d!==0&&d!==l.lastLoggedPlaybackSpeed&&G({eventType:"playback_speed_changed",prevState:a,state:b});return H}function aa(a,b,c){c=b.controlledState.playbackState;c==="paused"||c==="ended"?l.nextHeartbeatTime=null:c!=="stalling"&&l.nextHeartbeatTime==null&&(l.nextHeartbeatTime=Date.now()+h);var d=l.nextHeartbeatTime;if(d!=null){var e=Date.now();e>=d&&(c!=="stalling"&&G({eventType:"heart_beat",prevState:a,state:b}),l.nextHeartbeatTime=e+h)}return H}function ba(a,b,c){if(c.type==="implementation_mounted"){G({eventType:"player_loaded",prevState:a,state:b});return H}else return H}function $(a,b,c){G({eventType:c?"entered_fs":"exited_fs",prevState:a,state:b})}function ca(a,b,c){var d=e.coreVideoPlayerMetaData.playerFormat;(f.coreVideoPlayerMetaData.playerFormat!==d||c.type==="controller_override_player_format")&&G({eventType:"player_format_changed",prevState:a,state:b});return H}function da(a,b,c){if(c.type==="dom_event_timeupdate"){c=l.nextPlayedThreeSecondsPlayheadPosition;if(c!=null){var d=b.uncontrolledState;d=d.videoElementPlayheadPosition;d!=null&&c<=d&&(G({eventType:"played_for_three_seconds",prevState:a,state:b}),l.nextPlayedThreeSecondsPlayheadPosition=null)}}return H}function ea(a,b,c){if(c.type!=="notify_fullscreen_changed")return H;c=l.lastLoggedFullscreenState;var d=b.uncontrolledState.isFullscreen;if(c!==!0&&d===!0){$(a,b,d);return H}else if(c===!0&&d===!1){$(a,b,d);return H}else return H}function fa(a,b,d){d=e.coreVideoPlayerMetaData.adClientToken;if((d==null||d==="")&&c("gkx")("1401747"))return H;d=b.controlledState.playbackState;var f=l.lastLoggedViewabilityPercentage,g=b.uncontrolledState.viewabilityPercentage;if(d!=="paused"&&d!=="ended"&&f!=null&&f!==g){G({eventType:"viewability_changed",prevState:a,state:b});return H}else return H}function ga(a,b,c){if(c.type==="controller_set_captions_visible_requested"){G({eventType:"caption_change",prevState:a,state:b});return H}else return H}function ha(a){f=e;if(a.type==="notify_logging_metadata_change"){a=a.payload.loggingMetaData;e=a}}return{addDebugSubscriber:function(a){return r(a)},consumeLoggerEvents:function(){var a=g.splice(0);return a},getLoggerState:function(){return l},handleStateMachine:function(a,b,c){ha(c);var d=b.controlledState.playbackState;w(a,b,c);v(a,b);var e=[ca,ea,fa,L,M,O,N,P,Q,S,T,R,ba,ga,U,W,Y,aa,Z,da];e.forEach(function(d){d(a,b,c)});(d==="paused"||d==="ended")&&(l.canLogPlayingEvent=!0);c.type==="controller_pause_requested"&&(l.hasPausedOnce=!0,l.shouldIgnoreDomPause=!0);c.type==="controller_play_requested"&&(l.hasPausedOnce=!0,l.shouldIgnoreDomPlay=!0);c.type==="dom_event_pause"&&(l.shouldIgnoreDomPause=!1);c.type==="dom_event_play"&&(l.shouldIgnoreDomPlay=!1,l.lastLoggedViewabilityPercentage=b.uncontrolledState.viewabilityPercentage)},logVPLEvent:function(a){var b=a.eventType,c=a.logDataOverrides;a=a.state;G({eventType:b,logDataOverrides:c,prevState:a,state:a})},setAdditionalLogData:function(a,c){b.set(a,c)}}}g.HEARTBEAT_INTERVAL=h;g.createVideoPlayerImplementationStateMachineLogger=a}),98);
__d("convertToViewabilityPercentage",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a>=.99)return 100;else if(a>=.75)return 75;else if(a>=.5)return 50;else if(a>=.25)return 25;else if(a>=0)return 0;else return-2}f["default"]=a}),66);
__d("VideoPlayerImplementationStateMachineStateUncontrolledState",["NetworkStatus","convertToViewabilityPercentage","gkx","performance"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.engineExtrasAPI,d=a.fullscreenControllerRef,e=a.videoElementAPI,f=a.videoLiveTraceRef;a=a.videoPlayerPassiveViewabilityInfoRef;f=f.current;var g=Date.now(),h=typeof c("performance").now==="function"?c("performance").now():0;if(e==null){var i;return{audioRepresentationID:void 0,clockTimestamp:g,currentPlayingAudioTrackID:void 0,currentPlayingVideoQuality:void 0,estimatedBandwidth:void 0,isDocumentHidden:document.hidden,isDRM:void 0,isFBIsLiveTemplated:void 0,isFBMS:void 0,isFBWasLive:void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,isPredictiveDash:void 0,liveTraceContext:f?(i=f.getLiveTraceContext())!=null?i:void 0:void 0,manifestIdentifier:void 0,mpdValidationErrors:void 0,networkConnected:void 0,perfTimestamp:h,videoElementDebugCurrentSrc:void 0,videoElementDebugSrc:void 0,videoElementDroppedFrameCount:void 0,videoElementDuration:void 0,videoElementEnded:void 0,videoElementError:void 0,videoElementLastBufferEndPosition:void 0,videoElementMuted:void 0,videoElementNetworkState:void 0,videoElementPaused:void 0,videoElementPlaybackRate:void 0,videoElementPlayheadPosition:void 0,videoElementReadyState:void 0,videoElementTotalFrameCount:void 0,videoElementVolume:void 0,videoRepresentationID:void 0,viewabilityPercentage:void 0}}i=e.getPlayheadPosition();a=a&&a.current;a=a&&a.getCurrent();return{audioRepresentationID:b?b.getAudioRepresentationIDAtTime(i):void 0,clockTimestamp:g,currentPlayingAudioTrackID:b?b.getCurrentPlayingAudioTrackID():void 0,currentPlayingVideoQuality:b?b.getCurrentPlayingVideoQuality():void 0,estimatedBandwidth:b?b.getEstimatedBandwidth():void 0,isDocumentHidden:document.hidden,isDRM:b?b.isDrm():void 0,isFBIsLiveTemplated:b?b.isFBIsLiveTemplated():void 0,isFBMS:b?b.isFBMS():void 0,isFBWasLive:b?b.isFBWasLive():void 0,isFullscreen:d.current?d.current.getIsFullscreen():void 0,isPredictiveDash:b?b.isPredictiveDash():void 0,liveTraceContext:f?(g=f.getLiveTraceContext())!=null?g:void 0:void 0,manifestIdentifier:b?b.getManifestIdentifier():void 0,mpdValidationErrors:b?b.getMpdValidationErrors():void 0,networkConnected:c("NetworkStatus").isOnline(),perfTimestamp:h,videoElementDebugCurrentSrc:c("gkx")("1526990")?(d=e.getUnderlyingVideoElement())==null?void 0:d.currentSrc:void 0,videoElementDebugSrc:c("gkx")("1526990")?(f=e.getUnderlyingVideoElement())==null?void 0:f.src:void 0,videoElementDroppedFrameCount:e.getDroppedFrameCount(),videoElementDuration:e.getDuration(),videoElementEnded:e.getEnded(),videoElementError:e.getError(),videoElementLastBufferEndPosition:e.getLastBufferEndPosition(),videoElementMuted:e.getMuted(),videoElementNetworkState:e.getNetworkState(),videoElementPaused:e.getPaused(),videoElementPlaybackRate:e.getPlaybackRate(),videoElementPlayheadPosition:i,videoElementReadyState:e.getReadyState(),videoElementTotalFrameCount:e.getTotalFrameCount(),videoElementVolume:e.getVolume(),videoRepresentationID:b?b.getVideoRepresentationIDAtTime(i):void 0,viewabilityPercentage:a?c("convertToViewabilityPercentage")(a.visiblePercentage):void 0}}g.createVideoPlayerImplementationStateMachineStateUncontrolledState=a}),98);
__d("VideoPlayerImplementationStateMachineState",["VideoPlayerImplementationStateMachineStateUncontrolledState"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.alwaysShowCaptions,c=a.areCaptionsAutogenerated,e=a.captionDisplayStyle,f=a.dimensions,g=a.isAbrEnabled,h=a.playerImplementationName,i=a.playerVersion;a=a.streamingFormat;var j=!0,k=1,l=d("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:null,fullscreenControllerRef:{current:null},videoElementAPI:null,videoLiveTraceRef:{current:null},videoPlayerPassiveViewabilityInfoRef:{current:null}});return{controlledState:{activeCaptions:null,activeEmsgBoxes:[],allEmsgBoxes:new Map(),availableAudioTracks:[],availableQualities:[],bufferingDetected:!1,captionDisplayStyle:e,captionFormat:null,captionsLoaded:!1,captionsLocale:null,captionsVisible:b,dimensions:f,emsgObserverTokens:new Set(),error:null,hasPlayEverBeenRequested:!1,hostCallPlayIDLast:null,hostCallQueue:[],implementationSeekSourcePosition:null,inbandCaptionsAutogenerated:c,isDesktopPictureInPicture:!1,isLiveRewindActive:!1,lastBufferingType:null,lastMuteReason:null,lastPausedTimeMs:0,lastPauseReason:null,lastPlayedTimeMs:0,lastPlayReason:null,latencyLevel:"normal",loopCount:0,loopCurrent:0,mountState:"before_mounted",muted:j,overriddenPlayerFormat:"unknown",playbackState:"paused",playerFormat:"unknown",scrubbing:!1,seekableRanges:null,seeking:!1,seekTargetPosition:null,selectedAudioTrackID:null,selectedVideoQuality:"notselected",streamEnded:!1,streamingFormat:a,streamInterrupted:!1,targetPlaybackRate:1,targetVideoQuality:"",ullIneligibilityReason:null,videoProjection:null,volume:k,waitingForDomPlaying:!1,waitingForDomTimeUpdateAfterSeeked:!1,watchTimeMs:0},isAbrEnabled:g,playerImplementationName:h,playerVersion:i,uncontrolledState:l}}g.createVideoPlayerImplementationStateMachineInitialState=a}),98);
__d("VideoPlayerImplementationEngineAPI",["CometEventListener","CometVideoPictureInPictureManagerContext","CurrentUser","ErrorMetadata","FBLogger","MediaPlaybackCompoundEventStateMachineLogger","PlaybackSpeedExperiments","RunComet","SubscriptionsHandler","VideoLiveTrace","VideoPlayerBanzaiLogFlusher","VideoPlayerCaptionsController","VideoPlayerImplementationReactVideoElement.react","VideoPlayerImplementationStateMachine","VideoPlayerImplementationStateMachineHostCallQueue","VideoPlayerImplementationStateMachineLogger","VideoPlayerImplementationStateMachineState","VideoPlayerImplementationStateMachineStateUncontrolledState","VideoPlayerVideoPixelsFitContext","clearTimeout","cr:4081","cr:4596","cr:506","cr:683059","deepEquals","err","gkx","justknobx","qex","react","recoverableViolation","removeFromArray","setTimeout","unrecoverableViolation","useConcurrentAutoplayManagementAPI","useSEOLoggedOutWebCrawler","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");f=d("react");var i=f.useEffect,j=f.useRef,k=f.useState,l=function(){function a(a){var b=a.pauseRequestCallbacks,c=a.playRequestCallbacks,d=a.scrubBeginRequestCallbacks;a=a.scrubEndRequestCallbacks;this.$1=c;this.$2=b;this.$3=d;this.$4=a}var b=a.prototype;b.playRequest=function(a){var b=this;this.$1.push(a);return function(){c("removeFromArray")(b.$1,a)}};b.pauseRequest=function(a){var b=this;this.$2.push(a);return function(){c("removeFromArray")(b.$2,a)}};b.scrubBeginRequest=function(a){var b=this;this.$3.push(a);return function(){c("removeFromArray")(b.$3,a)}};b.scrubEndRequest=function(a){var b=this;this.$4.push(a);return function(){c("removeFromArray")(b.$4,a)}};return a}();function m(a){var b=a.concurrentAutoplayManagementAPI,d=a.debugAPI,e=a.exitPictureInPictureImpl,f=a.fullscreenControllerRef,g=a.getCurrentExposedState,h=a.getCurrentIsDesktopPictureInPicture,i=a.getCurrentIsFullscreen,j=a.getCurrentLiveRewindPlayheadPosition,k=a.getCurrentPlayheadPosition,m=a.internal_getCurrentStateMachineState,n=a.loggerAPI,o=a.overridePlayerFormatImpl,p=a.pauseImpl,q=a.playImpl,r=a.registerEmsgObserverImpl,s=a.requestPictureInPictureImpl,t=a.scrubBeginImpl,u=a.scrubEndImpl,v=a.seekImpl,w=a.selectAudioTrackIDImpl,x=a.selectVideoQualityImpl,y=a.setCaptionsDisplayStyleImpl,z=a.setCaptionsUrlImpl,A=a.setCaptionsVisibleImpl,B=a.setIsLiveRewindActiveImpl,C=a.setLatencyLevelImpl,D=a.setMutedImpl,E=a.setPictureInPictureStateImpl,F=a.setPlaybackRateImpl,G=a.setVolumeImpl,H=a.subscribers,I=a.unregisterEmsgObserverImpl,J=a.videoElementAPIRef,K=new Set(),L=!1,M=null,N=[],O=[],P=[],Q=[],R=new l({pauseRequestCallbacks:O,playRequestCallbacks:N,scrubBeginRequestCallbacks:P,scrubEndRequestCallbacks:Q}),S={freeze:function(){if(!g().paused)throw c("unrecoverableViolation")("Video player must be paused before the controller freeze","comet_video_player");var a={};try{var b=!1;K.size===0&&(b=!0,M={exposedState:g(),isFullscreen:i(),liveRewindPlayheadPosition:j(),playheadPosition:k(),stateMachineState:m()});K.add(a);b&&(L=!0,H.forEach(function(a){a()}))}finally{L=!1}return a},isFrozen:function(){return M!=null},unfreeze:function(a){if(!K.has(a))throw c("unrecoverableViolation")("Video player controller unfreeze token not found","comet_video_player");K["delete"](a);K.size===0&&(M=null,H.forEach(function(a){a()}))}},T=babelHelpers["extends"]({},b,S,n,{debugAPI:d,exitPictureInPicture:function(){if(S.isFrozen())return;e()},getCurrentState:function(){return M!=null?M.exposedState:g()},getIsDesktopPictureInPicture:function(){return M!=null?M.isFullscreen:h()},getIsFullscreen:function(){return M!=null?M.isFullscreen:i()},getLiveRewindPlayheadPosition:function(){return M!=null?M.liveRewindPlayheadPosition:j()},getPlayheadPosition:function(){return M!=null?M.playheadPosition:k()},internal_getStateMachineState:function(){return M!=null?M.stateMachineState:m()},internal_getVideoElement:function(){var a=J.current;if(a!=null){a=a.getUnderlyingVideoElement();return a}return null},internal_getVideoPixelsDimensions:function(){var a=J.current;return(a=a==null?void 0:a.getVideoPixelsDimensions())!=null?a:null},observeOn:function(){return R},overridePlayerFormat:function(a){if(S.isFrozen())return;o(a)},pause:function(a){if(S.isFrozen())return;O.forEach(function(b){return b(a)});p(a)},play:function(a){if(S.isFrozen())return;N.forEach(function(b){return b(a)});q(a)},registerEmsgObserver:function(){var a={};r(a);return a},requestPictureInPicture:function(){if(S.isFrozen())return;s()},requestSetIsFullscreen:function(a){if(S.isFrozen())return;var b=f.current;if(b){var c=T.internal_getVideoElement();b.requestSetIsFullscreen(a,c)}},scrollIntoView:function(a){var b=T.internal_getVideoElement();b&&b.scrollIntoView(a)},scrubBegin:function(){if(S.isFrozen())return;P.forEach(function(a){return a()});t()},scrubEnd:function(a){if(S.isFrozen())return;Q.forEach(function(b){return b(a)});u(a)},seek:function(a){if(S.isFrozen())return;v(a)},selectAudioTrackID:function(a){if(S.isFrozen())return;w(a)},selectVideoQuality:function(a){if(S.isFrozen())return;x(a)},setCaptionsDisplayStyle:function(a){if(S.isFrozen())return;y(a)},setCaptionsUrl:function(a){if(S.isFrozen())return;z(a)},setCaptionsVisible:function(a){if(S.isFrozen())return;A(a)},setIsLiveRewindActive:function(a){if(S.isFrozen())return;B(a)},setLatencyLevel:function(a){if(S.isFrozen())return;C(a)},setMuted:function(a,b){if(S.isFrozen())return;D(a,b)},setPictureInPictureState:function(a){if(S.isFrozen())return;E(a)},setPlaybackRate:function(a){if(S.isFrozen())return;F(a)},setVolume:function(a){if(S.isFrozen())return;G(a)},subscribe:function(a){var b=function(){if(S.isFrozen()&&!L)return;a()},d=f.current,e=d?d.subscribe(b):null;H.push(b);return{remove:function(){e&&e.remove(),c("removeFromArray")(H,b)}}},unregisterEmsgObserver:function(a){I(a)},videoElementAPIRef:J});return T}function n(a){var b=a.concurrentAutoplayManagementAPI,d=a.createExposedState,e=a.debugAPI,f=a.fullscreenControllerRef,g=a.logger,h=a.machine,i=a.subscribers,j=a.videoElementAPIRef;a={logVPLEvent_DO_NOT_USE:function(a,b){g.logVPLEvent({eventType:a,logDataOverrides:b,state:h.getCurrentState()})},setAdditionalLogData:function(a,b){g.setAdditionalLogData(a,b)}};return m({concurrentAutoplayManagementAPI:b,debugAPI:e,exitPictureInPictureImpl:function(){h.dispatch({type:"controller_picture_in_picture_exit_requested"})},fullscreenControllerRef:f,getCurrentExposedState:function(){return d(h.getCurrentState())},getCurrentIsDesktopPictureInPicture:function(){var a;return(a=h.getCurrentState().controlledState.isDesktopPictureInPicture)!=null?a:!1},getCurrentIsFullscreen:function(){var a=f.current;return a?a.getIsFullscreen():!1},getCurrentLiveRewindPlayheadPosition:function(){var a=h.getCurrentState();a=a.controlledState;var b=a.isLiveRewindActive,c=a.seekableRanges;a=a.seekTargetPosition;if(!b||a==null)return null;c=(b=c==null?void 0:c.end(0))!=null?b:0;return a-c},getCurrentPlayheadPosition:function(){var a,b=0;return(a=(a=c("gkx")("3464")?(a=j.current)==null?void 0:a.getPlayheadPosition():void 0)!=null?a:h.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?a:b},internal_getCurrentStateMachineState:function(){return h.getCurrentState()},loggerAPI:a,overridePlayerFormatImpl:function(a){h.dispatch({payload:{playerFormat:a},type:"controller_override_player_format"})},pauseImpl:function(a){h.dispatch({payload:{reason:a},type:"controller_pause_requested"})},playImpl:function(a){h.dispatch({payload:{reason:a},type:"controller_play_requested"})},registerEmsgObserverImpl:function(a){h.dispatch({payload:{token:a},type:"register_emsg_observer"})},requestPictureInPictureImpl:function(){h.dispatch({type:"controller_picture_in_picture_requested"})},scrubBeginImpl:function(){h.dispatch({type:"controller_scrub_begin_requested"})},scrubEndImpl:function(a){h.dispatch({payload:{seekTargetPosition:a},type:"controller_scrub_end_requested"})},seekImpl:function(a){h.dispatch({payload:{seekTargetPosition:a},type:"controller_seek_requested"})},selectAudioTrackIDImpl:function(a){h.dispatch({payload:{selectedAudioTrackID:a},type:"controller_audio_track_requested"})},selectVideoQualityImpl:function(a){h.dispatch({payload:{selectedVideoQuality:a},type:"controller_quality_requested"})},setCaptionsDisplayStyleImpl:function(a){h.dispatch({payload:{captionDisplayStyle:a},type:"controller_set_caption_display_style_requested"})},setCaptionsUrlImpl:function(a){h.dispatch({payload:{captionsUrl:a},type:"controller_set_captions_url_requested"})},setCaptionsVisibleImpl:function(a){h.dispatch({payload:{captionsVisible:a},type:"controller_set_captions_visible_requested"})},setIsLiveRewindActiveImpl:function(a){h.dispatch({payload:{isLiveRewindActive:a},type:"controller_set_is_live_rewind_active_requested"})},setLatencyLevelImpl:function(a){h.dispatch({payload:{latencyLevel:a},type:"controller_set_latency_level_requested"})},setMutedImpl:function(a,b){h.dispatch({payload:{muted:a,reason:b},type:"controller_muted_requested"})},setPictureInPictureStateImpl:function(a){h.dispatch({payload:{isInPictureInPictureMode:a},type:"controller_set_picture_in_picture_state_requested"})},setPlaybackRateImpl:function(a){h.dispatch({payload:{playbackRate:a},type:"controller_set_playback_rate"})},setVolumeImpl:function(a){h.dispatch({payload:{volume:a},type:"controller_volume_requested"})},subscribers:i,unregisterEmsgObserverImpl:function(a){h.dispatch({payload:{token:a},type:"unregister_emsg_observer"})},videoElementAPIRef:j})}function o(a){a=a.current;if(a==null)throw c("unrecoverableViolation")("Attempted to access VideoElementAPI while it is not available.","comet_video_player");return a}function p(a){var c=a.alwaysShowCaptions,e=a.areCaptionsAutogenerated,f=a.captionDisplayStyle,g=a.captionsControllerRef,h=a.debugLogId,i=a.dimensions,j=a.engineExtrasAPI,k=a.engineMetadata,l=a.fullscreenControllerRef,m=a.handleFatalError,n=a.handleStateMachine,p=a.videoElementAPIRef,r=a.videoLiveTraceRef,s=a.videoPlayerPassiveViewabilityInfoRef;function t(a){d("VideoPlayerImplementationStateMachineHostCallQueue").applyOrQueueHostCall({engineExtrasAPI:j,hostCall:a,machine:v,videoElementAPI:p.current})}var u=null;a=[function(a,c,d){b("cr:683059")&&d.type==="implementation_host_call_applied"&&d.payload.hostCall.type==="host_call_play"&&c.controlledState.lastPlayReason==="autoplay_initiated"?b("cr:683059").addFirstMarkerPoint("firstVideoAutoplayStalling"):b("cr:683059")&&c.controlledState.playbackState!==a.controlledState.playbackState&&c.controlledState.playbackState==="playing"&&c.controlledState.lastPlayReason==="autoplay_initiated"&&b("cr:683059").addFirstMarkerPoint("firstVideoAutoplayPlaying");return!0},function(a,b,c){n(a,b,c);return!0},function(a,b,c){return!0},function(a,b,c){if(a.controlledState.bufferingDetected===!1&&b.controlledState.bufferingDetected===!0||a.controlledState.bufferingDetected===!0&&b.controlledState.bufferingDetected===!1)if(b.controlledState.bufferingDetected){a=(c=b.controlledState.lastBufferingType)!=null?c:"in_play";c=j.getPerfLoggerProvider();u=c?c.getOperationLogger("buffering").setState("buffering").setType(a).start():null}else!b.controlledState.bufferingDetected&&u!=null&&(u.log(),u=null);return!0},function(a,b,c){return c.type!=="implementation_engine_destroy_requested"?!0:!1},function(a,b,c){if(c.type!=="implementation_engine_initialized")return!0;a=o(p);c=c.type;d("VideoPlayerImplementationStateMachineHostCallQueue").flushHostCallQueue({engineExtrasAPI:j,machine:v,reason:c,state:b,videoElementAPI:a});return!1},function(a,b,c){if(c.type!=="dom_event_ended")return!0;a=b.controlledState;(a.loopCount>0&&a.loopCurrent<a.loopCount||a.loopCount===-1)&&v.dispatch({payload:{reason:"loop_initiated"},type:"controller_play_requested"});return!1},function(a,b,c){if(c.type!=="controller_pause_requested")return!0;a=b.controlledState.playbackState;if(a!=="paused")return!1;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_pause"});return!1},function(a,b,c){if(c.type!=="controller_play_requested")return!0;a=b.controlledState.playbackState;if(a!=="stalling")return!1;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_play"});return!1},function(a,b,c){if(c.type!=="controller_seek_requested")return!0;a=b.controlledState;b=a.seeking;a=a.seekTargetPosition;b&&a!=null&&t({payload:{currentTime:a,hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_set_current_time"});return!1},function(a,b,c){if(c.type!=="controller_muted_requested")return!0;a=b.controlledState.muted;if(a!==c.payload.muted)return!1;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),muted:a,reason:c.type},type:"host_call_set_muted"});return!1},function(a,b,c){if(c.type!=="controller_scrub_begin_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_scrub_end_requested")return!0;a=b.controlledState;b=a.seeking;var e=a.seekTargetPosition;a=a.targetPlaybackRate;b&&e!=null?(t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:c.type+":seek"},type:"host_call_set_playback_rate"}),t({payload:{currentTime:e,hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type+":seek"},type:"host_call_set_current_time"})):t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:a,reason:c.type+":cancel"},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="buffering_begin_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:0,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_set_playback_rate")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:c.payload.playbackRate,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="buffering_end_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),playbackRate:b.controlledState.targetPlaybackRate,reason:c.type},type:"host_call_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_volume_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type,volume:b.controlledState.volume},type:"host_call_set_volume"});return!1},function(a,b,c){if(c.type!=="controller_audio_track_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type,selectedAudioTrackID:b.controlledState.selectedAudioTrackID},type:"host_call_set_audio_track"});return!1},function(a,b,c){if(c.type!=="controller_quality_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type,selectedVideoQuality:b.controlledState.selectedVideoQuality},type:"host_call_set_video_quality"});return!1},function(a,b,c){if(!(c.type==="controller_set_latency_level_requested"||c.type==="implementation_set_latency_level_requested"))return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),latencyLevel:c.payload.latencyLevel,reason:c.type},type:"host_call_set_latency_level"});return!1},function(a,b,c){if(!(c.type==="dom_event_timeupdate"||c.type==="captions_loaded"))return!0;c=g.current;var e=b.controlledState.captionsVisible,f=p.current;f=f?f.getPlayheadPosition():0;if(d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&b.controlledState.isLiveRewindActive){var h=b.controlledState.seekableRanges;h=h!=null?(h=h.end(h.length()-1))!=null?h:0:0;f>=h&&v.dispatch({payload:{isLiveRewindActive:!1},type:"controller_set_is_live_rewind_active_requested"})}if(!j.getRepresentationCaptionsExpectedFromManifest()&&c&&e&&b.controlledState.captionsLoaded){h=c.handleTimeUpdate(f);e=c.getCaptionFormat();b=a.controlledState.activeCaptions;c=a.controlledState.captionFormat;e!==c&&v.dispatch({payload:{captionFormat:e},type:"controller_set_caption_format_requested"});q(b,h)&&v.dispatch({payload:{activeCaptions:h,captionsLocale:null},type:"controller_set_active_captions_requested"})}a=r.current;a!=null&&a.onUpdateStatus({position:f});return!1},function(a,b,c){if(c.type!=="cea608_bytes_received")return!0;a=g.current;if(a){b=c.payload;c=b.timescale;b=b.videoBytes;a.handleCea608BytesReceived({timescale:c,videoBytes:b})}return!1},function(a,b,c){if(c.type!=="controller_set_captions_url_requested")return!0;a=g.current;if(a){b=c.payload.captionsUrl;a.updateCaptionsUrl(b)}return!1},function(a,b,c){if(c.type!=="controller_set_is_live_rewind_active_requested")return!0;j.setEnableLiveheadCatchup(!c.payload.isLiveRewindActive);!!d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControl()&&!c.payload.isLiveRewindActive&&v.dispatch({payload:{playbackRate:1},type:"controller_set_playback_rate"});return!1},function(a,b,c){if(c.type!=="controller_picture_in_picture_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_picture_in_picture"});return!1},function(a,b,c){if(c.type!=="controller_picture_in_picture_exit_requested")return!0;t({payload:{hostCallID:d("VideoPlayerImplementationStateMachineHostCallQueue").makeHostCallID(),reason:c.type},type:"host_call_exit_picture_in_picture"});return!1}];var v=d("VideoPlayerImplementationStateMachine").createVideoPlayerImplementationStateMachineWithStateTransitionHandlers({collectUncontrolledState:function(){var a=p.current;return d("VideoPlayerImplementationStateMachineStateUncontrolledState").createVideoPlayerImplementationStateMachineStateUncontrolledState({engineExtrasAPI:j,fullscreenControllerRef:l,videoElementAPI:a,videoLiveTraceRef:r,videoPlayerPassiveViewabilityInfoRef:s})},debugLogId:h,initialState:d("VideoPlayerImplementationStateMachineState").createVideoPlayerImplementationStateMachineInitialState({alwaysShowCaptions:c,areCaptionsAutogenerated:e,captionDisplayStyle:f,dimensions:i,isAbrEnabled:k.isAbrEnabled,playerImplementationName:k.playerImplementationName,playerVersion:k.playerVersion,streamingFormat:k.streamingFormat}),onFatalError:m,stateTransitionHandlers:a});return v}function q(a,b){if(a===null&&b===null)return!1;if(a===null||b===null)return!0;var c=(b=b.rows)!=null?b:[];a=(b=a.rows)!=null?b:[];return a.length!==c.length||a.some(function(a,b){return a!==c[b]})}function r(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_fullscreen_changed"})}))}function s(a,b,c,d){a!==b.current&&(c.current&&(c.current.remove(),c.current=null),b.current=a),b.current&&!c.current&&(c.current=b.current.subscribe(function(){d.dispatch({type:"notify_viewability_changed"})}))}function t(a){var b=a.engineMetadata;a=a.state;var c=a.controlledState,d=c.activeCaptions,e=c.activeEmsgBoxes,f=c.availableAudioTracks,g=c.availableQualities,h=c.captionDisplayStyle,i=c.captionsLoaded,j=c.captionsVisible,k=c.error,l=c.hasPlayEverBeenRequested,m=c.implementationSeekSourcePosition,n=c.inbandCaptionsAutogenerated,o=c.isDesktopPictureInPicture,p=c.isLiveRewindActive,q=c.lastMuteReason,r=c.lastPauseReason,s=c.lastPlayedTimeMs,t=c.lastPlayReason,u=c.latencyLevel,v=c.loopCount,w=c.loopCurrent,x=c.muted,y=c.overriddenPlayerFormat,z=c.playbackState,A=c.seekableRanges,B=c.seeking,C=c.seekTargetPosition,D=c.selectedAudioTrackID,E=c.selectedVideoQuality,F=c.streamInterrupted,G=c.targetPlaybackRate,H=c.targetVideoQuality,I=c.ullIneligibilityReason,J=c.videoProjection,K=c.volume;c=c.watchTimeMs;var L=a.uncontrolledState,M=L.currentPlayingAudioTrackID,N=L.currentPlayingVideoQuality,O=L.isDRM,P=L.isFullscreen,Q=L.videoElementDuration,R=L.videoElementLastBufferEndPosition;L=L.videoRepresentationID;var S=z==="ended",T=z==="paused"||S,U=z==="playing",V=z==="inPlayStalling";z=z==="stalling"||V;i={activeCaptions:d,activeEmsgBoxes:e,availableAudioTracks:f,availableVideoQualities:g,bufferEnd:(d=R)!=null?d:0,captionDisplayStyle:h,captionsLoaded:i,captionsVisible:j,currentAudioTrackID:(e=M)!=null?e:null,currentVideoQuality:(f=N)!=null?f:"",duration:(g=Q)!=null?g:0,ended:S,error:k,hasPlayEverBeenRequested:l,inbandCaptionsAutogenerated:n,inPlayStalling:V,isAbrEnabled:b.isAbrEnabled,isDesktopPictureInPicture:(R=o)!=null?R:!1,isDRM:(d=O)!=null?d:null,isExternalMedia:b.isExternalMedia,isFullscreen:(h=P)!=null?h:!1,isLiveRewindActive:p,lastMuteReason:q,lastPauseReason:r,lastPlayedTimeMs:s,lastPlayReason:t,latencyLevel:u,loopCount:v,loopCurrent:w,muted:x,overriddenPlayerFormat:y,paused:T,playerImplementationName:a.playerImplementationName,playerVersion:a.playerVersion,playing:U,seekableRanges:A,seeking:B,seekSourcePosition:m,seekTargetPosition:C,selectedAudioTrackID:D,selectedVideoQuality:E,stalling:z,streamInterrupted:F,targetPlaybackRate:G,targetVideoQuality:H,ullIneligibilityReason:I,videoProjection:J,videoRepresentationID:L,volume:K,watchTimeMs:c};return i}function a(a){var e=a.checkInDOM,f=a.createDebugAPI,g=a.createVideoPlayerError,h=a.debugLog,i=a.debugLogId,j=a.destroyEngineParts,k=a.engineExtrasAPI,l=a.engineMetadata,m=a.handleFatalError,o=a.handleVideoElementMounted,q=a.handleVideoElementUnmounted,u=a.handleVideoInfoChange,v=a.initialProps,w=a.setExposedStateInReact,x=v.loggingMetaData.instanceKey;h=v.loggingMetaData.coreVideoPlayerMetaData;a=h.broadcastId;var y=h.isLiveStreaming;h=h.isLiveTraceEnabled;var z={current:Boolean(y)&&Boolean(h)&&a!=null?new(c("VideoLiveTrace"))(a,x,c("CurrentUser").getAccountID()):null},A=d("VideoPlayerImplementationStateMachineLogger").createVideoPlayerImplementationStateMachineLogger({debugLogId:i,initialLoggingMetaData:v.loggingMetaData,videoLiveTraceRef:z}),B=b("cr:4081")?d("MediaPlaybackCompoundEventStateMachineLogger").createMediaPlaybackCompoundEventStateMachineLogger({debugLogId:i,initialLoggingMetaData:v.loggingMetaData}):null,C=b("cr:4081")&&B?new(b("cr:4081"))(B):null,D=new(c("VideoPlayerBanzaiLogFlusher"))(A),E={current:(y=v.videoPlayerPassiveViewabilityInfo)!=null?y:null},F={current:(h=v.fullscreenController)!=null?h:null},G={current:null};a=d("useConcurrentAutoplayManagementAPI").createConcurrentAutoplayManagementAPI();var H=[],I=function(){H.forEach(function(a){a()}),v.disableLogging?(D.discardLogsWithoutFlushing(),b("cr:4081")&&(C==null?void 0:C.discardLogsWithoutFlushing())):(D.flushLogs(),C==null?void 0:C.flushLogs())},J={current:v.onExposedStateChanged},K={current:null},L=null,M={current:{inbandCaptionsAutogeneratedFromManifest:!1,inbandCaptionsExpectedFromManifest:!1,inbandCaptionsExpectedFromProps:v.inbandCaptionsExpected,representationCaptionsExpectedFromManifest:!1,sideLoadCaptionsExpectedFromProps:v.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(y=v.captionsUrl)!=null?y:null}},N={current:null},O={current:null},P=new(c("SubscriptionsHandler"))(),Q=new(c("SubscriptionsHandler"))(),R="before_mounted";function S(a){if(c("gkx")("2617"))return a.controlledState.mountState==="mounted_onscreen"||a.controlledState.mountState==="mounted_offscreen";else return R==="mounted"}var T={current:null},U=function(a){a=t({engineMetadata:l,state:a});return a},V={current:null},W={current:null},aa=function(a){if(S(a)){if(a===V.current)return;var b=U(a);if(W.current!=null&&c("deepEquals")(W.current,b))return;V.current=a;W.current=b;w(b);a=J.current;a&&a({implementationController:na,implementationExposedState:b})}};h=function(a,b,c){A.handleStateMachine(a,b,c),B==null?void 0:B.handleStateMachine(a,b,c),aa(b),I()};var X=function(a,b){};y=function(a){X(a,"state_machine_fatal_error")};var Y=p({alwaysShowCaptions:Boolean(v.alwaysShowCaptions),areCaptionsAutogenerated:Boolean(v.areCaptionsAutogenerated),captionDisplayStyle:v.captionDisplayStyle,captionsControllerRef:G,debugLogId:i,dimensions:v.dimensions,engineExtrasAPI:k,engineMetadata:l,fullscreenControllerRef:F,handleFatalError:y,handleStateMachine:h,videoElementAPIRef:T,videoLiveTraceRef:z,videoPlayerPassiveViewabilityInfoRef:E}),ba=!1,Z=function(a){var b=K.current!=null,d=T.current!=null;P.release();Y.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:b},type:"implementation_engine_destroy_requested"});try{ba||(ba=!0,j(["destroyEngine("+a+")"]))}catch(g){try{var e=c("FBLogger")("comet_video_player").catching(g),f=v.videoFBID;f!=null&&(e=e.addMetadata("COMET_VIDEO","VIDEO_ID",f));e=e.addMetadata("COMET_VIDEO","VIDEO_IMPLEMENTATION_DEBUG_DATA",JSON.stringify({destroy_reason:a,player_instance_key:x,player_version:l.playerVersion,video_element_api_existed:d,video_element_existed:b}));e.warn("Error thrown by destroyEngineParts: %s",g.message)}catch(a){}}f=G.current;f!=null&&(Y.getCurrentState().controlledState.captionsLoaded&&Y.dispatch({type:"captions_unloaded"}),G.current=null,f.destroy());r(null,F,N,Y);s(null,E,O,Y);Y.dispatch({payload:{reason:a,videoElementAPIExisted:d,videoElementExisted:b},type:"implementation_engine_destroyed"})};X=function(a,b){a=g(a,b);Y.dispatch({payload:{fatalError:a},type:"implementation_fatal_error"});Z("implementation_fatal_error");m(a)};function ca(a){return a.sideLoadCaptionsExpectedFromProps&&a.sideLoadCaptionsUrlFromProps!==null}function da(a){return a.inbandCaptionsExpectedFromProps&&((a=a.inbandCaptionsExpectedFromManifest)!=null?a:!1)}function ea(a){return(a=a.inbandCaptionsAutogeneratedFromManifest)!=null?a:!1}var fa=function(a){var b=ca(a),c=da(a),e=ea(a),f=G.current;e!==ea(M.current)&&Y.dispatch({payload:{inbandCaptionsAutogenerated:e},type:"inband_captions_autogenerated_changed"});f!=null?c!==da(M.current)&&(f.updateInbandCaptionsExpected(c),!c&&Y.getCurrentState().controlledState.captionsLoaded&&Y.dispatch({type:"captions_unloaded"})):(b||c)&&f==null&&(G.current=d("VideoPlayerCaptionsController").createCaptionsController({captionsUrl:b?a.sideLoadCaptionsUrlFromProps:null,inbandCaptionsExpected:c,onCaptionsLoaded:function(){Y.getCurrentState().controlledState.captionsLoaded||Y.dispatch({type:"captions_loaded"})}}));M.current=a},ga=function(a){k!=null&&a&&a.width>0&&a.height>0&&(k.setDimensions(a),Y.dispatch({payload:{dimensions:{height:a.height,width:a.width}},type:"player_dimensions_changed"}))},ha=function(a){a!==Y.getCurrentState().controlledState.loopCount&&Y.dispatch({payload:{loopCount:a},type:"loop_count_change_requested"})},ia=function(a){"srcObject"in a&&(a.srcObject=null),a.removeAttribute("src"),Q.release(),Q.engage()},ja=function(a,e){if(K.current===a)return;a!=null&&K.current!=null&&K.current!==a&&c("recoverableViolation")("The video element was recreated","comet_video_player");L!=null&&L();var f=K.current;f&&ia(f);K.current=a;b("cr:506")!=null&&a!=null&&(L=b("cr:506")(a,i));a!=null&&Q.addSubscriptions(c("CometEventListener").listen(a,"enterpictureinpicture",function(){var a=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExp();a&&Y.dispatch({payload:{isInPictureInPictureMode:!0},type:"controller_set_picture_in_picture_state_requested"})}),c("CometEventListener").listen(a,"leavepictureinpicture",function(){var a=d("CometVideoPictureInPictureManagerContext").isInPictureInPictureExp();a&&Y.dispatch({payload:{isInPictureInPictureMode:!1},type:"controller_set_picture_in_picture_state_requested"})}));K.current!=null?(Y.dispatch({type:"implementation_video_node_mounted"}),o([].concat(e,["handleVideoElement(non-null)"]))):(Y.dispatch({type:"implementation_video_node_unmounted"}),q([].concat(e,["handleVideoElement(null)"])))};y=v.loggingMetaData.instanceKey;h=function(a){var b;J.current=a.onExposedStateChanged;if(!S(Y.getCurrentState()))return;r((b=a.fullscreenController)!=null?b:null,F,N,Y);s((b=a.videoPlayerPassiveViewabilityInfo)!=null?b:null,E,O,Y);if(!u(a)){b={inbandCaptionsAutogeneratedFromManifest:M.current.inbandCaptionsAutogeneratedFromManifest,inbandCaptionsExpectedFromManifest:M.current.inbandCaptionsExpectedFromManifest,inbandCaptionsExpectedFromProps:a.inbandCaptionsExpected,representationCaptionsExpectedFromManifest:M.current.representationCaptionsExpectedFromManifest,sideLoadCaptionsExpectedFromProps:a.sideLoadCaptionsExpected,sideLoadCaptionsUrlFromProps:(b=a.captionsUrl)!=null?b:null};fa(b);ga(a.dimensions);ha((b=a.loopCount)!=null?b:0)}Y.dispatch({payload:{loggingMetaData:a.loggingMetaData},type:"notify_logging_metadata_change"})};var $=null;y=function(){var a=Y.getCurrentState().controlledState.mountState;switch(a){case"before_mounted":P.addSubscriptions(d("RunComet").onUnload(function(){Z("page_unload")}));Y.dispatch({type:"implementation_mounted"});o(["handleReactEffectInit(before_mounted)"]);break;case"mounted_onscreen":break;case"mounted_offscreen":c("clearTimeout")($);$=null;Y.dispatch({type:"implementation_onscreen"});break;case"unmounted":break;default:a}};var ka=function(){var a=function a(){c("clearTimeout")($);$=null;if(Y.getCurrentState().controlledState.mountState==="unmounted")return;var b=e();!b?(Y.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),Z("implementation_unmounted:react_effect_cleanup")):$=c("setTimeout")(a,1e3)},b=Y.getCurrentState().controlledState.mountState;switch(b){case"before_mounted":break;case"mounted_onscreen":Y.dispatch({type:"implementation_offscreen"});a();break;case"mounted_offscreen":a();break;case"unmounted":break}},la=function(){S(Y.getCurrentState())||(R="mounted",P.addSubscriptions(d("RunComet").onUnload(function(){Z("page_unload")})),Y.dispatch({type:"implementation_mounted"}),o(["handleReactMount"]))},ma=function(){S(Y.getCurrentState())&&(R="unmounted",Y.dispatch({payload:{reason:"react_effect_cleanup"},type:"implementation_unmounted"}),Z("implementation_unmounted:react_effect_cleanup"))},na=n({concurrentAutoplayManagementAPI:a,createExposedState:U,debugAPI:f({getVideoElementAPI:function(){return T.current},logger:A}),fullscreenControllerRef:F,logger:A,machine:Y,subscribers:H,videoElementAPIRef:T});a=d("VideoPlayerImplementationStateMachine").createReactVideoElementCallbacksForStateMachine(Y,ja);f=U(Y.getInitialState());ka={handleReactEffectCleanup:c("gkx")("2617")?ka:ma,handleReactEffectInit:c("gkx")("2617")?y:la,handleReactPropsChanged:h,implementationController:na,initialExposedState:f,logFlusher:D,machine:Y,notifySubscribers:I,videoElementCallbacks:a,videoElementRefCallback:function(a){ja(a,["videoElementRefCallback"])}};return{engine:ka,getCaptionsInfo:function(){return M.current},getVideoElement:function(){return K.current},getVideoLiveTrace:function(){return z.current},handleCaptionsInfoChange:fa,handleFatalImplementationError:X,logger:A,machine:Y,videoElementAPIRef:T}}function u(a,b){var d,e=c("err")(a.errorName+": "+a.errorDescription);e.name=a.errorName;e.errorName=a.errorName;e.type="error";a.stack!=null&&a.stack!==""&&(e.stack=a.stack);var f=new(c("ErrorMetadata"))();f.addEntries(["COMET_VIDEO","ERROR_LOCATION",a.errorLocation],["COMET_VIDEO","ERROR_CODE",(d=a.errorCode)!=null?d:""],["COMET_VIDEO","ERROR_URL",(d=a.url)!=null?d:""]);b!=null&&f.addEntry("COMET_VIDEO","VIDEO_ID",b);d=a.originalError;d!=null&&(typeof d==="string"?f.addEntry("COMET_VIDEO","ORIGINAL_ERROR",d):d instanceof Error&&d.message!=null&&f.addEntry("COMET_VIDEO","ORIGINAL_ERROR",d.message));e.metadata=f;return e}function e(a,d){var e=k(null),f=e[0],g=e[1];e=k(null);var l=e[0],m=e[1];e=a.wrapVideoPixels_EXPERIMENTAL;var n=j(a),o=j(d),p=j(null),q=c("useStable")(function(){return o.current({checkInDOM:function(){var a=document.body,b=p.current;return a!=null&&b!=null&&a.contains(b)},debugLogId:String(n.current.loggingMetaData.instanceKey),handleFatalError:function(a){m(a)},initialProps:n.current,setExposedStateInReact:g})});f=(d=f)!=null?d:q.initialExposedState;d=(d=f.error)!=null?d:l;if(d!=null){if(c("justknobx")._("1328"))throw c("unrecoverableViolation")(d.errorName+": "+d.errorDescription,"comet_video_player",{error:d.originalError instanceof Error?d.originalError:void 0});l=a.VideoPlayerShakaPerformanceLoggerClass;l&&(c("gkx")("2007883")||c("qex")._("1655"))&&l.flushQueuedLogs();throw u(d,n.current.videoFBID)}i(function(){q.handleReactEffectInit();return function(){q.handleReactEffectCleanup()}},[q]);var r=j(null);i(function(){a!==r.current&&q.handleReactPropsChanged(a),r.current=a});l=c("useSEOLoggedOutWebCrawler")();d=a.renderVideoPixelsFit?a.renderVideoPixelsFit(f):null;l=h.jsx(c("VideoPlayerImplementationReactVideoElement.react"),{alt:a.alt,implementationExposedState:f,poster:a.poster,seoWebCrawlerVideoTracks:l&&a.seoWebCrawlerVideoTracks!=null?a.seoWebCrawlerVideoTracks:null,src:l?a.seoWebCrawlerLookasideUrl:null,videoElementCallbacks:l?null:q.videoElementCallbacks,videoElementPreloadDisabled:a.preloadForProgressiveDisabled,videoElementRefCallback:l?null:q.videoElementRefCallback,videoPixelsFit:d});var s=a.renderWithExposedState({implementationController:q.implementationController,implementationExposedState:f});e=h.jsxs(h.Fragment,{children:[c("gkx")("2617")?h.jsx("div",{ref:p,style:{display:"none"}}):null,b("cr:4596")!=null&&f.isDRM===!0&&h.jsx(b("cr:4596"),{controller:q.implementationController}),e?e(l):l,h.jsx(c("VideoPlayerVideoPixelsFitContext").Provider,{value:d,children:s})]});return{engine:q,exposedState:f,reactVideoComponents:s,reactVideoFrame:l,reactVideoFrameAndComponents:e}}g.internal_createVideoPlayerImplementationControllerImpl=m;g.internal_createVideoPlayerImplementationEngineStateMachineWithEffects=p;g.internal_createVideoPlayerImplementationExposedStateFromStateMachineState=t;g.createVideoPlayerImplementationEngine=a;g.internal_makeExpandedErrorFromVideoPlayerError=u;g.useVideoPlayerImplementationEngine=e}),98);
__d("VideoPlayerImplementationEngineVideoElementAPI",["Promise","VideoPlaybackQuality","VideoPlayerOzWWWGlobalConfig"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return isNaN(a)?0:a}function i(a){return h(a.duration)}function j(a){a=a.buffered;return a.length>0?a.end(a.length-1):0}function k(a){return h(a.currentTime)}function l(a){return a.buffered.length===0?0:a.buffered.start(0)}function a(a,e){var f=e!==!0,g=null,h=function(b){f?b==null||b===""?a.removeAttribute("src"):a.setAttribute("src",b):g=b};return{exitPictureInPicture:function(){window.document.exitPictureInPicture()},getCanPlayPromise:function(){return new(b("Promise"))(function(b,c){a.readyState===4?b():a.addEventListener("canplay",function(){return b()})})},getDOMLoadedMetadataPromise:function(){return new(b("Promise"))(function(b,c){a.addEventListener("loadedmetadata",function(){return b()})})},getDroppedFrameCount:function(){return d("VideoPlaybackQuality").getDroppedFrames(a)},getDuration:function(){return i(a)},getEnded:function(){return a.ended},getError:function(){return a.error},getLastBufferEndPosition:function(){return j(a)},getMuted:function(){return a.muted},getNetworkState:function(){return a.networkState},getPaused:function(){return a.paused},getPlaybackRate:function(){return a.playbackRate},getPlayheadPosition:function(){return k(a)},getReadyState:function(){return a.readyState},getTotalFrameCount:function(){return d("VideoPlaybackQuality").getTotalFrames(a)},getUnderlyingVideoElement:function(){return a},getVideoPixelsDimensions:function(){if(a.readyState<a.HAVE_CURRENT_DATA)return null;var b=a.videoWidth,c=a.videoHeight;if(b<=0||c<=0)return null;var d=a.offsetWidth,e=a.offsetHeight;if(d<=0||e<=0)return null;b=b/c;c=d/e;c>b?d=e*b:e=d/b;return{height:e,width:d}},getVolume:function(){return a.volume},pause:function(){a.pause()},play:function(){f||(f=!0,h(g),g=null);var c=a.play();c=c&&typeof c.then==="function"?b("Promise").resolve(c):null;return c},requestPictureInPicture:function(){typeof a.requestPictureInPicture==="function"&&a.requestPictureInPicture()},setDuration:function(b){a.duration=b},setMuted:function(b){a.muted=b},setPlaybackRate:function(b){a.playbackRate=b},setPlayheadPosition:function(b){var d=b;if(b===0){b=c("VideoPlayerOzWWWGlobalConfig").getNumber("clamp_seek_to_first_buffer_range_epsilon",0);if(b>0){var e=l(a);e>0&&e<=b&&(d=e)}}a.currentTime=d},setSrc:h,setVolume:function(b){a.volume=b}}}g.getDurationFromVideoElement=i;g.getLastBufferEndPositionFromVideoElement=j;g.getPlayheadPositionFromVideoElement=k;g.createVideoPlayerImplementationEngineVideoElementAPI=a}),98);
__d("VideoPlayerProgressiveImplementationData",["err"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return/\.mpd(\?|$)/.test(a)}function a(a){var b=a.hdSrc,d=a.hdSrcPreferred,e=a.isExternalMedia;a=a.sdSrc;if(b==null&&a==null){var f=c("err")("both HD and SD browser-native URLs are not available");f.name="VideoImplementationsNoBrowserNativeURLs";return f}if(a==null){f=c("err")("browser-native SD URL is not available");f.name="VideoImplementationsNoBrowserNativeSDURL";return f}f=h(a);var g=b!=null&&h(b);if(f||g){f=c("err")("HD or SD browser-native URL points to a DASH manifest");f.name="VideoImplementationsBrowserNativeURLsPointToDASH";return f}return{hdSrc:b,hdSrcPreferred:d,isExternalMedia:e===!0,sdSrc:a}}g.makeProgressiveImplementationData=a}),98);
__d("VideoPlayerProgressiveImplementationEngineExtrasAPI",[],(function(a,b,c,d,e,f){"use strict";function g(a){return a!==null&&a.indexOf(".m3u8")!==-1}function a(a){var b=a.getPlayingVideoInfo;a=a.setUserSelectedVideoQuality;return{getApproximateFBLSToPlayerDisplayLatency:function(){return null},getAudioRepresentationIDAtTime:function(a){return null},getAvailableAudioTracks:function(){var a;return(a=(a=b())==null?void 0:a.availableAudioTracks)!=null?a:[]},getAvailableVideoQualities:function(){var a;return(a=(a=b())==null?void 0:a.availableQualities)!=null?a:[]},getCurrentAudioRepresentation:function(){return null},getCurrentPlayingAudioTrackID:function(){var a;return(a=(a=b())==null?void 0:a.playingAudioTrackID)!=null?a:null},getCurrentPlayingVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentTargetVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.targetQuality)!=null?a:""},getCurrentVideoRepresentation:function(){return null},getEstimatedBandwidth:function(){return null},getInbandCaptionsAutogeneratedFromManifest:function(){return!1},getInbandCaptionsExpectedFromManifest:function(){return!1},getManifestIdentifier:function(){return null},getMpdValidationErrors:function(){return null},getPerfLoggerProvider:function(){return null},getRepresentationCaptionsExpectedFromManifest:function(){return!1},getStreamType:function(){var a=b();return a==null?"progressive":g(a.hdSrc)||g(a.sdSrc)?"hls":"progressive"},getUserSelectedAudioTrackID:function(){return null},getUserSelectedVideoQuality:function(){var a;return(a=(a=b())==null?void 0:a.selectedQuality)!=null?a:"notselected"},getVideoProjectionType:function(){return"cubemap"},getVideoRepresentationIDAtTime:function(a){return"oep_hd"},getVideoRepresentations:function(){return null},isDrm:function(){var a;return((a=b())==null?void 0:a.graphQLVideoDRMInfo)!=null},isFBIsLiveTemplated:function(){return!1},isFBMS:function(){return!1},isFBWasLive:function(){return!1},isPredictiveDash:function(){return!1},setDimensions:function(a){},setEnableLiveheadCatchup:function(){},setLatencyLevel:function(){},setUserSelectedAudioTrackID:function(){},setUserSelectedVideoQuality:a}}f.createVideoPlayerProgressiveImplementationEngineExtrasAPI=a}),66);
__d("VideoPlayerProgressiveImplementationEngineUtils",[],(function(a,b,c,d,e,f){"use strict";var g="hd",h="sd";function a(a){var b=[];a.sdSrc!=null&&b.push(h);a.hdSrc!=null&&b.push(g);var c=[],d=a.hdSrcPreferred&&a.hdSrc!=null?g:h;return babelHelpers["extends"]({},a,{availableAudioTracks:c,availableQualities:b,playingAudioTrackID:null,playingQuality:null,playingSrc:null,selectedQuality:d,targetQuality:d,targetSrc:null})}function b(a,b){var c=a.hdSrc,d=a.sdSrc,e,f;b==="notselected"||b==="auto"?(e=d!=null?h:c!=null?g:h,f=d!=null?d:c!=null?c:null):b===g&&c!=null?(e=g,f=c):b===h&&d!=null?(e=h,f=d):(e=h,f=null);f===""&&(f=null);return babelHelpers["extends"]({},a,{selectedQuality:b,targetQuality:e,targetSrc:f})}function c(a,b,c){return babelHelpers["extends"]({},a,{playingQuality:b,playingSrc:c})}f.createResolvedVideoInfoProgressive=a;f.updatePlayingVideoInfoProgressiveWithUserSelectedQuality=b;f.updatePlayingVideoInfoProgressiveWithCurrentPlayingQuality=c}),66);
__d("VideoPlayerProgressiveImplementationEngine",["UserAgent","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerODS","VideoPlayerProgressiveImplementationEngineExtrasAPI","VideoPlayerProgressiveImplementationEngineUtils","cr:1473550","cr:1680308","emptyFunction","err","gkx","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("emptyFunction");function i(a,b,c){return d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromGenericError("PROGRESSIVE_JAVASCRIPT_NATIVE",a,b,c)}function a(a){var e=a.checkInDOM,f=a.debugLogId,g=a.handleFatalError,j=a.initialProps;a=a.setExposedStateInReact;var k={current:null},l={current:null},m={current:null},n={current:null},o=function(){var a=u(),e=l.current;if(a==null||e==null)return;c("gkx")("6737")&&a.addEventListener("error",function(){w(a.error,"progressive_implementation_error")});try{var f=e.audioOnly,g=e.graphQLVideoDRMInfo,h=e.videoFBID;f===!0&&(a.style.display="none");f=g?(f=g.fairplayCert)!=null?f:null:null;if(b("cr:1680308")&&g&&f!=null&&h!=null){n.current=b("cr:1680308").newIfSupported(f,a,h,g.videoLicenseUriMap);if(n.current==null){f=c("err")("Fairplay not supported");w(f,"progressive_player_fairplay_handler_missing")}else n.current.addListener("error",function(a){a=c("err")(a.error);w(a,"progressive_player_fairplay_handler_error")})}var i=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a,j.isExternalMedia);y.current=i;m.current=e;h=t();v({inbandCaptionsAutogeneratedFromManifest:r.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:r.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:h==null?void 0:h.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:r.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:h==null?void 0:h.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:h==null?void 0:h.sideLoadCaptionsUrlFromProps});x.dispatch({payload:{availableAudioTracks:r.getAvailableAudioTracks(),availableQualities:r.getAvailableVideoQualities(),selectedAudioTrackID:r.getUserSelectedAudioTrackID(),selectedVideoQuality:r.getUserSelectedVideoQuality(),streamingFormat:r.getStreamType(),targetVideoQuality:r.getCurrentTargetVideoQuality(),videoProjection:r.getVideoProjectionType()},type:"implementation_engine_initialized"});g=function(){i.setPlayheadPosition(j.startTimestamp)};c("UserAgent").isBrowser("IE11")?c("promiseDone")(i.getDOMLoadedMetadataPromise().then(g)):g()}catch(a){w(a,"progressive_player_create_exception")}},p=function(a,b){if(b==null)return!0;else if(a.videoFBID!==b.videoFBID){var c=14;d("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.video_fbid_changed",c);return!1}else if(a.hdSrc!==b.hdSrc||a.sdSrc!==b.sdSrc){c=14;d("VideoPlayerODS").bumpEntityKey("comet_video_player","ProgressiveImplementation.src_changed",c);return!1}else return!1},q=function(a){var b;b={audioOnly:a.audioOnly,graphQLVideoDRMInfo:(b=a.graphQLVideoDRMInfo)!=null?b:null,hdSrc:a.hdSrc===""?null:(b=a.hdSrc)!=null?b:null,hdSrcPreferred:a.hdSrcPreferred,sdSrc:a.sdSrc===""?null:(b=a.sdSrc)!=null?b:null,videoFBID:a.videoFBID};if(!p(b,k.current))return!1;if(b.hdSrc==null&&b.sdSrc==null)throw c("unrecoverableViolation")("Empty hdSrc and sdSrc","comet_video_player");k.current=b;l.current=d("VideoPlayerProgressiveImplementationEngineUtils").createResolvedVideoInfoProgressive(b);o();return!0},r=d("VideoPlayerProgressiveImplementationEngineExtrasAPI").createVideoPlayerProgressiveImplementationEngineExtrasAPI({getPlayingVideoInfo:function(){return m.current},setUserSelectedVideoQuality:function(a){var b=m.current;if(!b)throw c("unrecoverableViolation")("Attempt to switch quality when playingVideoInfo does not exist","comet_video_player");var e=y.current;if(!e)throw c("unrecoverableViolation")("Attempt to switch quality when videoElementAPI does not exist","comet_video_player");m.current=d("VideoPlayerProgressiveImplementationEngineUtils").updatePlayingVideoInfoProgressiveWithUserSelectedQuality(b,a);b=m.current.targetSrc;e.setSrc(b);if(b!=null){b=(a=x.getCurrentState().uncontrolledState.videoElementPlayheadPosition)!=null?a:0;b>0&&e.setPlayheadPosition(b);x.getCurrentState().controlledState.playbackState==="playing"&&e.play();x.dispatch({payload:{targetVideoQuality:r.getCurrentTargetVideoQuality()},type:"representation_changed"})}}}),s=function(){n.current&&(n.current.destroy(),n.current=null)};e=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({checkInDOM:e,createDebugAPI:function(a){var c=a.getVideoElementAPI;a=a.logger;return b("cr:1473550")?b("cr:1473550").createVideoPlayerImplementationDebugAPI({engineExtrasAPI:r,getVideoElementAPI:c,logger:a}):null},createVideoPlayerError:function(a,b){return i(a,b,(a=m.current)==null?void 0:a.targetSrc)},debugLog:h,debugLogId:f,destroyEngineParts:function(){s()},engineExtrasAPI:r,engineMetadata:{isAbrEnabled:!1,isExternalMedia:j.isExternalMedia,playerImplementationName:"progressive_v2",playerVersion:"comet_progressive",streamingFormat:"progressive"},handleFatalError:g,handleVideoElementMounted:o,handleVideoElementUnmounted:function(){},handleVideoInfoChange:q,initialProps:j,setExposedStateInReact:a});f=e.engine;var t=e.getCaptionsInfo,u=e.getVideoElement,v=e.handleCaptionsInfoChange,w=e.handleFatalImplementationError,x=e.machine,y=e.videoElementAPIRef;return f}g.createVideoPlayerProgressiveImplementationEngine=a}),98);
__d("VideoPlayerProgressiveImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerProgressiveImplementationEngine","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){a=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerProgressiveImplementationEngine").createVideoPlayerProgressiveImplementationEngine);a=a.reactVideoFrameAndComponents;return a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("useVideoImplementationsParamsRelayImpl_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useVideoImplementationsParamsRelayImpl_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_use_oz",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dash_manifest",storageKey:null},{alias:"dash_manifest_url",args:[{kind:"Literal",name:"scrubbing_preference",value:"MPEG_DASH"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(scrubbing_preference:"MPEG_DASH")'},{alias:null,args:null,kind:"ScalarField",name:"min_quality_preference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_user_preferred_language",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_rss_podcast_video",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_spherical",storageKey:null},{alias:"browser_native_sd_url",args:null,kind:"ScalarField",name:"playable_url",storageKey:null},{alias:"browser_native_hd_url",args:[{kind:"Literal",name:"quality",value:"HD"}],kind:"ScalarField",name:"playable_url",storageKey:'playable_url(quality:"HD")'},{alias:null,args:null,concreteType:"SphericalVideoFallbackUrls",kind:"LinkedField",name:"spherical_video_fallback_urls",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hd",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sd",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("OzOneSemanticHandlerUtils",["ConstUriUtils","qex","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){b!=null&&(b.indexOf("+RE")>=0&&a.retry()),c!=null&&c()}function a(a,b){var d=b.error;d=d.getExtra();var e=d.code;d=d.headers;var f=null;e==null&&c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");d==null&&c("recoverableViolation")("A ONE Semantic error response must contain response Headers.","comet_video_player");if(d!=null){d=d.get("x-fb-one-variant");f=(d=d)!=null?d:null}d=JSON.parse(a.getString("network_retry_intervals_json","{}"));a=d[e];switch(e){case"410":b.endStream();break;case"404":h(b,f,function(){b.retry({behavior:"recover_failed_request"})});break;case"429":b.retry(a);break;case"403":default:}}function i(a){if(a!=null){a=parseInt(a,10);if(3>0)return!isNaN(a)&&a>0&&a<=3}return!1}function j(a,b){if(a!=null&&b!=null){a=parseInt(a,10);b=parseInt(b,10);return!isNaN(a)&&!isNaN(b)&&a>0&&a<=b}return!1}function k(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("os_param");return a?String(a).toString():null}}return null}function l(a,b){var d=a!=null;return i(b)||(d||!!c("qex")._("1636"))&&j(b,a)}function b(a){var b=a.getExtra();b=b.headers;b=m(b);a=a.getExtra();var d=a.code;a=a.url;if(b!=null&&d==null){c("recoverableViolation")("A ONE Semantic error response must have an error code.","comet_video_player");return!1}d=k(a);return l(d,b)}function m(a){if(a){a=a.get("x-fb-one");if(a!=null)return parseInt(a,10)>0?a:null}return null}function e(a,b,c){var d=null,e=null;b!=null&&(d=k(b),d!=null&&a.setOneReqWave(parseInt(d,10)));b=c==null?void 0:c.headers;b&&(e=m(b),e!=null&&a.setOneResWave(parseInt(e,10)));a.setOneObserved(l(d,e))}g.maybeRetryForVariant=h;g.evaluateOneSemanticsResponse=a;g.isOneSemanticsForcedForResponseWave=i;g.isOneSemanticsEnabledForWave=j;g.getOneSemanticRequestWave=k;g.shouldRespondWithOneSemantics=b;g.getOneSemanticResponseWave=m;g.setOneSemanticFetchStreamLoggingAttributes=e}),98);
__d("handleOzManifestFetchErrorEvent",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){var c=a.getNumber("initial_manifest_request_retry_count",0),d=JSON.parse(a.getString("network_retry_intervals_json","{}")),e=a.getNumber("live_max_try_attempts_on_404",1),f=["404","503"];a.getBool("live_gracefully_handle_no_network",!1)&&f.push("0");a.getBool("live_gracefully_handle_410",!1)&&f.push("410");a.getBool("live_gracefully_handle_502",!1)&&f.push("502");a.getBool("live_gracefully_handle_429",!1)&&f.push("429");a.getBool("live_gracefully_handle_504",!1)&&f.push("504");a.getBool("normalize_mpd_fetch_errors",!1)&&f.push("20");var g=b.error.getExtra().code;if(a.getBool("no_retry_on_empty_string_error_code",!1)&&g==="")return;a.getBool("handle_mpd_null_error_codes",!1)&&(g=g!=null?g:null);d=d[g];if(b.isInitialRequest)typeof d==="number"&&d>0&&b.retryAttemptCount<c&&b.retry({waitMs:d});else if(g!=null&&f.indexOf(g)>-1)switch(g){case"410":b.endStream();break;case"404":e<b.consecutiveFailuresForErrorCode&&b.retry();break;case"504":case"502":case"503":case"20":case"0":b.retry();break;case"429":typeof d==="number"&&d>0&&b.retry({waitMs:d});break;default:break}else g===null&&a.getBool("handle_mpd_null_error_codes",!1)&&b.retry()}f["default"]=a}),66);
__d("handleOzStreamErrorEvent",[],(function(a,b,c,d,e,f){"use strict";var g=[0,1,1,2,3,5,8,13,21,34];function a(a,b){var c=b.error.getExtra().code;if(a.getBool("no_retry_on_empty_string_error_code",!1)&&c==="")return;if(a.getBool("retry_null_error_code_in_stream",!1)&&c==null){b.retry();return}var d=JSON.parse(a.getString("network_end_broadcasts_json","[]"));if(d.includes(c)){b.endStream();return}d=JSON.parse(a.getString("network_skip_json","[]"));if(d.includes(c)){b.retry();return}d=a.getBool("back_off_pdash_504_retry",!0)?g[b.retryAttemptCount]:0;var e=JSON.parse(a.getString("network_reload_mpd_json","[]")),f=a.getBool("fix_reload_manifest_retry",!1);if(a.getBool("back_off_pdash_504_retry",!0)&&d==null&&(!f||e.includes(c)))return;if(d!=null&&e.includes(c)){a.getBool("network_reload_mpd_json_retry",!1)?b.retry({behavior:"recover_failed_request",waitMs:d*1e3}):b.retry({waitMs:d*1e3});return}f=JSON.parse(a.getString("network_retry_intervals_json",'{"0": 1000, "404": 2000, "502": 1000, "503": 1000, "504": 1000}'));e=c!=null?f[c]:null;if(e!=null){a.getBool("network_retry_intervals_json_retry",!1)?b.retry({behavior:"retry_failed_request",waitMs:e}):b.retry({waitMs:e});return}}f["default"]=a}),66);
__d("OzOneSemanticHandler",["OzOneSemanticHandlerUtils","handleOzManifestFetchErrorEvent","handleOzStreamErrorEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=b.error;d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzManifestFetchErrorEvent")(a,b)}function b(a,b){var e=b.error;d("OzOneSemanticHandlerUtils").shouldRespondWithOneSemantics(e)?d("OzOneSemanticHandlerUtils").evaluateOneSemanticsResponse(a,b):c("handleOzStreamErrorEvent")(a,b)}g.handleManifestFetchErrorEvent=a;g.handleStreamErrorEvent=b}),98);
__d("OzCDNSignedQueryParams",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={}}var b=a.prototype;b.$2=function(a,b,c){this.$1[a]==null&&(this.$1[a]={}),this.$1[a][b]=c};b.get=function(a){a=this.$1[a];return a==null?null:a};b.update=function(a){a=d("ConstUriUtils").getUri(a);if(a!=null){var b=a.getQueryParams();a=a.getDomain()+a.getPath();var c=b.get("oe");c!=null&&this.$2(a,"oe",String(b.get("oe")));b.get("oh")!=null&&this.$2(a,"oh",String(b.get("oh")))}};return a}();g["default"]=a}),98);
__d("VideoPlayerSurface.react",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return this.props.children!=null?this.props.children:null};return b}(a.PureComponent);g["default"]=b}),98);
__d("OzBufferVTTCaptionsVisibleStrategy",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.isActive=function(){return!this.$1()};b.getBufferTarget=function(){return 0};return a}();f["default"]=a}),66);
__d("oz-player/utils/OzAbrUtils",[],(function(a,b,c,d,e,f){"use strict";a=function(a,b,c,d){var e=a.getNumber("resolution_constraint_factor");if(e===0)return b;var f=b.filter(function(b){var f=b.getWidth()<=c.width*d*e;b=b.getHeight()<=c.height*d*e;return a.getBool("use_strict_resolution_constraint")?f&&b:f||b});return!f.length?[b[0]]:f};b=function(a,b,c,d,e,f){b=b?a.getNumber("min_switch_interval"):a.getNumber("initial_switch_interval");d=d>=a.getNumber("abr_min_bandwidth_samples");var g=a.getNumber("abr_eval_buffer_threshold");c=!g||c>=g;g=null;e+a.getNumber("min_eval_interval")>Date.now()?g="min_eval_interval":f+b>Date.now()?g="min_switch_interval":!d?g="min_bandwidth_samples":c||(g="buffer_threshold_not_satisfied");return g};f.excludeLargeRepresentations=a;f.getReasonToPreventEvaluation=b}),66);
__d("oz-player/utils/OzBufferingUtils",[],(function(a,b,c,d,e,f){"use strict";e=.1;var g=1,h=.2;function a(a,b,c){if(i(a,c))return!0;c=a.currentTime;var d=0;for(var e=0;e<a.buffered.length;e++){var f=a.buffered.start(e),g=a.buffered.end(e);if(f<=c&&g>=c){d=g;break}}return d-c>b}function i(a,b){var c=a.currentTime,d=0;for(var e=0;e<a.buffered.length;e++){var f=a.buffered.start(e),g=a.buffered.end(e);if(f<=c&&g>=c){d=g;break}}return Math.abs(d-b)<=h||Math.abs(c-b)<=h}function b(a,b){a=a?a.getSourceBufferState():null;if(!a)return 0;b=b.getCurrentTime();return j(b,a.getBufferedRanges())}function j(a,b){var c=null;for(var d=0;d<b.length;d++){var e=b[d];e.startTime<=a&&e.endTime>a&&(c=e)}return!c?0:c.endTime-a}function c(a){var b=[];for(var c=0;c<a.buffered.length;c++)b.push({rangeStart:a.buffered.start(c),rangeEnd:a.buffered.end(c)});return b}function d(a,b,c,d){if(c.length===0||b.size===0)return!1;var e=null;for(var f=0;f<c.length;f++){var g=c[f],h=b.get(g);if(l(a,0,h)){e=g;break}}if(e==null)return!1;var i=!0;b.forEach(function(c,b){if(e===b)return;b=c.getBufferedRanges();b.forEach(function(b){i=k(a,b,d,i)})});return!i}function k(a,b,c,d){return a>=b.startTime&&a<b.endTime+c?!1:d}function l(a,b,c){b===void 0&&(b=0);if(c){c=c.getBufferedRanges();for(var d=0;d<c.length;d++)if(c[d].startTime<=a&&c[d].endTime>a&&c[d].endTime-a>b)return!0}return!1}f.BUFFER_UNDERFLOW_THRESHOLD=e;f.BUFFER_OVERFLOW_THRESHOLD=g;f.BUFFER_FUDGE_FACTOR=h;f.hasEnoughBuffer=a;f.hasBufferedToOrReachedEnd=i;f.getBufferAheadFromPlaybackStates=b;f.getBufferAheadFromCurrentTime=j;f.getNumericalRangesFromSourceBuffer=c;f.hasEnoughPartialBuffer=d;f.hasBuffer=l}),66);
__d("oz-player/utils/OzPlaybackRestrictionsUtils",[],(function(a,b,c,d,e,f){"use strict";var g=function(a,b){return a.getBandwidth()-b.getBandwidth()};a=function(a,b,c,d){if(d.length===0)return[];d.sort(g);a=b.reduce(function(a,b){return b.applyRestriction(a,c)},d);return a};f.applyVideoPlaybackRestrictions=a}),66);
__d("OzSystemicRiskABRManager",["MosUtils","OzSystemicRiskUtils","oz-player/networks/OzBandwidthEstimator","oz-player/utils/OzAbrUtils","oz-player/utils/OzBufferingUtils","oz-player/utils/OzPlaybackRestrictionsUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=6e4,i=2e3,j={BANDWIDTH:"br",BUFFER:"vb",ENCODING:"er",LOW_MOS:"lm",MULTIPLIER:"m",PREVIOUS_MOS:"pm",PREVIOUS_RESOLUTION:"pr"};a=function(){function a(a,b,c,d,e,f,g,h){this.$11=!1,this.$1=a,this.$2=b,this.$3=c,this.$4=d,this.$5=e,this.$7=f,this.$8=g,this.$9=h}var b=a.prototype;b.setSourceBuffer=function(a){this.$6=a};b.updateRepresentations=function(a){var b=this;this.$3=a;a=this.$3.find(function(a){return a.getDisplayLabel()===b.$2.getDisplayLabel()});this.$2=(a=a)!=null?a:this.$3[0]};b.getBestRepresentation=function(a){var b=this.$1.getLegacyConfig(),e=d("oz-player/utils/OzBufferingUtils").getBufferAheadFromPlaybackStates(this.$6,this.$5),f=this.$5.getDuration();f=isNaN(f)?h:f;if(this.$3.length===0){this.$10="no available representations";return this.$2}var g=this.$5.getCurrentTime();f=this.$9==="static"?(f-g)*1e3:h;g=this.$8();a=b.getBool("systemic_risk_use_fetch_range_duration",!1)?this.$12(a):i;var j=b.getBool("use_bandwidth_estimate_from_headers_in_abr",!1)?c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnosticsFromHeaders(b):c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(b);if(j==null){this.$10="missing bandwidth diagnostics";return this.$2}var k=this.$13(this.$3).sort(function(a,b){return a.getBandwidth()-b.getBandwidth()}),l=null,m=null,n=null;for(var o=0;o<k.length;o++){var p=k[Math.max(o-1,0)],q=this.$14(p,g);p=Math.min(p.getHeight(),p.getWidth());m=d("OzSystemicRiskUtils").getRiskFactorsForRepresentation({bandwidthDiagnostics:j,bitrate:k[o].getBandwidth(),bufferAhead:e,config:this.$1.getLegacyConfig(),hasMadeInitialDecision:this.$11,initialRiskFactor:b.getNumber("systemic_risk_abr_initial_risk_factor",1),lowMosResolution:b.getNumber("systemic_risk_abr_low_mos_resolution",0),minWatchableMos:b.getNumber("systemic_risk_abr_min_watchable_mos",0),previousMos:q,previousResolution:p,remainingVideoDurationMs:f,segmentFetchRangeDurationMs:a});q=m;p=q.multiplier;if(isNaN(p)){n=m;l=this.$2;break}q=d("OzSystemicRiskUtils").isEffectiveBitrateBelowBandwidthEstimate(k[o].getBandwidth(),m.multiplier,a,j);if(q)n=m,l=k[o];else break}l==null?this.$2=b.getBool("respect_playback_restrictions_in_abr_fallback",!1)&&k.length>0?k[0]:this.$3[0]:this.$2=l;this.$15((p=n)!=null?p:m,{isSystemicRiskABREnabled:b.getBool("use_systemic_risk_abr",!1),noRepresentationSelected:l==null,representationCount:k.length});this.$11||(this.$11=!0);return this.$2};b.$12=function(a){var b=i;if(a!=null&&a.length>0){var c=a[0].getTimeRange().startTime;a=a[a.length-1].getTimeRange().endTime;a-c>0&&(b=(a-c)*1e3)}return b};b.$14=function(a,b){a=a.getCustomField("playbackResolutionMos");a=d("MosUtils").parsePlaybackMos(String(a));return a!=null?d("MosUtils").getMosValue(a,d("MosUtils").getQualityLabel(b.width,b.height)):null};b.$13=function(a){var b=this;if(!this.$1.getLegacyConfig().getBool("systemic_risk_abr_apply_representation_restrictions",!1))return a;var c=this.$1.getLegacyConfig().getBool("exclude_large_representations_after_restrictions",!1),e=a;a=function(){e=d("oz-player/utils/OzAbrUtils").excludeLargeRepresentations(b.$1,e,b.$8(),b.$7)};var f=function(){e=d("oz-player/utils/OzPlaybackRestrictionsUtils").applyVideoPlaybackRestrictions(b.$1,b.$4,b.$8(),e)};c||(a(),f());c&&(f(),a());return e};b.$15=function(a,b){if(a==null)return;var c=b.isSystemicRiskABREnabled,d=b.noRepresentationSelected;b=b.representationCount;this.$10=[[j.LOW_MOS,a.lowMos],[j.ENCODING,a.encoding],[j.BANDWIDTH,a.bandwidth],[j.MULTIPLIER,a.multiplier],[j.BUFFER,a.buffer],[j.PREVIOUS_MOS,a.previousMos],[j.PREVIOUS_RESOLUTION,a.previousResolution]].reduce(function(a,b){var c=b[1],d="";switch(typeof c){case"number":d=c.toFixed(1);break;case"boolean":d=c?"1":"0";break;default:d="null"}return a+(b[0]+": "+d+";")},"");c||(this.$10+="disabled;");d&&(this.$10+="none-selected-of-"+b+";")};b.getLastEvaluationReason=function(){return this.$10};return a}();g["default"]=a}),98);
__d("VideoPlayerImplementationLoadSequenceManager",["setTimeout"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[],this.$2=[]}var b=a.prototype;b.schedule=function(a,b,d){var e=this,f={load:d,maximumBlockTimeMs:a.getNumber("load_sequence_max_delay_ms",0),sequence:b},g=a.getNumber("load_sequence_only_prioritize_first_count",0);g>0?d=!this.$2.find(function(a){return a.sequence<g}):d=!this.$2.find(function(a){return a.sequence<b});d?this.$3(f):(this.$1.push(f),c("setTimeout")(function(){return e.$4(f)},f.maximumBlockTimeMs));return function(){return e.$5(f)}};b.$4=function(a){var b=this.$1.find(function(b){return b===a});b&&(this.$1=this.$1.filter(function(b){return b!==a}),this.$3(b))};b.$3=function(a){var b=this;this.$2.push(a);a.load().then(function(){return b.$6(a)})["catch"](function(c){b.$6(a);throw c});c("setTimeout")(function(){return b.$6(a)},a.maximumBlockTimeMs)};b.$7=function(){var a=this,b=Math.min.apply(Math,this.$1.map(function(a){return a.sequence})),c=this.$1.filter(function(a){return a.sequence===b});c.forEach(function(b){return a.$4(b)})};b.$5=function(a){this.$1=this.$1.filter(function(b){return b!==a})};b.$6=function(a){if(!this.$2.find(function(b){return b===a}))return;this.$2=this.$2.filter(function(b){return b!==a});var b=!!this.$2.find(function(b){return b.sequence===a.sequence});b&&this.$7()};return a}();b=new a();d=b;g["default"]=d}),98);
__d("getAvailableMimeCodecsFromDashManifest",[],(function(a,b,c,d,e,f){"use strict";function g(a){var b=/^(audio|video)\/.*$/;return b.test(a)}function a(a){var b=[],c=window.MediaSource;if(a!=null){var d=/mimeType=\"([^\"]*)\"[^\>]*codecs=\"([^\"]*)\"/g,e=/codecs=\"([^\"]*)\"[^\>]*mimeType=\"([^\"]*)\"/g,f,h=[];while(f=d.exec(a))h.push([f[1],f[2]]);while(f=e.exec(a))h.push([f[2],f[1]]);for(d=0;d<h.length;d++){f=h[d];a=f[0];e=f[1];f=a+'; codecs="'+e+'"';var i=a.startsWith("audio")?"audio":a.startsWith("video")?"video":"other",j=!0,k=!1;g(f)&&(k=!0,j=c?c.isTypeSupported(f):!1);b.push({codecs:e,isRequiredForPlayback:k,isTypeSupported:j,mimeCodec:f,mimeType:a,representationType:i})}}return b}f["default"]=a}),66);
__d("VideoPlayerOzImplementationData",["err","getAvailableMimeCodecsFromDashManifest"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.canUseOz,d=a.dashManifestUrl,e=a.dashManifestUrlOverride_DO_NOT_USE,f=a.dashManifestXmlString,g=a.experimentationConfig,h=a.initialAudioUserPreferredLanguage;a=a.minQualityPreference;if(b!==!0){b=c("err")("The DASH player is not available for this video");b.name="VideoImplementationsDashPlayerUnavailable";return b}b=e!=null?null:f==null||f===""?null:f;f=e!=null?e:d==null||d===""?null:d;if(b==null&&f==null){e=c("err")("video has no manifest and no manifest URL");e.name="VideoImplementationsNoManifestOrURL";return e}if(!window.MediaSource){d=c("err")("MediaSource is unsupported");d.name="VideoImplementationsMediaSourceUnsupported";return d}if(b!=null){e=c("getAvailableMimeCodecsFromDashManifest")(b).filter(function(a){return a.isRequiredForPlayback});d=e.filter(function(a){return!a.isTypeSupported});if(d.length>0){d=c("err")("%s out of %s codecs in DASH manifest required for playback are unsupported: %s",String(d.length),String(e.length),e.map(function(a){return a.mimeType+"/"+a.codecs+"="+(a.isTypeSupported?"yes":"no")}).join(", "));d.name="VideoImplementationsDashManifestUnsupportedCodecs";return d}}return{experimentationConfig:g,initialAudioUserPreferredLanguage:(e=h)!=null?e:null,manifest:b,manifestUrl:f,minQualityPreference:(d=a)!=null?d:null,seoWebCrawlerLookasideUrl:f}}g.makeOzImplementationData=a}),98);
__d("handleVideoPlayerLatencyLevelChange",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c,d){if(a&&b&&c){var e=a.getAllContexts().latency_level;c=[];try{c=JSON.parse(a.getString("seek_on_latency_level_change_allowed","[]"))}catch(a){}c=c.some(function(a){return a.length===2&&a[0]===e&&a[1]===d});a.setContext("latency_level",d);if(!c)return;c=b.getDuration();c=c!=null?c+a.getNumber("live_initial_playback_position",0):null;c!=null&&b.setPlayheadPosition(c)}}f["default"]=a}),66);
__d("VideoPlayerOzImplementationEngineExtrasAPI",["VideoPlayerOzWWWGlobalConfig","emptyFunction","gkx","handleVideoPlayerLatencyLevelChange","oz-player/networks/OzBandwidthEstimator"],(function(a,b,c,d,e,f,g){"use strict";b=c("emptyFunction");function h(a){return a.getSelectedVideoQuality()}function i(a){a=a.getCurrentPlayingAudioTrackID();return a==null?null:a}function j(a){a=a.getCurrentVideoRepresentation();return a==null?"":a.getDisplayLabel()}function k(a){a=a.getIsVideoQualityAdaptationEnabled()?"auto":a.getSelectedVideoQuality();return a}function l(a){return a.getSelectedAudioTrackID()}function m(a){return(a=(a=a.getMpd())==null?void 0:a.getCustomField("fbProjection"))!=null?a:null}function n(a,b){var c=k(a);if(b==="notselected"||b===c)return!1;else if(b==="auto"){a.enableVideoQualityAdaptation();return!0}else if(b!==a.getSelectedVideoQuality()){c=b;a.switchToVideoQuality(c);return!0}else return!1}function o(a,b){var c=l(a);if(b===null||b===c)return!1;else{c=b;a.switchToAudioTrack(c);return!0}}function a(a){var b=a.getConfig,d=a.getOzPlayer,e=a.getVideoElementAPI;a={getApproximateFBLSToPlayerDisplayLatency:function(){var a;return(a=(a=d())==null?void 0:a.getApproximateFBLSToPlayerDisplayLatency())!=null?a:null},getAudioRepresentationIDAtTime:function(a){var b;b=(b=d())==null?void 0:b.getAudioRepresentationIDAtTime(a);return(a=b)!=null?a:null},getAvailableAudioTracks:function(){var a;a=(a=d())==null?void 0:a.getAudioTracks();if(!a)return[];a=a.map(function(a){return{displayLabel:a.displayLabel,id:a.id,lang:a.lang,role:a.role}});return a},getAvailableVideoQualities:function(){var a;return(a=(a=d())==null?void 0:a.getVideoQualities())!=null?a:[]},getCurrentAudioRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentAudioRepresentation())!=null?a:null},getCurrentPlayingAudioTrackID:function(){var a=d();return a?i(a):null},getCurrentPlayingVideoQuality:function(){var a=d();return a?j(a):""},getCurrentTargetVideoQuality:function(){var a=d();return a?h(a):""},getCurrentVideoRepresentation:function(){var a;return(a=(a=d())==null?void 0:a.getCurrentVideoRepresentation())!=null?a:null},getEstimatedBandwidth:function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))},getInbandCaptionsAutogeneratedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))},getInbandCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromUsingASRCaptions"))||Boolean(a==null?void 0:a.getCustomField("hasInbandCaptionsFromAccessibility"))},getManifestIdentifier:function(){var a;a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getCustomField("fbManifestIdentifier");return a!=null?String(a):null},getMpdValidationErrors:function(){var a;a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getCustomField("validationErrors");return a!=null?String(a):null},getPerfLoggerProvider:function(){var a=d();return a?a.getPerfLoggerProvider():null},getRepresentationCaptionsExpectedFromManifest:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("hasVTTRepresentationCaptions"))},getStreamType:function(){return"dash"},getUserSelectedAudioTrackID:function(){var a=d();return a?l(a):null},getUserSelectedVideoQuality:function(){var a=d();return a?k(a):""},getVideoProjectionType:function(){var a=d();return a!=null?m(a):null},getVideoRepresentationIDAtTime:function(a){var b;b=(b=d())==null?void 0:b.getVideoRepresentationIDAtTime(a);return(a=b)!=null?a:null},getVideoRepresentations:function(){var a;return(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations())!=null?a:null},isDrm:function(){var a;return Boolean((a=d())==null?void 0:a.isDrm())},isFBIsLiveTemplated:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isLiveTemplated"))},isFBMS:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBMS"))},isFBWasLive:function(){var a;a=(a=d())==null?void 0:a.getMpd();return Boolean(a==null?void 0:a.getCustomField("isFBWasLive"))},isPredictiveDash:function(){var a;a=(a=(a=d())==null?void 0:(a=a.getMpd())==null?void 0:a.getVideoRepresentations()[0])!=null?a:null;return a!==null&&a.canPredict()},setDimensions:function(a){},setEnableLiveheadCatchup:function(a){var b=d();b!=null&&b.setEnableLiveheadCatchup(a)},setLatencyLevel:function(a){c("handleVideoPlayerLatencyLevelChange")(b(),e(),d(),a)},setUserSelectedAudioTrackID:function(a){var b=d();b!=null&&o(b,a)},setUserSelectedVideoQuality:function(a){var b=d();b!=null&&n(b,a)}};return a}g.createVideoPlayerOzImplementationEngineExtrasAPI=a}),98);
__d("OzActiveActiveFailoverNetworkRequestStreamHandler",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.onResponse=function(a,b){var c=a.headers;c&&c.has("x-fb-video-replica")&&this.$1(a,b);return null};b.onError=function(a,b){return null};return a}();f["default"]=a}),66);
__d("OzCustomParsers",[],(function(a,b,c,d,e,f){function a(){return new Map([["fbProjection",function(a){try{return a.Period[0].AdaptationSet[0].$.FBProjection||null}catch(a){return null}}],["hasInbandCaptionsFromAccessibility",function(a){a=a.Period[0];a=a&&a.AdaptationSet[0].Accessibility;return a&&a[0]?a[0].$.schemeIdUri==="urn:scte:dash:cc:cea-608:2015":!1}],["hasInbandCaptionsFromUsingASRCaptions",function(a){a=Number.parseInt(a.$.usingASRCaptions,0);return!isNaN(a)&&a!=0}],["hasInbandCaptionsFromIsUsingAsrCaptionsEmployeeDogfooding",function(a){a=Number.parseInt(a.$.isUsingAsrCaptionsEmployeeDogfooding,0);return!isNaN(a)&&a!=0}],["hasVTTRepresentationCaptions",function(a){return a.Period[0].AdaptationSet.find(function(a){var b;return((b=a.$.mimeType)==null?void 0:b.startsWith("application"))&&a.$.lang!=null})!=null}],["isLiveTemplated",function(a){return a.$.FBIsLiveTemplated==="true"}],["isFBMS",function(a){return a.$.FBMS==="true"}],["isFBWasLive",function(a){return a.$.FBWasLive==="true"}],["loapStreamType",function(a){return a.$.loapStreamType?parseInt(a.$.loapStreamType,10):0}],["fbManifestIdentifier",function(a){return(a=a.$.FBManifestIdentifier)!=null?a:""}],["lastVideoFrameTs",function(a){return a.$.lastVideoFrameTs?Number.parseInt(a.$.lastVideoFrameTs,10):null}],["currentServerTimeMs",function(a){return a.$.currentServerTimeMs?Number.parseInt(a.$.currentServerTimeMs,10):null}],["validationErrors",function(a){return(a=a.$.validationErrors)!=null?a:""}]])}f.createOzCustomParser=a}),66);
__d("oz-player/manifests/OzSegmentOptions",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=!1,this.$2=null}var b=a.prototype;b.setSegmentNumDecisionTime=function(a){this.$2=a};b.getSegmentNumDecisionTime=function(){return this.$2};b.setIsDVLEnabled=function(a){this.$1=a};b.isDVLEnabled=function(){return this.$1};return a}();f["default"]=a}),66);
__d("oz-player/shims/www/OzURIWWWImplConstUri",["ConstUriUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.getQueryParams();var b={};a.forEach(function(a,c){typeof a==="string"||typeof a==="number"?b[c]=a:b[c]=String(a)});return b}a=function(){function a(a){this.$1=d("ConstUriUtils").getUri(a);if(this.$1==null)throw new Error("Invalid URI passed to OzURI");this.$2=h(this.$1)}var b=a.prototype;b.addQueryData=function(a,b){var c=this.$1;if(typeof a==="string"){var d;c=(d=c)==null?void 0:d.addQueryParam(a,b===void 0?"":b)}else{var e=new Map();Object.keys(a).forEach(function(b){e.set(b,a[b])});c=(d=c)==null?void 0:d.addQueryParams(e)}c!=null&&(this.$1=c,this.$2=h(this.$1))};b.getQueryData=function(){return this.$2};b.getDomain=function(){var a;return(a=(a=this.$1)==null?void 0:a.getDomain())!=null?a:""};b.toString=function(){var a;return(a=(a=this.$1)==null?void 0:a.toString())!=null?a:""};b.getPath=function(){var a;return(a=(a=this.$1)==null?void 0:a.getPath())!=null?a:""};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/OzURIWWW",["oz-player/shims/www/OzURIWWWImplConstUri"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzURIWWWImplConstUri")}),98);
__d("oz-player/shims/OzURI",["oz-player/shims/www/OzURIWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/OzURIWWW")}),98);
__d("oz-player/utils/OzReadableStreamUtils",["oz-player/utils/ozConcatUint8Arrays"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof TextDecoder!=="undefined"?function(a){return new TextDecoder("utf-8").decode(new Uint8Array(a))}:function(a){return String.fromCharCode.apply(null,a)};function i(a){var b=[],d=function c(){return a.read().then(function(a){var d=a.value;a=a.done;if(a)return null;if(!d)return null;b.push(d);return c()})};return d().then(function(){var a=c("oz-player/utils/ozConcatUint8Arrays")(b);a=a.view;return a})}function a(a){return i(a).then(function(a){return h(a)})}function b(a){var b=new Uint8Array(a.length);return b.map(function(b,c){return a.charCodeAt(c)})}g.pumpAllData=i;g.pumpString=a;g.stringToUint8Array=b}),98);
__d("OzCustomRepresentationParsers",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzURI","oz-player/utils/OzReadableStreamUtils"],(function(a,b,c,d,e,f,g){function a(a){var b=a.ozConfig,e=a.startTimestamp;a={timescale:function(a){a=a.SegmentTemplate;if(a&&a.length>0){a=a[0].$;if(a)return Number.parseInt(a.timescale,0)||null}return null}};b.getBool("parse_initialization_binary",!1)&&(a.initializationBinary=function(a){try{a=window.atob(a.FBInitializationBinary[0]._);return d("oz-player/utils/OzReadableStreamUtils").stringToUint8Array(a)}catch(a){return null}});a.playbackResolutionMos=function(a){try{return a.$.FBPlaybackResolutionMos}catch(a){return null}};a.qualityLabel=function(a){try{return a.$.FBQualityLabel}catch(a){return null}};b.getBool("parse_first_segment",!1)&&(a.firstSegmentParser=function(a){if(e!=null&&e>0)return null;try{var b=a.SegmentBase[0].$.FBFirstSegmentRange.split("-").map(Number),d={startByte:b[0],endByte:b[1]};b=a.BaseURL[0]._;var f=new(c("oz-player/shims/OzURI"))(b),g=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){return f},getByteRange:function(){return d},getTimeRange:function(){return{startTime:0,endTime:2}},getSequenceNumber:function(){return null},getOptions:function(){return g}}}catch(a){return null}});return a}g.createOzCustomRepresentationParsers=a}),98);
__d("oz-player/manifests/SegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/shims/OzEventEmitter","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h=1e-4;a=function(){function a(a,b,d,e,f,g){g===void 0&&(g=!1),this.$7=new(c("oz-player/shims/OzEventEmitter"))(),this.$10=null,this.$8=a,this.$2=b,this.$3=d,this.$1=f,this.$4=e,this.$5=this.$11(this.$4),this.$6=g,this.$9=this.$8.getNumber("live_numerical_error_epsilon")}var b=a.prototype;b.getSegmentByTime=function(a){a=this.$12(a);a=a*this.$3;var b=null;for(var c=this.$4.length-1;c>=0;c--){var e=this.$4[c];if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(e.t+e.d*(e.r+1),a,this.$9))break;b=e}if(b===null)return null;if(d("oz-player/utils/OzNumericalHelper").greaterThan(b.t,a,this.$9))return null;e=Math.max(0,Math.floor((a-b.t+this.$9)/b.d));return this.$13(b,e)};b.getSegment=function(a){var b=0;a=a;while(a>=0&&b<this.$4.length){var c=this.$4[b];c=c.r;c=c+1;if(a>=c){a-=c;b++;continue}break}c=this.$4[b];return!c?null:this.$13(c,a)};b.getSegmentAfter=function(a){a=a.getTimeRange().endTime;return this.getSegmentByTime(a)};b.getPredictedSegmentAfter=function(a){return null};b.canPredict=function(){return!1};b.canApproximateId=function(){return!1};b.isEndingSegment=function(a){if(!this.$4||!this.$4.length||!this.$6)return!1;var b=this.$4[this.$4.length-1],c=b.r;b=this.$13(b,c);return Math.abs(b.getTimeRange().startTime-a.getTimeRange().startTime)+Math.abs(b.getTimeRange().endTime-a.getTimeRange().endTime)<h};b.updateWith=function(b){b instanceof a||c("oz-player/shims/ozvariant")(0,646),this.$6=b.$6,this.$14(b.$4),this.$15(b.$4),this.$7.emit("segment_updated")};b.getTimeRanges=function(){return this.$10?this.$16(this.$5,this.$10):this.$5};b.blockTimeRange=function(a){this.$10=a};b.$16=function(a,b){return d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$8,a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}),{rangeStart:b.startTime,rangeEnd:b.endTime}).map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd==null?Infinity:a.rangeEnd}})};b.addUpdateListener=function(a){return this.$7.addListener("segment_updated",a)};b.$12=function(a){var b=a,c=d("oz-player/utils/OzNumericalRangeUtil").findCurrentRangeIndex(this.$8,a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));if(c===-1){c=d("oz-player/utils/OzNumericalRangeUtil").findNextRangeIndex(a,this.getTimeRanges().map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}));c!==-1&&(b=this.getTimeRanges()[c].startTime)}return b};b.$14=function(a){var b;(b=this.$4).splice.apply(b,[0,this.$4.length].concat(a));return};b.$15=function(a){a=this.$11(a);a=d("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$5.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}}).concat(a.map(function(a){return{rangeStart:a.startTime,rangeEnd:a.endTime}})));this.$5=a.map(function(a){return{startTime:a.rangeStart,endTime:a.rangeEnd==null?Infinity:a.rangeEnd}})};b.$11=function(a){var b=this;a=d("oz-player/utils/OzNumericalRangeUtil").mergeSortedRanges(this.$4.map(function(a){var c=b.$13(a,0).getTimeRange().startTime;a=b.$13(a,a.r).getTimeRange().endTime;return{rangeStart:c,rangeEnd:a}}));return a.map(function(a){var b=a.rangeStart;a=a.rangeEnd;a=a==null?Infinity:a;return{startTime:b,endTime:a}})};b.$13=function(a,b){var d=this;b===void 0&&(b=0);var e=a.t,f=a.d,g=a.r;a=a.id;var h=e+f*b,i=this.$8.getBool("use_scf_timebased_segments"),j=a!=null?a-(g-b):null,k=new(c("oz-player/manifests/OzSegmentOptions"))();return{getData:function(){return null},getURI:function(){var a=d.$1!=null&&j!=null?d.$1.replace("$Number$",j.toString()):d.$2.replace("$Time$",h.toString());a=new(c("oz-player/shims/OzURI"))(a);i&&a.addQueryData("_nc_scf",1);return a},getTimeRange:function(){return{startTime:h/d.$3,endTime:(h+f)/d.$3}},getByteRange:function(){return null},getSequenceNumber:function(){return null},getOptions:function(){return k}}};b.getSegmentGroups=function(){return this.$4};b.getEndingSegment=function(){if(this.$4.length==0)return null;var a=this.$4[this.$4.length-1],b=a.r;return this.$13(a,b)};b.forceParseIfNotParsed=function(){};b.getMaxGopSec=function(){return null};return a}();g["default"]=a}),98);
__d("oz-player/utils/OzUrlHelper",[],(function(a,b,c,d,e,f){"use strict";function a(a){a=a;var b=a.indexOf("://"),c=a.indexOf("/",b+3);c>b&&(a=a.substring(c));return a}function g(a){a=a;var b=a.lastIndexOf("/"),c=a.lastIndexOf("://");b>c+2&&(a=a.substring(0,b+1));return a}function h(a){a=a;a=g(a);return a.endsWith("/")?g(a.substring(0,a.length-1)):a}function i(a,b){a=g(a);b=b;while(b.length)if(b.startsWith("./"))b=b.substring(2);else if(b.startsWith("../"))b=b.substring(3),a=h(a),a.endsWith("/")&&(a=a.substring(0,a.length-1));else if(b.startsWith(".."))b=b.substring(2),a=h(a);else if(b.startsWith("."))b=b.substring(1);else break;b&&b.length&&(a.endsWith("/")||(a+="/"),a+=b);return a}function j(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];if(!b||!b.length)return"";if(b.length===1)return b[0];var d=b.shift();while(b.length>0)d=i(d,b.shift());return d}function b(a,b){return k(b)?b:j(a,b)}function k(a){var b=/^https?:\/\//i;return b.test(a)}f.stripToPathAndQueryOnly=a;f.joinRelativeUrlPaths=j;f.joinUrlPaths=b}),66);
__d("PredictedSegmentTemplateSegmentsContainer",["oz-player/manifests/OzSegmentOptions","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/shims/OzURI","oz-player/shims/ozvariant","oz-player/utils/OzNumericalHelper","oz-player/utils/OzNumericalRangeUtil","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c,d,e,f,g,h,i,j,k){k===void 0&&(k=!1);c=a.call(this,b,c,e,f,null,k)||this;c.$PredictedSegmentTemplateSegmentsContainer9=0;c.$PredictedSegmentTemplateSegmentsContainer11=null;c.$PredictedSegmentTemplateSegmentsContainer10=d;c.$PredictedSegmentTemplateSegmentsContainer8=k;c.$PredictedSegmentTemplateSegmentsContainer12=f;c.$PredictedSegmentTemplateSegmentsContainer7=b;c.$PredictedSegmentTemplateSegmentsContainer5=e;c.$PredictedSegmentTemplateSegmentsContainer1=g;c.$PredictedSegmentTemplateSegmentsContainer3=i;c.$PredictedSegmentTemplateSegmentsContainer2=h;c.$PredictedSegmentTemplateSegmentsContainer4=j;c.$PredictedSegmentTemplateSegmentsContainer6=b.getNumber("live_numerical_error_epsilon");for(d=0;d<c.$PredictedSegmentTemplateSegmentsContainer12.length;d++)c.$PredictedSegmentTemplateSegmentsContainer9=Math.max(c.$PredictedSegmentTemplateSegmentsContainer12[d].d,c.$PredictedSegmentTemplateSegmentsContainer9);return c}var e=b.prototype;e.$PredictedSegmentTemplateSegmentsContainer13=function(){if(this.$PredictedSegmentTemplateSegmentsContainer2!=null&&this.$PredictedSegmentTemplateSegmentsContainer4!=null)return{predictedAverageDuration:this.$PredictedSegmentTemplateSegmentsContainer4,predictedMediaStartNumber:this.$PredictedSegmentTemplateSegmentsContainer2};else return null};e.$PredictedSegmentTemplateSegmentsContainer14=function(a,b,e){var f=this;Number.isNaN(e)&&c("oz-player/shims/ozvariant")(0,54238);var g=this.$PredictedSegmentTemplateSegmentsContainer1.replace("$Number$",e.toString()),h=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getString("cdn_experiment_id",""),i=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getNumber("use_dvl_with_timeout_ms",0),j=new(c("oz-player/manifests/OzSegmentOptions"))();return{getByteRange:function(){return null},getData:function(){return null},getOptions:function(){return j},getSequenceNumber:function(){return e},getTimeRange:function(){return{endTime:b,startTime:a}},getURI:function(){var a=new(c("oz-player/shims/OzURI"))(g);h.length!==0&&a.addQueryData("_nc_expid",h);var b=j.isDVLEnabled();b&&i>0&&f.$PredictedSegmentTemplateSegmentsContainer10!=null&&(a.addQueryData("_nc_dinfo-manifest-url",d("oz-player/utils/OzUrlHelper").stripToPathAndQueryOnly(f.$PredictedSegmentTemplateSegmentsContainer10)),a.addQueryData("_nc_dinfo-timeout",i));return a}}};e.updateWith=function(d){d instanceof b||c("oz-player/shims/ozvariant")(0,646);this.$PredictedSegmentTemplateSegmentsContainer3=d.$PredictedSegmentTemplateSegmentsContainer3;this.$PredictedSegmentTemplateSegmentsContainer1=d.$PredictedSegmentTemplateSegmentsContainer1;a.prototype.updateWith.call(this,d);this.$PredictedSegmentTemplateSegmentsContainer12=d.$PredictedSegmentTemplateSegmentsContainer12;this.$PredictedSegmentTemplateSegmentsContainer8=d.$PredictedSegmentTemplateSegmentsContainer8;for(d=0;d<this.$PredictedSegmentTemplateSegmentsContainer12.length;d++)this.$PredictedSegmentTemplateSegmentsContainer9=Math.max(this.$PredictedSegmentTemplateSegmentsContainer12[d].d,this.$PredictedSegmentTemplateSegmentsContainer9)};e.getSegmentByTime=function(a){return this.canApproximateId()?this.$PredictedSegmentTemplateSegmentsContainer15(a):this.$PredictedSegmentTemplateSegmentsContainer16(a)};e.getPredictedSegmentAfter=function(a){a=a!=null?a.getSequenceNumber():null;return a!=null&&this.canPredict()?this.$PredictedSegmentTemplateSegmentsContainer14(0,0,a+1):null};e.blockTimeRange=function(b){this.$PredictedSegmentTemplateSegmentsContainer11=b,a.prototype.blockTimeRange.call(this,b)};e.getTimeRanges=function(){var b=this.$PredictedSegmentTemplateSegmentsContainer13();if(b){b=[{endTime:(this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].d)/this.$PredictedSegmentTemplateSegmentsContainer5,startTime:(this.$PredictedSegmentTemplateSegmentsContainer12[0].t-b.predictedAverageDuration-(this.$PredictedSegmentTemplateSegmentsContainer3-this.$PredictedSegmentTemplateSegmentsContainer12.length-Number(this.$PredictedSegmentTemplateSegmentsContainer2))*Number(b.predictedAverageDuration))/this.$PredictedSegmentTemplateSegmentsContainer5}];var c=this.$PredictedSegmentTemplateSegmentsContainer11;return c==null?b:d("oz-player/utils/OzNumericalRangeUtil").diffSortedRanges(this.$PredictedSegmentTemplateSegmentsContainer7,b.map(function(a){return{rangeEnd:a.endTime,rangeStart:a.startTime}}),{rangeEnd:c.endTime,rangeStart:c.startTime}).map(function(a){return{endTime:a.rangeEnd==null?Infinity:a.rangeEnd,startTime:a.rangeStart}})}else return a.prototype.getTimeRanges.call(this)};e.canPredict=function(){return!0};e.canApproximateId=function(){var a=this.$PredictedSegmentTemplateSegmentsContainer13();return a!=null};e.$PredictedSegmentTemplateSegmentsContainer16=function(a){var b=null;a=a*this.$PredictedSegmentTemplateSegmentsContainer5;var e=this.$PredictedSegmentTemplateSegmentsContainer12.length>0?this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].d:null,f=this.$PredictedSegmentTemplateSegmentsContainer7.getLegacyConfig().getNumber("pdash_future_edgelatency_gops",0);if(e!=null&&e<=a&&f!==0&&a<e+this.$PredictedSegmentTemplateSegmentsContainer9*f){e=a-(this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].t+this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1].d);e=this.$PredictedSegmentTemplateSegmentsContainer9?0:Math.floor(e/this.$PredictedSegmentTemplateSegmentsContainer9);return this.$PredictedSegmentTemplateSegmentsContainer14(0,0,this.$PredictedSegmentTemplateSegmentsContainer3+1+e)}e=0;for(var g=0;this.$PredictedSegmentTemplateSegmentsContainer12.length-1-g>=0;g++){var h=this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1-g];h.r===0||c("oz-player/shims/ozvariant")(0,18769);if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(h.t+h.d*(h.r+1),a,this.$PredictedSegmentTemplateSegmentsContainer6))break;b=h;e=g}if(b===null||f>0&&a<b.t)return null;else return this.$PredictedSegmentTemplateSegmentsContainer14(b.t/this.$PredictedSegmentTemplateSegmentsContainer5,(b.t+b.d)/this.$PredictedSegmentTemplateSegmentsContainer5,this.$PredictedSegmentTemplateSegmentsContainer3-e)};e.$PredictedSegmentTemplateSegmentsContainer15=function(a){var b=a*this.$PredictedSegmentTemplateSegmentsContainer5,c=this.getTimeRanges();if(d("oz-player/utils/OzNumericalHelper").greaterThan(c[0].startTime,a))return null;else if(d("oz-player/utils/OzNumericalHelper").lessThanOrEqual(this.$PredictedSegmentTemplateSegmentsContainer12[0].t,b))return this.$PredictedSegmentTemplateSegmentsContainer16(a);else{c=Math.ceil((this.$PredictedSegmentTemplateSegmentsContainer12[0].t-b)/Number(this.$PredictedSegmentTemplateSegmentsContainer4));b=Math.max(Number(this.$PredictedSegmentTemplateSegmentsContainer2),this.$PredictedSegmentTemplateSegmentsContainer3-this.$PredictedSegmentTemplateSegmentsContainer12.length+1-c);return this.$PredictedSegmentTemplateSegmentsContainer14(a,a+Number(this.$PredictedSegmentTemplateSegmentsContainer4)/this.$PredictedSegmentTemplateSegmentsContainer5,b)}};e.isEndingSegment=function(b){if(!this.$PredictedSegmentTemplateSegmentsContainer8)return!1;var c=b.getSequenceNumber();return c!=null?c>=this.$PredictedSegmentTemplateSegmentsContainer3:a.prototype.isEndingSegment.call(this,b)};e.getEndingSegment=function(){if(this.$PredictedSegmentTemplateSegmentsContainer12.length===0)return null;var a=this.$PredictedSegmentTemplateSegmentsContainer12[this.$PredictedSegmentTemplateSegmentsContainer12.length-1];return this.$PredictedSegmentTemplateSegmentsContainer14(a.t/this.$PredictedSegmentTemplateSegmentsContainer5,(a.t+a.d)/this.$PredictedSegmentTemplateSegmentsContainer5,this.$PredictedSegmentTemplateSegmentsContainer3)};e.getMaxGopSec=function(){return this.$PredictedSegmentTemplateSegmentsContainer9/this.$PredictedSegmentTemplateSegmentsContainer5};return b}(c("oz-player/manifests/SegmentTemplateSegmentsContainer"));g["default"]=a}),98);
__d("oz-player/parsers/OzDefaultSegmentTimelineParser",["oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}a.parseSegments=function(a,b){a=[];b.SegmentTimeline[0].S&&(a=b.SegmentTimeline[0].S.map(function(a){return{t:Number.parseInt(a.$.t,10),d:Number.parseInt(a.$.d,10),r:Number.parseInt(a.$.r||"0",10),id:a.$.id?Number.parseInt(a.$.id,10):void 0}}));return a};var b=a.prototype;b.parseSegmentsContainer=function(b,e,f){return new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(b,d("oz-player/utils/OzUrlHelper").joinUrlPaths(e.baseUrl,f.$.media),Number.parseInt(f.$.timescale,10),a.parseSegments(b,f),null,e.isStaticMpd)};return a}();g["default"]=a}),98);
__d("OzPredictedSegmentTimelineParser",["PredictedSegmentTemplateSegmentsContainer","oz-player/manifests/SegmentTemplateSegmentsContainer","oz-player/parsers/OzDefaultSegmentTimelineParser","oz-player/shims/OzURI","oz-player/utils/OzUrlHelper"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.parseSegmentsContainer=function(a,b,e){var f;if(e.SegmentTimeline[0].$.FBPredictedMedia){f=d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.SegmentTimeline[0].$.FBPredictedMedia);var g=new(c("oz-player/shims/OzURI"))(f);g.addQueryData("_nc_sc",1);f=g.toString()}var h;e.SegmentTimeline[0].$.FBPredictedMediaStartNumber&&(h=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaStartNumber,0));var i;e.SegmentTimeline[0].$.FBPredictedMediaEndNumber&&(i=Number.parseInt(e.SegmentTimeline[0].$.FBPredictedMediaEndNumber,0));var j;e.SegmentTimeline[0].$.FBAverageDuration&&(j=Number.parseInt(e.SegmentTimeline[0].$.FBAverageDuration,0));g=c("oz-player/parsers/OzDefaultSegmentTimelineParser").parseSegments(a,e);return(b.isTemplatedMpd&&h!=null&&j!=null||!b.isTemplatedMpd)&&f!=null&&i!=null?new(c("PredictedSegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),b.mpdUrl,Number.parseInt(e.$.timescale,10),g,f,h,i,j,b.isStaticMpd):new(c("oz-player/manifests/SegmentTemplateSegmentsContainer"))(a,d("oz-player/utils/OzUrlHelper").joinUrlPaths(b.baseUrl,e.$.media),Number.parseInt(e.$.timescale,10),g,f,b.isStaticMpd)};return a}();g["default"]=a}),98);
__d("oz-player/networks/OzTransformStream",["oz-player/shims/OzEventEmitter","oz-player/shims/OzStreams","oz-player/utils/OzError"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this)||this;var f=(b=b==null?void 0:b.errorTransform)!=null?b:function(a){return a},g,h;e.writable=new(d("oz-player/shims/OzStreams").OzWritableStream)({start:function(a){h=a},write:function(a){e.emit("writableWrite",a);try{e.onDataWritten(a)}catch(a){g.error(new(c("oz-player/utils/OzError"))({type:"OZ_STREAM",description:"Error from write handler: "+e.constructor.name,extra:{code:"OZ_S-0",originalError:a}}))}g.enqueue(a)},close:function(){e.emit("writableClose");try{e.onClose()}catch(a){g.error(new(c("oz-player/utils/OzError"))({type:"OZ_STREAM",description:"Error from close handler: "+e.constructor.name,extra:{code:"OZ_S-1",originalError:a}}))}g.close()},abort:function(a){a=f(a);g.error(a)}});e.readable=new(d("oz-player/shims/OzStreams").OzReadableStream)({start:function(a){g=a},cancel:function(a){e.emit("readableCancel",a),h.error(a)}});return e}var e=b.prototype;e.onDataWritten=function(a){};e.onClose=function(){};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("oz-player/shims/www/OzPerformanceWWW",["performance","performanceNow"],(function(a,b,c,d,e,f,g){a={now:function(){return c("performanceNow")()},getEntriesByName:function(a,b){return typeof c("performance").getEntriesByName==="function"?c("performance").getEntriesByName(a,b):[]}};b=a;g["default"]=b}),98);
__d("oz-player/shims/OzPerformance",["oz-player/shims/www/OzPerformanceWWW"],(function(a,b,c,d,e,f,g){g["default"]=c("oz-player/shims/www/OzPerformanceWWW")}),98);
__d("oz-player/utils/OzResourceTimingUtils",["oz-player/shims/OzPerformance"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){a=c("oz-player/shims/OzPerformance").getEntriesByName(a,"resource");return a.reduce(function(a,b){return a==null?b:b.responseEnd<a.responseEnd?a:b},null)};g.getLatestResourceTimingEntry=a}),98);
__d("OzVideoLiveTraceNetworkRequestStreamHandler",["oz-player/networks/OzTransformStream","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){b===void 0&&(b=!1),this.$2=!1,this.$1=a,this.$2=b}var b=a.prototype;b.onResponse=function(a,b){var e=this,f=a.headers,g=null;if(!this.$1)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){var a={},c=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(b);c&&(a.lat=Math.round(c.responseStart-c.requestStart).toString());e.$1&&f&&e.$1(f,g,a)});this.$2&&a.addListener("writableWrite",function(a){g===null?g=[a]:g.push(a)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a}),98);
__d("oz-player/shims/www/ozThrottleWWW",["throttle"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("throttle")}),98);
__d("oz-player/shims/ozThrottle",["oz-player/shims/www/ozThrottleWWW"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("oz-player/shims/www/ozThrottleWWW")}),98);
__d("oz-player/strategies/OzBufferingDetectorStates",["oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=function(){function a(a,b,c){this.$1=a,this.$2=b,this.$3=c}var b=a.prototype;b.handleEvent=function(a,b,c){if(a.type==="pause"||b.paused)return new i(this.$1,this.$2);a=this.$3 instanceof j?this.$1.getInPlayBufferOverflowTarget():this.$1.getStartBufferUnderflowTarget();return d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,a,c)?new j(this.$1,this.$2):this};return a}(),i=function(){function a(a,b){this.$1=a,this.$2=b}var b=a.prototype;b.handleEvent=function(a,b,c){return a.type==="play"||a.type==="playing"||!b.paused?d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,this.$1.getStartBufferUnderflowTarget(),c)?new j(this.$1,this.$2):new h(this.$1,this.$2,this):this};return a}(),j=function(){function a(a,b){this.$1=a,this.$2=b,this.$3=b.getString("stream_types_eligible_for_partial_playback","").split(",")}var b=a.prototype;b.handleEvent=function(a,b,c,e){e===void 0&&(e=new Map());if(a.type==="pause"||b.paused)return new i(this.$1,this.$2);return!d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(b,this.$1.getInPlayBufferUnderflowTarget(),c)&&!this.$4(a,b.currentTime,e)?new h(this.$1,this.$2,this):this};b.$4=function(a,b,c){return a.type==="waiting"?!1:d("oz-player/utils/OzBufferingUtils").hasEnoughPartialBuffer(b,c,this.$3,this.$2.getNumber("partial_playback_buffer_overflow",0))};return a}();g.OzVideoBufferingState=h;g.OzVideoPausedState=i;g.OzVideoPlayingState=j}),98);
__d("oz-player/strategies/OzBufferingStateThresholdManager",["oz-player/shims/OzPerformance","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$3=-Infinity,this.$4=-Infinity,this.$1=a}var b=a.prototype;b.getInPlayBufferUnderflowTarget=function(){return this.$1.getNumber("in_play_buffer_underflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};b.getInPlayBufferOverflowTarget=function(){if(this.$5())return this.$1.getNumber("stream_interrupt_in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD);return c("oz-player/shims/OzPerformance").now()-this.$4<this.$1.getNumber("recent_buffer_timeout_ms",0)?this.$1.getNumber("recent_buffer_in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD):this.$1.getNumber("in_play_buffer_overflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_OVERFLOW_THRESHOLD)};b.getStartBufferUnderflowTarget=function(){return this.$1.getNumber("start_buffer_underflow_target",d("oz-player/utils/OzBufferingUtils").BUFFER_UNDERFLOW_THRESHOLD)};b.notifyBufferingEnd=function(){this.$4=c("oz-player/shims/OzPerformance").now()};b.notifyStreamInterrupted=function(){this.$2=!0};b.notifyStreamResumed=function(){this.$2=!1,this.$3=c("oz-player/shims/OzPerformance").now()};b.$5=function(){var a=this.$1.getNumber("stream_interrupt_buffer_target_timeout_ms",0);return a===0?!1:this.$2||c("oz-player/shims/OzPerformance").now()-this.$3<a};return a}();g["default"]=a}),98);
__d("oz-player/strategies/OzBufferingDetector",["oz-player/shims/OzDOMEventListener","oz-player/shims/OzEventEmitter","oz-player/shims/OzSubscriptionsHandler","oz-player/shims/ozThrottle","oz-player/strategies/OzBufferingDetectorStates","oz-player/strategies/OzBufferingStateThresholdManager","oz-player/utils/OzBufferingUtils"],(function(a,b,c,d,e,f,g){"use strict";var h=150;a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,e,f){var g;g=a.call(this)||this;g.$OzBufferingDetector3=new(c("oz-player/shims/OzSubscriptionsHandler"))();g.$OzBufferingDetector6=new Map();g.$OzBufferingDetector8=null;g.$OzBufferingDetector9=function(a){g.$OzBufferingDetector11(a)};g.$OzBufferingDetector2=b;g.$OzBufferingDetector4=e;g.$OzBufferingDetector5=f;g.$OzBufferingDetector7=new(c("oz-player/strategies/OzBufferingStateThresholdManager"))(e);g.$OzBufferingDetector2.paused?g.$OzBufferingDetector1=new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPausedState)(g.$OzBufferingDetector7,g.$OzBufferingDetector4):g.$OzBufferingDetector1=d("oz-player/utils/OzBufferingUtils").hasEnoughBuffer(g.$OzBufferingDetector2,g.$OzBufferingDetector7.getInPlayBufferUnderflowTarget(),g.$OzBufferingDetector5())?new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState)(g.$OzBufferingDetector7,g.$OzBufferingDetector4):new(d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState)(g.$OzBufferingDetector7,g.$OzBufferingDetector4,null);g.$OzBufferingDetector3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"pause",g.$OzBufferingDetector9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"play",g.$OzBufferingDetector9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"progress",c("oz-player/shims/ozThrottle")(g.$OzBufferingDetector9,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"timeupdate",c("oz-player/shims/ozThrottle")(g.$OzBufferingDetector9,h)),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"seeked",g.$OzBufferingDetector9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"seeking",g.$OzBufferingDetector9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"waiting",g.$OzBufferingDetector9));g.$OzBufferingDetector3.addSubscriptions(c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"canplay",g.$OzBufferingDetector9),c("oz-player/shims/OzDOMEventListener").listenDOMEvent(g.$OzBufferingDetector2,"canplaythrough",g.$OzBufferingDetector9));return g}var e=b.prototype;e.$OzBufferingDetector10=function(){var a=this,b="unavailable",c=this.$OzBufferingDetector7.getInPlayBufferUnderflowTarget();this.$OzBufferingDetector6.forEach(function(e,f){var g=a.$OzBufferingDetector2.currentTime;d("oz-player/utils/OzBufferingUtils").hasBuffer(g,c,e)||(b=b==="unavailable"?f:"audio/video")});return b};e.setSourceBufferState=function(a,b){this.$OzBufferingDetector6.set(a,b)};e.$OzBufferingDetector11=function(a){var b=this.$OzBufferingDetector1.handleEvent(a,this.$OzBufferingDetector2,this.$OzBufferingDetector5(),this.$OzBufferingDetector6),c=this.$OzBufferingDetector1;this.$OzBufferingDetector1=b;var e=b instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState,f=c instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoBufferingState;if(b===c){e&&this.$OzBufferingDetector8&&this.$OzBufferingDetector8.cloneContext().getOperationLogger("buffering_handle_event").setInitiator(a.type).log();return b}if(e){e=c instanceof d("oz-player/strategies/OzBufferingDetectorStates").OzVideoPlayingState?"in_play":"start/unpause";this.$OzBufferingDetector8&&this.$OzBufferingDetector8.cloneContext().getOperationLogger("enter_buffering").setState("buffering").setType(e).setReason(this.$OzBufferingDetector10()).setInitiator(a.type).log();this.emit("enterBuffering",e)}else f&&(this.$OzBufferingDetector8&&this.$OzBufferingDetector8.cloneContext().getOperationLogger("leave_buffering").setInitiator(a.type).log(),this.$OzBufferingDetector7.notifyBufferingEnd(),this.emit("leaveBuffering",{domEventPerfTimestamp:a.timeStamp}));return b};e.notifyStreamInterrupted=function(){this.$OzBufferingDetector7.notifyStreamInterrupted()};e.notifyStreamResumed=function(){this.$OzBufferingDetector7.notifyStreamResumed()};e.attachPerfLoggerProvider=function(a){this.$OzBufferingDetector8=a};e.destroy=function(){this.$OzBufferingDetector3.release()};return b}(c("oz-player/shims/OzEventEmitter"));g["default"]=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplUtils",["OzSystemicRiskABRManager","OzWidevineDrmProvider","gkx","justknobx","oz-player/networks/OzBandwidthEstimator","oz-player/strategies/OzBufferingDetector"],(function(a,b,c,d,e,f,g){"use strict";var h=/(livestream-)?lookaside\.(facebook|workplace)\.com$/;function a(a){return h.test(a.getDomain())}function b(a,b,d,e,f,g){if(f.current!=null)return;var h=!0,i=function(){if(h)return!1;var a=f.current!==j;return a&&c("gkx")("1508440")?!0:!1},j=new(c("oz-player/strategies/OzBufferingDetector"))(a,d,function(){var a=e.getCurrentState();a=a.controlledState;return a.streamEnded?b.getDuration():Infinity});f.current=j;h=!1;a=function(a){if(i())return;if(c("gkx")("1235655"))return;e.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"});a=d.getNumber("ull_fallback_stall_count",0);if(a>0){var b=g.getLoggerState().stallCountTotal;d.getBool("fix_ull_fallback_stall_count",!1)&&(b=g.getLoggerState().inPlayStallCount200ms);e.getCurrentState().controlledState.latencyLevel==="ultra-low"&&b>a&&e.dispatch({payload:{latencyLevel:"low",ullIneligibilityReason:null},type:"implementation_set_latency_level_requested"})}};var k=function(a){if(i())return;e.dispatch({payload:{domEventPerfTimestamp:a.domEventPerfTimestamp},type:"buffering_end_requested"})};j.addListener("enterBuffering",a);j.addListener("leaveBuffering",k)}function d(a){var b=a.accessToken,d=a.graphQLVideoDRMInfo;a=a.videoFBID;var e=[];if(d&&a!=null){var f=c("justknobx")._("717")?null:d.widevineCert;e.push(new(c("OzWidevineDrmProvider"))(a,d.graphApiVideoLicenseUri,d.videoLicenseUriMap,b,(a=f)!=null?a:null))}return e}function e(a){var b=a.VideoPlayerShakaPerformanceLoggerClass,c=a.accessToken,d=a.disableLogging,e=a.getApproximateFBLSToPlayerDisplayLatency,f=a.getBandwidthEstimate,g=a.getPlayerDimensions,h=a.getPlayerFormat,i=a.playbackIsLiveStreaming,j=a.playerInstanceCount,k=a.playerInstanceKey,l=a.playerSuborigin,m=a.playerVersion,n=a.videoElement,o=a.videoFBID;a=a.videoPlayerShakaPerformanceLoggerBuilder;if(d||!a&&(!b||!b.shouldInitialize()))return[];c={accessToken:c,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:f,getPlayerDimensions:g,getPlayerFormat:h,isLive:i,isServableViaFbms:!1,playerInstanceCount:j,playerOrigin:null,playerSuborigin:l,playerVersion:m,representationId:null,uniqueID:k,video:n,videoID:(d=o)!=null?d:""};return a!=null?[a.build(c)]:b?[new b(c)]:[]}function f(a,b){return b>0?b/1e3*-1:a.getNumber("live_initial_playback_position",0)}function i(a,b,c){return b>0&&c>0?(b+c)/1e3:a.getNumber("livehead_fall_behind_block_threshold",0)}function j(a,b){return b>0?b/2/1e3:a.getNumber("live_time_range_block_margin",0)}function k(){return function(a,b,d,e,f,g,h,i){return a.getLegacyConfig().getBool("use_systemic_risk_abr",!1)?new(c("OzSystemicRiskABRManager"))(a,b,d,e,f,g,h,i):null}}function l(a,b){var d=b.experimentationConfig,e=b.getCurrentVideoRepresentation,f=b.getOzCDNSignedQueryParams,g=b.isClientTriggeredTraceEnabled,h=b.playbackIsLiveStreaming,i=b.playbackSessionId;b=b.shouldRefresh403;var j=a.getQueryData(),k;if(h){k={};if(d.getBool("server_side_abr_send_client_estimates",!1)){var l=c("oz-player/networks/OzBandwidthEstimator").getBandwidthDiagnostics(d);l&&(k=babelHelpers["extends"]({},k,{_nc_bwe:String(l.bandwidthEstimate),_nc_bwe_std:String(l.bandwidthStandardDeviation),_nc_ttfb:String(l.timeToFirstByteMsEstimate),_nc_ttfb_std:String(l.timeToFirstByteMsStandardDeviation)}));l=e();l&&(k=babelHelpers["extends"]({},k,{_nc_abr_bitrate:String(l.getBandwidth()),_nc_abr_qlabel:l.getDisplayLabel()}))}c("gkx")("2047")&&(k=babelHelpers["extends"]({},k,{_nc_wclk:"1",_nc_wclk_ms:"1"}))}h&&c("gkx")("1998922")&&(k=babelHelpers["extends"]({},k,{_nc_nc:"1"}));e=d.getNumber("live_video_chunk_duration",0);l=d.getBool("use_bandwidth_estimate_from_headers_in_abr",!1);d=l?c("oz-player/networks/OzBandwidthEstimator").hasRecentBandwidthEstimateFromHeader():!1;h&&e>0&&d&&(k=babelHelpers["extends"]({},k,{chk_dur:e.toString(10)}));c("gkx")("1836350")&&(j.uss!=null&&j.odm!=null&&(k=babelHelpers["extends"]({},k,{manual_redirect:"1"})));g&&(k=babelHelpers["extends"]({},k,{_nc_psid:i}));if(b){l=f();if(l!=null){h=a.getDomain()+a.getPath();d=l.get(h);if(d!=null)for(e in d){k=babelHelpers["extends"]({},k,(j={},j[e]=d[e],j))}}}return k}g.checkShouldIncludeCredentials=a;g.createOzBufferingDetector=b;g.createOzDrmProviders=d;g.createOzPerfLoggerProviders=e;g.calculateInitialPlaybackPositionForDynamicMpd=f;g.calculateLiveheadFallBehindBlockThreshold=i;g.calculateLiveheadFallBehindBlockMargin=j;g.getVideoAbrManagerFactory=k;g.getCustomRequestParametersForURI=l}),98);
__d("OzMinimumSmallestDimensionRestriction",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.applyRestriction=function(a,b){var c=this;if(a.length===0)return[];b=a.filter(function(a){var b=a.getWidth();a=a.getHeight();b=b<a?b:a;return b>=c.$1});return b.length>0?b:[a[a.length-1]]};return a}();f["default"]=a}),66);
__d("OzMosThresholdRestriction",["MosUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3=new Map(),this.$4=a,this.$1=a.getNumber("mos_upper_threshold",0),this.$2=a.getNumber("mos_lower_threshold",0)}var b=a.prototype;b.$5=function(){return this.$4.getBool("cache_mos_threshold",!1)?{mosUpperThreshold:this.$1,mosLowerThreshold:this.$2}:{mosUpperThreshold:this.$4.getNumber("mos_upper_threshold",0),mosLowerThreshold:this.$4.getNumber("mos_lower_threshold",0)}};b.$6=function(a,b){var c=null;if(this.$3.get(a))c=this.$3.get(a);else{var e=a.getCustomField("playbackResolutionMos");e!=null&&(c=d("MosUtils").parsePlaybackMos(String(e)),c&&this.$3.set(a,c))}return c!=null?d("MosUtils").getMosValue(c,d("MosUtils").getQualityLabel(b.width,b.height)):null};b.$7=function(a,b){var c=this,d=null,e=this.$5(),f=e.mosUpperThreshold;a.forEach(function(a){a=c.$6(a,b);a!=null&&a>f&&(d==null||d>a)&&(d=a)});return d==null?a:a.filter(function(a){a=c.$6(a,b);return a==null?!0:a<=f||a===d})};b.$8=function(a,b){var c=this,d=[],e=this.$5(),f=e.mosLowerThreshold;a.forEach(function(a){var e=c.$6(a,b);e!=null&&e>f&&d.push(a)});d.length===0&&d.push(a[a.length-1]);return d};b.applyRestriction=function(a,b){if(a.length===0)return[];a=a;var c=this.$5(),d=c.mosLowerThreshold;c=c.mosUpperThreshold;c>0&&(a=this.$7(a,b));d>0&&(a=this.$8(a,b));return a};return a}();g["default"]=a}),98);
__d("getOzPlaybackRestrictions",["OzMinimumSmallestDimensionRestriction","OzMosThresholdRestriction","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=[];switch(a){case"HD":d.push(new(c("OzMinimumSmallestDimensionRestriction"))(720));break;case"UHD":c("gkx")("3728")&&d.push(new(c("OzMinimumSmallestDimensionRestriction"))(1080));break;default:break}a=b.getNumber("mos_upper_threshold",0);var e=b.getNumber("mos_lower_threshold",0);(a>0||e>0)&&d.push(new(c("OzMosThresholdRestriction"))(b));return d}g["default"]=a}),98);
__d("oz-player/configs/OzPlayerConfigDefaults",[],(function(a,b,c,d,e,f){a={bandwidth_ignore_on_stream_write_samples:!1,bandwidth_use_response_time_adjustment:!1,catchup_use_timeline_range_end_time_as_end:!1,clear_on_seek:!0,debug_live_replay:!1,do_not_end_stream:!1,enable_alternative_audio_tracks:!1,filter_out_source_representation:!1,fix_dom_exception_as_message:!0,fix_live_rewind_user_selected_playback_speed:!0,ignore_reset_after_seek_if_bufferahead:!1,latencymanager_stalled_edgelatency_sec_on:!1,ms_promise_for_null:!1,normalize_mpd_fetch_errors:!0,pdash_use_pdash_segmentlocator:!1,player_emit_mpdparsed_early:!1,playhead_manager_buffered_timerange_update_on_timeupdate:!0,playhead_manager_clamp_initial_playback_position:!1,reset_catchup_timeout_after_play_sec_on_overwrite:!0,retry_video_element_error:!0,sidx_parser_memory_optimization:!1,skip_videobuffer_gaps:!0,skip_videobuffer_gaps_on_buffer_updated:!0,stub_safari_source_buffer_abort:!1,use_live_latency_manager:!1,use_scf_timebased_segments:!1,use_strict_resolution_constraint:!0,vtt_caption_representation:!0};b={abr_confidence_threshold:.9,abr_eval_buffer_threshold:0,abr_min_bandwidth_samples:0,abr_prevent_down_switch_buffer_threshold:11,abr_restrict_from_index:0,abr_restrict_to_index:0,append_byte_target_without_range:1e5,appends_per_segment:6,auto_seek_playhead_slack:.5,bandwidth_boundary_standard_deviation_factor:1,bandwidth_estimator_half_life:6,bandwidth_estimator_outlier_exclusion_factor:50,bandwidth_estimator_std_dev_penalty_factor:0,bandwidth_header_expire_threshold:0,bandwidth_response_time_handicap:0,bandwidth_ttfb_samples_to_save:5,buffer_ahead_target:22,buffer_target_constraint_append_succeeded_reward:.2,buffer_target_constraint_minimum_sec:2,buffer_target_constraint_quota_exceeded_penalty:.3,byte_count_per_sample:2e5,catchup_timeout_after_buffering_sec:0,catchup_timeout_after_play_sec:0,clear_buffer_around_playhead_boundary_ms:5e3,clear_buffer_on_seek_epsilon_s:0,clear_buffer_on_seek_nudge_s:0,default_bandwidth_estimate:1e6,download_cursor_buffer_ahead_time_max_sec:0,download_cursor_total_buffer_max_sec:0,dvl_initial_segment_ignore_count:1,dvl_update_interval_ms:0,dynamic_mpd_initial_playback_position_offset_modifier:4,initial_manifest_request_retry_count:3,initial_switch_interval:0,in_play_buffer_overflow_target:1,in_play_buffer_underflow_target:.1,latencymanager_stalled_edgelatency_sec:0,live_audio_ibr_bandwidth_percentage:.05,live_numerical_error_epsilon:1e-4,loop_body_handle_error_interval_ms:1,low_buffer_bandwidth_target_increase_factor:0,low_buffer_bandwidth_target_threshold:10,low_segment_stream_playhead_threshold:0,manifest_initial_update_delay_ms:0,manifest_update_frequency_ms:0,max_bandwidth_sample_count:30,maximum_bandwidth_sample_bandwidth:1e8,max_start_eme_attempts:3,min_eval_interval:100,minimum_bandwidth_sample_duration:10,minimum_bytes_to_sample_on_close:25e3,min_switch_interval:100,mpd_updater_network_request_timeout_ms:2e4,ms_promise_for_null_ms:0,network_seg_timeout_ms:0,overwrite_livehead_fall_behind_block_threshold:0,overwrite_live_time_range_block_margin:0,partial_playback_buffer_overflow:.75,paused_stream_segments_count:2,pdash_download_cursor_between_catchups_seg:0,pdash_download_cursor_catchup_threshold_gop_multiplier:0,pdash_download_cursor_catchup_threshold_sec:0,pdash_download_cursor_catchup_tolerance_sec:0,per_stream_duration_target:0,pixels_above_viewport_to_observe:0,pixels_below_viewport_to_observe:0,playback_speed_enabled_delay_sec:4,playback_speed_latency_adjustment_rate:0,playback_speed_latency_slowdown_adjustment_rate:0,playback_speed_latency_speedup_adjustment_rate:0,playback_speed_min_buffer_sec:1,playback_speed_min_duration_sec:2,playback_speed_min_sharpness_factor:3,playback_speed_restore_min_duration_sec:1,playhead_manager_buffered_auto_seek_playhead_slack:.5,playhead_manager_buffered_is_near_gap_threshold:1.5,playhead_manager_buffered_numerical_error:.01,playhead_manager_timeupdate_throttle_ms:1e3,pre_start_buffer_ahead_target:16.924449682236,prioritize_by_viewport_static_penalty:0,recent_buffer_in_play_buffer_overflow_target:3,recent_buffer_timeout_ms:1e4,resolution_constraint_factor:2,seconds_to_stream:10,seconds_to_stream_near_bandwidth_boundary:10,seek_ahead_epsilon:.05,segments_to_stream:5,segments_to_stream_near_bandwidth_boundary:5,segments_to_stream_under_playhead_threshold:0,sidx_segment_retry_attempts:9999,sidx_segment_retry_interval_ms:100,skip_videobuffer_gaps_max_gap_size_sec:0,stale_mpd_buffer_ahead_target:0,start_buffer_underflow_target:.1,steadystate_minbuffer_buckets:0,steadystate_minbuffer_buckets_sec:1,steadystate_minbuffer_sec:0,stream_interrupt_buffer_target_timeout_ms:1e4,stream_interrupt_check_mpd_stale_count_threshold:6,stream_interrupt_in_play_buffer_overflow_target:1,timeline_offset_threshold:10,time_to_first_byte_estimate_half_life_ms:500,time_to_first_byte_ignore_above_threshold_ms:0};c={bandwidth_estimate_header_key:"",bandwidth_estimate_key:"",block_representation_status_codes_json:"[500, 503]",block_representation_status_codes_temporarily_json:"{}",cdn_experiment_id:"",stream_types_eligible_for_partial_playback:""};e.exports={defaultBools:a,defaultNumbers:b,defaultStrings:c}}),null);
__d("oz-player/configs/OzPlayerConfig",["oz-player/configs/OzPlayerConfigDefaults"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){a===void 0&&(a={}),this.$1=a}var b=a.prototype;b.getBool=function(a){return typeof this.$1[a]==="boolean"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultBools[a]};b.getNumber=function(a){return typeof this.$1[a]==="number"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[a]};b.getString=function(a){return typeof this.$1[a]==="string"?this.$1[a]:d("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[a]};b.getLegacyConfig=function(){var a=this;return{getBool:function(b,c){return typeof a.$1[b]==="boolean"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultBools[b])!=null?b:c},getNumber:function(b,c){return typeof a.$1[b]==="number"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultNumbers[b])!=null?b:c},getString:function(b,c){return typeof a.$1[b]==="string"?a.$1[b]:(b=d("oz-player/configs/OzPlayerConfigDefaults").defaultStrings[b])!=null?b:c}}};return a}();g["default"]=a}),98);
__d("oz-player/configs/OzConfigUtils",["oz-player/configs/OzPlayerConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=new(c("oz-player/configs/OzPlayerConfig"))();a=function(a){return{getBool:function(b){return a.getBool(b,h.getBool(b))},getNumber:function(b){return a.getNumber(b,h.getNumber(b))},getString:function(b){return a.getString(b,h.getString(b))},getLegacyConfig:function(){return a}}};g.provideConfigWithDefaults=a}),98);
__d("oz-player/networks/OzClientClock",["oz-player/shims/OzPerformance","oz-player/utils/OzResourceTimingUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a!==null){a=parseInt(a,10);if(!isNaN(a))return a}return null}a=function(){function a(){this.$1=null,this.$2=0,this.$2=Date.now()-c("oz-player/shims/OzPerformance").now()}var b=a.prototype;b.updateOffsetFromHeaderResponse=function(a,b){var c=h(b.get("x-fb-dynamic-server-wallclock-ms"));b=h(b.get("x-fb-dynamic-rtt-ms"));a=d("oz-player/utils/OzResourceTimingUtils").getLatestResourceTimingEntry(a);if(c!==null&&b!==null&&a!=null&&(a.responseStart>0&&a.duration>10)){a=a.requestStart+this.$2;c=c-a-b/2;this.$1=c}};b.now=function(){var a;return c("oz-player/shims/OzPerformance").now()+this.$2+((a=this.$1)!=null?a:0)};b.getClientClockOffsetMs=function(){return this.$1};return a}();b=new a();g["default"]=b}),98);
__d("oz-player/networks/OzClockSyncNetworkRequestStreamHandler",["oz-player/networks/OzClientClock","oz-player/networks/OzTransformStream"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.onResponse=function(a,b){var d=a.headers;if(!d)return null;a=new(c("oz-player/networks/OzTransformStream"))();a.addListener("writableClose",function(){c("oz-player/networks/OzClientClock").updateOffsetFromHeaderResponse(b,d)});return a};b.onError=function(a,b){return null};return a}();g["default"]=a}),98);
__d("VideoPlayerOzImplementationEnginePartsImplFunction",["CometThrottle","ConstUriUtils","Deferred","FBLogger","JSResourceForInteraction","NetworkStatus","OzActiveActiveFailoverNetworkRequestStreamHandler","OzBufferVTTCaptionsVisibleStrategy","OzCDNSignedQueryParams","OzCustomParsers","OzCustomRepresentationParsers","OzOneSemanticHandler","OzOneSemanticHandlerUtils","OzPredictedSegmentTimelineParser","OzVideoLiveTraceNetworkRequestStreamHandler","Promise","QE2Logger","TimeRanges","VideoPlayerConnectionQuality","VideoPlayerImplementationErrors","VideoPlayerOzImplementationEnginePartsImplUtils","clearTimeout","cr:1836099","cr:1871597","cr:1947728","cr:1993377","getErrorSafe","getOzPlaybackRestrictions","gkx","md5","oz-player/configs/OzConfigUtils","oz-player/networks/OzBandwidthEstimator","oz-player/networks/OzClockSyncNetworkRequestStreamHandler","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResourceForInteraction")("VideoPlayerEmsg").__setRef("VideoPlayerOzImplementationEnginePartsImplFunction"),i=1e4,j=null,k=null;b("cr:1836099")&&(j=b("cr:1836099").getHiveConfig(),k=b("cr:1836099").HiveOz);function a(a){var e,f=a.OzPlayerClass,g=a.callChain,l=a.destroyOzPlayerPartsRef,m=a.engineDebugAPI,n=a.engineExtrasAPI,o=a.getCaptionsInfo,aa=a.getLatencyLevelManager,p=a.getVideoLiveTrace,q=a.handleCaptionsInfoChange,ba=a.handleFatalImplementationError,r=a.hivePluginRef,s=a.initialProps,t=a.logger,u=a.machine,v=a.overrideOzRequestImplementationRef,w=a.ozBufferingDetectorRef,x=a.ozPlayerRef,y=a.p2pSessionLoggerRef,z=a.playerVersion,A=a.resolvedVideoInfo,B=a.videoElement,C={current:!1},D={current:null},E={current:null};l.current=function(a){var b=w.current;b&&(w.current=null,b.destroy());b=x.current;if(b){m&&m.handleOzPlayerChanged(null);x.current=null;try{b.destroy([].concat(a,["destroyOzPlayerParts"]).join(":"))}catch(a){c("FBLogger")("comet_video_player").catching(a).mustfix("Error in ozPlayer.destroy: %s",String(a))}}b=D.current;b&&(D.current=null,b());E.current&&(E.current=null);Z();r.current&&(r.current=null);y.current&&(y.current=null);v.current&&(v.current=null)};a=A.accessToken;l=A.audioOnly;var F=A.experimentationConfig,G=A.graphQLVideoDRMInfo,H=A.graphQLVideoP2PSettings,I=A.manifestUrl,ca=A.manifestXmlStringResolved,da=A.minQualityPreference,ea=A.ozPrefetchCache,J=A.videoFBID,K=s.disableLogging?null:A.VideoPlayerShakaPerformanceLoggerClass,L=Boolean(s.loggingMetaData.coreVideoPlayerMetaData.isLiveStreaming),M=Boolean((e=s.isClientTriggeredTraceEnabled)!=null?e:!1),N=function(a){return n.getEstimatedBandwidth()};e=function(){return n.getApproximateFBLSToPlayerDisplayLatency()};var fa=function(){F.setContext("connection_quality",d("VideoPlayerConnectionQuality").evaluate(function(){return N(L)}))},O=function(){var a=F.getNumber("connection_quality_context_throttle_frequency",0);if(a===0)return null;var b=c("CometThrottle")(fa,a),d=c("oz-player/networks/OzBandwidthEstimator").addListener("bandwidth_sampled",b);return function(){d.remove(),b.cancel()}};D.current=O();O=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzDrmProviders({accessToken:a,graphQLVideoDRMInfo:G,videoFBID:J});G=function(){return u.getCurrentState().controlledState.captionsVisible};var P=[];F.getBool("use_vtt_captions_visible_buffer_strategy",!0)&&P.push(new(c("OzBufferVTTCaptionsVisibleStrategy"))(G));G=function(){return u.getCurrentState().controlledState.dimensions};var Q=function(){return u.getCurrentState().controlledState.playerFormat};a=d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzPerfLoggerProviders({VideoPlayerShakaPerformanceLoggerClass:K,accessToken:a,disableLogging:s.disableLogging,getApproximateFBLSToPlayerDisplayLatency:e,getBandwidthEstimate:N,getPlayerDimensions:G,getPlayerFormat:Q,playbackIsLiveStreaming:L,playerInstanceCount:s.loggingMetaData.playerImplementationInstanceCountRef.current,playerInstanceKey:s.loggingMetaData.instanceKey,playerSuborigin:s.loggingMetaData.coreVideoPlayerMetaData.subOrigin,playerVersion:z,videoElement:B,videoFBID:J,videoPlayerShakaPerformanceLoggerBuilder:A.videoPlayerShakaPerformanceLoggerBuilder});E.current==null&&(E.current=new(c("OzCDNSignedQueryParams"))());if(H&&J!=null){e=H.community_info;Q=H.config;z=H.hive_initialization_options;A=y.current=(A=y.current)!=null?A:b("cr:1871597")?new(b("cr:1871597"))(J,e):null;try{if(!r.current){A&&A.logEnableP2P();e=function(a){y.current&&y.current.logHiveError(a)};var R=function(b){var a=x.current;a&&a.injectExternalDebugEvent("P2PTech",b.tech);y.current&&y.current.logSessionActive(b.tech)},S=function(b){var a=x.current;a&&a.injectExternalDebugEvent("P2PStats",b);y.current&&y.current.setCurrentHiveStats(b)},T=function(a){a=a.state;var b=u.getCurrentState();b=b.controlledState;b=b.playbackState;if(r.current&&a==="CLOSED"){Z();a=x.current;a&&b!=="ended"&&(C.current&&I!=null?a.updatePlayerRunTimeConfig({manifestUrl:I}):a.load(I))}};S={HiveJava:{},HiveJS:{maximumTrimming:{dash:void 0,hls:void 0},renderStatsCallback:S},debugLevel:"off",hiveTechOrder:["HiveJS","StatsJS","HiveJava"],onActiveSession:R,onError:e,onSessionStateChange:T,telemetryId:A?A.getSessionID():0};R=F.getNumber("hive_maximum_trimming_seconds",0);R>0&&(S.HiveJS.maximumTrimming={dash:R,hls:R});if(z){e=z.HiveJava;T=z.debugLevel;R=z.hiveTechOrder;S.hiveTechOrder=R.slice();S.HiveJava=e?{minVersion:e.minVersion}:{};S.debugLevel=(z=T)!=null?z:S.debugLevel}c("gkx")("2047688")&&(S=babelHelpers["extends"]({},S,{testId:"fb_video_player_p2p_jest_e2e"}));if(Q.disable_hivejava_for_livevc===!0&&I!=null&&I.startsWith("https://livestream-lookaside")){R=S.hiveTechOrder.indexOf("HiveJava");R>=0&&S.hiveTechOrder.splice(R,1)}if(j)j.SensitiveInfo.restrictedConnectivityInfo=!0;else throw c("unrecoverableViolation")("HiveConfig does not exist","comet_video_player");if(k)r.current=new k(S);else throw c("unrecoverableViolation")("HiveOz does not exist","comet_video_player");if(r.current){if(!b("cr:1947728"))throw c("unrecoverableViolation")("OzConfigurableRequestImplementation does not exist","comet_video_player");v.current=b("cr:1947728")(r.current.getRequestImplementation(),{inferResponseStatusIsOK:c("gkx")("3951"),inferResponseStatusIsOk2xx:c("gkx")("277")})}}}catch(a){A&&A.logError(a),Z()}}e=[new(c("OzVideoLiveTraceNetworkRequestStreamHandler"))(function(a,b,c){var d=p();d!=null&&d.handleHeadersAndBody(a,b,c)},F.getBool("live_trace_parse_emsg",!1)),new(c("oz-player/networks/OzClockSyncNetworkRequestStreamHandler"))()];c("OzActiveActiveFailoverNetworkRequestStreamHandler")&&e.push(new(c("OzActiveActiveFailoverNetworkRequestStreamHandler"))(function(b,c){var a=x.current,e=b.headers;if(a&&e){e=parseInt(e.get("x-fb-video-replica"),10);t.logVPLEvent({eventType:"replica_switch",logDataOverrides:{error_code:b.status.toString(),error_user_info:JSON.stringify({failover_response_code:b.status.toString(),replica:e,url:c})},state:u.getCurrentState()});b=a.getMpdUrl();if(b!=null){c=d("ConstUriUtils").getUri(b);if(c){b=c.addQueryParam("replica",e);b&&(Z(),a.updatePlayerRunTimeConfig({manifestUrl:b.toString(),resetStreamAnchor:!0}))}}}}));var U=s.expiredVideoUrlRefreshHandler,ga=s.loggingMetaData.instanceKey;T=c("gkx")("221");z=c("gkx")("1836350")||c("gkx")("1993562");var V=L?T:z;F.getBool("log_exposure_on_oz_initialization",!1)&&d("QE2Logger").logExposureForUser("www_videos_html5_mpeg_dash");Q={audioOnly:(Q=l)!=null?Q:!1,bufferEndLimit:s.bufferEndLimit!=null?s.bufferEndLimit:null,bufferingDetector:(R=w.current)!=null?R:void 0,config:d("oz-player/configs/OzConfigUtils").provideConfigWithDefaults(F),configureCustomRequestParametersForSegment:function(a){var b=null;if(L&&M){var d=a.getByteRange();d=d?d.startByte+", "+(d.endByte!=null?d.endByte:"null"):"null";a=c("md5")(a.getURI().toString()+d);b=(d=b)!=null?d:{};a!=null&&(b=babelHelpers["extends"]({},b,{_nc_tsid:a}));b=babelHelpers["extends"]({},b,{_nc_e2e:"live"})}return b},customParsers:d("OzCustomParsers").createOzCustomParser(),customRepresentationParsers:d("OzCustomRepresentationParsers").createOzCustomRepresentationParsers({ozConfig:F}),customSegmentTimelineParser:F.getBool("enable_predictive_dash",!1)?new(c("OzPredictedSegmentTimelineParser"))():void 0,customVTTBufferTargetStrategies:P,debugCreateInitiator:[].concat(g,["proceedWithOzPlayerCreation"]).join(":"),drmProviders:O,getCustomRequestParametersForURI:function(a){return d("VideoPlayerOzImplementationEnginePartsImplUtils").getCustomRequestParametersForURI(a,{experimentationConfig:F,getCurrentVideoRepresentation:function(){var a=x.current;return a==null?void 0:a.getCurrentVideoRepresentation()},getOzCDNSignedQueryParams:function(){return E.current},isClientTriggeredTraceEnabled:M,playbackIsLiveStreaming:L,playbackSessionId:ga,shouldRefresh403:V})},getOverrideOzRequestImplementation:function(){return v.current},getShouldIncludeCredentials:F.getBool("use_oz_credentials_provider",!1)?d("VideoPlayerOzImplementationEnginePartsImplUtils").checkShouldIncludeCredentials:null,getUserSelectedPlaybackRate:function(){return u.getCurrentState().controlledState.targetPlaybackRate},getVideoDimensions:G,initialPlaybackPositionForDynamicMpd:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateInitialPlaybackPositionForDynamicMpd(F,(S=s.initialDesiredLatencyMs)!=null?S:0),initialRepresentationIDs:(A=s.initialRepresentationIds)!=null?A:[],isClientTriggeredTraceEnabled:M,liveheadFallBehindBlockMargin:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockMargin(F,(T=s.initialDesiredLatencyMs)!=null?T:0),liveheadFallBehindBlockThreshold:d("VideoPlayerOzImplementationEnginePartsImplUtils").calculateLiveheadFallBehindBlockThreshold(F,(z=s.initialDesiredLatencyMs)!=null?z:0,(l=s.initialLatencyToleranceMs)!=null?l:0),loggerConfig:{isOzDevConsoleEnabled:c("gkx")("722076"),observedOperationLoggers:[],perfLoggerProviders:a},mpdUrl:I,networkRequestStreamHandlers:e,networkRequestStreamRetryHandler:V?function(a,d,e){var f=a.headers,g=f==null?void 0:f.get("x-fb-url-refresh"),h=E.current;if(a.status===403&&h!=null){t.logVPLEvent({eventType:"video_cdn_url_expired",logDataOverrides:{error_user_info:JSON.stringify({expired_url:e})},state:u.getCurrentState()});var i=g!=null&&b("cr:1993377")!=null?{name:"refreshShortExpiryVideoUrl",promise:b("cr:1993377")(g)}:U!=null?{name:"expiredVideoUrlRefreshHandler",promise:U(e)}:null;if(i!=null)return i.promise.then(function(a){var b;b=(b=a.refreshedUrl)!=null?b:null;a=(a=a.reason)!=null?a:null;if(b!=null&&(c("gkx")("5837")?b!=="":!0)){t.logVPLEvent({eventType:"video_cdn_url_refreshed",logDataOverrides:{error_user_info:JSON.stringify({refresh_handler:i.name,refreshed_url:b})},state:u.getCurrentState()});h.update(b);return d(b)}else{throw c("unrecoverableViolation")(i.name+" refreshedUrl is "+(b===""?"an empty string":"null")+", reason: "+((b=a)!=null?b:"null"),"comet_video_player")}})["catch"](function(a){a=c("gkx")("5837")?c("getErrorSafe")(a):a;t.logVPLEvent({eventType:"video_cdn_url_refresh_error",logDataOverrides:{error_description:a.message,error_user_info:JSON.stringify({expired_url:e,refresh_handler:i.name,refresh_url:g})},state:u.getCurrentState()});throw a})}return b("Promise").resolve(a)}:null,prefetchCache:F.getBool("use_prefetch_cache",!1)?ea:null,rawMpdXml:r.current?void 0:ca,seekHandler:c("gkx")("1482680")?function(a){var b=B.currentTime;u.dispatch({payload:{seekSourcePosition:b},type:"implementation_seek_requested"});B.currentTime=a}:null,setCustomFetchStreamLoggingAttributes:function(a,b,e){a.setIsOnline(c("NetworkStatus").isOnline());var f=e==null?void 0:e.headers;if(f)try{a.setProxyStatusHeader(f.get("proxy-status")),a.setDynamicStatusHeader(f.get("x-fb-dynamic-status"))}catch(a){}d("OzOneSemanticHandlerUtils").setOneSemanticFetchStreamLoggingAttributes(a,b,e)},startTimeStamp:F.getBool("fix_start_timestamp",!1)?s.startTimestamp:0,videoAbrManagerFactory:d("VideoPlayerOzImplementationEnginePartsImplUtils").getVideoAbrManagerFactory(),videoNode:B,videoPlaybackRestrictions:c("getOzPlaybackRestrictions")(da,F)};var W=new f(Q);x.current=W;w.current&&w.current.attachPerfLoggerProvider(W.getPerfLoggerProvider());R=s.loggingMetaData.playerImplementationInstanceCountRef;R.current++;W.onError(function(a){K&&K.flushQueuedLogs(),ba(a,"oz_player_error")});W.addListener("switchVideoRepresentation",function(){u.dispatch({payload:{targetVideoQuality:n.getCurrentTargetVideoQuality()},type:"representation_changed"})});var ha=function(a){if(F.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError(a,"oz_player_stream_error_retry");u.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}};W.addListener("manifestFetchError",function(a){d("OzOneSemanticHandler").handleManifestFetchErrorEvent(F,a)});W.addListener("manifestFetchErrorRetry",function(a){ha(a)});W.addListener("streamError",function(a){return d("OzOneSemanticHandler").handleStreamErrorEvent(F,a)});W.addListener("streamErrorRetry",function(a){var b;(((b=a.getExtra())==null?void 0:b.mimeType)!=="application"||F.getBool("enable_era_logging_for_application_stream",!0))&&ha(a)});W.addListener("streamInterruptAt",function(){u.dispatch({type:"stream_interrupted"})});W.addListener("streamResumedAt",function(){u.dispatch({type:"stream_resumed"})});W.addListener("streamGoneBeforeStart",function(){Z(),u.dispatch({type:"stream_gone_before_start"})});W.addListener("streamEnd",function(){Z(),u.dispatch({type:"stream_ended"})});W.addListener("videoNodeErrorRetry",function(a){if(F.getBool("enable_error_recovery_attempt_logging",!1)){a=d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromVideoNodeError(a,"oz_player_stream_error_retry");u.dispatch({payload:{recoverableError:a},type:"error_recovery_attempt"})}});W.addListener("enterBuffering",function(a){if(c("gkx")("1235655"))return;u.dispatch({payload:{bufferingType:a},type:"buffering_begin_requested"})});W.addListener("leaveBuffering",function(a){u.dispatch({payload:{domEventPerfTimestamp:a.domEventPerfTimestamp},type:"buffering_end_requested"})});m&&m.handleOzPlayerChanged(W);var ia=function(){var a=o();a={inbandCaptionsAutogeneratedFromManifest:n.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:n.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:a==null?void 0:a.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:n.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:a==null?void 0:a.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:a==null?void 0:a.sideLoadCaptionsUrlFromProps};var b=u.getCurrentState();b=b.controlledState;(a.inbandCaptionsExpectedFromManifest!==b.captionsLoaded||a.inbandCaptionsAutogeneratedFromManifest!==b.inbandCaptionsAutogenerated)&&q(a)},ja=function(a,b){a=a.getCustomField("timescale");a=typeof a==="number"?a:0;u.dispatch({payload:{timescale:a,videoBytes:b},type:"cea608_bytes_received"})},ka=function(){var a=n.getVideoRepresentations();if(a!=null&&a.length>0){a=a[0].getTimeRanges();if(a!=null&&a.length>0){var b=a[0].startTime;a=Math.max(a[a.length-1].endTime-F.getNumber("live_rewind_seek_to_live_delta",8),b);u.dispatch({payload:{seekableRanges:new(c("TimeRanges"))([{endTime:a,startTime:b}])},type:"seekable_ranges_changed"})}}},la=function(){var a=W.getMpd();if(!a)return;a=a.getCustomField("loapStreamType");var b=p();typeof a==="number"&&b!=null&&b.setStreamType(a)},X=function(a){if(a!=null){a=d("ConstUriUtils").getUri(a);if(a){a=a.getQueryParam("lvp");return a==="1"}}return!1},ma=function(a){var b=function(){ka(),ia(),la()};a.addListener("updated",b);b();var d=[],e=function(a){t.logVPLEvent({eventType:"imf",logDataOverrides:a,state:u.getCurrentState()})},f=function(a,b,c){a=a.parseEmsgBoxesFromMP4Segment;a=a(c,J,b.getID(),B.currentTime,e);a.length>0&&u.dispatch({payload:{emsgBoxes:a},type:"emsg_boxes_parsed"})},g=function(a){var b=d.shift();while(b)f.apply(void 0,[a].concat(b)),b=d.shift()};W.updatePlayerRunTimeConfig({audioStreamDataHandler:function(){var a=u.getCurrentState();if(a.controlledState.emsgObserverTokens.size>0){var b=h.getModuleIfRequireable();for(var e=arguments.length,i=new Array(e),j=0;j<e;j++)i[j]=arguments[j];b!=null?(g(b),f.apply(void 0,[b].concat(i))):(d.push(i),h.load().then(function(a){g(a)})["catch"](function(a){c("FBLogger")("comet_video_player").catching(c("getErrorSafe")(a)).warn("Failed to load VideoPlayerEmsg"),d.length=0}))}},videoStreamDataHandler:ja});if(n.isPredictiveDash()){F.setContext("streaming_implementation","pdash");a=aa();a&&a.maybeUpdateLatencyLevel()}b=o();q({inbandCaptionsAutogeneratedFromManifest:n.getInbandCaptionsAutogeneratedFromManifest(),inbandCaptionsExpectedFromManifest:n.getInbandCaptionsExpectedFromManifest(),inbandCaptionsExpectedFromProps:b==null?void 0:b.inbandCaptionsExpectedFromProps,representationCaptionsExpectedFromManifest:n.getRepresentationCaptionsExpectedFromManifest(),sideLoadCaptionsExpectedFromProps:b==null?void 0:b.sideLoadCaptionsExpectedFromProps,sideLoadCaptionsUrlFromProps:b==null?void 0:b.sideLoadCaptionsUrlFromProps})};W.addListener("vttCaptionsUpdated",function(a,b){var c="webvtt",d=u.getCurrentState().controlledState.captionFormat;c!==d&&u.dispatch({payload:{captionFormat:c},type:"controller_set_caption_format_requested"});u.dispatch({payload:{activeCaptions:a,captionsLocale:b},type:"controller_set_active_captions_requested"})});W.addListener("mpdParsed",function(a){n.isPredictiveDash()&&F.setContext("streaming_implementation","pdash")});c("gkx")("6295")?(W.addListener("mpdReady",function(a){C.current=!0,ma(a)}),W.addListener("initialized",function(){var a;u.dispatch({payload:{availableAudioTracks:n.getAvailableAudioTracks(),availableQualities:n.getAvailableVideoQualities(),selectedAudioTrackID:n.getUserSelectedAudioTrackID(),selectedVideoQuality:n.getUserSelectedVideoQuality(),targetVideoQuality:n.getCurrentTargetVideoQuality(),videoProjection:(a=n.getVideoProjectionType())!=null?a:null},type:"implementation_engine_initialized"})})):W.addListener("mpdReady",function(a){C.current=!0;ma(a);u.dispatch({payload:{availableAudioTracks:n.getAvailableAudioTracks(),availableQualities:n.getAvailableVideoQualities(),selectedAudioTrackID:n.getUserSelectedAudioTrackID(),selectedVideoQuality:n.getUserSelectedVideoQuality(),targetVideoQuality:n.getCurrentTargetVideoQuality(),videoProjection:(a=n.getVideoProjectionType())!=null?a:null},type:"implementation_engine_initialized"})});W.addListener("representationBlocked",function(a){u.dispatch({payload:{availableAudioTracks:n.getAvailableAudioTracks(),availableQualities:n.getAvailableVideoQualities(),blockedRepresentationID:a},type:"implementation_engine_representation_blocked"})});var Y=null;function Z(){c("clearTimeout")(Y);var a=r.current,b=y.current;if(a!=null){r.current=null;y.current=null;v.current=null;try{a&&a.closeHiveSession(),b&&b.logEndSession()}catch(a){b&&b.logHiveError(a)}}}P=r.current;g=H==null?void 0:H.ticket;if(I!=null&&H&&P&&g!=null){O=W.getPerfLoggerProvider();O&&O.setIsP2pPlayback(!0);G=I.substring(I.indexOf("?"));S=P.initSession(g+G,W,B);var $=new(c("Deferred"))();i>0&&(Y=c("setTimeout")(function(){$.reject(new Error("Hive initialization timed out after "+i+"ms"))},i));S.then(function(a){$.resolve(a)})["catch"](function(a){$.reject(a)});$.getPromise().then(function(a){c("clearTimeout")(Y);var b=a.manifest;a=a.tech;var d=y.current;b!==I&&d&&d.logManifestMismatch(b,I);d&&d.logSessionInit(a,b);t.setAdditionalLogData("is_p2p_playback",!0);t.setAdditionalLogData("is_live_preview",X(b));W.load(b)})["catch"](function(a){c("clearTimeout")(Y);var b=y.current;b&&b.logError(a);Z();t.setAdditionalLogData("is_live_preview",X(I));W.load(I)})}else t.setAdditionalLogData("is_p2p_playback",!1),t.setAdditionalLogData("is_live_preview",X(I)),W.load(I)}g.proceedWithOzPlayerCreation=a}),98);
__d("LatencySensitiveType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NORMAL:0,LOW:1,ULTRA_LOW:2});c=a;f["default"]=c}),66);
__d("VideoPlayerOzImplementationLatencyLevelManager",["qex"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,c){this.$2="normal",this.$4=null,this.$1=a,this.$3=b,this.$6=c}var b=a.prototype;b.updatePlayerFormat=function(a){this.$4!==a&&(this.$4=a,this.maybeUpdateLatencyLevel())};b.updateBroadcastLatencySensitivity=function(a){this.$5!==a&&(this.$5=a,this.maybeUpdateLatencyLevel())};b.maybeUpdateLatencyLevel=function(){var a=this.$7(this.$5);a!==this.$2&&(this.$2=a,this.$1.getBool("set_latency_context_immediately",!1)&&this.$1.setContext("latency_level",a),this.$3.dispatch({payload:{latencyLevel:a,ullIneligibilityReason:this.$8()},type:"implementation_set_latency_level_requested"}))};b.$8=function(){var a=this.$1.getNumber("ultra_low_latency_bandwidth_threshold",0),b=this.$6.getEstimatedBandwidth();if(b!==null&&a>0&&b<a)return"low_bandwidth_estimate";a=(b=c("qex")._("1342"))!=null?b:!1;return a?"disabled_by_experiment":null};b.$7=function(a){if(a==null)return"normal";switch(a){case 1:return"low";case 2:return this.$8()!==null?this.$1.getBool("fall_back_to_low_latency_in_ull",!1)?"low":"normal":"ultra-low";case 0:return"normal"}};return a}();g["default"]=a}),98);
__d("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay",["requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferredForDisplay")("oz-player").__setRef("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay");function a(){return{getModuleIfRequireable:function(){return h.getModuleIfRequireable()||null},load:function(){return h.load()}}}g["default"]=a}),98);
__d("VideoPlayerOzImplementationEngine",["CometDASHPrefetchCacheManager","VideoPlayerImplementationEngineAPI","VideoPlayerImplementationEngineVideoElementAPI","VideoPlayerImplementationErrors","VideoPlayerImplementationLoadSequenceManager","VideoPlayerODS","VideoPlayerOzImplementationEngineExtrasAPI","VideoPlayerOzImplementationEnginePartsImplFunction","VideoPlayerOzImplementationEnginePartsImplUtils","VideoPlayerOzImplementationLatencyLevelManager","VideoPlayerOzPlayerModuleLoaderDeferredForDisplay","cr:1473549","emptyFunction","gkx","promiseDone","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";e=!1;var h=c("emptyFunction");function a(a){var e=a.checkInDOM,f=a.debugLogId,g=a.handleFatalError,i=a.initialProps;a=a.setExposedStateInReact;var j={current:null},k={current:null},l={current:null},m={current:null},n={current:null},o={current:null},p={current:null},q={current:null},r={current:null},s={current:null},t={current:null},u={current:null},v={current:null};function w(){var a;return(a=p.current)!=null?a:null}function x(){var a;return(a=o.current)!=null?a:null}function y(){var a;return(a=(a=k.current)==null?void 0:a.experimentationConfig)!=null?a:null}function z(){var a;return(a=Y.current)!=null?a:null}function A(){var a;return(a=v.current)!=null?a:null}var B;b("cr:1473549")&&(B=new(b("cr:1473549"))());var C="comet_oz",D=function(a,b){return b.manifestXmlStringInitial!==null?a.manifestXmlStringInitial!==b.manifestXmlStringInitial:a.manifestUrl!==b.manifestUrl},E=function(a,b){return a.videoFBID!==b.videoFBID},F=function(a,b){return a.playerFormat!==b.playerFormat},G=function(a){return a.getBool("use_full_player_if_cached",!1)&&c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")?c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")().getModuleIfRequireable():null},H=function(a,b,c){b!=null?k.current=babelHelpers["extends"]({},a,{manifestXmlStringResolved:b}):k.current=a,X.dispatch({type:"implementation_engine_oz_manifest_downloading"}),n.current=G(a.experimentationConfig),L(n.current,[].concat(c,["proceedWithOzManifestDownloading"]))},I=function(a){var b,e,f=a.manifestUrl,g=a.manifest,h=null;c("CometDASHPrefetchCacheManager")&&(a.videoFBID!=null&&(h=c("CometDASHPrefetchCacheManager").get(a.videoFBID)));b={VideoPlayerShakaPerformanceLoggerClass:a.VideoPlayerShakaPerformanceLoggerClass,accessToken:a.loggingMetaData.accessToken,audioOnly:a.audioOnly,experimentationConfig:a.experimentationConfig,graphQLVideoDRMInfo:a.graphQLVideoDRMInfo,graphQLVideoP2PSettings:a.graphQLVideoP2PSettings,initialAudioUserPreferredLanguage:a.initialAudioUserPreferredLanguage,manifestUrl:(b=f)!=null?b:null,manifestXmlStringInitial:(b=g)!=null?b:null,minQualityPreference:a.minQualityPreference,ozPrefetchCache:h,playerFormat:a.loggingMetaData.coreVideoPlayerMetaData.playerFormat,videoFBID:a.videoFBID,videoPlayerShakaPerformanceLoggerBuilder:a.videoPlayerShakaPerformanceLoggerBuilder};h=j.current;v.current==null&&(v.current=new(c("VideoPlayerOzImplementationLatencyLevelManager"))(a.experimentationConfig,X,Q));b.playerFormat!=null&&(h==null||F(b,h))&&X.dispatch({payload:{playerFormat:b.playerFormat},type:"controller_set_player_format"});v.current.updatePlayerFormat((e=a.loggingMetaData.coreVideoPlayerMetaData.playerFormat)!=null?e:null);(e=v.current)==null?void 0:e.updateBroadcastLatencySensitivity(a.broadcastLatencySensitivity);e=!1;if(h==null)e=!0;else if(h!=null&&!E(b,h)&&D(b,h)){a=14;d("VideoPlayerODS").bumpEntityKey("OzImplementation","manifest_reloaded",a);e=!1}else if(h!=null&&E(b,h))throw c("unrecoverableViolation")("videoFBID changed after player initialization","comet_video_player");if(!e)return!1;f=b.manifestUrl;g=b.manifestXmlStringInitial;if(g==null&&f==null)throw c("unrecoverableViolation")("Empty manifestXmlStringInitial and manifestUrl","comet_video_player");j.current=b;H(b,g,["handleVideoInfoChangeForOzImplementation","downloadManifestInOz"]);return!0},J=function(a,b){var d=function(c){if(m.current!==a)return;n.current=c;L(c,[].concat(b,["handleOzPlayerModuleLoadSuccess"]))},e=function(b){if(m.current!==a)return;V(b,"oz_player_module_load_failed")};m.current=a;c("promiseDone")(a,d,e)},K=function(a){a=d("VideoPlayerImplementationEngineVideoElementAPI").createVideoPlayerImplementationEngineVideoElementAPI(a);Y.current=a;return a},L=function(a,b){var e=S(),f=k.current;if(e==null||f==null)return;var g=K(e),h=f.experimentationConfig;a?M(a,e,g,f,[].concat(b,["proceedWithResolvedVideoInfo","OzPlayerModuleFromRef"])):c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")?(h.getBool("instantiate_buffering_detector_before_quick_starter",!1)&&d("VideoPlayerOzImplementationEnginePartsImplUtils").createOzBufferingDetector(e,g,f.experimentationConfig,X,p,W),J(c("VideoPlayerOzPlayerModuleLoaderDeferredForDisplay")().load(),[].concat(b,["proceedWithResolvedVideoInfo","VideoPlayerOzPlayerModuleLoaderAsync"]))):V(new Error("Neither of OzPlayerModuleLoader is available."),"oz_player_module_loaders_missing")},M=function(a,b,e,f,g){try{var h={OzPlayerClass:a,callChain:[].concat(g,["proceedWithResolvedVideoInfoAndOzPlayerModuleSync"]),destroyOzPlayerPartsRef:u,engineDebugAPI:B,engineExtrasAPI:Q,getCaptionsInfo:R,getLatencyLevelManager:A,getVideoLiveTrace:T,handleCaptionsInfoChange:U,handleFatalImplementationError:V,initialProps:i,logger:W,machine:X,ozBufferingDetectorRef:p,playerVersion:C,resolvedVideoInfo:f,videoElement:b};a=y();g=i.loadSequence;a&&a.getNumber("load_sequence_max_delay_ms",0)>0&&g!=null?t.current=c("VideoPlayerImplementationLoadSequenceManager").schedule(a,g,function(){d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},h,{hivePluginRef:q,overrideOzRequestImplementationRef:s,ozPlayerRef:o,p2pSessionLoggerRef:r}));return e.getCanPlayPromise()}):d("VideoPlayerOzImplementationEnginePartsImplFunction").proceedWithOzPlayerCreation(babelHelpers["extends"]({},h,{hivePluginRef:q,overrideOzRequestImplementationRef:s,ozPlayerRef:o,p2pSessionLoggerRef:r}));l.current=f}catch(a){V(a,"oz_player_create_exception")}};function N(a){var b=u.current;b!=null&&(u.current=null,b(a));t.current!=null&&(t.current(),t.current=null)}function O(){return}function P(){m.current=null,n.current=null}var Q=d("VideoPlayerOzImplementationEngineExtrasAPI").createVideoPlayerOzImplementationEngineExtrasAPI({getConfig:y,getOzPlayer:x,getVideoElementAPI:z});z=d("VideoPlayerImplementationEngineAPI").createVideoPlayerImplementationEngine({checkInDOM:e,createDebugAPI:function(b){var a=b.getVideoElementAPI;b=b.logger;return B?B.createDebugAPI({engineExtrasAPI:Q,getConfig:function(){var a;return(a=(a=l.current)==null?void 0:a.experimentationConfig)!=null?a:null},getManifest:function(){var a;return(a=(a=l.current)==null?void 0:a.manifestXmlStringResolved)!=null?a:null},getManifestUrl:function(){var a;return(a=(a=l.current)==null?void 0:a.manifestUrl)!=null?a:null},getOzBufferingDetector:w,getOzPlayer:x,getVideoElementAPI:a,logger:b}):null},createVideoPlayerError:d("VideoPlayerImplementationErrors").createVideoPlayerErrorFromOzImplementationError,debugLog:h,debugLogId:f,destroyEngineParts:function(a){N([].concat(a,["destroyEngineParts"])),O(),P()},engineExtrasAPI:Q,engineMetadata:{isAbrEnabled:!0,isExternalMedia:!1,playerImplementationName:"oz_v2",playerVersion:C,streamingFormat:"dash"},handleFatalError:g,handleVideoElementMounted:function(a){var b=S();L(n.current,[].concat(a,["handleVideoElementMounted"]))},handleVideoElementUnmounted:function(a){c("gkx")("1380112")&&N([].concat(a,["handleVideoElementUnmounted"]))},handleVideoInfoChange:I,initialProps:i,setExposedStateInReact:a});e=z.engine;var R=z.getCaptionsInfo,S=z.getVideoElement,T=z.getVideoLiveTrace,U=z.handleCaptionsInfoChange,V=z.handleFatalImplementationError,W=z.logger,X=z.machine,Y=z.videoElementAPIRef;return e}g.createVideoPlayerOzImplementationEngine=a}),98);
__d("VideoPlayerOzImplementationV2.react",["VideoPlayerImplementationEngineAPI","VideoPlayerOzImplementationEngine","react"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){a=d("VideoPlayerImplementationEngineAPI").useVideoPlayerImplementationEngine(a,d("VideoPlayerOzImplementationEngine").createVideoPlayerOzImplementationEngine);a=a.reactVideoFrameAndComponents;return a}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerOzWWWConfig",[],(function(a,b,c,d,e,f){"use strict";var g="oz_www_";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a,b){return this.$1.getBool(g+a,b)};b.getNumber=function(a,b){return this.$1.getNumber(g+a,b)};b.getString=function(a,b){return this.$1.getString(g+a,b)};b.setContext=function(a,b){this.$1.setContext(a,b)};b.getAllContexts=function(){return this.$1.getAllContexts()};return a}();f["default"]=a}),66);
__d("prepareVideoPlayerImplementations",["ErrorMetadata","ErrorSerializer","VideoPlayerOzImplementationData","VideoPlayerOzImplementationV2.react","VideoPlayerOzWWWConfig","VideoPlayerProgressiveImplementationData","VideoPlayerProgressiveImplementationV2.react","VideoPlayerShakaConfig","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.browserNativeHdUrl,e=a.browserNativeSdUrl,f=a.canUseOz,g=a.dashManifestUrl,h=a.dashManifestUrlOverride_DO_NOT_USE,i=a.dashManifestXmlString,j=a.initialAudioUserPreferredLanguage,k=a.isExternalMedia,l=a.isSpherical,m=a.minQualityPreference,n=a.minQualityPreferenceOverrideFromProductSurface,o=a.preferBrowserNativeImplementation,p=a.sphericalVideoFallbackHdUrl,q=a.sphericalVideoFallbackSdUrl,r=a.videoFBID;a=a.videoPlayerShakaConfig;var s=[],t=[];if(o!==!0){f=d("VideoPlayerOzImplementationData").makeOzImplementationData({canUseOz:f,dashManifestUrl:g,dashManifestUrlOverride_DO_NOT_USE:h,dashManifestXmlString:i,experimentationConfig:new(c("VideoPlayerOzWWWConfig"))((o=a)!=null?o:new(c("VideoPlayerShakaConfig"))()),initialAudioUserPreferredLanguage:j,minQualityPreference:m});f instanceof Error?t.push(f):s.push({Component:c("VideoPlayerOzImplementationV2.react"),data:f,typename:"VideoPlayerOzImplementation"})}h=(g=n)!=null?g:m;o=d("VideoPlayerProgressiveImplementationData").makeProgressiveImplementationData({hdSrc:l===!0?(i=p)!=null?i:b:b,hdSrcPreferred:c("gkx")("1129")||h==="HD"||h==="UHD",isExternalMedia:k,sdSrc:l===!0?(a=q)!=null?a:e:e});o instanceof Error?t.push(o):s.push({Component:c("VideoPlayerProgressiveImplementationV2.react"),data:o,typename:"VideoPlayerProgressiveImplementation"});if(s.length===0){j=c("err")("Cannot play video: "+(t.map(function(a){return c("ErrorSerializer").toReadableMessage(a)}).join("; ")||"Unknown error"));j.name=(f=t.map(function(a){return a.name}).join("_"))!=null?f:"VideoImplementationsUnknownError";j.project="comet_video_player";g=(n=j.metadata)!=null?n:new(c("ErrorMetadata"))();j.metadata=g;r!=null&&g.addEntry("COMET_VIDEO","VIDEO_ID",String(r));throw j}return s}g["default"]=a}),98);
__d("useVideoImplementationsParamsRelayImpl",["CometRelay","react","useVideoImplementationsParamsRelayImpl_video.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo;function a(a,c){var e=d("CometRelay").useFragment(h!==void 0?h:h=b("useVideoImplementationsParamsRelayImpl_video.graphql"),a);return i(function(){var a;return{browserNativeHdUrl:e.browser_native_hd_url,browserNativeSdUrl:e.browser_native_sd_url,canUseOz:e.can_use_oz,dashManifestUrl:e.dash_manifest_url,dashManifestUrlOverride_DO_NOT_USE:c.dashManifestUrlOverride_DO_NOT_USE,dashManifestXmlString:e.dash_manifest,initialAudioUserPreferredLanguage:e.audio_user_preferred_language,isExternalMedia:e.is_rss_podcast_video,isSpherical:e.is_spherical,minQualityPreference:e.min_quality_preference,minQualityPreferenceOverrideFromProductSurface:c.minQualityPreferenceOverrideFromProductSurface,preferBrowserNativeImplementation:c.preferBrowserNativeImplementation,sphericalVideoFallbackHdUrl:(a=e.spherical_video_fallback_urls)==null?void 0:a.hd,sphericalVideoFallbackSdUrl:(a=e.spherical_video_fallback_urls)==null?void 0:a.sd,videoFBID:e.id,videoPlayerShakaConfig:c.videoPlayerShakaConfig}},[c.dashManifestUrlOverride_DO_NOT_USE,c.minQualityPreferenceOverrideFromProductSurface,c.preferBrowserNativeImplementation,c.videoPlayerShakaConfig,e.audio_user_preferred_language,e.browser_native_hd_url,e.browser_native_sd_url,e.can_use_oz,e.dash_manifest,e.dash_manifest_url,e.id,e.is_rss_podcast_video,e.is_spherical,e.min_quality_preference,(a=e.spherical_video_fallback_urls)==null?void 0:a.hd,(a=e.spherical_video_fallback_urls)==null?void 0:a.sd])}g["default"]=a}),98);
__d("useVideoImplementationsRelayImpl",["prepareVideoPlayerImplementations","react","useVideoImplementationsParamsRelayImpl"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a,b){var d=c("useVideoImplementationsParamsRelayImpl")(a,b);return h(function(){return c("prepareVideoPlayerImplementations")(d)},[d])}g["default"]=a}),98);
__d("useVideoImplementationsRelay",["useVideoImplementationsRelayImpl"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("useVideoImplementationsRelayImpl")}),98);/*FB_PKG_DELIM*/
__d("requestIdleCallbackComet",["IdleCallbackImplementation"],(function(a,b,c,d,e,f,g){"use strict";var h=a.requestIdleCallback||d("IdleCallbackImplementation").requestIdleCallback;function b(b,c){return h.call(a,b,c)}g["default"]=b}),98);
__d("CubicBezier",[],(function(a,b,c,d,e,f){var g=.005;a=function(){function a(a,b){this.cx=3*a[0],this.bx=3*(b[0]-a[0])-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a[1],this.by=3*(b[1]-a[1])-this.cy,this.ay=1-this.cy-this.by}var b=a.prototype;b.sampleCurveX=function(a){return((this.ax*a+this.bx)*a+this.cx)*a};b.solve=function(a){a=this.solveCurveX(a);return((this.ay*a+this.by)*a+this.cy)*a};b.solveCurveX=function(a){var b,c,d,e;for(d=a,c=0;c<8;c++){e=this.sampleCurveX(d)-a;if(Math.abs(e)<g)return d;b=(3*this.ax*d+2*this.bx)*d+this.cx;if(Math.abs(b)<1e-6)break;d-=e/b}b=0;c=1;d=a;if(d<b)return b;if(d>c)return c;while(b<c){e=this.sampleCurveX(d);if(Math.abs(e-a)<g)return d;a>e?b=d:c=d;d=(c-b)/2+b}return d};return a}();f["default"]=a}),66);
__d("FunnelAction",[],(function(a,b,c,d,e,f){"use strict";var g="name",h="payload",i="relative_time",j="tag";a=function(){function a(a,b,c,d){this.$1={},this.$1[g]=a,this.$1[i]=b,c!==void 0&&(this.$1[j]=c),d!==void 0&&(this.$1[h]=JSON.stringify(d))}var b=a.prototype;b.getData=function(){return this.$1};return a}();f["default"]=a}),66);
__d("FunnelRegistry",[],(function(a,b,c,d,e,f){a=Object.freeze({WWW_EXAMPLE_FUNNEL:!0,MSITE_EXAMPLE_FUNNEL:!0,WWW_FEED_SHARE_DIALOG_FUNNEL:!0,MSITE_FEED_SHARE_DIALOG_FUNNEL:!0,WWW_CHAT_QUICKCAM_FUNNEL:!0,PLATFORM_SHARE_DIALOG_FUNNEL:!0,WWW_CANVAS_EDITOR_FUNNEL:!0,MSITE_COMMENT_TYPING_FUNNEL:!0,MSITE_NOTE_READING_FUNNEL:!0,WWW_LISTS_COMPOSER_FUNNEL:!0,WWW_REACTIONS_LIKE_BUTTON_HOVER_FUNNEL:!0,WWW_REACTIONS_NUX_FUNNEL:!0,WWW_COMMENT_REACTIONS_NUX_FUNNEL:!0,MSITE_INLINE_REPLY_COMPOSER_FUNNEL:!0,WWW_LEAD_GEN_DESKTOP_AD_UNIT_FUNNEL:!0,WWW_LEAD_GEN_MSITE_AD_UNIT_FUNNEL:!0,WWW_LINK_PICKER_DIALOG_FUNNEL:!0,WWW_MEME_PICKER_DIALOG_FUNNEL:!0,WWW_SHOP_BUY_FUNNEL:!0,WWW_SNOWLIFT_ACTIONS_FUNNEL:!0,WWW_CANVAS_AD_CREATION_FUNNEL:!0,WWW_SEARCH_AWARENESS_LEARNING_NUX_FUNNEL:!0,WWW_CONSTITUENT_TITLE_UPSELL_FUNNEL:!0,WWW_PAGE_CREATION_FUNNEL:!0,WWW_RECRUITING_PRODUCTS_FUNNEL:!0,WWW_RECRUITING_SEARCH_FUNNEL:!0,WWW_RECRUITING_BULK_EMAIL_FUNNEL:!0,WWW_RECRUITING_LEAVE_HANDLER_FUNNEL:!0,WWW_PMT_FUNNEL:!0,WWW_PULSE_FUNNEL:!0,WWW_ORGTOOL_FUNNEL:!0,WWW_VIDEOS_CASTING_FUNNEL:!0,MSITE_PPD_FUNNEL:!0,WWW_CMS_SEARCH_FUNNEL:!0,SOCIAL_SEARCH_CONVERSION_WWW_FUNNEL:!0,SOCIAL_SEARCH_DASHBOARD_WWW_FUNNEL:!0,GAMES_QUICKSILVER_FUNNEL:!0,SRT_USER_FLOW_FUNNEL:!0,WWW_MEME_PIVOT_FUNNEL:!0,WWW_NOTIFICATION_FUNNEL:!0,MSITE_FEED_ALBUM_CTA_FUNNEL:!0,MTOUCH_COMMENT_STORIES_FUNNEL:!0,WWW_MESSENGER_SHARE_TO_FB_FUNNEL:!0,MISINFORMATION_RESHARE_ALERT_FUNNEL:!0,FACECAST_BROADCASTER_FUNNEL:!0,FACECAST_SCHEDULED_LIVE_FUNNEL:!0,SCHEDULED_WATCH_PARTY_VIEWER_FUNNEL:!0,COLLEGE_COMMUNITY_NUX_ONBOARDING_FUNNEL:!0,WWW_MESSENGER_SEARCH_SESSION_FUNNEL:!0,WWW_MESSENGER_CONTENT_SEARCH_FUNNEL:!0,WWW_LIVE_PRODUCER_FUNNEL:!0,WWW_AD_BREAKS_ONBOARDING_FUNNEL:!0,WWW_LAUNCHPAD_ONBOARDING_FUNNEL:!0,WWW_LEAD_GEN_FORM_EDITOR_FUNNEL:!0,WWW_AD_BREAK_HOME_ONBOARDING_FUNNEL:!0,WEB_MESSENGER_RTC_FUNNEL:!0,WEB_RTC_SCREEN_SHARING_FUNNEL:!0,MTOUCH_NUX_PROFILE_PIC_FUNNEL:!0,ADS_VIDEO_CAPTION_FUNNEL:!0,WWW_BUSINESS_ALERT_FUNNEL:!0,SOCIAL_VR_INTERACTIVE_THREE_SIXTY_FUNNEL:!0,WWW_DIVEBAR_RECENTS_FUNNEL:!0,UNIDASH_EDIT_WIDGET_FUNNEL:!0,MESSENGER_UNIVERSAL_SEARCH_FUNNEL:!0,WWW_BUSINESS_CREATION_FUNNEL:!0,WWW_BUSINESS_VERIFICATION_FUNNEL:!0,WWW_APP_REVIEW_BUSINESS_VERIFICATION_FUNNEL:!0,AEC_APPLICATION_FUNNEL:!0,WWW_MESSENGER_POLL_GROUP_CREATE_FUNNEL:!0,ADS_USER_REPORTING_FUNNEL:!0,MAP_WEB_FUNNEL:!0,INTERN_OOPS_FUNNEL:!0,FRX_FUNNEL:!0,WWW_ACCESSIBILITY_NOTIFICATIONS_JEWEL_TABBING_FUNNEL:!0,MTOUCH_FEED_MISSED_STORIES_FUNNEL:!0,WWW_STORYSET_FUNNEL:!0,POLYGLOT_MAIN_FUNNEL:!0,CREATIVE_STUDIO_CREATION_FUNNEL:!0,CREATIVE_STUDIO_HUB_FUNNEL:!0,CREATIVE_STUDIO_INVITE_JOIN_FUNNEL:!0,FX_PLATFORM_INVITE_JOIN_FUNNEL:!0,FX_PLATFORM_INVITE_SEND_FUNNEL:!0,WWW_LIVE_VIEWER_TIPJAR_FUNNEL:!0,WWW_FUNDRAISER_CREATION_FUNNEL:!0,WWW_FUNDRAISER_EDIT_FUNNEL:!0,WWW_FBL_FUNNEL:!0,WWW_CLUE_FUNNEL:!0,WWW_OFFERS_SIMPLE_COMPOSE_FUNNEL:!0,WWW_OFFERS_SIMPLE_COMPOSE_POST_LIKE_FUNNEL:!0,WWW_SEE_OFFERS_CTA_NUX_FUNNEL:!0,WWW_CHEVRON_FUNNEL:!0,MSITE_AD_BREAKS_ONBOARDING_FLOW_FUNNEL:!0,CASUAL_GROUP_PICKER_FUNNEL:!0,TOPICS_TO_FOLLOW_FUNNEL:!0,WWW_SPATIAL_REACTION_PRODUCTION_FUNNEL:!0,WWW_ADS_TARGETING_AUDIENCE_MANAGER_FUNNEL:!0,WWW_NEWSFEED_TAILLOAD_FUNNEL:!0,SEARCH_ADS_WWW_FUNNEL:!0,KEYFRAMES_FUNNEL:!0,WWW_NOTIFS_UP_NEXT_FUNNEL:!0,MSITE_PROFILE_PICTURE_EDIT_FUNNEL:!0,WWW_PROFILE_INTRO_CARD_EDIT_MEDIA_FUNNEL:!0,BUSINESS_PAYMENTS_MERCHANT_ONBOARDING_FUNNEL:!0,SELLER_EXPERIENCE_SHOP_INSIGHTS_NEW_FUNNEL:!0,SELLER_EXPERIENCE_ONBOARDING_NEW_FUNNEL:!0,SELLER_EXPERIENCE_PAYOUT_SETUP_NEW_FUNNEL:!0,SELLER_EXPERIENCE_SHOP_MANAGEMENT_FUNNEL:!0,CHANNEL_EDIT_FUNNEL:!0,PAYOUT_ONBOARDING_FUNNEL:!0,SERVICES_INSTANT_BOOKING_SETTINGS_FUNNEL:!0,SERVICES_FB_APPOINTMENTS_CTA_CREATION_FUNNEL:!0,SERVICES_FB_APPOINTMENTS_CTA_FULL_SETUP_FUNNEL:!0,MATCHED_MARKET_LIFT_INTERNAL_FUNNEL:!0,FB_NEO_ONBOARDING_FUNNEL:!0,FB_NEO_FRIENDING_FUNNEL:!0,SEARCH_FUNNEL:!0,SHADOW_SEARCH_FUNNEL:!0,SHADOW_EARLY_END_SEARCH_FUNNEL:!0,TEXT_DELIGHTS_OPT_OUT_NUX_FUNNEL:!0,TEXT_DELIGHTS_COMPOSER_FUNNEL:!0,PRIVATE_COMMENT_COMPOSER_FUNNEL:!0,CHECKOUT_EXPERIENCES_FUNNEL:!0,CHECKOUT_EXPERIENCES_SELLER_FUNNEL:!0,MESSENGER_SECONDARY_SEARCH_FUNNEL:!0,WWW_SERVICES_INSTANT_BOOKING_CONSUMER_FUNNEL:!0,WWW_PRESENCE_FUNNEL:!0,WWW_SERVICES_BOOK_APPOINTMENT_CONSUMER_FUNNEL:!0,WWW_SPHERICAL_DIRECTOR_FUNNEL:!0,SELLER_EXPERIENCE_MIGRATION_FUNNEL:!0,SELLER_EXPERIENCE_PAYOUT_SETUP_FUNNEL:!0,NATIVE_SUPPORT_FUNNEL:!0,PRIVACY_SHORTCUTS_FUNNEL:!0,PRIVACY_ACCESS_HUB_FUNNEL:!0,WWW_POLITICIAN_OFFICE_SETTING_FUNNEL:!0,WWW_CIVIC_ACTION_POST_INVITE_FUNNEL:!0,WWW_CIVIC_ACTION_POST_CREATION_FUNNEL:!0,NT_NFAS_EXAMPLE_FUNNEL:!0,WWW_ONCALL_VIEW_FUNNEL:!0,WWW_ESCALATION_TOOLS_NOTIFICATIONS_PAGE_FUNNEL:!0,ALL_VOICES_FUNNEL:!0,WWW_MESSENGER_SHARE_FILE_PREVIEW_FUNNEL:!0,POST_TRANSACTION_FUNNEL:!0,INSTANT_EXPERIENCES_MINDBODY_FUNNEL:!0,WWW_CTW_WHATSAPP_VERIFICATION_FLOW_FUNNEL:!0,PIE_MANAGER_HIRING_HUB_FUNNEL:!0,PIE_RECRUITING_MANAGER_HIRING_OUTREACH_FUNNEL:!0,PIE_RECRUITING_MANAGER_HIRING_REVIEW_FUNNEL:!0,IG_WEB_STORY_CREATION_FUNNEL:!0,IG_WEB_IGTV_CREATION_FUNNEL:!0,IG_WEB_ONE_TAP_REGISTRATION_FUNNEL:!0,IG_WEB_SHARE_FUNNEL:!0,IG_WEB_NUX_FUNNEL:!0,IG_WEB_OBA_FUNNEL:!0,WWW_FB_CHAT_NEW_SETTINGS_MENU_FUNNEL:!0,FLEXIBLE_STARS_WWW_FUNNEL:!0,PAYMENT_APP_FUNNEL:!0,WWW_MESSENGER_VIDEO_CHAT_LINKS_FUNNEL:!0,KAIOS_REG_CONTACT_IMPORTER_FUNNEL:!0,ONEVC_CALL_ROUTING_FUNNEL:!0,AR_HUB_UPLOAD_FUNNEL:!0,FHT_FUNNEL:!0,WWW_PCR_FUNNEL:!0,MARKETPLACE_GIFT_CARD_FUNNEL:!0,WORK_CHAT_SEARCH_FUNNEL:!0,DISCOVER_MIGRATION_FUNNEL:!0,ZERO_PLACEHOLDER_FUNNEL:!0,FOS_MON_PURCHASE_FLOW_FUNNEL:!0});f["default"]=a}),66);
__d("Funnel",["BinarySearch","FunnelAction","FunnelRegistry","sprintf","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="name",i="instance_id",j="start_time",k="tags",l="actions",m="sampling_rate",n="timeout_sec",o="beacon_id",p="beacon_session_id",q="funnel_level_beacon_id",r="funnel_level_beacon_session_id",s="is_web";a={EXPLICIT:"explicit",TIMEOUT:"timeout",SESSION_END:"session_end",RESTART:"restart",ACTIONS_FULL:"actions_full"};b={ACTION_END:"funnel_end",ACTION_WINDOW_BLUR:"window_blur",ACTION_WINDOW_FOCUS:"window_focus"};var t=600;e=function(){function a(a,b,d,e,f){if(c("FunnelRegistry")[a]!==!0)throw c("unrecoverableViolation")("Funnel name not registered.","comet_infra");this.$1=a;this.$2=b;this.$3=[];this.$4={};this.$5=d;this.$6=f;this.timeout_sec=t;this.shouldTrackFocus=!1;this.$7=e;this.$9=-1;this.$10=-1;this.$11=-1;this.$12=-1;this.$8=null;this.devModeLogger("Started funnel")}var b=a.prototype;b.addTag=function(a){if(typeof a!=="string")throw c("unrecoverableViolation")("Funnel tag should be a String.","comet_infra");this.$4[a]=!0;this.devModeLogger("Added funnel tag %s",a);return this};b.appendAction=function(a,b,e,f){var g=this;f===void 0&&(f=Date.now());f=new(c("FunnelAction"))(a,f-this.$6,b,e);e=d("BinarySearch").leastStrictUpperBound(function(a){return g.$3[a].getData()},f.getData(),0,this.$3.length,function(a,b){if(a.name==="funnel_end")return 1;return b.name==="funnel_end"?-1:a.relative_time-b.relative_time});this.$3.splice(e,0,f);b?this.devModeLogger("Appended action %s with tag %s",a,b):this.devModeLogger("Appended action %s",a);this.$8=a;return this};b.appendActionIfNew=function(a,b,c){a!==this.$8&&this.appendAction(a,b,c);return this};b.getLogData=function(){var a={};a[h]=this.$1;this.$2!==void 0?a[i]=this.$2:a[i]=Math.floor(Math.random()*65536);a[j]=this.$6;a[m]=this.$5;a[n]=this.timeout_sec;a[k]=[];for(var b in this.$4)this.$4[b]===!0&&a[k].push(b);if(this.$3.length>0){a[l]=[];for(b=0;b<this.$3.length;b++)a[l].push(this.$3[b].getData())}this.$10!==-1&&this.$9!==-1&&(a[p]=this.$10,a[o]=this.$9);this.$12!==-1&&this.$11!==-1&&(a[r]=this.$12,a[q]=this.$11);a[s]=1;return a};b.devModeLogger=function(){};b.getTags=function(){return this.$4};b.getFunnelName=function(){return this.$1};b.addReliabilityStats=function(a,b){if(typeof a!=="number")throw c("unrecoverableViolation")("SessionID of current funnel lib reliability stats should be a number.","comet_infra");if(typeof b!=="number")throw c("unrecoverableViolation")("Counter of current funnel lib reliability stats should be a number.","comet_infra");this.$10=a;this.$9=b;this.devModeLogger("Added funnel sessionID %d and counter %d.",a,b);return this};b.addReliabilityStatsForCurFunnel=function(a,b){if(typeof a!=="number")throw c("unrecoverableViolation")("SessionID of current funnel lib reliability stats should be a number.","comet_infra");if(typeof b!=="number")throw c("unrecoverableViolation")("Counter of current funnel lib reliability stats should be a number.","comet_infra");this.$12=a;this.$11=b;this.devModeLogger("Added funnel sessionID %d and counter %d.",a,b);return this};return a}();g.EndType=a;g.ActionType=b;g.Funnel=e}),98);
__d("FunnelLoggerSampler",["FunnelLoggerConfig"],(function(a,b,c,d,e,f){"use strict";function a(a){a=g(a);return a===0?!1:Math.random()*a<1}function g(a){a=b("FunnelLoggerConfig").freq[a];a===void 0&&(a=b("FunnelLoggerConfig").freq["default"]);return a}e.exports={shouldLog:a,getSamplingRate:g}}),null);
__d("FunnelReliabilityWhitelist",[],(function(a,b,c,d,e,f){a=["SEARCH_FUNNEL"];f["default"]=a}),66);
__d("FunnelReliabilityStatsCollector",["FunnelReliabilityWhitelist","MarauderLogger","WebStorage","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=!1,i,j="fas_reliability_lib_stats_overall",k="fas_reliability_funnel_stats_overall",l=1800,m="funnel_analytics_data_loss",n="fas_reliability_lib_stats_wl",o="fas_reliability_funnel_stats_wl",p=0,q={};function a(){return c("gkx")("676890")?!0:!1}function r(){h||(h=!0,i=c("WebStorage").getLocalStorage());return i}function s(){var a=r();if(!a)return null;a=a.getItem(k);if(a)return JSON.parse(a);else{a=Math.floor(Date.now()/1e3);return{startCount:0,endCount:0,cancelCount:0,prevCount:0,lastFlushTimestamp:a}}}function t(a){var b=r();if(!b)return null;b=b.getItem(o);if(b)return JSON.parse(b);else{b={};b[a]={startCount:0,endCount:0,cancelCount:0,prevCount:0};return b}}function u(){var a=r();if(!a)return null;a=a.getItem(o);return a?JSON.parse(a):null}function b(a){var b=s();if(!b)return;p+=1;b.startCount?b.startCount=parseInt(b.startCount,10)+1:b.startCount=1;c("WebStorage").setItemGuarded(localStorage,k,JSON.stringify(b));v(a)}function v(a){var b=t(a);if(!b||!c("FunnelReliabilityWhitelist").includes(a))return;var d=q[a]?q[a]+1:1;q[a]=d;d=b[a];d?d.startCount?d.startCount=parseInt(d.startCount,10)+1:d.startCount=1:(d={},d.startCount=1,d.prevCount=0,d.cancelCount=0,d.endCount=0);b[a]=d;c("WebStorage").setItemGuarded(localStorage,o,JSON.stringify(b))}function e(a){var b=s();if(!b)return;p-=1;b.cancelCount?b.cancelCount=parseInt(b.cancelCount,10)+1:b.cancelCount=1;c("WebStorage").setItemGuarded(localStorage,k,JSON.stringify(b));w(a)}function w(a){var b=t(a);if(!b||!c("FunnelReliabilityWhitelist").includes(a))return;var d=q[a]?q[a]-1:0;q[a]=d;d=b[a];d?d.cancelCount?d.cancelCount=parseInt(d.cancelCount,10)+1:d.cancelCount=1:(d={},d.startCount=0,d.prevCount=0,d.cancelCount=1,d.endCount=0);b[a]=d;c("WebStorage").setItemGuarded(localStorage,o,JSON.stringify(b))}function f(a){var b=s();if(!b)return;p-=1;b.endCount?b.endCount=parseInt(b.endCount,10)+1:b.endCount=1;c("WebStorage").setItemGuarded(localStorage,k,JSON.stringify(b));x(a)}function x(a){var b=t(a);if(!b||!c("FunnelReliabilityWhitelist").includes(a))return;var d=q[a]?q[a]-1:0;q[a]=d;d=b[a];d?d.endCount?d.endCount=parseInt(d.endCount,10)+1:d.endCount=1:(d={},d.startCount=0,d.prevCount=0,d.cancelCount=0,d.endCount=1);b[a]=d;c("WebStorage").setItemGuarded(localStorage,o,JSON.stringify(b))}function y(){var a=s();if(!a)return!1;if(a.lastFlushTimestamp){var b=Math.floor(Date.now()/1e3);return b-parseInt(a.lastFlushTimestamp,10)>=l}return!1}function z(a,b){a=r();if(!a)return;var d=Math.floor(Date.now()/1e3);b={startCount:0,endCount:0,cancelCount:0,prevCount:b,lastFlushTimestamp:d};c("WebStorage").setItemGuarded(a,k,JSON.stringify(b))}function A(a,b){var d=r();if(!d||!a||Object.keys(a).length==0)return;var e={};for(a in a){var f=b[a];f={startCount:0,endCount:0,cancelCount:0,prevCount:f?f:0};e[a]=f}c("WebStorage").setItemGuarded(d,o,JSON.stringify(e))}function B(a,b,c,e){var f=a.prevCount,g=a.startCount,h=a.endCount;a=a.cancelCount;var i=f+g-h-a-b;g={start:g,end:h,cancel:a,prev:f,ongoing:b,loss:i};h={overall:g};if(c){a={};for(f in c){b=c[f];i=b.prevCount;g=b.startCount;var j=b.endCount;b=b.cancelCount;var k=e[f]?e[f]:0,l=i+g-j-b-k;g={start:g,end:j,cancel:b,prev:i,ongoing:k,loss:l};a[f]=g}h.funnel_level_data_loss=a}d("MarauderLogger").log(m,null,h)}function C(){if(!y())return;var a=s();if(!a)return;z(a,p);var b=u();b&&A(b,q);B(a,p,b,q)}function D(){var a=r();if(!a)return null;var b=a.getItem(j);b=b?JSON.parse(b):{};var d=b.counter,e=b.session;d?(d=parseInt(d,10)+1,e=parseInt(b.session,10)):(d=1,e=Math.floor(Math.random()*65536));c("WebStorage").setItemGuarded(a,j,JSON.stringify({counter:d,session:e}));return[e,d]}function E(a){if(!c("FunnelReliabilityWhitelist").includes(a))return null;var b=r();if(!b)return null;var d=b.getItem(n),e=void 0,f={};d&&(f=JSON.parse(d),e=f[a]);var g=e?e.counter:void 0;e=e?e.session:void 0;g?(g=parseInt(g,10)+1,e=parseInt(e,10)):(g=1,e=Math.floor(Math.random()*65536));var h={};d?(f[a]={counter:g,session:e},h=f):h[a]={counter:g,session:e};c("WebStorage").setItemGuarded(b,n,JSON.stringify(h));return[e,g]}g.passFunnelLevelStatsRolloutGK=a;g.onFunnelStart=b;g.onFunnelCancel=e;g.onFunnelEnd=f;g.maybeFlushFunnelLevelStats=C;g.increaseAndGetLibLevelStats=D;g.maybeIncreaseAndGetLibLevelStatsForCurFunnel=E}),98);
__d("FunnelLogger",["Banzai","FBLogger","Funnel","FunnelLoggerSampler","FunnelRegistry","FunnelReliabilityStatsCollector","MarauderLogger","clearTimeout","gkx","setTimeout","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g={},h=!1,i=!0;function a(a,b){B(a,b)}function c(a,b,c){B(a,c,b)}function d(a,b){a=D(a,b);return!E(a)?null:g[a]}function f(a,b){}function j(a,b,c){c===void 0?F(a,void 0,b):c&&F(a,b,c)}function k(a,c){c=D(a,c);E(c)&&(g[c].devModeLogger("Cancelled funnel"),H(c),g[c]=void 0,b("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(b("FunnelReliabilityStatsCollector").onFunnelCancel(a),b("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats()))}function l(a,b){C(a,b)}function m(a,b,c){C(a,c,b)}function n(a,b,c){c===void 0?I(a,void 0,String(b)):I(a,Number(b),c)}function o(a,b,c){c===void 0?J(a,void 0,Boolean(b)):J(a,Number(b),c)}function p(a,b,c){c===void 0?K(a,void 0,String(b),void 0):K(a,Number(b),c,void 0)}function q(a,b,c){c===void 0?L(a,void 0,String(b),void 0):L(a,Number(b),c,void 0)}function r(a,b,c,d){d===void 0?K(a,void 0,String(c),void 0,void 0,b):K(a,Number(c),d,void 0,void 0,b)}function s(a,b,c,d){d===void 0?K(a,void 0,String(b),c):K(a,Number(b),c,d)}function t(a,b,c,d,e){e===void 0?K(a,void 0,String(c),d,void 0,b):K(a,Number(c),d,e,void 0,b)}function u(a,b,c,d){d===void 0?L(a,void 0,String(b),c):L(a,Number(b),c,d)}function v(a,b,c,d){d===void 0?K(a,void 0,String(b),void 0,c):K(a,Number(b),String(c),void 0,d)}function w(a,b,c,d,e){e===void 0?K(a,void 0,String(c),void 0,d,b):K(a,Number(c),String(d),void 0,e,b)}function x(a,b,c,d){d===void 0?L(a,void 0,String(b),void 0,c):L(a,Number(b),String(c),void 0,d)}function y(a,b,c,d,e){e===void 0?K(a,void 0,String(b),c,d):K(a,Number(b),String(c),String(d),e)}function z(a,b,c,d,e,f){f===void 0?K(a,void 0,String(c),d,e,b):K(a,Number(c),String(d),String(e),f,b)}function A(a,b,c,d,e){e===void 0?L(a,void 0,String(b),c,d):L(a,Number(b),String(c),String(d),e)}function B(a,c,d){var e=D(a,c);R();M(e);b("FunnelLoggerSampler").shouldLog(a)&&(g[e]=new(b("Funnel").Funnel)(a,c,b("FunnelLoggerSampler").getSamplingRate(a),!1,d!=null?d:Date.now()),G(e),b("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(b("FunnelReliabilityStatsCollector").onFunnelStart(a),b("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats()))}function C(a,c,d){a=D(a,c);E(a)&&(g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.EXPLICIT,void 0,d),N(a))}function D(a,c){if(b("FunnelRegistry")[a]!==!0){b("FBLogger")("funnel_validation").blameToPreviousFile().mustfix("Funnel name `%s` not registered",a);throw b("unrecoverableViolation")("Funnel name `"+a+"` not registered.","comet_infra")}if(c==null)return a;else return a+c.toString()}function E(a){return g[a]!==void 0}function F(a,b,c){a=D(a,b);E(a)&&(g[a].timeout_sec=c,g[a].devModeLogger("Timeout set to %s sec",c),G(a))}function G(a){H(a),g[a].timeout_handle=b("setTimeout")(function(){g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.TIMEOUT),N(a)},1e3*g[a].timeout_sec)}function H(a){g[a].timeout_handle&&b("clearTimeout")(g[a].timeout_handle)}function I(a,b,c){a=D(a,b);E(a)&&(g[a].addTag(c),G(a))}function J(a,b,c){a=D(a,b);E(a)&&(g[a].shouldTrackFocus=c,g[a].devModeLogger("Focus tracking %s",c?"on":"off"))}function K(a,b,c,d,e,f){a=D(a,b);E(a)&&(g[a].appendAction(c,d,e,f),G(a))}function L(a,b,c,d,e){a=D(a,b);E(a)&&g[a].appendActionIfNew(c,d,e)}function M(a){E(a)&&(g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.RESTART),N(a))}function N(a){if(E(a)){if(b("gkx")("676888")){var c=b("FunnelReliabilityStatsCollector").increaseAndGetLibLevelStats();if(c){var d=c[0];c=c[1];g[a].addReliabilityStats(d,c)}}d=g[a].getFunnelName();c=g[a].getLogData();b("MarauderLogger").log("funnel_analytics",null,c);g[a].devModeLogger("Logged: %s",JSON.stringify(c));H(a);g[a]=void 0;b("FunnelReliabilityStatsCollector").passFunnelLevelStatsRolloutGK()&&(b("FunnelReliabilityStatsCollector").onFunnelEnd(d),b("FunnelReliabilityStatsCollector").maybeFlushFunnelLevelStats())}}function O(){for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&E(a)&&(g[a].appendAction(b("Funnel").ActionType.ACTION_END,b("Funnel").EndType.SESSION_END),N(a))}function P(){if(i){i=!1;for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&E(a)&&g[a].shouldTrackFocus&&(g[a].appendAction(b("Funnel").ActionType.ACTION_WINDOW_BLUR),H(a))}}function Q(){if(!i){i=!0;for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&E(a)&&g[a].shouldTrackFocus&&(g[a].appendAction(b("Funnel").ActionType.ACTION_WINDOW_FOCUS),H(a))}}function R(){h||(h=!0,window.addEventListener&&(b("Banzai").subscribe(b("Banzai").SHUTDOWN,O),window.addEventListener("blur",P),window.addEventListener("focus",Q)))}e.exports={addFunnelTag:n,appendAction:p,appendActionAtTime:r,appendActionAtTimeWithPayload:w,appendActionAtTimeWithTag:t,appendActionAtTimeWithTagAndPayload:z,appendActionIfNew:q,appendActionWithPayload:v,appendActionWithPayloadIfNew:x,appendActionWithTag:s,appendActionWithTagAndPayload:y,appendActionWithTagAndPayloadIfNew:A,appendActionWithTagIfNew:u,cancelFunnel:k,endFunnel:l,endFunnelAtTime:m,getFunnelInstance:d,setFunnelTimeout:j,setFunnelTrackFocus:o,startFunnel:a,startFunnel_DEV_MODE:f,startFunnelAtTime:c}}),null);
__d("KeyframesPerformanceLog",["performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h=60;a=function(){function a(a,b){this.$1=0,this.$2=-1,this.$3=-1,this.$6=a,this.$5=b,this.$6=a,this.reset()}var b=a.prototype;b.onNextFrame=function(a){this.$7=a};b.start=function(){if(this.$2<0||this.$3>=0){var a=c("performanceNow")();this.$2<0?this.$2=a:this.$3>=0&&(this.$2+=a-this.$3,this.$3=-1);this.$5&&this.$5("start")}};b.pause=function(){this.$3<0&&this.$2>=0&&(this.$3=c("performanceNow")(),this.$5&&this.$5("pause"))};b.reset=function(){this.$1=0,this.$4={one:0,two:0,four:0,eight:0},this.$3=-1,this.$2=-1};b.addFrame=function(){this.$1+=1,this.$7&&(this.$7(),this.$7=null)};b.addFrameDrop=function(a){a>=8?this.$4.eight+=1:a>=4?this.$4.four+=1:a>=2?this.$4.two+=1:a>=1&&(this.$4.one+=1)};b.finish=function(){if(this.$2>=0){var a=c("performanceNow")(),b=this.$3>=0?a-this.$3:0;a=Math.max(Math.floor(a-this.$2-b),1);b=this.$1?this.$1/a*1e3:h;this.$6({animation_duration:a,display_refresh_rate:h,eight_frame_drop_count:this.$4.eight,four_frame_drop_count:this.$4.four,frame_rate:b,one_frame_drop_count:this.$4.one,two_frame_drop_count:this.$4.two});this.reset()}};return a}();g["default"]=a}),98);
__d("KeyframesPluginLogger",["BanzaiLogger","CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";var h="KeyframesFramePerfLoggerConfig",i={appid:256281040558,isemployee:c("CurrentUser").isEmployee()?1:0},j={LOAD_ATTEMPT:"plugin_load_attempt",LOAD_ATTEMPT_KF3:"plugin_load_attempt_compat"};function k(a,b){if(a==null)return;a.forEach(function(a){c("BanzaiLogger").log(h,babelHelpers["extends"]({},i,{name:b,extras:a}))})}a={log:function(a){k(a,j.LOAD_ATTEMPT)},logCompat:function(a){k(a,j.LOAD_ATTEMPT_KF3)}};g.KeyframesPluginLogger=a}),98);
__d("KeyframesPluginsLoader",["Bootloader","KeyframesPluginLogger","Promise","flatbuffers"],(function(a,b,c,d,e,f,g){"use strict";var h={DynamicProperties:function(a){return c("Bootloader").loadModules(["KeyframesPluginDynamicProperties","KeyframesPluginDynamicPropertiesSchema"],a,"KeyframesPluginsLoader")},LayerName:function(a){return c("Bootloader").loadModules(["KeyframesPluginLayerName","KeyframesPluginLayerNameSchema"],a,"KeyframesPluginsLoader")},LayerTags:function(a){return c("Bootloader").loadModules(["KeyframesPluginLayerTags","KeyframesPluginLayerTagsSchema"],a,"KeyframesPluginsLoader")},RandomSubdocument:function(a){return c("Bootloader").loadModules(["KeyframesPluginRandomSubdocument","KeyframesPluginRandomSubdocumentSchema"],a,"KeyframesPluginsLoader")},Sound:function(a){return c("Bootloader").loadModules(["KeyframesPluginSound","KeyframesPluginSoundSchema"],a,"KeyframesPluginsLoader")},SubdocumentSwap:function(a){return c("Bootloader").loadModules(["KeyframesPluginSubdocumentSwap","KeyframesPluginSubdocumentSwapSchema"],a,"KeyframesPluginsLoader")},TrimPath:function(a){return c("Bootloader").loadModules(["KeyframesPluginTrimPath","KeyframesPluginTrimPathSchema"],a,"KeyframesPluginsLoader")}};function i(a,b){return h[a]?h[a](b):null}function j(a){a=a.map(function(a){return new(b("Promise"))(function(b,c){var d=i(a,function(){for(var a=arguments.length,c=new Array(a),d=0;d<a;d++)c[d]=arguments[d];b(c)});d||c("Unknown plugin "+a)})});return b("Promise").all(a)}a=function(){a.fromPluginTable=function(b){d("KeyframesPluginLogger").KeyframesPluginLogger.log(b);return j(b).then(function(c){return new a(b,c)})};a.getSupportedPlugins=function(){return h};function a(a,b){this.instances=[],this.$1={},this.$2={},this.$4=a,this.$3=b}var b=a.prototype;b.getPluginTable=function(){return this.$4};b.getPluginsForLayer=function(a){return this.$1[a]};b.maybeInstantiatePluginsForLayer=function(a){var b=a.id();if(!this.$2[b]){var c=a.pluginsLength();if(c)for(var e=0;e<c;e++){var f=a.plugins(e),g=new(d("flatbuffers").ByteBuffer)(f.contentArray());f=f.index();if(this.$3[f]){var h=this.$3[f],i=h[0];h=h[1];f="getRootAsPlugin"+this.$4[f];h=h[f](g);f=new i(h,a);this.$1[b]||(this.$1[b]=[]);this.$1[b].push(f);this.instances.push(f);f.animationDidLoad()}}this.$2[b]=!0}};return a}();g["default"]=a}),98);
__d("KeyframesVersion",[],(function(a,b,c,d,e,f){"use strict";var g="2.0.0";function a(){return g}f.getCurrentVersion=a}),66);
__d("FBKeyframesLoggedSession",["BanzaiLogger","CurrentUser","FunnelLogger","KeyframesPerformanceLog","KeyframesPluginsLoader","KeyframesVersion","once","performanceNow","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";a=!1;var h="KEYFRAMES_FUNNEL",i="KeyframesFramePerfLoggerConfig",j=2,k=9e18,l={appid:256281040558,appversion:null,connection_class:null,country:null,deviceid:null,extras:null,isemployee:c("CurrentUser").isEmployee()?1:0,name:"keyframes_frame_perf_report",vc:null,year_class:null};function m(a){return parseInt(a.match(/[a-f0-9]+$/gi),16)}function n(){var a=c("performanceNow")();return function(){return Math.floor(c("performanceNow")()-a)}}function o(){return{value:Date.now()}}b=function(){function a(b,e){var f=this;this.$2=!1;this.$3=0;this.$5=1;this.$11=d("KeyframesVersion").getCurrentVersion();this.$15=function(b){f.$13("play_ended");f.$3++;if(f.$3===f.$5){b=babelHelpers["extends"]({},b,l,{animation_duration:String(b.animation_duration),asset_id:f.$6.assetID||null,asset_name:f.$6.assetID?null:f.$6.assetName,display_refresh_rate:String(b.display_refresh_rate),keyframes_version:f.$11,project_name:f.$6.projectName,session_id:f.$9});a.performanceLoggingMethod(b);f.$5<k&&(f.$5*=j)}};this.$16=function(a){switch(a){case"start":f.$13("play_started");return;case"pause":f.$13("play_ended");return}};this.$10=e||o();this.$6=b;this.$9=c("uuidv4")();this.$4=m(this.$9)}a.performanceLoggingMethod=function(a){c("BanzaiLogger").log(i,a)};var b=a.prototype;b.startDecode=function(a){var b=this;if(!this.$1){this.$12();this.$13("asset_decode_started",a);var d=n();this.$1=c("once")(function(a,c){b.$13("asset_decode_ended",a,{"time_since:asset_decode_started":d(),plugins_decoded:c||[]})})}return this.$1};b.error=function(a){this.$12(),this.$1?this.$14("asset_decode_failed",a):this.$14("asset_request_failed",a)};b.getUUID=function(){return this.$9};b.getInstanceID=function(){return this.$4};b.getPerformanceLogIfEnabled=function(){var a=this;if(!this.$7){var b=this.$12(),d=new(c("KeyframesPerformanceLog"))(this.$15,this.$16);d.onNextFrame(function(){return a.$13("first_frame_rendered",o(),{"time_since:session_started":b()})});this.$7=d}return this.$7};b.$12=function(){this.$8||(d("FunnelLogger").startFunnelAtTime(h,this.$10.value,this.$4),this.$13("session_started",this.$10,{supported_plugins:Object.keys(c("KeyframesPluginsLoader").getSupportedPlugins())}),this.$8=n());return this.$8};b.$13=function(a,b,c){b=b||o(),this.$2||d("FunnelLogger").appendActionAtTimeWithPayload(h,b.value,this.$4,a,babelHelpers["extends"]({},this.$17(),c))};b.$14=function(a,b){b=b||o(),this.$2||(this.$13("session_failed",b,{fail_reason:a}),d("FunnelLogger").endFunnelAtTime(h,b.value,this.$4),this.$2=!0)};b.$17=function(){return{asset_id:this.$6.assetID||null,asset_name:this.$6.assetID?null:this.$6.assetName,asset_source:"network",keyframes_version:this.$11,project_name:this.$6.projectName,session_id:this.$9}};return a}();g["default"]=b}),98);
__d("KeyframesSchema",[],(function(a,b,c,d,e,f){var g=g||{};g.keyframes=g.keyframes||{};g.keyframes.CommandType={MoveTo:0,LineTo:1,QuadTo:2,CubicTo:3};g.keyframes.CommandTypeName={0:"MoveTo",1:"LineTo",2:"QuadTo",3:"CubicTo"};g.keyframes.TweenType={Bezier:0,Linear:1,Hold:2};g.keyframes.TweenTypeName={0:"Bezier",1:"Linear",2:"Hold"};g.keyframes.VectorCompositeOrder={FillStroke:0,StrokeFill:1};g.keyframes.VectorCompositeOrderName={0:"FillStroke",1:"StrokeFill"};g.keyframes.StrokeLineCap={Butt:0,Round:1,Square:2};g.keyframes.StrokeLineCapName={0:"Butt",1:"Round",2:"Square"};g.keyframes.StrokeLineJoin={Miter:0,Round:1,Bevel:2};g.keyframes.StrokeLineJoinName={0:"Miter",1:"Round",2:"Bevel"};g.keyframes.TrackMatteType={None:0,Alpha:1,Alpha_Inverted:2};g.keyframes.TrackMatteTypeName={0:"None",1:"Alpha",2:"Alpha_Inverted"};g.keyframes.GradientType={Linear:0,Radial:1};g.keyframes.GradientTypeName={0:"Linear",1:"Radial"};g.keyframes.TextWeight={Thin:0,UltraLight:1,Light:2,Book:3,Medium:4,SemiBold:5,Bold:6,UltraBold:7,Heavy:8,UltraHeavy:9};g.keyframes.TextWeightName={0:"Thin",1:"UltraLight",2:"Light",3:"Book",4:"Medium",5:"SemiBold",6:"Bold",7:"UltraBold",8:"Heavy",9:"UltraHeavy"};g.keyframes.Size=function(){this.bb=null,this.bb_pos=0};g.keyframes.Size.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Size.prototype.width=function(){return this.bb.readFloat32(this.bb_pos)};g.keyframes.Size.prototype.mutate_width=function(a){var b=this.bb.__offset(this.bb_pos,0);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Size.prototype.height=function(){return this.bb.readFloat32(this.bb_pos+4)};g.keyframes.Size.prototype.mutate_height=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Size.createSize=function(a,b,c){a.prep(4,8);a.writeFloat32(c);a.writeFloat32(b);return a.offset()};g.keyframes.Point=function(){this.bb=null,this.bb_pos=0};g.keyframes.Point.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Point.getRootAsPoint=function(a,b){return(b||new g.keyframes.Point()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Point.prototype.x=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Point.prototype.mutate_x=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Point.prototype.y=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Point.prototype.mutate_y=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Point.startPoint=function(a){a.startObject(2)};g.keyframes.Point.addX=function(a,b){a.addFieldFloat32(0,b,0)};g.keyframes.Point.addY=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.Point.endPoint=function(a){a=a.endObject();return a};g.keyframes.Point.createPoint=function(a,b,c){g.keyframes.Point.startPoint(a);g.keyframes.Point.addX(a,b);g.keyframes.Point.addY(a,c);return g.keyframes.Point.endPoint(a)};g.keyframes.Color=function(){this.bb=null,this.bb_pos=0};g.keyframes.Color.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Color.getRootAsColor=function(a,b){return(b||new g.keyframes.Color()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Color.prototype.red=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_red=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.green=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_green=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.blue=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readUint8(this.bb_pos+a):0};g.keyframes.Color.prototype.mutate_blue=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.prototype.alpha=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readUint8(this.bb_pos+a):255};g.keyframes.Color.prototype.mutate_alpha=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeUint8(this.bb_pos+b,a);return!0};g.keyframes.Color.startColor=function(a){a.startObject(4)};g.keyframes.Color.addRed=function(a,b){a.addFieldInt8(0,b,0)};g.keyframes.Color.addGreen=function(a,b){a.addFieldInt8(1,b,0)};g.keyframes.Color.addBlue=function(a,b){a.addFieldInt8(2,b,0)};g.keyframes.Color.addAlpha=function(a,b){a.addFieldInt8(3,b,255)};g.keyframes.Color.endColor=function(a){a=a.endObject();return a};g.keyframes.Color.createColor=function(a,b,c,d,e){g.keyframes.Color.startColor(a);g.keyframes.Color.addRed(a,b);g.keyframes.Color.addGreen(a,c);g.keyframes.Color.addBlue(a,d);g.keyframes.Color.addAlpha(a,e);return g.keyframes.Color.endColor(a)};g.keyframes.ColorArray=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorArray.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorArray.getRootAsColorArray=function(a,b){return(b||new g.keyframes.ColorArray()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorArray.prototype.colors=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArray.prototype.colorsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArray.startColorArray=function(a){a.startObject(1)};g.keyframes.ColorArray.addColors=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorArray.createColorsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArray.startColorsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArray.endColorArray=function(a){a=a.endObject();return a};g.keyframes.ColorArray.createColorArray=function(a,b){g.keyframes.ColorArray.startColorArray(a);g.keyframes.ColorArray.addColors(a,b);return g.keyframes.ColorArray.endColorArray(a)};g.keyframes.Command=function(){this.bb=null,this.bb_pos=0};g.keyframes.Command.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Command.getRootAsCommand=function(a,b){return(b||new g.keyframes.Command()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Command.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.CommandType.MoveTo};g.keyframes.Command.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Command.prototype.point=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.prototype.control1=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.prototype.control2=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Command.startCommand=function(a){a.startObject(4)};g.keyframes.Command.addType=function(a,b){a.addFieldInt8(0,b,g.keyframes.CommandType.MoveTo)};g.keyframes.Command.addPoint=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Command.addControl1=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Command.addControl2=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Command.endCommand=function(a){a=a.endObject();return a};g.keyframes.Command.createCommand=function(a,b,c,d,e){g.keyframes.Command.startCommand(a);g.keyframes.Command.addType(a,b);g.keyframes.Command.addPoint(a,c);g.keyframes.Command.addControl1(a,d);g.keyframes.Command.addControl2(a,e);return g.keyframes.Command.endCommand(a)};g.keyframes.Path=function(){this.bb=null,this.bb_pos=0};g.keyframes.Path.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Path.getRootAsPath=function(a,b){return(b||new g.keyframes.Path()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Path.prototype.commands=function(a,b){var c=this.bb.__offset(this.bb_pos,4);return c?(b||new g.keyframes.Command()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Path.prototype.commandsLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Path.startPath=function(a){a.startObject(1)};g.keyframes.Path.addCommands=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Path.createCommandsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Path.startCommandsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Path.endPath=function(a){a=a.endObject();return a};g.keyframes.Path.createPath=function(a,b){g.keyframes.Path.startPath(a);g.keyframes.Path.addCommands(a,b);return g.keyframes.Path.endPath(a)};g.keyframes.Tween=function(){this.bb=null,this.bb_pos=0};g.keyframes.Tween.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Tween.getRootAsTween=function(a,b){return(b||new g.keyframes.Tween()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Tween.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TweenType.Bezier};g.keyframes.Tween.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Tween.prototype.control1=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Tween.prototype.control2=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Tween.startTween=function(a){a.startObject(3)};g.keyframes.Tween.addType=function(a,b){a.addFieldInt8(0,b,g.keyframes.TweenType.Bezier)};g.keyframes.Tween.addControl1=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Tween.addControl2=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Tween.endTween=function(a){a=a.endObject();return a};g.keyframes.Tween.createTween=function(a,b,c,d){g.keyframes.Tween.startTween(a);g.keyframes.Tween.addType(a,b);g.keyframes.Tween.addControl1(a,c);g.keyframes.Tween.addControl2(a,d);return g.keyframes.Tween.endTween(a)};g.keyframes.ScalarAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarAnimation.getRootAsScalarAnimation=function(a,b){return(b||new g.keyframes.ScalarAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarAnimation.prototype.value=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.mutate_value=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ScalarAnimation.prototype.values=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.valuesArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarAnimation.startScalarAnimation=function(a){a.startObject(4)};g.keyframes.ScalarAnimation.addValue=function(a,b){a.addFieldFloat32(0,b,0)};g.keyframes.ScalarAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ScalarAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ScalarAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ScalarAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarAnimation.endScalarAnimation=function(a){a=a.endObject();return a};g.keyframes.ScalarAnimation.createScalarAnimation=function(a,b,c,d,e){g.keyframes.ScalarAnimation.startScalarAnimation(a);g.keyframes.ScalarAnimation.addValue(a,b);g.keyframes.ScalarAnimation.addValues(a,c);g.keyframes.ScalarAnimation.addKeyframes(a,d);g.keyframes.ScalarAnimation.addTweens(a,e);return g.keyframes.ScalarAnimation.endScalarAnimation(a)};g.keyframes.ScalarArray=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarArray.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarArray.getRootAsScalarArray=function(a,b){return(b||new g.keyframes.ScalarArray()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarArray.prototype.values=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarArray.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArray.prototype.valuesArray=function(){var a=this.bb.__offset(this.bb_pos,4);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarArray.startScalarArray=function(a){a.startObject(1)};g.keyframes.ScalarArray.addValues=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarArray.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarArray.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArray.endScalarArray=function(a){a=a.endObject();return a};g.keyframes.ScalarArray.createScalarArray=function(a,b){g.keyframes.ScalarArray.startScalarArray(a);g.keyframes.ScalarArray.addValues(a,b);return g.keyframes.ScalarArray.endScalarArray(a)};g.keyframes.ScalarArrayAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ScalarArrayAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ScalarArrayAnimation.getRootAsScalarArrayAnimation=function(a,b){return(b||new g.keyframes.ScalarArrayAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ScalarArrayAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ScalarArray()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.ScalarArray()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ScalarArrayAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ScalarArrayAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ScalarArrayAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ScalarArrayAnimation.startScalarArrayAnimation=function(a){a.startObject(4)};g.keyframes.ScalarArrayAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ScalarArrayAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ScalarArrayAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ScalarArrayAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ScalarArrayAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ScalarArrayAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ScalarArrayAnimation.endScalarArrayAnimation=function(a){a=a.endObject();return a};g.keyframes.ScalarArrayAnimation.createScalarArrayAnimation=function(a,b,c,d,e){g.keyframes.ScalarArrayAnimation.startScalarArrayAnimation(a);g.keyframes.ScalarArrayAnimation.addValue(a,b);g.keyframes.ScalarArrayAnimation.addValues(a,c);g.keyframes.ScalarArrayAnimation.addKeyframes(a,d);g.keyframes.ScalarArrayAnimation.addTweens(a,e);return g.keyframes.ScalarArrayAnimation.endScalarArrayAnimation(a)};g.keyframes.PointAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.PointAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.PointAnimation.getRootAsPointAnimation=function(a,b){return(b||new g.keyframes.PointAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.PointAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.PointAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Point()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PointAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.PointAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.PointAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PointAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PointAnimation.startPointAnimation=function(a){a.startObject(4)};g.keyframes.PointAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.PointAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.PointAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PointAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.PointAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.PointAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.PointAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PointAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PointAnimation.endPointAnimation=function(a){a=a.endObject();return a};g.keyframes.PointAnimation.createPointAnimation=function(a,b,c,d,e){g.keyframes.PointAnimation.startPointAnimation(a);g.keyframes.PointAnimation.addValue(a,b);g.keyframes.PointAnimation.addValues(a,c);g.keyframes.PointAnimation.addKeyframes(a,d);g.keyframes.PointAnimation.addTweens(a,e);return g.keyframes.PointAnimation.endPointAnimation(a)};g.keyframes.ColorAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorAnimation.getRootAsColorAnimation=function(a,b){return(b||new g.keyframes.ColorAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ColorAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ColorAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ColorAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorAnimation.startColorAnimation=function(a){a.startObject(4)};g.keyframes.ColorAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ColorAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ColorAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ColorAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorAnimation.endColorAnimation=function(a){a=a.endObject();return a};g.keyframes.ColorAnimation.createColorAnimation=function(a,b,c,d,e){g.keyframes.ColorAnimation.startColorAnimation(a);g.keyframes.ColorAnimation.addValue(a,b);g.keyframes.ColorAnimation.addValues(a,c);g.keyframes.ColorAnimation.addKeyframes(a,d);g.keyframes.ColorAnimation.addTweens(a,e);return g.keyframes.ColorAnimation.endColorAnimation(a)};g.keyframes.ColorArrayAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.ColorArrayAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ColorArrayAnimation.getRootAsColorArrayAnimation=function(a,b){return(b||new g.keyframes.ColorArrayAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ColorArrayAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ColorArray()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.ColorArray()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.ColorArrayAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.ColorArrayAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.ColorArrayAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.ColorArrayAnimation.startColorArrayAnimation=function(a){a.startObject(4)};g.keyframes.ColorArrayAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ColorArrayAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.ColorArrayAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.ColorArrayAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.ColorArrayAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.ColorArrayAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.ColorArrayAnimation.endColorArrayAnimation=function(a){a=a.endObject();return a};g.keyframes.ColorArrayAnimation.createColorArrayAnimation=function(a,b,c,d,e){g.keyframes.ColorArrayAnimation.startColorArrayAnimation(a);g.keyframes.ColorArrayAnimation.addValue(a,b);g.keyframes.ColorArrayAnimation.addValues(a,c);g.keyframes.ColorArrayAnimation.addKeyframes(a,d);g.keyframes.ColorArrayAnimation.addTweens(a,e);return g.keyframes.ColorArrayAnimation.endColorArrayAnimation(a)};g.keyframes.PathAnimation=function(){this.bb=null,this.bb_pos=0};g.keyframes.PathAnimation.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.PathAnimation.getRootAsPathAnimation=function(a,b){return(b||new g.keyframes.PathAnimation()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.PathAnimation.prototype.value=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.PathAnimation.prototype.values=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Path()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PathAnimation.prototype.valuesLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.prototype.keyframes=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readFloat32(this.bb.__vector(this.bb_pos+b)+a*4):0};g.keyframes.PathAnimation.prototype.keyframesLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.prototype.keyframesArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Float32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.PathAnimation.prototype.tweens=function(a,b){var c=this.bb.__offset(this.bb_pos,10);return c?(b||new g.keyframes.Tween()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.PathAnimation.prototype.tweensLength=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.PathAnimation.startPathAnimation=function(a){a.startObject(4)};g.keyframes.PathAnimation.addValue=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.PathAnimation.addValues=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.PathAnimation.createValuesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PathAnimation.startValuesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.addKeyframes=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.PathAnimation.createKeyframesVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addFloat32(b[c]);return a.endVector()};g.keyframes.PathAnimation.startKeyframesVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.addTweens=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.PathAnimation.createTweensVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.PathAnimation.startTweensVector=function(a,b){a.startVector(4,b,4)};g.keyframes.PathAnimation.endPathAnimation=function(a){a=a.endObject();return a};g.keyframes.PathAnimation.createPathAnimation=function(a,b,c,d,e){g.keyframes.PathAnimation.startPathAnimation(a);g.keyframes.PathAnimation.addValue(a,b);g.keyframes.PathAnimation.addValues(a,c);g.keyframes.PathAnimation.addKeyframes(a,d);g.keyframes.PathAnimation.addTweens(a,e);return g.keyframes.PathAnimation.endPathAnimation(a)};g.keyframes.Gradient=function(){this.bb=null,this.bb_pos=0};g.keyframes.Gradient.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Gradient.getRootAsGradient=function(a,b){return(b||new g.keyframes.Gradient()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Gradient.prototype.colorStart=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.colorEnd=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.rampStart=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.rampEnd=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.type=function(){var a=this.bb.__offset(this.bb_pos,12);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.GradientType.Linear};g.keyframes.Gradient.prototype.mutate_type=function(a){var b=this.bb.__offset(this.bb_pos,12);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Gradient.prototype.colors=function(a){var b=this.bb.__offset(this.bb_pos,14);return b?(a||new g.keyframes.ColorArrayAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.positions=function(a){var b=this.bb.__offset(this.bb_pos,16);return b?(a||new g.keyframes.ScalarArrayAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.highlightLength=function(a){var b=this.bb.__offset(this.bb_pos,18);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.prototype.highlightAngle=function(a){var b=this.bb.__offset(this.bb_pos,20);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Gradient.startGradient=function(a){a.startObject(9)};g.keyframes.Gradient.addColorStart=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.Gradient.addColorEnd=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Gradient.addRampStart=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Gradient.addRampEnd=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Gradient.addType=function(a,b){a.addFieldInt8(4,b,g.keyframes.GradientType.Linear)};g.keyframes.Gradient.addColors=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Gradient.addPositions=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Gradient.addHighlightLength=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Gradient.addHighlightAngle=function(a,b){a.addFieldOffset(8,b,0)};g.keyframes.Gradient.endGradient=function(a){a=a.endObject();return a};g.keyframes.Gradient.createGradient=function(a,b,c,d,e,f,h,i,j,k){g.keyframes.Gradient.startGradient(a);g.keyframes.Gradient.addColorStart(a,b);g.keyframes.Gradient.addColorEnd(a,c);g.keyframes.Gradient.addRampStart(a,d);g.keyframes.Gradient.addRampEnd(a,e);g.keyframes.Gradient.addType(a,f);g.keyframes.Gradient.addColors(a,h);g.keyframes.Gradient.addPositions(a,i);g.keyframes.Gradient.addHighlightLength(a,j);g.keyframes.Gradient.addHighlightAngle(a,k);return g.keyframes.Gradient.endGradient(a)};g.keyframes.Bitmap=function(){this.bb=null,this.bb_pos=0};g.keyframes.Bitmap.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Bitmap.getRootAsBitmap=function(a,b){return(b||new g.keyframes.Bitmap()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Bitmap.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Bitmap.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Bitmap.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Bitmap.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Bitmap.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Bitmap.startBitmap=function(a){a.startObject(3)};g.keyframes.Bitmap.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Bitmap.addContent=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Bitmap.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Bitmap.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Bitmap.addName=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Bitmap.endBitmap=function(a){a=a.endObject();return a};g.keyframes.Bitmap.createBitmap=function(a,b,c,d){g.keyframes.Bitmap.startBitmap(a);g.keyframes.Bitmap.addSize(a,b);g.keyframes.Bitmap.addContent(a,c);g.keyframes.Bitmap.addName(a,d);return g.keyframes.Bitmap.endBitmap(a)};g.keyframes.Video=function(){this.bb=null,this.bb_pos=0};g.keyframes.Video.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Video.getRootAsVideo=function(a,b){return(b||new g.keyframes.Video()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Video.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Video.prototype.length=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Video.prototype.mutate_length=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Video.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,8);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Video.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Video.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,8);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Video.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,10);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Video.startVideo=function(a){a.startObject(4)};g.keyframes.Video.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Video.addLength=function(a,b){a.addFieldInt32(1,b,0)};g.keyframes.Video.addContent=function(a,b){a.addFieldOffset(2,b,0)};g.keyframes.Video.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Video.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Video.addName=function(a,b){a.addFieldOffset(3,b,0)};g.keyframes.Video.endVideo=function(a){a=a.endObject();return a};g.keyframes.Video.createVideo=function(a,b,c,d,e){g.keyframes.Video.startVideo(a);g.keyframes.Video.addSize(a,b);g.keyframes.Video.addLength(a,c);g.keyframes.Video.addContent(a,d);g.keyframes.Video.addName(a,e);return g.keyframes.Video.endVideo(a)};g.keyframes.Plugin=function(){this.bb=null,this.bb_pos=0};g.keyframes.Plugin.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Plugin.getRootAsPlugin=function(a,b){return(b||new g.keyframes.Plugin()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Plugin.prototype.index=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Plugin.prototype.mutate_index=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Plugin.prototype.content=function(a){var b=this.bb.__offset(this.bb_pos,6);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Plugin.prototype.contentLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Plugin.prototype.contentArray=function(){var a=this.bb.__offset(this.bb_pos,6);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Plugin.prototype.optional=function(){var a=this.bb.__offset(this.bb_pos,8);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Plugin.prototype.mutate_optional=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Plugin.startPlugin=function(a){a.startObject(3)};g.keyframes.Plugin.addIndex=function(a,b){a.addFieldInt32(0,b,0)};g.keyframes.Plugin.addContent=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Plugin.createContentVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Plugin.startContentVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Plugin.addOptional=function(a,b){a.addFieldInt8(2,+b,0)};g.keyframes.Plugin.endPlugin=function(a){a=a.endObject();return a};g.keyframes.Plugin.createPlugin=function(a,b,c,d){g.keyframes.Plugin.startPlugin(a);g.keyframes.Plugin.addIndex(a,b);g.keyframes.Plugin.addContent(a,c);g.keyframes.Plugin.addOptional(a,d);return g.keyframes.Plugin.endPlugin(a)};g.keyframes.ProgressMarker=function(){this.bb=null,this.bb_pos=0};g.keyframes.ProgressMarker.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.ProgressMarker.getRootAsProgressMarker=function(a,b){return(b||new g.keyframes.ProgressMarker()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.ProgressMarker.prototype.name=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.ProgressMarker.prototype.startProgress=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ProgressMarker.prototype.mutate_start_progress=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ProgressMarker.prototype.endProgress=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.ProgressMarker.prototype.mutate_end_progress=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.ProgressMarker.startProgressMarker=function(a){a.startObject(3)};g.keyframes.ProgressMarker.addName=function(a,b){a.addFieldOffset(0,b,0)};g.keyframes.ProgressMarker.addStartProgress=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.ProgressMarker.addEndProgress=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.ProgressMarker.endProgressMarker=function(a){a=a.endObject();return a};g.keyframes.ProgressMarker.createProgressMarker=function(a,b,c,d){g.keyframes.ProgressMarker.startProgressMarker(a);g.keyframes.ProgressMarker.addName(a,b);g.keyframes.ProgressMarker.addStartProgress(a,c);g.keyframes.ProgressMarker.addEndProgress(a,d);return g.keyframes.ProgressMarker.endProgressMarker(a)};g.keyframes.Layer=function(){this.bb=null,this.bb_pos=0};g.keyframes.Layer.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Layer.getRootAsLayer=function(a,b){return(b||new g.keyframes.Layer()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Layer.prototype.id=function(){var a=this.bb.__offset(this.bb_pos,4);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_id=function(a){var b=this.bb.__offset(this.bb_pos,4);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.sublayers=function(a,b){var c=this.bb.__offset(this.bb_pos,6);return c?(b||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.sublayersLength=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.fromProgress=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_from_progress=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.toProgress=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readFloat32(this.bb_pos+a):1};g.keyframes.Layer.prototype.mutate_to_progress=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.anchorPoint=function(a){var b=this.bb.__offset(this.bb_pos,12);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.xPosition=function(a){var b=this.bb.__offset(this.bb_pos,14);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.yPosition=function(a){var b=this.bb.__offset(this.bb_pos,16);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.rotation=function(a){var b=this.bb.__offset(this.bb_pos,18);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.scale=function(a){var b=this.bb.__offset(this.bb_pos,20);return b?(a||new g.keyframes.PointAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.path=function(a){var b=this.bb.__offset(this.bb_pos,22);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.opacity=function(a){var b=this.bb.__offset(this.bb_pos,24);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.fillColor=function(a){var b=this.bb.__offset(this.bb_pos,26);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeColor=function(a){var b=this.bb.__offset(this.bb_pos,28);return b?(a||new g.keyframes.ColorAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeWidth=function(a){var b=this.bb.__offset(this.bb_pos,30);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeLineCap=function(){var a=this.bb.__offset(this.bb_pos,32);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.StrokeLineCap.Butt};g.keyframes.Layer.prototype.mutate_stroke_line_cap=function(a){var b=this.bb.__offset(this.bb_pos,32);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.gradient=function(a){var b=this.bb.__offset(this.bb_pos,34);return b?(a||new g.keyframes.Gradient()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.strokeLineJoin=function(){var a=this.bb.__offset(this.bb_pos,36);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.StrokeLineJoin.Miter};g.keyframes.Layer.prototype.mutate_stroke_line_join=function(a){var b=this.bb.__offset(this.bb_pos,36);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.miterLimit=function(a){var b=this.bb.__offset(this.bb_pos,38);return b?(a||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.bitmapIndex=function(){var a=this.bb.__offset(this.bb_pos,40);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_bitmap_index=function(a){var b=this.bb.__offset(this.bb_pos,40);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.subdocumentIndex=function(){var a=this.bb.__offset(this.bb_pos,42);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_subdocument_index=function(a){var b=this.bb.__offset(this.bb_pos,42);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.plugins=function(a,b){var c=this.bb.__offset(this.bb_pos,44);return c?(b||new g.keyframes.Plugin()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.pluginsLength=function(){var a=this.bb.__offset(this.bb_pos,44);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.progressOffset=function(){var a=this.bb.__offset(this.bb_pos,46);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_progress_offset=function(a){var b=this.bb.__offset(this.bb_pos,46);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.clippingPath=function(a){var b=this.bb.__offset(this.bb_pos,48);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.position=function(a){var b=this.bb.__offset(this.bb_pos,50);return b?(a||new g.keyframes.PathAnimation()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.isTrackMatte=function(){var a=this.bb.__offset(this.bb_pos,52);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.mutate_is_track_matte=function(a){var b=this.bb.__offset(this.bb_pos,52);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.trackMatteType=function(){var a=this.bb.__offset(this.bb_pos,54);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TrackMatteType.None};g.keyframes.Layer.prototype.mutate_track_matte_type=function(a){var b=this.bb.__offset(this.bb_pos,54);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.vectorCompositeOrder=function(){var a=this.bb.__offset(this.bb_pos,56);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.VectorCompositeOrder.FillStroke};g.keyframes.Layer.prototype.mutate_vector_composite_order=function(a){var b=this.bb.__offset(this.bb_pos,56);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.text=function(a){var b=this.bb.__offset(this.bb_pos,58);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.textTypeface=function(a){var b=this.bb.__offset(this.bb_pos,60);return b?this.bb.__string(this.bb_pos+b,a):null};g.keyframes.Layer.prototype.textSize=function(){var a=this.bb.__offset(this.bb_pos,62);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textSize=function(a){var b=this.bb.__offset(this.bb_pos,62);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textColor=function(a){var b=this.bb.__offset(this.bb_pos,64);return b?(a||new g.keyframes.Color()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Layer.prototype.textAlign=function(){var a=this.bb.__offset(this.bb_pos,66);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textAlign=function(a){var b=this.bb.__offset(this.bb_pos,66);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textVAlign=function(){var a=this.bb.__offset(this.bb_pos,68);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textVAlign=function(a){var b=this.bb.__offset(this.bb_pos,68);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textTracking=function(){var a=this.bb.__offset(this.bb_pos,70);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textTracking=function(a){var b=this.bb.__offset(this.bb_pos,70);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textLeading=function(){var a=this.bb.__offset(this.bb_pos,72);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Layer.prototype.mutate_textLeading=function(a){var b=this.bb.__offset(this.bb_pos,72);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textItalic=function(){var a=this.bb.__offset(this.bb_pos,74);return a?!!this.bb.readInt8(this.bb_pos+a):!1};g.keyframes.Layer.prototype.mutate_textItalic=function(a){var b=this.bb.__offset(this.bb_pos,74);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textWeight=function(){var a=this.bb.__offset(this.bb_pos,76);return a?this.bb.readInt8(this.bb_pos+a):g.keyframes.TextWeight.Thin};g.keyframes.Layer.prototype.mutate_textWeight=function(a){var b=this.bb.__offset(this.bb_pos,76);if(b===0)return!1;this.bb.writeInt8(this.bb_pos+b,a);return!0};g.keyframes.Layer.prototype.textBoxSize=function(a){var b=this.bb.__offset(this.bb_pos,78);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Layer.prototype.videoLevels=function(a,b){var c=this.bb.__offset(this.bb_pos,80);return c?(b||new g.keyframes.ScalarAnimation()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Layer.prototype.videoLevelsLength=function(){var a=this.bb.__offset(this.bb_pos,80);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Layer.prototype.videoIndex=function(){var a=this.bb.__offset(this.bb_pos,82);return a?this.bb.readInt32(this.bb_pos+a):-1};g.keyframes.Layer.prototype.mutate_video_index=function(a){var b=this.bb.__offset(this.bb_pos,82);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Layer.startLayer=function(a){a.startObject(40)};g.keyframes.Layer.addId=function(a,b){a.addFieldInt32(0,b,0)};g.keyframes.Layer.addSublayers=function(a,b){a.addFieldOffset(1,b,0)};g.keyframes.Layer.createSublayersVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startSublayersVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addFromProgress=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.Layer.addToProgress=function(a,b){a.addFieldFloat32(3,b,1)};g.keyframes.Layer.addAnchorPoint=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Layer.addXPosition=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Layer.addYPosition=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Layer.addRotation=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Layer.addScale=function(a,b){a.addFieldOffset(8,b,0)};g.keyframes.Layer.addPath=function(a,b){a.addFieldOffset(9,b,0)};g.keyframes.Layer.addOpacity=function(a,b){a.addFieldOffset(10,b,0)};g.keyframes.Layer.addFillColor=function(a,b){a.addFieldOffset(11,b,0)};g.keyframes.Layer.addStrokeColor=function(a,b){a.addFieldOffset(12,b,0)};g.keyframes.Layer.addStrokeWidth=function(a,b){a.addFieldOffset(13,b,0)};g.keyframes.Layer.addStrokeLineCap=function(a,b){a.addFieldInt8(14,b,g.keyframes.StrokeLineCap.Butt)};g.keyframes.Layer.addGradient=function(a,b){a.addFieldOffset(15,b,0)};g.keyframes.Layer.addStrokeLineJoin=function(a,b){a.addFieldInt8(16,b,g.keyframes.StrokeLineJoin.Miter)};g.keyframes.Layer.addMiterLimit=function(a,b){a.addFieldOffset(17,b,0)};g.keyframes.Layer.addBitmapIndex=function(a,b){a.addFieldInt32(18,b,-1)};g.keyframes.Layer.addSubdocumentIndex=function(a,b){a.addFieldInt32(19,b,-1)};g.keyframes.Layer.addPlugins=function(a,b){a.addFieldOffset(20,b,0)};g.keyframes.Layer.createPluginsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startPluginsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addProgressOffset=function(a,b){a.addFieldFloat32(21,b,0)};g.keyframes.Layer.addClippingPath=function(a,b){a.addFieldOffset(22,b,0)};g.keyframes.Layer.addPosition=function(a,b){a.addFieldOffset(23,b,0)};g.keyframes.Layer.addIsTrackMatte=function(a,b){a.addFieldInt8(24,+b,0)};g.keyframes.Layer.addTrackMatteType=function(a,b){a.addFieldInt8(25,b,g.keyframes.TrackMatteType.None)};g.keyframes.Layer.addVectorCompositeOrder=function(a,b){a.addFieldInt8(26,b,g.keyframes.VectorCompositeOrder.FillStroke)};g.keyframes.Layer.addText=function(a,b){a.addFieldOffset(27,b,0)};g.keyframes.Layer.addTextTypeface=function(a,b){a.addFieldOffset(28,b,0)};g.keyframes.Layer.addTextSize=function(a,b){a.addFieldFloat32(29,b,0)};g.keyframes.Layer.addTextColor=function(a,b){a.addFieldOffset(30,b,0)};g.keyframes.Layer.addTextAlign=function(a,b){a.addFieldFloat32(31,b,0)};g.keyframes.Layer.addTextVAlign=function(a,b){a.addFieldFloat32(32,b,0)};g.keyframes.Layer.addTextTracking=function(a,b){a.addFieldFloat32(33,b,0)};g.keyframes.Layer.addTextLeading=function(a,b){a.addFieldFloat32(34,b,0)};g.keyframes.Layer.addTextItalic=function(a,b){a.addFieldInt8(35,+b,0)};g.keyframes.Layer.addTextWeight=function(a,b){a.addFieldInt8(36,b,g.keyframes.TextWeight.Thin)};g.keyframes.Layer.addTextBoxSize=function(a,b){a.addFieldStruct(37,b,0)};g.keyframes.Layer.addVideoLevels=function(a,b){a.addFieldOffset(38,b,0)};g.keyframes.Layer.createVideoLevelsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Layer.startVideoLevelsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Layer.addVideoIndex=function(a,b){a.addFieldInt32(39,b,-1)};g.keyframes.Layer.endLayer=function(a){a=a.endObject();return a};g.keyframes.Layer.createLayer=function(a,b,c,d,e,f,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P){g.keyframes.Layer.startLayer(a);g.keyframes.Layer.addId(a,b);g.keyframes.Layer.addSublayers(a,c);g.keyframes.Layer.addFromProgress(a,d);g.keyframes.Layer.addToProgress(a,e);g.keyframes.Layer.addAnchorPoint(a,f);g.keyframes.Layer.addXPosition(a,h);g.keyframes.Layer.addYPosition(a,i);g.keyframes.Layer.addRotation(a,j);g.keyframes.Layer.addScale(a,k);g.keyframes.Layer.addPath(a,l);g.keyframes.Layer.addOpacity(a,m);g.keyframes.Layer.addFillColor(a,n);g.keyframes.Layer.addStrokeColor(a,o);g.keyframes.Layer.addStrokeWidth(a,p);g.keyframes.Layer.addStrokeLineCap(a,q);g.keyframes.Layer.addGradient(a,r);g.keyframes.Layer.addStrokeLineJoin(a,s);g.keyframes.Layer.addMiterLimit(a,t);g.keyframes.Layer.addBitmapIndex(a,u);g.keyframes.Layer.addSubdocumentIndex(a,v);g.keyframes.Layer.addPlugins(a,w);g.keyframes.Layer.addProgressOffset(a,x);g.keyframes.Layer.addClippingPath(a,y);g.keyframes.Layer.addPosition(a,z);g.keyframes.Layer.addIsTrackMatte(a,A);g.keyframes.Layer.addTrackMatteType(a,B);g.keyframes.Layer.addVectorCompositeOrder(a,C);g.keyframes.Layer.addText(a,D);g.keyframes.Layer.addTextTypeface(a,E);g.keyframes.Layer.addTextSize(a,F);g.keyframes.Layer.addTextColor(a,G);g.keyframes.Layer.addTextAlign(a,H);g.keyframes.Layer.addTextVAlign(a,I);g.keyframes.Layer.addTextTracking(a,J);g.keyframes.Layer.addTextLeading(a,K);g.keyframes.Layer.addTextItalic(a,L);g.keyframes.Layer.addTextWeight(a,M);g.keyframes.Layer.addTextBoxSize(a,N);g.keyframes.Layer.addVideoLevels(a,O);g.keyframes.Layer.addVideoIndex(a,P);return g.keyframes.Layer.endLayer(a)};g.keyframes.Document=function(){this.bb=null,this.bb_pos=0};g.keyframes.Document.prototype.__init=function(a,b){this.bb_pos=a;this.bb=b;return this};g.keyframes.Document.getRootAsDocument=function(a,b){return(b||new g.keyframes.Document()).__init(a.readInt32(a.position())+a.position(),a)};g.keyframes.Document.bufferHasIdentifier=function(a){return a.__has_identifier("KEYF")};g.keyframes.Document.prototype.size=function(a){var b=this.bb.__offset(this.bb_pos,4);return b?(a||new g.keyframes.Size()).__init(this.bb_pos+b,this.bb):null};g.keyframes.Document.prototype.frameRate=function(){var a=this.bb.__offset(this.bb_pos,6);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_frame_rate=function(a){var b=this.bb.__offset(this.bb_pos,6);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.duration=function(){var a=this.bb.__offset(this.bb_pos,8);return a?this.bb.readFloat32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_duration=function(a){var b=this.bb.__offset(this.bb_pos,8);if(b===0)return!1;this.bb.writeFloat32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.version=function(){var a=this.bb.__offset(this.bb_pos,10);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_version=function(a){var b=this.bb.__offset(this.bb_pos,10);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.rootLayer=function(a){var b=this.bb.__offset(this.bb_pos,12);return b?(a||new g.keyframes.Layer()).__init(this.bb.__indirect(this.bb_pos+b),this.bb):null};g.keyframes.Document.prototype.bitmaps=function(a,b){var c=this.bb.__offset(this.bb_pos,14);return c?(b||new g.keyframes.Bitmap()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.bitmapsLength=function(){var a=this.bb.__offset(this.bb_pos,14);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.subdocuments=function(a,b){var c=this.bb.__offset(this.bb_pos,16);return c?(b||new g.keyframes.Document()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.subdocumentsLength=function(){var a=this.bb.__offset(this.bb_pos,16);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.plugins=function(a,b){var c=this.bb.__offset(this.bb_pos,18);return c?this.bb.__string(this.bb.__vector(this.bb_pos+c)+a*4,b):null};g.keyframes.Document.prototype.pluginsLength=function(){var a=this.bb.__offset(this.bb_pos,18);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.id=function(){var a=this.bb.__offset(this.bb_pos,20);return a?this.bb.readInt32(this.bb_pos+a):0};g.keyframes.Document.prototype.mutate_id=function(a){var b=this.bb.__offset(this.bb_pos,20);if(b===0)return!1;this.bb.writeInt32(this.bb_pos+b,a);return!0};g.keyframes.Document.prototype.manifest=function(a){var b=this.bb.__offset(this.bb_pos,22);return b?this.bb.readUint8(this.bb.__vector(this.bb_pos+b)+a):0};g.keyframes.Document.prototype.manifestLength=function(){var a=this.bb.__offset(this.bb_pos,22);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.manifestArray=function(){var a=this.bb.__offset(this.bb_pos,22);return a?new Uint8Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+a),this.bb.__vector_len(this.bb_pos+a)):null};g.keyframes.Document.prototype.progressMarkers=function(a,b){var c=this.bb.__offset(this.bb_pos,24);return c?(b||new g.keyframes.ProgressMarker()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.progressMarkersLength=function(){var a=this.bb.__offset(this.bb_pos,24);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.prototype.videos=function(a,b){var c=this.bb.__offset(this.bb_pos,26);return c?(b||new g.keyframes.Video()).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+c)+a*4),this.bb):null};g.keyframes.Document.prototype.videosLength=function(){var a=this.bb.__offset(this.bb_pos,26);return a?this.bb.__vector_len(this.bb_pos+a):0};g.keyframes.Document.startDocument=function(a){a.startObject(12)};g.keyframes.Document.addSize=function(a,b){a.addFieldStruct(0,b,0)};g.keyframes.Document.addFrameRate=function(a,b){a.addFieldFloat32(1,b,0)};g.keyframes.Document.addDuration=function(a,b){a.addFieldFloat32(2,b,0)};g.keyframes.Document.addVersion=function(a,b){a.addFieldInt32(3,b,0)};g.keyframes.Document.addRootLayer=function(a,b){a.addFieldOffset(4,b,0)};g.keyframes.Document.addBitmaps=function(a,b){a.addFieldOffset(5,b,0)};g.keyframes.Document.createBitmapsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startBitmapsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addSubdocuments=function(a,b){a.addFieldOffset(6,b,0)};g.keyframes.Document.createSubdocumentsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startSubdocumentsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addPlugins=function(a,b){a.addFieldOffset(7,b,0)};g.keyframes.Document.createPluginsVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startPluginsVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addId=function(a,b){a.addFieldInt32(8,b,0)};g.keyframes.Document.addManifest=function(a,b){a.addFieldOffset(9,b,0)};g.keyframes.Document.createManifestVector=function(a,b){a.startVector(1,b.length,1);for(var c=b.length-1;c>=0;c--)a.addInt8(b[c]);return a.endVector()};g.keyframes.Document.startManifestVector=function(a,b){a.startVector(1,b,1)};g.keyframes.Document.addProgressMarkers=function(a,b){a.addFieldOffset(10,b,0)};g.keyframes.Document.createProgressMarkersVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startProgressMarkersVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.addVideos=function(a,b){a.addFieldOffset(11,b,0)};g.keyframes.Document.createVideosVector=function(a,b){a.startVector(4,b.length,4);for(var c=b.length-1;c>=0;c--)a.addOffset(b[c]);return a.endVector()};g.keyframes.Document.startVideosVector=function(a,b){a.startVector(4,b,4)};g.keyframes.Document.endDocument=function(a){a=a.endObject();return a};g.keyframes.Document.finishDocumentBuffer=function(a,b){a.finish(b,"KEYF")};g.keyframes.Document.createDocument=function(a,b,c,d,e,f,h,i,j,k,l,m,n){g.keyframes.Document.startDocument(a);g.keyframes.Document.addSize(a,b);g.keyframes.Document.addFrameRate(a,c);g.keyframes.Document.addDuration(a,d);g.keyframes.Document.addVersion(a,e);g.keyframes.Document.addRootLayer(a,f);g.keyframes.Document.addBitmaps(a,h);g.keyframes.Document.addSubdocuments(a,i);g.keyframes.Document.addPlugins(a,j);g.keyframes.Document.addId(a,k);g.keyframes.Document.addManifest(a,l);g.keyframes.Document.addProgressMarkers(a,m);g.keyframes.Document.addVideos(a,n);return g.keyframes.Document.endDocument(a)};e.exports=g.keyframes}),null);
__d("KeyframesVideoUtils",["Promise"],(function(a,b,c,d,e,f){"use strict";var g=window.setTimeout,h=4;function a(a){var b=document.createElement("video");b.setAttribute("webkit-playsinline","");b.setAttribute("playsinline","");b.autoplay=!1;b.src=a;b.currentTime=0;a.startsWith("blob:")||(b.crossOrigin="anonymous");return b}function c(a,c){return new(b("Promise"))(function(b,d){var e=function b(){a.pause(),a.currentTime=c,a.removeEventListener("canplaythrough",b),f()},f=function c(){a.readyState===h?b(a):g(c,10)},i=function b(c){a.removeEventListener("error",b),d(c)};a.currentTime=c;a.addEventListener("error",i);a.readyState===h?b(a):a.addEventListener("canplaythrough",e)})}f.createVideo=a;f.loadVideo=c}),66);
__d("requestIdleCallback",["cr:694370"],(function(a,b,c,d,e,f,g){g["default"]=b("cr:694370")}),98);
__d("KeyframesAssetDecoder",["BlobFactory","KeyframesPluginsLoader","KeyframesSchema","KeyframesVideoUtils","Promise","flatbuffers","promiseDone","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";var g=b("KeyframesSchema").Document,h="medium",i=a.URL||a.webkitURL||{};function j(a){a=new(b("flatbuffers").ByteBuffer)(a);return g.bufferHasIdentifier(a)?g.getRootAsDocument(a):null}function k(a){return new(b("Promise"))(function(b,c){var d=new Image();d.onload=function(){return b(d)};d.onerror=function(b){return c("Decode: error requesting image uri "+a)};d.src=a})}function l(a){a=b("KeyframesVideoUtils").createVideo(a);return b("KeyframesVideoUtils").loadVideo(a,0)}function m(b,c,d){return a.createImageBitmap?b.width<c||b.height<d?o(b,c,d).then(function(b){return a.createImageBitmap(b,0,0,c,d)["catch"](function(a){return b})}):a.createImageBitmap(b,0,0,b.width,b.height,{resizeWidth:c,resizeHeight:d,rezizeQuality:h})["catch"](function(a){return o(b,c,d)}):o(b,c,d)}function n(a,c,d){a.width=c;a.height=d;return b("Promise").resolve(a)}function o(a,c,d){return new(b("Promise"))(function(b){var e=document.createElement("canvas");e.width=c;e.height=d;var f=e.getContext("2d");f.drawImage(a,0,0,c,d);b(e)})}function p(a,b){var c=[];for(var d=0;d<a.length;d++){var e=a[d],f=b[d].size().width(),g=b[d].size().height();if(f!==e.width||g!==e.height){var h=document.createElement("canvas");h.width=f;h.height=g;var i=h.getContext("2d");i.drawImage(e,0,0,f,g);c.push(h)}else c.push(e)}return c}function q(a,c,d){if(!i.createObjectURL)return b("Promise").reject("URL API not supported");var e=i.createObjectURL(a);c=k(e);b("promiseDone")(c,function(){return b("requestIdleCallback")(function(){return i.revokeObjectURL(e)})});return c}function r(c){if(b("BlobFactory").isSupported()){var d=c.contentArray();if(!d)return b("Promise").reject("Decode: tried to decode a null bitmap");var e=b("BlobFactory").getBlob([d]),f=c.size().width(),g=c.size().height();return a.createImageBitmap?a.createImageBitmap(e,0,0,f,g)["catch"](function(a){return q(e,f,g)}):q(e,f,g)}return b("Promise").reject("Decode: browser does not support bitmap creation")}function s(a){if(b("BlobFactory").isSupported()){var c=a.size();a=a.contentArray();if(!a)return b("Promise").reject("Decode: tried to decode a null video");a=b("BlobFactory").getBlob([a]);if(!i.createObjectURL)return b("Promise").reject("URL API not supported");var d=i.createObjectURL(a);a=l(d).then(function(a){return n(a,c.width(),c.height())});b("promiseDone")(a,function(){b("requestIdleCallback")(function(){return i.revokeObjectURL(d)})});return a}return b("Promise").reject("Decode: browser does not support video creation")}function t(a){var b=[];for(var c=a.pluginsLength()-1;c>=0;c--)b.unshift(a.plugins(c));return b.length?b:null}function u(a){var b=[];for(var c=a.bitmapsLength()-1;c>=0;c--)b.unshift(a.bitmaps(c));return b}function v(a){var b=[];for(var c=a.videosLength()-1;c>=0;c--)b.unshift(a.videos(c));return b}function w(a){var b={};for(var c=0;c<a.length;c++){var d=a[c].name();d&&(b[d]={index:c,width:a[c].size().width(),height:a[c].size().height()})}return b}function x(a){var b={};for(var c=0;c<a.length;c++){var d=a[c].name();d&&(b[d]={index:c,width:a[c].size().width(),height:a[c].size().height()})}return b}function y(a){var b=[];for(var c,d=a.subdocumentsLength()-1;d>=0;d--)c=a.subdocuments(d),b.unshift(c);return b}function z(a){a=j(a);return!a?b("Promise").reject("Decode: could not create flatbuffer doc"):A(a)}function A(a){var c=u(a),d=x(c),e=v(a),f=w(e),g=c.filter(function(a){return a.contentLength()||!a.name()}).map(r);e=e.filter(function(a){return a.contentLength()||!a.name()}).map(s);var h=y(a).map(A),i=t(a);i=i?b("KeyframesPluginsLoader").fromPluginTable(i):b("Promise").resolve(null);return b("Promise").all([b("Promise").all(g),b("Promise").all(e),i,b("Promise").all(h)]).then(function(b){var e=b[0],g=b[1],h=b[2];b=b[3];return{bitmaps:p(e,c),bitmapNames:d,videos:g,videoNames:f,doc:a,pluginsLoader:h,subassets:b}})}function B(a){return!Uint8Array?b("Promise").reject("Decode: typed arrays not supported"):b("Promise").resolve(new Uint8Array(a))}function C(a,c,d){if(!a.bitmapNames[c]){var e=Object.keys(a.bitmapNames).join(",");return b("Promise").reject("Decode: missing replacement bitmap name "+c+", available names: "+e)}e=a.bitmapNames[c];var f=e.index;c=e.width;e=e.height;return m(d,c,e).then(function(b){a.bitmaps[f]=b})}function D(a,c,d){if(!a.videoNames[c]){var e=Object.keys(a.videoNames).join(",");return b("Promise").reject("Decode: missing replacement video name "+c+", available names: "+e)}e=a.videoNames[c];var f=e.index;c=e.width;e=e.height;return n(d,c,e).then(function(b){a.videos[f]=b})}function E(a){var b=babelHelpers["extends"]({},a);b.bitmaps=a.bitmaps.slice();return b}var F={awaitForMap:function(a,c){var d={},e=[],f=Object.entries(a);a=function(){var a=f[g],h=a[0];a=a[1];a=c(a,h);e.push(a);b("promiseDone")(a,function(a){return d[h]=a})};for(var g=0;g<f.length;g++)a();return b("Promise").all(e).then(function(){return d})},fromDocumentBytes:function(a){if(a instanceof ArrayBuffer)return B(a).then(z);else if(a instanceof Uint8Array)return z(a);return b("Promise").reject("Decode: unsupported byte container passed")},replaceBitmapsWithURIs:function(a,b){return F.awaitForMap(b,function(a){return k(a)}).then(function(b){return F.replaceBitmapsWithImageSources(a,b)})},replaceBitmapsWithImageSources:function(a,b){var c=E(a);return F.awaitForMap(b,function(a,b){return C(c,b,a)}).then(function(){return c})},replaceVideosWithURIs:function(a,b){return F.awaitForMap(b,l).then(function(b){return F.replaceVideosWithVideoSources(a,b)})},replaceVideosWithVideoSources:function(a,b){var c=E(a);return F.awaitForMap(b,function(a,b){return D(c,b,a)}).then(function(){return c})}};e.exports=F}),null);
__d("KeyframesCanvasPolyfills",[],(function(a,b,c,d,e,f){"use strict";function a(a){if(a.getTransform!==void 0)return;else a.currentTransform?a.getTransform=function(){var b=a.currentTransform;return{a:b.a,b:b.b,c:b.c,d:b.d,e:b.e,f:b.f}}:a.mozCurrentTransform!==void 0?a.getTransform=function(){var b=a.mozCurrentTransform;return{a:b[0],b:b[1],c:b[2],d:b[3],e:b[4],f:b[5]}}:a.getTransform=function(){return g}}var g={a:1,b:0,c:0,d:1,e:0,f:0};f.addGetTransformPolyfill=a}),66);
__d("KeyframesCanvasPool",["KeyframesCanvasPolyfills","nullthrows"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$4=function(a){a.canvas.width=b.$1.width.physical,a.canvas.height=b.$1.height.physical,a.canvas.style.width=b.$1.width.logical+"px",a.canvas.style.height=b.$1.height.logical+"px"};this.$1=a;this.$2=[];this.$3=[]}var b=a.prototype;b.getCanvas=function(){if(this.$2.length){var a=this.$2.pop();this.$3.push(a);return a}else{a=document.createElement("canvas");var b=c("nullthrows")(a.getContext("2d"));d("KeyframesCanvasPolyfills").addGetTransformPolyfill(b);a={canvas:a,ctx:b};this.$4(a);this.$3.push(a);return a}};b.clearAllAllocated=function(){var a=this;this.$3.forEach(function(b){b=b.ctx;b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,Math.max(a.$1.width.physical,a.$1.width.intrinsic),Math.max(a.$1.height.physical,a.$1.height.intrinsic))})};b.freeAll=function(){this.$2=[].concat(this.$3,this.$2),this.$3=[]};b.resizeAll=function(){this.$2.forEach(this.$4,this),this.$3.forEach(this.$4,this)};return a}();g["default"]=a}),98);
__d("KeyframesDimensions",["invariant","WebPixelRatio"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("WebPixelRatio").get(),j=function(){function a(a){this.overridden=!1,this.intrinsic=a,this.$1(a)}var b=a.prototype;b.$1=function(a){this.logical=a,this.physical=Math.floor(this.logical*i)};b.scale=function(a,b){this.overridden&&h(0,1136),this.$1(a*b)};b.override=function(a){this.overridden=!0,this.$1(a)};b.reset=function(){this.overridden=!1,this.$1(this.intrinsic)};b.getPhysicalChangeRatio=function(){return this.physical/this.intrinsic};return a}();a=function(){function a(a,b){this.ratio=b?a/b:0,this.width=new j(a),this.height=new j(b)}var b=a.prototype;b.setWidth=function(a){this.width.override(a),this.height.overridden||this.height.scale(a,this.ratio?1/this.ratio:0)};b.setHeight=function(a){this.height.override(a),this.width.overridden||this.width.scale(a,this.ratio)};b.reset=function(){this.height.reset(),this.width.reset()};return a}();g["default"]=a}),98);
__d("KeyframesLoop",["Run","TimeSlice","emptyFunction","gkx","performanceNow","requestAnimationFramePolyfill"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3,i=new Set();function j(a){var b=c("performanceNow")();a.callback(Math.min(b-(a.previousTime||b),h));a.previousTime=b;a.framesRemaining-=1;a.framesRemaining<=0&&a.cancel()}function k(a){i.size>0&&(i.forEach(j),c("requestAnimationFramePolyfill")(k))}c("gkx")("708253")||d("Run").onLeave(function(){i.forEach(function(a){return a.cancel()})});window.addEventListener("focus",function(){i.forEach(function(a){return a.previousTime=c("performanceNow")()-16.67})});a=function(){function a(a){this.framesRemaining=Infinity,this.callback=a,this.previousTime=0}var b=a.prototype;b.start=function(a){a===void 0&&(a=Infinity),this.framesRemaining=a,this.$1||(i.size===0&&c("requestAnimationFramePolyfill")(k),i.add(this),this.previousTime=c("performanceNow")(),this.$1=c("TimeSlice").getGuardedContinuation("KeyframesLoop"))};b.cancel=function(){this.$1&&(this.$1(c("emptyFunction")),this.$1=null,i["delete"](this))};b.isRunning=function(){return!!this.$1};return a}();g["default"]=a}),98);
__d("KFComponentNames",[],(function(a,b,c,d,e,f){"use strict";a="AUDIO";b="BITMAP";c="IMAGE";d="CHILDREN";e="COMPOSITING";var g="IDENTIFICATION",h="OPACITY",i="PARENT",j="RANDOM_SUBDOCUMENT",k="RANDOM_SUBDOCUMENT_CHILDREN",l="ROOT",m="SCENE",n="SHAPE",o="TIME",p="TRIM_PATH",q="TRANSFORM",r="VIDEO";f.AUDIO=a;f.BITMAP=b;f.CHILDREN=d;f.COMPOSITING=e;f.IMAGE=c;f.IDENTIFICATION=g;f.OPACITY=h;f.PARENT=i;f.RANDOM_SUBDOCUMENT=j;f.RANDOM_SUBDOCUMENT_CHILDREN=k;f.ROOT=l;f.SCENE=m;f.SHAPE=n;f.TIME=o;f.TRIM_PATH=p;f.TRANSFORM=q;f.VIDEO=r}),66);
__d("KFLoaderUtils",["KFComponentNames"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,c){for(var e=0;e<a.length;e++){var f=a[e],g=b.getComponent(f,d("KFComponentNames").CHILDREN);g=g==null?void 0:g.getChildren();g!=null&&h(g,b,c);c(f,e,a)}}function a(a,b){var c=a.getEntitiesWithComponent(d("KFComponentNames").ROOT)[0];c=a.getComponent(c,d("KFComponentNames").SCENE);if(c==null)return;c=c.getEntities();h(c,a,b)}function b(a){a=a==null?void 0:a.duration();return a==null||a===0?1:a*1e3}function c(a){i.traverseEntitiesAndApply(a,function(b,c,e){if(c+1===e.length)return;e=e[c+1];c=a.getComponent(e,d("KFComponentNames").COMPOSITING);if((c==null?void 0:c.isTrackMatte)!==!0)return;c=a.getComponent(b,d("KFComponentNames").COMPOSITING);c==null&&(c=a.addComponent(b,d("KFComponentNames").COMPOSITING));c.trackMatteId=e.getID()})}var i={getDocumentDuration:b,maybeGenerateTrackMatteIDs:c,traverseEntitiesAndApply:a};e=i;g["default"]=e}),98);
__d("KeyframesCanvasUtils",["invariant","KeyframesSchema"],(function(a,b,c,d,e,f,g){"use strict";var h=b("KeyframesSchema").StrokeLineCap,i=b("KeyframesSchema").CommandType;f=["miter","round","bevel"];function a(a){return"rgba("+Math.floor(a.red)+","+Math.floor(a.green)+","+Math.floor(a.blue)+","+Math.floor(a.alpha)/255+")"}function c(a){switch(a){case h.Square:return"square";case h.Round:return"round";case h.Butt:default:return"butt"}}function d(a,b){a.beginPath();for(var b=b,c=Array.isArray(b),d=0,b=c?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=b.length)break;e=b[d++]}else{d=b.next();if(d.done)break;e=d.value}e=e;switch(e.type){case i.MoveTo:a.moveTo(e.point.x,e.point.y);break;case i.CubicTo:e.control1&&e.control2||g(0,2935);a.bezierCurveTo(e.control1.x,e.control1.y,e.control2.x,e.control2.y,e.point.x,e.point.y);break;case i.QuadTo:e.control1||g(0,2936);a.quadraticCurveTo(e.control1.x,e.control1.y,e.point.x,e.point.y);break;case i.LineTo:a.lineTo(e.point.x,e.point.y);break;default:throw new Error("Unrecognized path command "+e.type)}}}e.exports={drawPath:d,getCanvasStyle:a,getCanvasLineCap:c,LINE_JOINS:f}}),null);
__d("KeyframesTrackMattes",[],(function(a,b,c,d,e,f){"use strict";a={1:"destination-in",2:"destination-out"};f["default"]=a}),66);
__d("KeyframesPathUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){return(c-b)*a+b}function b(a,b,c,d,e,f,g){return e*d+2*c*a*f+b*g}function c(a,b,c,d,e,f,g,h){return e*d*c+f*3*d*a+g*3*c*b+h*b*a}e.exports={interpolateLinear:a,interpolateQuad:b,interpolateCubic:c,lerp:a}}),null);
__d("KeyframesTween",["invariant","CubicBezier","KeyframesPathUtils","KeyframesSchema"],(function(a,b,c,d,e,f,g){"use strict";var h=b("KeyframesPathUtils").interpolateCubic,i=b("KeyframesPathUtils").interpolateLinear,j=b("KeyframesPathUtils").interpolateQuad;(d=b("KeyframesSchema")).Color;d.ColorAnimation;d.ColorArray;d.ColorArrayAnimation;d.Command;var k=d.CommandType;d.Path;d.PathAnimation;d.Point;d.PointAnimation;d.ScalarAnimation;d.ScalarArray;d.ScalarArrayAnimation;var l=d.TweenType;function m(a){return a}function n(a){return{x:a.x(),y:a.y()}}function o(a){return{red:a.red(),green:a.green(),blue:a.blue(),alpha:a.alpha()}}function p(a){var b=a.valuesLength(),c=[];for(var d=0;d<b;d++)c.push(a.values(d));return c}function q(a){var b=a.colorsLength(),c=[];for(var d=0;d<b;d++)c.push(o(a.colors(d)));return c}function r(a){var b=a.control1(),c=a.control2();return{type:a.type(),point:n(a.point()),control1:b?n(b):null,control2:c?n(c):null}}function s(a){var b=[];for(var c=0;c<a.commandsLength();c++)b.push(r(a.commands(c)));return b}function t(a,b){if(a>=b.keyframes(b.keyframesLength()-1))return 1;else if(a<b.keyframes(0))return-1;return 0}function u(a,b){if(t(a,b)!==0)return null;var c=0,d=b.keyframesLength()-1;while(c+1<d){var e=Math.floor((d-c)/2+c);b.keyframes(e)<a?c=e:d=e}return c}function v(a,c,d){var e=c.tweens(d),f=e.type();if(f===l.Hold)return 0;a=(a-c.keyframes(d))/(c.keyframes(d+1)-c.keyframes(d));switch(f){case l.Linear:return a;case l.Bezier:default:return new(b("CubicBezier"))([e.control1().x(),e.control1().y()],[e.control2().x(),e.control2().y()]).solve(a)}}var w=function(a,b,c){return a*(c-b)+b};f=function(a,b,c){var d=b.valuesLength(),e=[];for(var f=0;f<d;f++)e.push(w(a,b.values(f),c.values(f)));return e};var x=function(a,b,c){return{x:w(a,b.x(),c.x()),y:w(a,b.y(),c.y())}},y=function(a,b,c){return b&&c?x(a,b,c):null},z=function(a,b,c){return{red:w(a,b.red(),c.red()),green:w(a,b.green(),c.green()),blue:w(a,b.blue(),c.blue()),alpha:w(a,b.alpha(),c.alpha())}};d=function(a,b,c){var d=b.colorsLength(),e=[];for(var f=0;f<d;f++)e.push(z(a,b.colors(f),c.colors(f)));return e};var A=function(a,b,c){var d=[];for(var e=0;e<b.commandsLength();e++){var f=b.commands(e),g=c.commands(e);d.push({type:f.type(),point:x(a,f.point(),g.point()),control1:y(a,f.control1(),g.control1()),control2:y(a,f.control2(),g.control2())})}return d};function a(a,b,c,d){var e=u(c,d);e!=null||g(0,2829);c=v(c,d,e);switch(c){case 0:return b(d.values(e));case 1:return b(d.values(e+1));default:return a(c,d.values(e),d.values(e+1))}}var B=a.bind(null,w,m),C=a.bind(null,f,p),D=a.bind(null,x,n),E=a.bind(null,z,o),F=a.bind(null,d,q),G=a.bind(null,A,s);function H(a,b,c,d){if(b.keyframesLength())switch(t(a,b)){case-1:return d(b.values(0));case 1:return d(b.values(b.valuesLength()-1));case 0:return c(a,b)}return d(b.value())}f=function(a,b){return H(a,b,B,m)};d=function(a,b){return H(a,b,C,p)};a=function(a,b){return H(a,b,D,n)};A=function(a,b){return H(a,b,E,o)};var I=function(a,b){return H(a,b,F,q)},J=function(a,b){return H(a,b,G,s)};function K(a,b,c){return{x:i(a,b.x,c.x),y:i(a,b.y,c.y)}}function L(a,b,c,d){var e=a*a,f=1-a,g=f*f;return{x:j(a,e,f,g,b.x,d.x,c.x),y:j(a,e,f,g,b.y,d.y,c.y)}}function M(a,b,c,d,e){var f=a*a,g=1-a,i=g*g;return{x:h(a,f,g,i,b.x,d.x,e.x,c.x),y:h(a,f,g,i,b.y,d.y,e.y,c.y)}}function N(a,b,c){a=v(a,b,c);b=b.value();var d=n(b.commands(c).point());b=r(b.commands(c+1));switch(b.type){case k.LineTo:return K(a,d,b.point);case k.QuadTo:b.control1||g(0,2830);return L(a,d,b.point,b.control1);case k.CubicTo:b.control1&&b.control2||g(0,2831);return M(a,d,b.point,b.control1,b.control2);default:throw new Error("Unrecognized segment type "+b.type)}}function c(a,b){switch(t(a,b)){case-1:return n(b.value().commands(0).point());case 1:var c=b.value();return n(c.commands(c.commandsLength()-1).point());default:c=u(a,b);c!=null||g(0,2832);return N(a,b,c)}}a={maybeTweenPoint2:a,maybeTweenColor:A,maybeTweenColorArray:I,maybeTweenScalar:f,maybeTweenScalarArray:d,maybeTweenPath:J,tweenPointOnPath:c};e.exports=a}),null);
__d("KeyframesVideoManager",["KeyframesVideoUtils","Promise","regeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=.2,h=100,i=[.85,1.15];e.exports=function(){function a(a){this.$1=a,this.$3=1/a.doc.frameRate(),this.$2=l(a.doc.rootLayer(),a),this.$4=this.$5()}var c=a.prototype;c.getVideos=function(){return this.$1.videos};c.getTimeWindows=function(){return this.$2};c.forEach=function(a){this.getVideos().forEach(a)};c.pause=function(){this.forEach(function(a){a.pause()})};c.mute=function(){this.forEach(function(a){a.muted=!0})};c.unMute=function(){this.forEach(function(a){a.muted=!1})};c.renderProgress=function(a){var b=this;this.$2.forEach(function(c,d){var e=c.video,f=k(c,a),h=j(c,a);h=b.$1.doc.duration()*h;var l=Math.abs(h-e.currentTime);c=b.$1.doc.duration()*(c.toProgress-c.fromProgress);if(l>g&&e.currentTime<c&&h<c){l=(c-e.currentTime)/(c-h);l>=i[0]&&l<=i[1]&&b.changeVideoPlaybackRate(d,l)}f&&e.paused?e.play():f==!1&&e.paused==!1&&(e.pause(),e.currentTime=0)})};c.$5=function(){return this.$2.map(function(a){var b=a.video;return n(function(a){b.playbackRate=a},h,!0)})};c.changeVideoPlaybackRate=function(a,b){this.$4[a](b)};c.seekToProgress=function(a){var c=this,d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:d=this.$2.map(function(d){var e,f,g;return b("regeneratorRuntime").async(function(h){while(1)switch(h.prev=h.next){case 0:e=d.video;f=0;k(d,a)&&(g=j(d,a),f=m(c.$1.doc.duration()*g));e.pause();e.currentTime=f;h.next=7;return b("regeneratorRuntime").awrap(b("KeyframesVideoUtils").loadVideo(e,f));case 7:case"end":return h.stop()}},null,this)});e.next=3;return b("regeneratorRuntime").awrap(b("Promise").all(d));case 3:case"end":return e.stop()}},null,this)};return a}();function j(a,b){return b-a.fromProgress}function k(a,b){return b>=a.fromProgress&&b<=a.toProgress}function l(a,b){var c=[],d=a.videoIndex();if(d!=-1){var e=b.videos[d];d=b.doc.videos(d);e!=null&&c.push({fromProgress:a.fromProgress(),toProgress:a.toProgress(),name:d!=null?d.name():null,video:e})}for(d=0;d<a.sublayersLength();d++)c=c.concat(l(a.sublayers(d),b));return c}function m(a){return Math.round(a*100)/100}function n(a,b,c){b===void 0&&(b=100);c===void 0&&(c=!1);var d;return function(){for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];var h=function(){d=null,c||a.apply(void 0,f)},i=c&&!d;clearTimeout(d);d=setTimeout(h,b);i&&a.apply(void 0,f)}}}),null);
__d("KeyframesRenderer",["invariant","ErrorGuard","KFLoaderUtils","KeyframesCanvasPolyfills","KeyframesCanvasPool","KeyframesCanvasUtils","KeyframesDimensions","KeyframesLoop","KeyframesTrackMattes","KeyframesTween","KeyframesVideoManager","Promise","gkx","nullthrows","performanceNow","promiseDone","regeneratorRuntime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=1,j={ERROR_FRAMEDROP:"ERROR_FRAMEDROP"};a=60;var k=1e3/a,l=1,m="source-over";function n(a,b){return c("gkx")("801076")?c("ErrorGuard").guard(a,{name:b}):a}var o=function(){function a(a,b){b===void 0&&(b=100),this.$3=!1,this.$4=0,this.$1=a,this.$2=b}var b=a.prototype;b.callOrIgnoreThrottled=function(){if(c("performanceNow")()>=this.$4){for(var a=arguments.length,b=new Array(a),d=0;d<a;d++)b[d]=arguments[d];this.$5(b)}else this.$3=!0};b.callIfIgnored=function(){if(this.$3){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$5(b)}};b.callImmediately=function(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];this.$5(b)};b.resetThrottling=function(){this.$4=0};b.$5=function(a){this.$3=!1,this.$4=c("performanceNow")()+this.$2,this.$1.apply(null,a)};return a}();function p(a,b){if(a.pluginsLoader){a.pluginsLoader.instances.forEach(b);for(var c=a.subassets.length-1;0<=c;c--)p(a.subassets[c],b)}}function q(a,b,c,d){if(a.pluginsLoader){for(var e=a.pluginsLoader.instances.length-1;0<=e;e--)a.pluginsLoader.instances[e].animationWillRenderLayer(b,c,d);for(e=a.subassets.length-1;0<=e;e--)q(a.subassets[e],b,c,d)}}function r(a,b,c,d){a.save(),a.beginPath(),a.arc(b,c,d,0,2*Math.PI,!0),a.closePath(),a.clip(),a.clearRect(b-d,c-d,d*2,d*2),a.restore()}function s(a,b,c,e){e=d("KeyframesTween").maybeTweenPoint2(a,b.rampStart());var f=d("KeyframesTween").maybeTweenPoint2(a,b.rampEnd()),g=b.colors(),h=b.positions();g&&h?(g=d("KeyframesTween").maybeTweenColorArray(a,g),h=d("KeyframesTween").maybeTweenScalarArray(a,h)):(g=[d("KeyframesTween").maybeTweenColor(a,b.colorStart()),d("KeyframesTween").maybeTweenColor(a,b.colorEnd())],h=[0,1]);if(b.type()===i){var j=b.highlightLength();j=j!==null?d("KeyframesTween").maybeTweenScalar(a,j):0;var k=b.highlightAngle();k=k!==null?d("KeyframesTween").maybeTweenScalar(a,b.highlightAngle()):0;a=e.x;b=e.y;var l=Math.sqrt(Math.pow(e.x-f.x,2)+Math.pow(e.y-f.y,2)),m=Math.acos((f.x-a)/l),n=a+l*j*Math.cos(m-k);m=b-l*j*Math.sin(m-k);k=0;j!==0&&(c.clip(),c.fillStyle=d("KeyframesCanvasUtils").getCanvasStyle(g[g.length-1]),c.fill(),r(c,a,b,l));j=c.createRadialGradient(n,m,k,a,b,l)}else j=c.createLinearGradient(e.x,e.y,f.x,f.y);for(n=0,m=g.length;n<m;n++)j.addColorStop(h[n],d("KeyframesCanvasUtils").getCanvasStyle(g[n]));return j}function t(a,b,e,f,g,h,i,j,k){k===void 0&&(k=l);if(i<Math.max(h.fromProgress(),0)||i>Math.min(h.toProgress(),1))return;try{j&&j.maybeInstantiatePluginsForLayer(h)}catch(a){}a=a;var n,o=h.isTrackMatte(),p=h.trackMatteType();if(o||p!==0){var q=a.getTransform();n=b.getCanvas();n.ctx.setTransform(q.a,q.b,q.c,q.d,q.e,q.f);n.isTrackMatte=o;n.trackMatteType=p;n.ctx.globalCompositeOperation=m;a=n.ctx}a.save();q=h.position();if(q){o=d("KeyframesTween").tweenPointOnPath(i,q);p=o.x;q=o.y;a.translate(p,q)}else{o=h.xPosition();o&&a.translate(d("KeyframesTween").maybeTweenScalar(i,o),0);p=h.yPosition();p&&a.translate(0,d("KeyframesTween").maybeTweenScalar(i,p))}q=h.rotation();q&&a.rotate(d("KeyframesTween").maybeTweenScalar(i,q));o=h.scale();if(o){p=d("KeyframesTween").maybeTweenPoint2(i,o);q=p.x;o=p.y;a.scale(q,o)}p=h.anchorPoint();if(p){q=d("KeyframesTween").maybeTweenPoint2(i,p);o=q.x;p=q.y;a.translate(-o,-p)}q=h.opacity();q=q!=null?d("KeyframesTween").maybeTweenScalar(i,q):1;a.globalAlpha=q*k;o=!1;if(j){p=j.getPluginsForLayer(h.id());if(p)for(var r=0;r<p.length;r++)p[r].render(a,i),o=o||p[r].rendersLayer}h.clippingPath()&&(d("KeyframesCanvasUtils").drawPath(a,d("KeyframesTween").maybeTweenPath(i,h.clippingPath())),a.clip());if(!o&&h.path()){d("KeyframesCanvasUtils").drawPath(a,d("KeyframesTween").maybeTweenPath(i,h.path()));r=h.gradient();p=h.fillColor();o=!1;var u=!1;r?(a.fillStyle=s(i,r,a),o=!0):p&&(a.fillStyle=d("KeyframesCanvasUtils").getCanvasStyle(d("KeyframesTween").maybeTweenColor(i,p)),o=!0);if(h.strokeWidth()){r=d("KeyframesTween").maybeTweenScalar(i,h.strokeWidth());r>0&&(a.strokeStyle=d("KeyframesCanvasUtils").getCanvasStyle(d("KeyframesTween").maybeTweenColor(i,h.strokeColor())),a.lineJoin=d("KeyframesCanvasUtils").LINE_JOINS[h.strokeLineJoin()],a.lineCap=d("KeyframesCanvasUtils").getCanvasLineCap(h.strokeLineCap()),a.lineWidth=r,u=!0)}h.vectorCompositeOrder()===0?(o&&a.fill(),u&&a.stroke()):(u&&a.stroke(),o&&a.fill())}p=h.bitmapIndex();r=e[p];r&&r.width!==0&&r.height!==0&&a.drawImage(r,0,0);u=h.videoIndex();o=f[u];o!=null&&a.drawImage(o,0,0,o.width,o.height);p=h.subdocumentIndex();if(g[p]){r=g[p].doc.size();a.save();a.beginPath();a.rect(0,0,r.width(),r.height());a.clip();t(a,b,g[p].bitmaps,g[p].videos,g[p].subassets,g[p].doc.rootLayer(),i-h.progressOffset(),g[p].pluginsLoader,q*k);a.restore()}var v;for(u=0;u<h.sublayersLength();u++){o=t(a,b,e,f,g,h.sublayers(u),i,j,q*k);if(!v&&o&&o.trackMatteType!==void 0)v=o;else if(v&&o&&o.isTrackMatte!==void 0){r=a.getTransform();a.setTransform(1,0,0,1,0,0);v.ctx.setTransform(1,0,0,1,0,0);p=o;v.ctx.globalCompositeOperation=c("KeyframesTrackMattes")[v.trackMatteType===void 0?1:v.trackMatteType];v.ctx.drawImage(p.canvas,0,0);a.drawImage(v.canvas,0,0);a.setTransform(r.a,r.b,r.c,r.d,r.e,r.f);v=void 0;p=void 0}else v&&!o?(a.drawImage(v.canvas,0,0),v=void 0,p=void 0):o&&o.isTrackMatte!==void 0&&(v=void 0,p=void 0)}a.restore();return n}e=function(){function a(a,e){var f=this;this.$5=0;this.$6=0;this.$8=!1;this.$9=!1;this.$10=!1;this.$11=0;this.$16=!1;this.$17=0;this.$18=1;this.$19=1;this.$21=1;this.$22=0;this.$26=function(a){(f.$12||f.$15)&&f.$34(a),!f.$16?f.redrawIfNeeded():(f.$10&&f.$32(),f.$24.renderProgress(f.$11),f.$33(f.$11),f.$11+=a/f.$5,f.$14&&f.$14.callOrIgnoreThrottled(f.$17),f.$11>=f.$21&&(f.$11%=f.$21,f.$19=Math.max(0,f.$19-1),f.$15&&f.$15.finish(),f.$19===0?f.pause():(f.$24.seekToProgress(0),f.$15&&f.$15.start(),f.$11+=f.$22),f.$13&&f.$13(f.$19),f.$30()))};this.$33=n(function(a){a>=0&&a<=1||h(0,750,a),this.$3.clearRect(0,0,this.$23.width.intrinsic,this.$23.height.intrinsic),this.$1.pluginsLoader&&q(this.$1,a,this.$16,this.$8),this.$4.clearAllAllocated(),this.$4.freeAll(),t(this.$3,this.$4,this.$1.bitmaps,this.$1.videos,this.$1.subassets,this.$20,a,this.$1.pluginsLoader),this.$17=a,this.$9=!1,this.$15&&this.$15.addFrame()},"KeyframesRenderer: _renderProgress()");this.$32=n(function(){this.$2.width=this.$23.width.physical,this.$2.height=this.$23.height.physical,this.$2.style.width=this.$23.width.logical+"px",this.$2.style.height=this.$23.height.logical+"px",this.$3.setTransform(1,0,0,1,0,0),this.$3.scale(this.$23.width.getPhysicalChangeRatio(),this.$23.height.getPhysicalChangeRatio()),this.$4.resizeAll(),this.$10=!1,this.$9=!0},"KeyframesRenderer: _resize()");this.$23=new(c("KeyframesDimensions"))(a.doc.size().width(),a.doc.size().height());this.$4=new(c("KeyframesCanvasPool"))(this.$23);this.$2=document.createElement("canvas");this.$3=c("nullthrows")(this.$2.getContext("2d"));d("KeyframesCanvasPolyfills").addGetTransformPolyfill(this.$3);this.$7=new(c("KeyframesLoop"))(this.$26);this.$15=e;this.$24=new(c("KeyframesVideoManager"))(a);this.setDecodedAsset(a);this.$27();this.$25=b("Promise").resolve()}var e=a.prototype;e.play=function(){this.$16||(this.$16=!0,this.isFinished()&&(this.$19=this.$18,this.$11=this.$22),this.$15&&this.$15.start(),this.$7.start());return this};e.pause=function(){this.$16&&(this.$16=!1,this.$15&&this.$15.pause(),this.$9?this.$28():(this.$7.cancel(),this.$14&&this.$14.callIfIgnored(this.$17)));this.$24.pause();this.$29(this.$24.seekToProgress(this.$17));q(this.$1,this.$17,this.$16,this.$8);return this};e.isPlaying=function(){return this.$16};e.isFinished=function(){return this.$19===0};e.isMuted=function(){return this.$8};e.mute=function(){this.$8=!0,this.$24.mute()};e.unMute=function(){this.$8=!1,this.$24.unMute()};e.repeatCount=function(a){this.$18=this.$19=Math.max(1,a);return this};e.repeatForever=function(){return this.repeatCount(Infinity)};e.getRepeatsRemaining=function(){return this.$19};e.seekToProgress=function(a){var b=this;a>=0&&a<=1||h(0,749,a);this.$14&&this.$14.resetThrottling();this.$17=this.$11=a;this.$29(this.$24.seekToProgress(a).then(function(){return b.$28()}));a===0&&this.$30();this.$28();return this};e.setStartAndEndAt=function(a,b){if(a>=b)throw new Error("Cannot set the start time before the end time.");else if(b<=a)throw new Error("Cannot set the end time before the start time.");this.$22=a;this.$21=b;return this};e.setStartAt=function(a){if(a>=this.$21)throw new Error("Cannot set the start time before the end time.");this.$22=a;return this};e.setEndAt=function(a){if(a<=this.$22)throw new Error("Cannot set the end time before the start time.");this.$21=a;return this};e.getDuration=function(){return this.$5};e.getFrameRate=function(){return this.$6};e.getIntrinsicSize=function(){return[this.$23.width.intrinsic,this.$23.height.intrinsic]};e.getWidth=function(){return this.$23.width.logical};e.getHeight=function(){return this.$23.height.logical};e.setWidth=function(a){this.$23.setWidth(a);this.$27();return this};e.setHeight=function(a){this.$23.setHeight(a);this.$27();return this};e.getDecodedAsset=function(){return babelHelpers["extends"]({},this.$1)};e.setDecodedAsset=function(a){this.$1=a;this.$5=c("KFLoaderUtils").getDocumentDuration(a.doc);this.$6=a.doc.frameRate();this.$20=a.doc.rootLayer();this.$24=new(c("KeyframesVideoManager"))(a);this.$28();this.$31();return this};e.resetDimensions=function(){this.$23.reset();this.$27();return this};e.onError=function(a){this.$12=a;return this};e.onRepeatEnd=function(a){this.$13=a;return this};e.onProgress=function(a,b){this.$14=a&&new o(a,b);return this};e.getProgress=function(){return this.$17};e.getElement=function(){return this.$2};e.hasPerformanceLogging=function(){return!!this.$15};e.redrawIfNeeded=function(){(this.$10||this.$9)&&(this.$10&&this.$32(),this.$9&&this.$33(this.$17),this.$14&&this.$14.callImmediately(this.$17));return this};e.waitForVideoUpdate=function(){return b("regeneratorRuntime").async(function(a){while(1)switch(a.prev=a.next){case 0:a.next=2;return b("regeneratorRuntime").awrap(this.$25);case 2:case"end":return a.stop()}},null,this)};e.$29=function(a){this.$25=a,c("promiseDone")(a)};e.$27=function(){this.$10=!0,this.$28()};e.$28=function(){this.$9=!0,this.$7.isRunning()||this.$7.start(1)};e.$31=function(){p(this.$1,function(a){return a.animationDidLoad()})};e.$30=function(){var a=this;p(this.$1,function(b){return b.animationWillRepeat(a.$11,a.$19)})};e.$34=function(a){a=Math.round(a/k-1);a>0&&(this.$15&&this.$15.addFrameDrop(a),this.$12&&this.$12(j.ERROR_FRAMEDROP,a))};return a}();f.exports=e}),34);/*FB_PKG_DELIM*/
__d("validateTrackingCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a!=null&&typeof a==="object"&&a.click_tracking_linkshim_cb!=null&&a.encrypted_click_tracking!=null&&a.encrypted_tracking!=null?a:null}f["default"]=a}),66);
__d("CometFullScreen",["Promise"],(function(a,b,c,d,e,f){"use strict";function a(a){var c=a.requestFullscreen||a.mozRequestFullScreen||a.msRequestFullscreen||a.webkitRequestFullscreen;return typeof c==="function"?c.call(a):b("Promise").reject()}function c(){var a=document.exitFullscreen||document.mozCancelFullScreen||document.msExitFullscreen||document.webkitExitFullscreen;return typeof a==="function"?a.call(document):b("Promise").reject()}function d(){return(document.webkitFullscreenEnabled===!0||document.mozFullScreenEnabled===!0||document.msFullscreenEnabled===!0||document.fullscreenEnabled===!0)&&(typeof document.webkitExitFullscreen==="function"||typeof document.mozCancelFullScreen==="function"||typeof document.msExitFullscreen==="function"||typeof document.exitFullscreen==="function")}function g(){return document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement||null}function e(){return g()!=null}function h(){return["webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange","fullscreenchange"]}function i(a){var b=window.document,c=!1,d=!0;h().forEach(function(e){b.addEventListener(e,a,{capture:c,passive:d})});return function(){h().forEach(function(d){b.removeEventListener(d,a,c)})}}f.requestFullScreen=a;f.exitFullScreen=c;f.isSupported=d;f.getFullScreenElement=g;f.isFullScreen=e;f.getFullScreenChangeEventNames=h;f.subscribeToFullScreenChangeEvent=i}),66);
__d("useEventCallbackOn",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b,c){h(function(){a.addEventListener(b,c);return function(){a.removeEventListener(b,c)}},[a,b,c])}g["default"]=a}),98);
__d("useIsBackgrounded",["emptyFunction","react","useEventCallbackOn"],(function(a,b,c,d,e,f,g){"use strict";f=d("react");var h=f.useCallback,i=f.useState;function b(){var b=a.document;if(typeof b.hidden!=="undefined")return"visibilitychange";else if(typeof b.mozHidden!=="undefined")return"mozvisibilitychange";else if(typeof b.msHidden!=="undefined")return"msvisibilitychange";else if(typeof b.webkitHidden!=="undefined")return"webkitvisibilitychange";return"visibilitychange"}function j(){var b=a.document;if(typeof b.hidden!=="undefined")return b.hidden;else if(typeof b.mozHidden!=="undefined")return b.mozHidden;else if(typeof b.msHidden!=="undefined")return b.msHidden;else if(typeof b.webkitHidden!=="undefined")return b.webkitHidden;return!1}var k=b();function l(b){var c=a.document.hasFocus?a.document.hasFocus():!0,d=j();return d||(b?!1:!c)}function m(){return j()}function e(b){var d=(b==null?void 0:b.noPauseOnBlurOrFocus)===!0,e=i(function(){return l(d)}),f=e[0],g=e[1];e=i(function(){return m()});var j=e[0],n=e[1],o=!!b&&b.scrollTerminatesHiddenOrBlurred===!0;e=h(function(){g(l(d)),n(m())},[g,d]);b=e;var p=h(function(){var a=l(d);a&&o&&f&&g(!1)},[f,d,o]);d&&(b=c("emptyFunction"));c("useEventCallbackOn")(a.window,"blur",b);c("useEventCallbackOn")(a.window,"focus",b);c("useEventCallbackOn")(a.document,k,e);c("useEventCallbackOn")(a.window,"scroll",p);return{isDocumentHidden:j,isDocumentHiddenOrBlurred:f}}g["default"]=e}),98);
__d("VideoPlayerViewabilityProvider.react",["VideoPlayerViewabilityContexts","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,c=a.isDesktopPictureInPicture,e=a.isFullscreen;a=a.videoPlayerPassiveViewabilityInfo;return h.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerPassiveViewabilityInfoContext.Provider,{value:a,children:h.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerDesktopPictureInPictureContext.Provider,{value:c,children:h.jsx(d("VideoPlayerViewabilityContexts").VideoPlayerFullscreenContext.Provider,{value:e,children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useBlockCappedListItemWhenPlayingVideo",["CappedListItemContext","err","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useContext,i=b.useEffect;e=!1;function a(a,b){var d=(b=h(c("CappedListItemContext")))==null?void 0:b.registerBlocker;i(function(){if(!d)return;var b=null,c=null,e=function(){var e=a.getCurrentState().playing;if(e!==b){b=e;c&&(c(),c=null);if(e){e="playing_video";var f;c=d({reason:e,source:f})}}};e();var f=a.subscribe(e);return function(){f.remove(),c&&(c(),c=null)}},[a,d])}g["default"]=a}),98);
__d("wrapWithContextProviders",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){return b.reduceRight(function(a,b){return b(a)},a)}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return function(c){return h.jsx(a.Provider,{value:b,children:c})}}g.wrapWithContextProviders=a;g.makeRenderProviderFn=b}),98);
__d("VideoPlayerComponentContainer.react",["CometVisualCompletionAttributes","VideoPlayerContexts","VideoPlayerHooks","VideoPlayerViewabilityProvider.react","clearTimeout","cr:1269159","react","setTimeout","stylex","useBlockCappedListItemWhenPlayingVideo","wrapWithContextProviders"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useEffect,k=e.useRef,l=e.useState,m={"default":{height:"x5yr21d",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},hiddenCursor:{cursor:"xjfk50j",$$css:!0}};function n(a){var b=k(a);j(function(){b.current=a},[a]);var d=l(!1),e=d[0],f=d[1];d=l(function(){var a=null;return{cleanup:function(){a&&a()},pingNotIdle:function(){a&&a();f(!1);var d=c("setTimeout")(function(){f(!0)},b.current);a=function(){c("clearTimeout")(d),a=null}}}});d=d[0];var g=d.cleanup;d=d.pingNotIdle;j(function(){return g},[g]);return{isIdle:e,pingNotIdle:d}}function o(){var a=l(!1),b=a[0],c=a[1];a=3e3;a=n(a);var d=a.isIdle,e=a.pingNotIdle;a=i(function(){c(!0),e()},[e]);var f=i(function(){c(!1),e()},[e]),g=i(function(){c(!0),e()},[e]),h=i(function(){e()},[e]),j=i(function(){e()},[e]);return{isHovering:b,isIdle:d,onMouseDown:h,onMouseEnter:a,onMouseLeave:f,onMouseMove:g,onMouseUp:j}}function p(a){var b=o(),e=b.isHovering,f=b.isIdle,g=b.onMouseDown,i=b.onMouseEnter,j=b.onMouseLeave,k=b.onMouseMove;b=b.onMouseUp;var l=d("VideoPlayerHooks").useIsFullscreen();return h.jsx("div",babelHelpers["extends"]({className:c("stylex")(m["default"],l&&f&&m.hiddenCursor)},c("CometVisualCompletionAttributes").IGNORE,{onMouseDown:g,onMouseEnter:i,onMouseLeave:j,onMouseMove:k,onMouseUp:b,children:h.jsx(d("VideoPlayerContexts").VideoPlayerMouseHoverContext.Provider,{value:e,children:h.jsx(d("VideoPlayerContexts").VideoPlayerMouseIdleContext.Provider,{value:f,children:a.children})})}))}p.displayName=p.name+" [from "+f.id+"]";function a(a){var e=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);var f=a.adClientToken,g=a.audioAvailabilityInfo,i=a.autoplayGatingResult,j=a.broadcastStatus,k=a.canAutoplay,l=a.controller,m=a.dimensions,n=a.initialTracePolicy,o=a.instanceKey,q=a.isDesktopPictureInPicture,r=a.isFullscreen,s=a.isNCSR,t=a.isPremiumMusicVideo,u=a.lastMuteReason,v=a.lastPauseReason,w=a.lastPlayReason,x=a.videoFBID,y=a.videoPixelsAspectRatio,z=a.videoPlayerPassiveViewabilityInfo,A=a.videoState,B=a.volumeSetting,C=A.activeCaptions,D=A.activeEmsgBoxes,E=A.availableAudioTracks,F=A.availableVideoQualities,G=A.bufferEnd,H=A.captionDisplayStyle,I=A.captionsLoaded,J=A.captionsVisible,K=A.currentAudioTrackID,L=A.currentVideoQuality,M=A.duration,N=A.ended,O=A.error,P=A.inbandCaptionsAutogenerated,Q=A.inPlayStalling,R=A.isAbrEnabled,S=A.isExternalMedia,T=A.isLiveRewindActive,U=A.lastPlayedTimeMs,V=A.latencyLevel,W=A.loopCount,X=A.loopCurrent,Y=A.muted,Z=A.paused,$=A.playerImplementationName,aa=A.playing,ba=A.seekableRanges,ca=A.seeking,da=A.selectedAudioTrackID,ea=A.selectedVideoQuality,fa=A.stalling,ga=A.streamInterrupted,ha=A.targetPlaybackRate,ia=A.targetVideoQuality,ja=A.volume;A=A.watchTimeMs;e=h.jsx(p,{children:e});b("cr:1269159")(o,{controller:l,coreVideoStates:a,videoPlayerPassiveViewabilityInfo:z});e=d("wrapWithContextProviders").wrapWithContextProviders(e,[d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").VideoFBIDContext,x),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").StallingContext,fa),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").PlayingContext,aa),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").InPlayStallingContext,Q),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").BufferEndContext,G),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LastMuteReasonContext,u),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LastPlayReasonContext,w),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LastPauseReasonContext,v),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").PausedContext,Z),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").CurrentAudioTrackIDContext,K),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").CurrentVideoQualityContext,L),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").MutedContext,Y),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").SelectedAudioTrackIDContext,da),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").VolumeContext,ja),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").SelectedVideoQualityContext,ea),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").SeekingContext,ca),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").DurationContext,M),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").EndedContext,N),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").ErrorContext,O),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").DimensionsContext,m||null),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").InstanceKeyContext,o),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").ControllerContext,l),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").AvailableAudioTracksContext,E),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").AvailableVideoQualitiesContext,F),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").PlayerImplementationNameContext,$),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").IsAbrEnabledContext,R),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").TargetVideoQualityContext,ia),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").PlaybackRateContext,ha),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").CanAutoplayContext,k),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").VolumeSettingContext,B),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").AutoplayGatingResultContext,i),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").BroadcastStatusContext,j),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LoopCountContext,W),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LoopCurrentContext,X),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").AdClientTokenContext,f),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").ActiveCaptionsContext,C),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").CaptionsVisibleContext,J),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").CaptionDisplayStyleContext,H),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").CaptionsLoadedContext,I),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").InbandCaptionsAutogeneratedContext,P),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").StreamInterruptedContext,ga),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").WatchTimeContext,A),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LastPlayedTimeContext,U),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").SeekableRangesContext,ba),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").LatencyLevelContext,V),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").IsLiveRewindActiveContext,T),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").AudioAvailabilityInfoContext,g),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").IsNCSRContext,s),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").IsPremiumMusicVideoContext,t),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").InitialTracePolicyContext,n),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").ActiveEmsgBoxesContext,D),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").IsExternalMediaContext,S),d("wrapWithContextProviders").makeRenderProviderFn(d("VideoPlayerContexts").VideoPixelsAspectRatioContext,(a=y)!=null?a:null),function(a){return h.jsx(c("VideoPlayerViewabilityProvider.react"),{isDesktopPictureInPicture:q,isFullscreen:r,videoPlayerPassiveViewabilityInfo:z,children:a})}]);c("useBlockCappedListItemWhenPlayingVideo")(l,o);return h.jsx("div",{"data-instancekey":o,"data-testid":void 0,children:e})}a.displayName=a.name+" [from "+f.id+"]";e=h.memo(a);g["default"]=e}),98);
__d("GlobalVideoPortsID",["cometUniqueID","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(){return"id-pv-"+c("cometUniqueID")()}function b(a){if(typeof a==="string"){var b="id-pv-";if(a.indexOf(b)===0&&a.length>b.length)return a;else throw c("unrecoverableViolation")('Expected a GlobalVideoPortsVideoID, got a string that does not look like it: "'+a+'"',"comet_video_player")}else return null}function d(){return"id-pp-"+c("cometUniqueID")()}g.makeVideoID=a;g.ensureVideoID=b;g.makePlaceID=d}),98);
__d("VideoPlayerFullscreenController",["CometFullScreen","removeFromArray","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.current!=null&&d("CometFullScreen").getFullScreenElement()===a.current}function a(a){var b=[];function e(){b.forEach(function(a){a()})}var f=null;return{getIsFullscreen:function(){return h(a)},requestSetIsFullscreen:function(b,e){var f=a.current;if(f==null)throw c("unrecoverableViolation")("Requested full screen while the element is not present","comet_video_player");d("CometFullScreen").isSupported()?b!==h(a)&&(b===!0?d("CometFullScreen").requestFullScreen(f):b===!1&&d("CometFullScreen").exitFullScreen()):b&&e!=null&&typeof e.webkitEnterFullScreen==="function"?e.webkitEnterFullScreen():!b&&e!=null&&typeof e.webkitExitFullScreen==="function"&&e.webkitExitFullscreen()},subscribe:function(a){b.length===0&&f==null&&(f=d("CometFullScreen").subscribeToFullScreenChangeEvent(e));b.push(a);return{remove:function(){c("removeFromArray")(b,a),b.length===0&&f!=null&&(f(),f=null)}}}}}g.createFullscreenController=a}),98);
__d("VideoPlayerPortalingPlaceState",["GlobalVideoPortsContexts","GlobalVideoPortsID","gkx","react","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState;e=function(a,b){var e=c("usePrevious")(a);h(function(){a!==e&&(e!==null&&e&&!a&&b(d("GlobalVideoPortsID").makeVideoID()))},[a,e,b])};f=function(a,b){var c=i(null),e=c[0];c=c[1];a!==e&&(e!==null&&e&&!a&&b(d("GlobalVideoPortsID").makeVideoID()),c(a))};var j=c("gkx")("1375802")?f:e;function a(a){var b=a.portalingEnabled;a=a.portalingFromVideoID;var c=d("GlobalVideoPortsContexts").useGlobalVideoPortsLoader(),e=d("GlobalVideoPortsContexts").useGlobalVideoPortsManager(),f=d("GlobalVideoPortsContexts").useGlobalVideoPortsState(),g=e!=null&&f!=null,k=(g||c!=null)&&(b||a!=null),l=i(function(){return d("GlobalVideoPortsID").makePlaceID()});l=l[0];var m=i(function(){return d("GlobalVideoPortsID").makeVideoID()}),n=m[0];m=m[1];b=k&&b&&a!=null;a=b&&a!=null?a:n;j(b,m);h(function(){k&&!g&&c&&c()},[g,k,c]);return{canBecomePortableLater:k,currentVideoID:a,globalVideoPortsManager:e,globalVideoPortsState:f,thisPlaceID:l}}g.useRegenerateUniqueVideoID_exportedForTest=j;g.useVideoPlayerPortalingPlaceState=a}),98);
__d("VideoPlayerPortalingPlaceWithPortaling.react",["BaseContextualLayerAnchorRootContext","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsRenderers.react","getOwnObjectValues","killswitch","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useRef,l=b.useState;function a(a){var b=a.coreVideoPlayerMetaData,e=a.currentPlaceID,f=a.currentVideoID,g=a.fullscreenController,m=a.globalVideoPortsManager,n=a.globalVideoPortsState_DEPRECATED,o=a.implementations,p=a.isFullscreen,q=a.portablePlaceMetaData,r=a.previousPlaceMetaData,s=a.renderComponents,t=a.renderPlaceholder,u=a.thisPlaceID,v=a.trackingDataEncrypted,w=a.trackingNodes,x=a.viewportMarginsForViewability;a=l(function(){return d("CoreVideoPlayerFitParentContainer.react").createFitParentContainerDiv({debugRole:null})});var y=a[0],z=k(null);j(function(){m.addOrUpdatePlace({coreVideoPlayerMetaData:b,fullscreenController:g,implementations:o,injectCoreVideoStatesRef:z,isFullscreen:p,portablePlaceContainer:y,portablePlaceID:u,portablePlaceMetaData:q,portableVideoID:f,renderComponents:s,renderPlaceholder:t,trackingDataEncrypted:v,trackingNodes:w,viewportMarginsForViewability:x})},[].concat(c("getOwnObjectValues")(b),[f,g,p,m,y],c("getOwnObjectValues")(q||{}),[s,t,u,v,w,x]));j(function(){return function(){m.removePlace({portablePlaceID:u})}},[m,u]);a=i(c("BaseContextualLayerAnchorRootContext"));var A=k(null);return h.jsxs(c("BaseContextualLayerAnchorRootContext").Provider,{value:p&&!c("killswitch")("WORKPLACE_VIDEO_FULLSCREEN_CONTEXT_LAYER_ROOT")?A:a,children:[h.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentDOMContainer,{debugRole:null,domElement:y},u),h.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsVideoComponentsRenderer,{currentPlaceID:n!=null?(a=(a=m.getCurrentPlaceStateForVideo(n,f))==null?void 0:a.portablePlaceID)!=null?a:null:e,currentVideoID:f,injectCoreVideoStatesRef:z,previousPlaceMetaData:n!=null?(e=(a=m.getPortableVideoState(n,f))==null?void 0:a.previousPlaceMetaData)!=null?e:null:r,renderComponents:s,thisPlaceID:u}),h.jsx("div",{ref:A})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerPortalingPlace.react",["BaseViewportMarginsContext","CometTrackingCodeContext","CometTrackingNodesContext","CoreVideoPlayer.react","CoreVideoPlayerFitParentContainer.react","GlobalVideoPortsID","GlobalVideoPortsRenderers.react","VideoPlayerFullscreenController","VideoPlayerPortalingPlaceInfoProvider.react","VideoPlayerPortalingPlaceState","VideoPlayerPortalingPlaceWithPortaling.react","react","recoverableViolation","useStable","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useEffect,k=b.useState,l={bottom:0,left:0,right:0,top:0},m=h.forwardRef(function(a,b){var c=a.children,e=a.debugRole;a=a.testid;return h.jsx(d("CoreVideoPlayerFitParentContainer.react").CoreVideoPlayerFitParentContainer,{debugRole:e,ref:b,testid:void 0,children:c})});function a(a){var b=a.implementations,e=a.portalingEnabled,f=a.portalingFromVideoID,g=a.portalingPlaceMetaData,n=a.renderComponents,o=a.renderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","renderComponents","renderPlaceholder"]);j(function(){return function(){}},[]);var p=f!=null?d("GlobalVideoPortsID").ensureVideoID(f):null;f!=null&&p==null&&c("recoverableViolation")("The provided portalingFromVideoID ("+String(f)+") does not look like such an ID. The video player will not use portaling until a valid ID is provided","comet_video_player");f=d("VideoPlayerPortalingPlaceState").useVideoPlayerPortalingPlaceState({portalingEnabled:e,portalingFromVideoID:p});e=f.canBecomePortableLater;p=f.currentVideoID;var q=f.globalVideoPortsManager,r=f.globalVideoPortsState;f=f.thisPlaceID;var s=i(c("BaseViewportMarginsContext")),t=c("useUnsafeRef_DEPRECATED")(null),u=c("useStable")(function(){return d("VideoPlayerFullscreenController").createFullscreenController(t)}),v=k(u.getIsFullscreen()),w=v[0],x=v[1];j(function(){var a=u.subscribe(function(){var a=u.getIsFullscreen();x(a)});x(u.getIsFullscreen());return function(){a.remove()}},[u,x]);v=i(c("CometTrackingNodesContext"));v=v.join("");var y=i(c("CometTrackingCodeContext"));y=(y=y.encrypted_tracking[0])!=null?y:"";s=w?l:s;var z="comet-video-player-place"+(a.videoFBID!=null?"-vid-"+a.videoFBID:"");if(!e)return h.jsx(m,{debugRole:null,ref:t,testid:void 0,children:h.jsx(d("VideoPlayerPortalingPlaceInfoProvider.react").VideoPlayerPortalingPlaceInfoProvider,{currentPlaceID:f,currentVideoID:p,portalingEnabled:!1,previousPlaceMetaData:null,thisPlaceID:f,children:h.jsx(c("CoreVideoPlayer.react"),babelHelpers["extends"]({},a,{fullscreenController:u,implementations:b,isFullscreen:w,renderWithCoreVideoStates:n,trackingDataEncrypted:y,trackingNodes:v,viewportMarginsForViewability:s}))})});if(q&&r){return h.jsx(m,{debugRole:null,ref:t,testid:void 0,children:h.jsx(c("VideoPlayerPortalingPlaceWithPortaling.react"),{coreVideoPlayerMetaData:a,currentPlaceID:(e=(z=q.getCurrentPlaceStateForVideo(r,p))==null?void 0:z.portablePlaceID)!=null?e:null,currentVideoID:p,fullscreenController:u,globalVideoPortsManager:q,globalVideoPortsState_DEPRECATED:null,implementations:b,isFullscreen:w,portablePlaceMetaData:g,previousPlaceMetaData:(e=(z=q.getPortableVideoState(r,p))==null?void 0:z.previousPlaceMetaData)!=null?e:null,renderComponents:n,renderPlaceholder:o,thisPlaceID:f,trackingDataEncrypted:y,trackingNodes:v,viewportMarginsForViewability:s})})}else{return h.jsx(m,{debugRole:null,ref:t,testid:void 0,children:h.jsx(d("GlobalVideoPortsRenderers.react").GlobalVideoPortsPlaceholderRenderer,{currentPlaceID:null,currentVideoID:p,previousPlaceMetaData:null,renderPlaceholder:o,thisPlaceID:f,videoPixelsAspectRatio:(b=a.videoPixelsAspectRatio)!=null?b:null})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerTracePolicyContext",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=d("react").useContext;c={initialTracePolicy:null,routeTracePolicy:null};var i=b.createContext(c);function a(){return h(i)}g.VideoPlayerTracePolicyContext=i;g.useVideoPlayerTracePolicy=a}),98);
__d("VideoPlayerTracePolicyProvider.react",["VideoPlayerTracePolicyContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){var b=a.children,c=a.initialTracePolicy,e=a.routeTracePolicy;a=j(c);var f=a[0],g=a[1];a=j(e);var k=a[0],l=a[1];i(function(){f!==c&&g(c),k!==e&&l(e)},[c,e,f,k]);return h.jsx(d("VideoPlayerTracePolicyContext").VideoPlayerTracePolicyContext.Provider,{value:{initialTracePolicy:f,routeTracePolicy:k},children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CoreVideoPlayerWithComponents.react",["VideoPlayerComponentContainer.react","VideoPlayerPortalingPlace.react","VideoPlayerTracePolicyProvider.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.children,d=a.implementations,e=a.portalingEnabled,f=a.portalingFromVideoID,g=a.portalingPlaceMetaData,j=a.portalingRenderPlaceholder;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","implementations","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder"]);var k=i(function(a){return h.jsx(c("VideoPlayerComponentContainer.react"),babelHelpers["extends"]({},a,{children:b}))},[b]);return h.jsx(c("VideoPlayerTracePolicyProvider.react"),{initialTracePolicy:a.initialTracePolicy,routeTracePolicy:a.routeTracePolicy,children:h.jsx(c("VideoPlayerPortalingPlace.react"),babelHelpers["extends"]({},a,{implementations:d,portalingEnabled:e,portalingFromVideoID:f,portalingPlaceMetaData:g,renderComponents:k,renderPlaceholder:j}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerErrorBoundary.react",["FBLogger","getErrorSafe","oz-player/utils/OzError","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.state={error:null},c.suppressReactDefaultErrorLogging=!0,b)||babelHelpers.assertThisInitialized(c)}b.getDerivedStateFromError=function(a){return{error:c("getErrorSafe")(a)}};var d=b.prototype;d.componentDidCatch=function(a,b){b=b.componentStack;var d=c("getErrorSafe")(a);d.componentStack=b;b=this.props;var e=b.description,f=b.onError;b=b.project;a=a instanceof c("oz-player/utils/OzError")?a.getType():a!=null&&typeof a.name==="string"?a.name:d.name;d.name=a;a="VideoPlayerErrorBoundary caught an "+a;e!=null&&(a=a+" ("+e+")");e=["OZ_NETWORK","BUFFERING_TIMEOUT","MEDIA_ERR_DECODE","OZ_NETWORK_REQUEST_STREAM_RETRY_HANDLER_ERROR"];var g=["Network failure:","Network failure.","HTTP error.","Bad URL timestamp","URL signature expired","No license for com.widevine.alpha"];e=e.every(function(a){return d.name!==a})&&g.every(function(a){return!d.message.startsWith(a)});g=c("FBLogger")(b==null?"comet_video_player":b).catching(d);["OZ_DRM_MANAGER","OZ_JAVASCRIPT_NATIVE","OZ_INITIALIZATION"].includes(d.name)&&(g=g.addToCategoryKey(d.message));e?g.fatal(a):g.warn(a);f!=null&&f(d)};d.render=function(){var a=this.props,b=a.children;a=a.fallback;var c=this.state.error;return c?typeof a==="function"?a(c):a:b};return b}(a.PureComponent);g["default"]=b}),98);
__d("CometAudioManagerHooks",["CometAudioManagerContexts","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(d("CometAudioManagerContexts").AudioApiContext);return a}g.useAudioApi=a}),98);
__d("makeAudioSymbol",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b+"::"+a}f["default"]=a}),66);
__d("CoreVideoPlayerAudioClient.react",["CometAudioManagerContexts","CometAudioManagerHooks","CometThrottle","VideoPlayerHooks","VideoPlayerPortalingPlaceInfoProvider.react","createVideoStateHook","gkx","makeAudioSymbol","react","useCometUniqueID","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");var h=b.useContext,i=b.useEffect,j=b.useMemo,k=b.useRef,l=b.useState;e=d("createVideoStateHook").createVideoStateHook();var m=e.valueHook;function a(){var a=c("gkx")("2011"),b=m({isVolumeInitialized:!1}),e=c("useCometUniqueID")(),f=d("VideoPlayerHooks").useInstanceKey(),g=j(function(){return c("makeAudioSymbol")(e,f)},[e,f]),n=d("CometAudioManagerHooks").useAudioApi(),o=k(n);i(function(){o.current=n},[n]);var p=d("VideoPlayerHooks").useController(),q=200,r=d("VideoPlayerHooks").useLastPlayReason(),s=d("VideoPlayerHooks").useLastMuteReason(),t=d("VideoPlayerHooks").useMuted();q=c("CometThrottle")(d("VideoPlayerHooks").useVolume,q,{trailing:!0});var u=q(),v=c("usePrevious")(u),w=d("VideoPlayerHooks").usePaused(),x=h(d("CometAudioManagerContexts").CometAudioLocalScopeContext),y=h(d("CometAudioManagerContexts").CometAudioGroupContext),z=d("VideoPlayerPortalingPlaceInfoProvider.react").useVideoPlayerPortalingPlaceInfo(),A=d("VideoPlayerHooks").useVolumeSetting(),B=j(function(){return(y==null?void 0:y.groupID)||d("CometAudioManagerContexts").makeAudioGroupID()},[y==null?void 0:y.groupID]);q=l(!0);var C=q[0];q=q[1];var D=j(function(){return{audioLocalScope:x,controller:p,groupID:B,instanceKey:f,lastMuteReason:s,lastPlayReason:r,muted:t,paused:w,previousVolume:v,symbol:g,videoPlayerPortalingPlaceInfo:z,volume:u}},[x,p,B,f,s,r,t,w,v,g,z,u]);i(function(){a?A!=null&&b.isVolumeInitialized!==!0&&(p.setVolume(A),b.isVolumeInitialized=!0):A!=null&&p.setVolume(A)},[p,b,a,A]);q=y||{allowSound:C,groupID:B,setAllowSound:q};var E=k(q);i(function(){n&&n.register(D,E.current);return function(){n&&n.unregister(g,B)}},[n,D,B,g]);i(function(){n&&n.update(D)},[n,D]);i(function(){!C&&o.current&&p.setMuted(!0,"audio_manager_initiated")},[C,o,p]);return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerAutoplayHooks",["VideoPlayerAutoplayContexts","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(d("VideoPlayerAutoplayContexts").AutoplayApiContext);if(a==null)throw c("unrecoverableViolation")("Empty AutoplayApiContext. Are you rendering useAutoplayApi outside of VideoAutoplayManagerX?","comet_video_player");return a}function b(){return h(d("VideoPlayerAutoplayContexts").VideoAutoplayLocalScopeContext)}g.useAutoplayApi=a;g.useVideoAutoplayLocalScope=b}),98);
__d("VideoPlayerDebugAutoplayAPI",["cr:1453865","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";d=(a=b("cr:1453865"))!=null?a:{useVideoPlayerDebugAPI:c("emptyFunction").thatReturns(null),useVideoPlayerDebugAPIDefinition:c("emptyFunction"),useVideoPlayerDebugInfo:c("emptyFunction").thatReturns(null)};g["default"]=d}),98);
__d("evaluateVideoAutoplayDefaultAllowRule",[],(function(a,b,c,d,e,f){"use strict";function a(){return"ALLOW"}a.displayName="evaluateVideoAutoplayDefaultRule";f["default"]=a}),66);
__d("makeSelectedAutoplayVideoSymbol",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return b+"::"+a}f["default"]=a}),66);
__d("AutoplayRulesEngine",[],(function(a,b,c,d,e,f){"use strict";var g=-2,h=-1;a=function(){function a(a){this.$1=g,this.$2=a}var b=a.prototype;b.evaluateAutoplay=function(a,b){b=b();var c=h;if(a)for(var d=0;d<this.$2.length;d++){var e=this.$2[d](a);if(e!=="SKIP"){b=e;c=d;break}}this.$1=c;return b};b.getIndexOfLastWinningRule=function(){return this.$1};b.getRules=function(){return this.$2};return a}();f["default"]=a}),66);
__d("useAutoplayRulesEngine",["AutoplayRulesEngine","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j=b.useState;function a(a){var b=i(a),d=j(function(){return new(c("AutoplayRulesEngine"))(a)}),e=d[0],f=d[1];h(function(){b.current!==a&&f(function(){return new(c("AutoplayRulesEngine"))(a)})},[a]);h(function(){b.current=e.getRules()},[e]);return e}g["default"]=a}),98);
__d("VideoPlayerViewabilityHooks",["VideoPlayerHooks"],(function(a,b,c,d,e,f,g){"use strict";g.useVideoPlayerExtendedPassiveViewabilityInfo=d("VideoPlayerHooks").useVideoPlayerExtendedPassiveViewabilityInfo,g.useVideoPlayerPassiveViewabilityInfo=d("VideoPlayerHooks").useVideoPlayerPassiveViewabilityInfo,g.useVideoPlayerViewabilityInfo=d("VideoPlayerHooks").useVideoPlayerViewabilityInfo}),98);
__d("VideoPlayerOzWWWGlobalConfig",["VideoPlayerShakaGlobalConfig"],(function(a,b,c,d,e,f,g){"use strict";var h="oz_www_";a={getBool:function(a,b){return d("VideoPlayerShakaGlobalConfig").getBool(h+a,b)},getNumber:function(a,b){return d("VideoPlayerShakaGlobalConfig").getNumber(h+a,b)},getString:function(a,b){return d("VideoPlayerShakaGlobalConfig").getString(h+a,b)}};b=a;g["default"]=b}),98);
__d("useVideoPlayerBandwidthEstimate",["VideoPlayerOzWWWGlobalConfig","oz-player/networks/OzBandwidthEstimator","react","useInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useState,i=5e3;function a(){var a=function(){return c("oz-player/networks/OzBandwidthEstimator").getBandwidth(c("VideoPlayerOzWWWGlobalConfig"))},b=h(a()),d=b[0],e=b[1];c("useInterval")(function(){return e(a())},i);return d}g["default"]=a}),98);
__d("useVideoAutoplayState",["HiddenSubtreePassiveContext","VideoPlayerHooks","VideoPlayerShakaGlobalConfig","VideoPlayerViewabilityHooks","react","useIsBackgrounded","useVideoPlayerBandwidthEstimate"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.startTransition,i=b.useContext,j=b.useEffect,k=b.useMemo,l=b.useRef,m=b.useState;function a(a){var b=d("VideoPlayerHooks").useAdClientToken(),e=d("VideoPlayerHooks").useAutoplayGatingResult(),f=d("VideoPlayerHooks").useBroadcastStatus(),g=d("VideoPlayerHooks").useEnded(),n=d("VideoPlayerHooks").useIsExternalMedia(),o=d("VideoPlayerHooks").useIsFrozenPassive(),p=d("VideoPlayerHooks").useLastPauseReason(),q=d("VideoPlayerHooks").useLastPlayReason(),r=d("VideoPlayerHooks").useMuted(),s=d("VideoPlayerHooks").usePaused(),t=i(c("HiddenSubtreePassiveContext")),u=!b;a=(a==null?void 0:a.noPauseOnBlurOrFocus)===!0||d("VideoPlayerShakaGlobalConfig").getBool("comet_www_no_pause_on_blur_or_focus_events",!1);a=c("useIsBackgrounded")({noPauseOnBlurOrFocus:a,scrollTerminatesHiddenOrBlurred:u});var v=a.isDocumentHidden,w=a.isDocumentHiddenOrBlurred,x=c("useVideoPlayerBandwidthEstimate")(),y=d("VideoPlayerViewabilityHooks").useVideoPlayerPassiveViewabilityInfo(),z=d("VideoPlayerViewabilityHooks").useVideoPlayerExtendedPassiveViewabilityInfo();u=m(t.getCurrentState().backgrounded);var A=u[0],B=u[1];a=m(t.getCurrentState().hidden);var C=a[0],D=a[1];j(function(){var a=function(){h(function(){var a=t.getCurrentState();D(a.hidden);B(a.backgrounded)})},b=t.subscribeToChanges(a);a();return function(){b.remove()}},[t,B,D]);u=m(function(){return o.getCurrentState()});var E=u[0],F=u[1];j(function(){var a=o.subscribeToChanges(function(a){F(a)}),b=o.getCurrentState();F(b);return function(){a.remove()}},[o,F]);var G=k(function(){return{adClientToken:b,autoplayGatingResult:e,bandwidthEstimate:x,broadcastStatus:f,controllerIsFrozen:E,currentSubtreeIsBackgrounded:A,currentSubtreeIsHidden:C,ended:g,hiddenSubtreePassive:t,isDocumentHidden:v,isDocumentHiddenOrBlurred:w,isExternalMedia:n,isFrozenPassive:o,lastPauseReason:p,lastPlayReason:q,muted:r,paused:s,videoPlayerExtendedPassiveViewabilityInfo:z,videoPlayerPassiveViewabilityInfo:y}},[b,e,x,f,E,A,C,g,t,v,w,n,o,p,q,r,s,z,y]);a=m(G);var H=a[0],I=a[1],J=l(H);j(function(){J.current=H},[H]);j(function(){var a=!1;for(var b in G)if(Object.prototype.hasOwnProperty.call(G,b)&&G[b]!==J.current[b]){a=!0;break}a&&I(G)},[G,I]);return H}g["default"]=a}),98);
__d("CoreVideoPlayerAutoplayClient.react",["CoreVideoPlayerAutoplayClientUtils","HiddenSubtreePassiveContext","VideoPlayerAutoplayHooks","VideoPlayerDebugAutoplayAPI","VideoPlayerHooks","VideoPlayerViewabilityConstants","WwwCometVideoAutoplayFalcoEvent","evaluateVideoAutoplayDefaultAllowRule","evaluateVideoAutoplayDefaultIgnoreRule","makeSelectedAutoplayVideoSymbol","react","useAutoplayRulesEngine","useCometUniqueID","useConcurrentAutoplayManagementAPI","useVideoAutoplayState"],(function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");var h=b.useCallback,i=b.useContext,j=b.useEffect,k=b.useMemo,l=b.useRef,m=b.useState;function a(){var a=c("useCometUniqueID")(),b=d("VideoPlayerHooks").useCanAutoplay(),e=d("VideoPlayerHooks").useInstanceKey(),f=k(function(){return c("makeSelectedAutoplayVideoSymbol")(a,e)},[a,e]),g=l(f);j(function(){g.current=f},[f]);var n=i(c("HiddenSubtreePassiveContext")),o=d("VideoPlayerHooks").useController(),p=l(!1),q=d("useConcurrentAutoplayManagementAPI").useAutoplayControlID();j(function(){d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[ASSUME CONTROL] "+q),o.registerControllingComponent(q)},[o,q]);var r=d("VideoPlayerHooks").useVideoPlayerPassiveViewabilityInfo(),s=o.getCurrentState();s=s.paused;var t=l(s),u=d("VideoPlayerAutoplayHooks").useVideoAutoplayLocalScope(),v=l(u);j(function(){v.current=u},[u]);var w=h(function(){var a=o.getCurrentState(),b=a.lastPlayReason;a=a.paused;var d=t.current;t.current=a;var e=r==null?void 0:r.getCurrent();if(e){e=e.visiblePercentage;a=!a&&a!==d;d=e<c("VideoPlayerViewabilityConstants").DEFAULT_VIEWABILITY_PERCENTAGE_FOR_PAUSE&&e>0;v.current.disableScrollBeforePlayWhenOffscreen!==!0&&a&&b==="user_initiated"&&d&&(p.current=!0)}},[o,r]),x=l(w);j(function(){x.current=w},[w]);j(function(){var a=o.subscribe(function(){w()});return function(){a.remove()}},[o,w]);var y=c("useVideoAutoplayState")({noPauseOnBlurOrFocus:u.noPauseOnBlurOrFocus}),z=c("useAutoplayRulesEngine")(u.autoplayLocalRules),A=b==="allow"?c("evaluateVideoAutoplayDefaultAllowRule"):c("evaluateVideoAutoplayDefaultIgnoreRule");s=m(function(){return A});var B=s[0],C=s[1];s=m(null);var D=s[0],E=s[1];s=m(function(){return z.evaluateAutoplay(y,A)});var F=s[0],G=s[1];s=m(null);var H=s[0],I=s[1],J=l(F),K=d("VideoPlayerAutoplayHooks").useAutoplayApi(),L=l(K);j(function(){L.current=K},[K]);var M=b!=="dangerously_disable_autoplay_management";j(function(){K.register(f,e,u,o,n,M);c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"register",autoplay_scope_id:v.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(v.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:J.current}});return function(){K.unregister(f),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"unregister",autoplay_scope_id:v.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(v.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:J.current}})}},[K,u,o,n,e,M,f]);j(function(){var a=function(){var b=z.evaluateAutoplay(y,A);J.current=b;var e=z.getRules(),h=z.getIndexOfLastWinningRule(),a=h>=0?e[h]:A;e=r&&r.getCurrent();h=o.getCurrentState();h=h.paused;(H===null||H!==b)&&(G(b),I(b));if(b==="PAUSE"&&!h&&o.isControllingComponent(q)){h=!0;x.current();if(p.current){p.current=!1;var i=e==null?void 0:e.positionToViewport;i&&o.scrollIntoView(i.top<0);h=!1}if(h){i="[PAUSE] via short-circuit on "+a.name+".";d("CoreVideoPlayerAutoplayClientUtils").log(g.current,i);o.pause("autoplay_initiated");c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:v.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(v.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:b}})}}(D===null||D!==a)&&(C(function(){return a}),E(function(){return a}),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"rule_changed",autoplay_scope_id:v.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:K.getAutoplayManagerDebugInfo(v.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:b}}));d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[DECISION: "+b+"] from "+a.name);e&&K.update(f,b,e)},b=n.subscribeToChanges(function(a){n.getCurrentState().hidden||n.getCurrentState().backgrounded?o.isControllingComponent(q)||o.unregisterControllingComponent(q):o.registerControllingComponent(q)}),e=r?r.subscribe(function(){n.getCurrentState().hidden||n.getCurrentState().backgrounded?o.isControllingComponent(q)||o.unregisterControllingComponent(q):o.registerControllingComponent(q),a()}):null;a();return function(){b.remove(),e&&e.remove()}},[K,q,z,o,A,n,D,H,C,G,E,I,f,y,r]);j(function(){var a=o.isControllingComponent(q),b=o.getCurrentState();b=b.paused;d("CoreVideoPlayerAutoplayClientUtils").componentShouldPause(F,J.current,b,a)&&(d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[PAUSE] the video for "+F),o.pause("autoplay_initiated"),c("WwwCometVideoAutoplayFalcoEvent").log(function(){return{autoplay_event_name:"pause",autoplay_scope_id:v.current.autoplayScopeID,event_creation_time:Date.now(),initiator:g.current,initiator_type:"autoplay_component",selected_autoplay_video_symbol:L.current.getAutoplayManagerDebugInfo(v.current).selectedAutoplayVideoSymbol,target:g.current,target_current_autoplay_decision:F}}))},[F,o,q]);j(function(){return function(){d("CoreVideoPlayerAutoplayClientUtils").log(g.current,"[RELEASE CONTROL] "+q),o.unregisterControllingComponent(q)}},[o,q]);c("VideoPlayerDebugAutoplayAPI").useVideoPlayerDebugAPIDefinition({applicableRule:B,autoplayApiRef:L,autoplayDecision:F,autoplayLocalScope:u,symbol:f});return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerCaptionsAreaDeferred.react",["deferredLoadComponent","react","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerCaptionsArea.react").__setRef("VideoPlayerCaptionsAreaDeferred.react"));g["default"]=a}),98);
__d("VideoPlayerIMFMetadataContext",["react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=d("react").useContext,i={imfExpectedFromEmsg:!1,specInlineJson:null},j=b.createContext(i);j.displayName="VideoPlayerIMFMetadataContext";e=j.Provider;function a(){var a=h(j);if(a===i)throw c("unrecoverableViolation")("useVideoPlayerIMFMetadata is not called from a component nested under VideoPlayerRelay/VideoPlayerX.","comet_video_player");return a}g.VideoPlayerIMFMetadataContextProvider=e;g.useVideoPlayerIMFMetadataFromContext=a}),98);
__d("WebSessionExtender",["WebSession","clearInterval","cr:913","setInterval"],(function(a,b,c,d,e,f,g){"use strict";var h=2e4,i=new Set(),j=null;function a(a,e){e===void 0&&(e="extender"),i.add(a),j==null&&(d("WebSession").extend(Date.now()+h+2e3),j=c("setInterval")(function(){d("WebSession").extend(Date.now()+h+2e3),b("cr:913")&&new(b("cr:913"))().setClientTime(Date.now()).setWebsessionID(d("WebSession").getId()).setReason(e).log()},h))}function e(a){i["delete"](a);a=i.size;a===0&&j!=null&&(c("clearInterval")(j),j=null)}g.subscribe=a;g.unsubscribe=e}),98);
__d("VideoPlayerWebSessionExtender.react",["VideoPlayerHooks","WebSessionExtender","react","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(){var a=d("VideoPlayerHooks").usePlaying(),b=c("useCometUniqueID")();h(function(){if(a){d("WebSessionExtender").subscribe(b,"video");return function(){d("WebSessionExtender").unsubscribe(b)}}},[a,b]);return null}g["default"]=a}),98);
__d("useVideoPlayerDefaultLoadingIndicatorsLogic",["VideoPlayerHooks"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("VideoPlayerHooks").useStalling(),b=d("VideoPlayerHooks").useStreamInterrupted(),c=d("VideoPlayerHooks").useIsLiveRewindActive();b=b&&!c;c=a;a=b?"live_video_interrupted_overlay":c?"spinner":"none";return{liveVideoInterruptedOverlayVisible:b,loadingIndicatorType:a,spinnerVisible:c}}g["default"]=a}),98);
__d("useVideoPlayerDefaultLoadingIndicators",["CometPlaceholder.react","deferredLoadComponent","gkx","once","react","requireDeferred","requireDeferredForDisplay","useVideoPlayerDefaultLoadingIndicatorsLogic"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("deferredLoadComponent")(c("requireDeferredForDisplay")("VideoPlayerSpinner.react").__setRef("useVideoPlayerDefaultLoadingIndicators")),j=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerWithLiveVideoInterruptedOverlay.react").__setRef("useVideoPlayerDefaultLoadingIndicators")),k=c("once")(function(){return c("gkx")("5900")?null:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(j,{})})});function a(){var a=c("useVideoPlayerDefaultLoadingIndicatorsLogic")(),b=a.loadingIndicatorType;a=a.spinnerVisible;a=h.jsx(i,{isVisible:a});var d=null;switch(b){case"spinner":d=a;break;case"live_video_interrupted_overlay":d=k();break;case"none":default:d=a}return{loadingIndicatorElement:d,loadingIndicatorType:b}}g["default"]=a}),98);
__d("CvcV3HttpEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1856513");b=d("FalcoLoggerInternal").create("cvc_v3_http_event",a);e=b;g["default"]=e}),98);
__d("CVCv3DisabledPlayerOrigins",[],(function(a,b,c,d,e,f){a=Object.freeze({BEEPER:"beeper",FB_STORIES:"fb_stories"});f["default"]=a}),66);
__d("CVCv3DisabledPlayerSubOrigins",[],(function(a,b,c,d,e,f){a=Object.freeze({LIVE_BEEPER:"live_beeper"});f["default"]=a}),66);
__d("CVCv3SubscriptionHelper",["CvcV3HttpEventFalcoEvent","DateConsts","guid"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){this.$1=a;this.$2=c("guid")();this.$3=((a=b)!=null?a:"null")+"::"+((b=d)!=null?b:"null");this.$4=null;this.$5=null}var b=a.prototype;b.isValidSubscription=function(){return!!this.$1};b.makeCVCv3StateUpdate=function(a,b,c,e){var f=null;a!=null&&!Number.isNaN(a)&&b!=null&&!Number.isNaN(b)&&(f={m:e,pf:Math.floor((b-a)*d("DateConsts").MS_PER_SEC),s:c,sa:Math.floor(a*d("DateConsts").MS_PER_SEC)});e={pps:this.$4,ps:f,si:this.$2,so:this.$3,vi:this.$1};this.$4=f;return e};b.makeUnifiedVideoCVCUpdate=function(a,b,c,d,e){a=this.makeCVCv3StateUpdate(a,b,c,d);this.$5!=null&&(a.tk=this.$5);return babelHelpers["extends"]({},a,e)};b.processUnifiedResponse=function(a){a=a;this.$5=a.tk;return a};b.clearAnyPreviousContext=function(){this.$4=null};b.logHttpRequestSuccess=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_success",duration_ms:a!=null?a.toString():null,countable_id:b.$1}})};b.logHttpRequestFailure=function(a,b){var d=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_failed",error_msg:a,duration_ms:b!=null?b.toString():null,countable_id:d.$1}})};b.logHttpRequestTimeout=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_request_timeout",duration_ms:a!=null?a.toString():null,countable_id:b.$1}})};b.logHttpResponseBad=function(a,b){var d=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:"http_response_bad",error_msg:a,duration_ms:b!=null?b.toString():null,countable_id:d.$1}})};b.logDebugInfo=function(a){var b=this;c("CvcV3HttpEventFalcoEvent").log(function(){return{name:a,countable_id:b.$1}})};return a}();g["default"]=a}),98);
__d("XVideoUnifiedCVCControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/video/unified_cvc/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("UnifiedVideoCVCSubscription",["CVCv3DisabledPlayerOrigins","CVCv3DisabledPlayerSubOrigins","CVCv3SubscriptionHelper","DateConsts","XVideoUnifiedCVCControllerRouteBuilder","clearTimeout","cometAsyncFetch","gkx","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=Object.values(c("CVCv3DisabledPlayerOrigins")),i=Object.values(c("CVCv3DisabledPlayerSubOrigins")),j=10;a=function(){function a(a,b,d,e,f,g){var j=this;this.$1=new(c("CVCv3SubscriptionHelper"))(a,b,d);this.$5=f;this.$6=null;this.$9=null;this.$10=!this.$1.isValidSubscription();this.$3=null;this.$2=null;a=b!=null?h.includes(b):!1;f=d!=null?i.includes(d):!1;!a&&!f&&(this.$3=e,this.$11=g,this.$4=e.subscribe(function(){if(j.$3==null){j.$1.logDebugInfo("empty_video_controller");return}var a=j.$3.getCurrentState();a.playing?j.$12(a):j.$13()}))}var b=a.prototype;b.$12=function(a){if(this.$3==null){this.$1.logDebugInfo("empty_video_controller");return}var b=!1;b||(b=this.$5?!0:c("gkx")("1124976"));if(!b){this.$1.logDebugInfo("ineligible_to_comet_cvc");return}if(a.playing){if(this.$2==null){b=this.$3.getPlayheadPosition();b>=0&&(this.$2=b)}}else this.$2=null;this.$14(0)};b.stopUnifiedCVC=function(){this.$13()};b.destroy=function(){this.$13(),this.$4!=null&&this.$4.remove(),this.$4=null,this.$3=null};b.$13=function(){c("clearTimeout")(this.$8),c("clearTimeout")(this.$7),this.$8=null,this.$7=null,this.$2=null,this.$1.clearAnyPreviousContext(),this.$9=null};b.$15=function(){c("clearTimeout")(this.$7),this.$7=null};b.$16=function(){this.$9=null,this.$15(),this.$14(0)};b.$14=function(a){var b=this;if(this.$3==null||this.$8!=null||this.$9!=null||this.$10)return;this.$8=c("setTimeout")(function(){b.$8=null;var a=b.$17();if(a==null){b.$1.logDebugInfo("empty_request");return}b.$9=a;var e=Date.now(),f=!1;c("promiseDone")(a,function(c){if(a!==b.$9)return;b.$9=null;if(c!=null){c=b.$1.processUnifiedResponse(c);b.$18(c,e)}else b.$1.logHttpResponseBad("null payload",Date.now()-e)},function(a){f=!0,b.$1.logHttpRequestFailure(a!=null?JSON.stringify(a):null,Date.now()-e)});b.$7=c("setTimeout")(function(){f||b.$1.logHttpRequestTimeout(Date.now()-e),b.$16()},j*d("DateConsts").MS_PER_SEC)},a)};b.$18=function(a,b){this.$15();b=Date.now()-b;a.d!=null?(this.$1.logHttpRequestSuccess(b),this.$11!=null&&this.$11(a.d)):this.$1.logHttpResponseBad("no data field",b);if(a.a!=null){b=a.a.t;switch(b){case"p":b=a.a.pi;b==null&&(b=j);this.$14(b*d("DateConsts").MS_PER_SEC);break;case"s":this.$10=!0;break}}};b.$17=function(){var a=this.$19();if(a==null)return null;a={d:JSON.stringify(a)};return c("cometAsyncFetch")(c("XVideoUnifiedCVCControllerRouteBuilder").buildURL({}),{data:a,method:"POST"})};b.$19=function(){if(this.$3==null)return null;var a={};this.$6!=null&&(a.lc=this.$6);this.$5&&(a.ls=!0);var b=0,c=0;this.$2!=null&&(b=this.$2,c=this.$3.getPlayheadPosition());var d=this.$3.getCurrentState();b=this.$1.makeUnifiedVideoCVCUpdate(b,c,this.$20(d),d.muted,a);return b};b.$20=function(a){if(a.playing||a.seeking)return"playing";else if(a.ended)return"ended";else if(a.paused)return"paused";else return"unknown"};b.testing_setLastStartPosition=function(a){this.$2=a};b.testing_makeUnifiedStateUpdate=function(){return this.$19()};b.testing_handleUnifiedResponse=function(a){return this.$18(a,Date.now())};return a}();g["default"]=a}),98);
__d("getPlayerFormatForLogData",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){a=a.isFullscreen;return a===!0?"full_screen":b!=null?b:"inline"}f["default"]=a}),66);
__d("useVideoPlayerUnifiedCVCProvider",["CvcV3HttpEventFalcoEvent","UnifiedVideoCVCSubscription","VideoPlayerHooks","createVideoStateHook","getPlayerFormatForLogData","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;b=d("createVideoStateHook").createVideoStateHook(null);var i=b.setterHook;e=d("createVideoStateHook").createVideoStateHook(null);var j=e.setterHook;f=e.valueHook;function a(a){var b=a.disableSubscription,e=a.playerFormat,f=a.subOrigin,g=a.videoFBID,k=d("VideoPlayerHooks").useIsLive(),l=d("VideoPlayerHooks").useIsFullscreen(),m=d("VideoPlayerHooks").useIsDesktopPictureInPicture(),n=d("VideoPlayerHooks").useController(),o=i(),p=j();h(function(){if(b===!0){c("CvcV3HttpEventFalcoEvent").log(function(){return{countable_id:g,name:"disable_subscription"}});return}var a=new(c("UnifiedVideoCVCSubscription"))(g,c("getPlayerFormatForLogData")({isDesktopPictureInPicture:m,isFullscreen:l},e),f,n,k,function(a){p(a)});o(a);return function(){a.destroy()}},[m,l,k,b,e,p,o,f,n,g])}b=f;g.useVideoPlayerUnifiedCVCProvider=a;g.useVideoPlayerUnifiedCVCData=b}),98);
__d("VideoPlayerXImplSurface.react",["CoreVideoPlayerAudioClient.react","CoreVideoPlayerAutoplayClient.react","VideoPlayerCaptionsAreaDeferred.react","VideoPlayerIMFMetadataContext","VideoPlayerInteractionOverlay.react","VideoPlayerWebSessionExtender.react","cr:1954434","cr:99","gkx","react","useVideoPlayerDefaultLoadingIndicators","useVideoPlayerUnifiedCVCProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var e=a.children,f=a.disableCVCSubscription,g=a.disableLoadingIndicator;g=g===void 0?!1:g;var i=a.disableLogging,j=a.instreamVideoAdBreaksPlayer,k=a.playerFormat,l=a.subOrigin,m=a.videoFBID,n=a.videoPlayerIMFFromVideoMetadata;a=a.videoPlayerSpherical;d("useVideoPlayerUnifiedCVCProvider").useVideoPlayerUnifiedCVCProvider({disableSubscription:i===!0||f,playerFormat:k,subOrigin:l,videoFBID:m});i=c("useVideoPlayerDefaultLoadingIndicators")();f=i.loadingIndicatorElement;return h.jsxs(d("VideoPlayerIMFMetadataContext").VideoPlayerIMFMetadataContextProvider,{value:(k=n)!=null?k:null,children:[a,g?null:f,c("gkx")("1586633")?h.jsx(d("VideoPlayerInteractionOverlay.react").VideoPlayerInteractionOverlay,{}):null,h.jsxs(c("VideoPlayerCaptionsAreaDeferred.react"),{children:[e,j]}),h.jsx(c("CoreVideoPlayerAutoplayClient.react"),{}),h.jsx(c("CoreVideoPlayerAudioClient.react"),{}),b("cr:1954434")?h.jsx(b("cr:1954434"),{}):null,b("cr:99")?h.jsx(b("cr:99"),{subOrigin:l}):null,h.jsx(c("VideoPlayerWebSessionExtender.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("normalizeVideoPlayerLoopCount",["unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){b===void 0&&(b=null);d===void 0&&(d=null);if(a==null){var e;d=((e=b)!=null?e:!1)?(e=d)!=null?e:0:0;d===-1?e=-1:d<0||!Number.isFinite(d)||Math.floor(d)!==d?e=0:d===0&&b===!0?e=-1:e=d}else if(a===-1||a===Number.POSITIVE_INFINITY)e=-1;else if(a<0||!Number.isFinite(a)||Math.floor(a)!==a)throw c("unrecoverableViolation")("Invalid loopingCount: "+a,"comet_video_player");else e=a;return e}g["default"]=a}),98);
__d("VideoPlayerXImpl.react",["CoreVideoPlayerWithComponents.react","VideoPlayerXImplSurface.react","normalizeVideoPlayerLoopCount","react","usePlayerOriginRouteTracePolicy","useRouteProductAttribution"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,d=a.disableCVCSubscription;d=d===void 0?!1:d;var e=a.disableLoadingIndicator,f=a.disableLogging,g=a.implementations,i=a.instreamVideoAdBreaksPlayer,j=a.portalingEnabled,k=a.portalingFromVideoID,l=a.portalingPlaceMetaData,m=a.portalingRenderPlaceholder,n=a.videoPlayerIMFFromVideoMetadata,o=a.videoPlayerSpherical;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","disableCVCSubscription","disableLoadingIndicator","disableLogging","implementations","instreamVideoAdBreaksPlayer","portalingEnabled","portalingFromVideoID","portalingPlaceMetaData","portalingRenderPlaceholder","videoPlayerIMFFromVideoMetadata","videoPlayerSpherical"]);var p=c("usePlayerOriginRouteTracePolicy")(),q=c("useRouteProductAttribution")();q||(q=a.productAttribution);var r=a.loopCount,s=a.playerFormat,t=a.subOrigin,u=a.videoFBID;r=c("normalizeVideoPlayerLoopCount")(r);return h.jsx(c("CoreVideoPlayerWithComponents.react"),babelHelpers["extends"]({},a,{disableLogging:f,implementations:g,loopCount:r,portalingEnabled:j,portalingFromVideoID:k,portalingPlaceMetaData:l,portalingRenderPlaceholder:m,productAttribution:q,routeTracePolicy:p,children:h.jsx(c("VideoPlayerXImplSurface.react"),{children:b,disableCVCSubscription:d,disableLoadingIndicator:e,disableLogging:f,instreamVideoAdBreaksPlayer:i,playerFormat:s,subOrigin:t,videoFBID:u,videoPlayerIMFFromVideoMetadata:n,videoPlayerSpherical:o})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GraphQLVideoAutoplayGatingResult",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){a=a!=null?a:"unknown";b=b?b:null;return{autoplayGatingResult:a,autoplaySetting:b,canAutoplay:c!=null?c:!1}}f.makeGraphQLVideoAutoplayGatingResult=a}),66);
__d("getVideoPlayerAutoplayProps",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){b=b!=null?b:"respect_user_settings";var d=b==="dangerously_always_autoplay";c=c!=null?c:"unknown";var e=a.autoplaySetting||"default_autoplay",f=e==="off";d=d||b==="respect_user_settings"&&!f&&a.canAutoplay;f=b==="do_not_autoplay"?c:a.autoplayGatingResult;c=d?"allow":b==="dangerously_disable_autoplay_management"?"dangerously_disable_autoplay_management":"deny";return{autoplayGatingResult:f,autoplaySetting:e,canAutoplay:c}}f["default"]=a}),66);
__d("VideoPlayerCaptionsDisplayConfigContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext({liveCaptionsTextAlignment:null,textSizeMapping:null});g["default"]=b}),98);
__d("VideoPlayerCaptionsDisplay.react",["VideoPlayerCaptionsDisplayConfigContext","VideoPlayerControlsBottomRowAddOnContext","VideoPlayerHooks","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext,j={captionsCenterAlign:{justifyContent:"xl56j7k",textAlign:"x2b8uid",$$css:!0},captionsContainer:{bottom:"xfqi8uc",boxSizing:"x9f619",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",textAlign:"x2b8uid",transitionDuration:"xu6gjpd",transitionProperty:"x11xpdln",transitionTimingFunction:"x1r7x56h",width:"xh8yej3",$$css:!0},captionsDefault:{backgroundColor:"x18l40ae",color:"x14ctfv",fontSize:"x1lkfr7t",fontWeight:"xk50ysn",lineHeight:"x37zpob",marginTop:"xdj266r",marginEnd:"xv81d3b",marginBottom:"xat24cr",marginStart:"x5jn1jc",paddingTop:"xulzisn",paddingEnd:"x1msn8f2",paddingBottom:"x1uwfbks",paddingStart:"x1qobr7z",$$css:!0},captionsLeftAlign:{justifyContent:"x1nhvcw1",textAlign:"x1yc453h",$$css:!0},captionsRightAlign:{justifyContent:"x13a6bvl",textAlign:"xp4054r",$$css:!0}},k={BIG:"25px",BIGGER:"30px",BIGGEST:"34px",DEFAULT:"17px",MEDIUM:"21px",SMALL:"13px",SMALLEST:"8px"},l={DARK:.75,DEFAULT:.45,LIGHT:.25,OPAQUE:1,TRANSPARENT:0},m={BLACK:"20, 22, 26",BLUE:"0, 0, 255",CYAN:"0, 255, 255",GREEN:"0, 255, 0",MAGENTA:"255, 0, 255",RED:"255, 0, 0",WHITE:"255, 255, 255",YELLOW:"255, 255, 0"};function n(a){switch(a){case"center":return j.captionsCenterAlign;case"left":return j.captionsLeftAlign;case"right":return j.captionsRightAlign;default:c("recoverableViolation")("Unsupported captions text alignment: "+a,"comet_video_player")}}function o(a,b,c){var d={},e=a.captionsBackgroundColor,f=a.captionsBackgroundOpacity,g=a.captionsTextColor;a=a.captionsTextSize;if(e!==null){f=f!==null?l[f]:1;d.backgroundColor="rgba("+m[e]+","+f+")"}g!==null&&(d.color="rgba("+m[g]+")");a!==null&&(d.fontSize=b!=null?babelHelpers["extends"]({},k,b)[a]:k[a]);c&&(d.marginBottom=35);return d}function a(a){var b=a.activeCaptions,e=a.adjustments;a=a.captionDisplayStyle;var f=b==null?void 0:b.rows,g=i(c("VideoPlayerCaptionsDisplayConfigContext")),k=g.liveCaptionsTextAlignment;g=g.textSizeMapping;var l=i(d("VideoPlayerControlsBottomRowAddOnContext").VideoPlayerControlsBottomRowAddOnContext);l=(l==null?void 0:l.getBottomRowAddOn())!=null;var m={};a&&(m=o(a,g,l));a=d("VideoPlayerHooks").useIsLive();b=(l=b==null?void 0:(g=b.styles)==null?void 0:g.textAlignment)!=null?l:"center";if(f!=null&&f.length>0){g=f.map(function(a){return a.trim()}).filter(function(a){return!!a});return g.length>0?h.jsx("div",{className:c("stylex")(j.captionsContainer,n(a?(l=k)!=null?l:b:b)),style:{paddingLeft:e.left,paddingRight:e.right,transform:"translateY("+-e.bottom+"px)"},children:h.jsx("div",{className:"x18l40ae x14ctfv x1lkfr7t xk50ysn x37zpob xdj266r xv81d3b xat24cr x5jn1jc xulzisn x1msn8f2 x1uwfbks x1qobr7z",style:m,children:g.map(function(a,b){return h.jsxs("span",{children:[a,h.jsx("br",{})]},b)})})}):null}return null}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);e=b;g["default"]=e}),98);
__d("useVideoPlayerCaptionsDisplayAdjustments",["VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(){var a=d("VideoPlayerHooks").useVideoPlayerCaptionsReservations();return h(function(){var b={bottom:0,left:0,right:0,top:0};a.length>0&&a.forEach(function(a){b[a.location]+=a.size});return b},[a])}g["default"]=a}),98);
__d("VideoPlayerCaptions.react",["VideoPlayerCaptionsDisplay.react","VideoPlayerHooks","react","useVideoPlayerCaptionsDisplayAdjustments"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=d("VideoPlayerHooks").useActiveCaptions(),b=c("useVideoPlayerCaptionsDisplayAdjustments")(),e=d("VideoPlayerHooks").useCaptionDisplayStyle();return h.jsx(c("VideoPlayerCaptionsDisplay.react"),{activeCaptions:a,adjustments:b,captionDisplayStyle:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerCaptionsArea.react",["VideoPlayerCaptions.react","VideoPlayerContexts","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useReducer,j=b.useState;function k(a,b){switch(b.type){case"reserve":return a.concat(b.reservation);case"release":return a.filter(function(a){return a!==b.reservation});default:return a}}function a(a){a=a.children;var b=i(k,[]),e=b[0],f=b[1];b=j({release:function(a){f({reservation:a,type:"release"})},reserve:function(a){f({reservation:a,type:"reserve"});return a}});b=b[0];var g=d("VideoPlayerHooks").useCaptionsVisible();return h.jsx(d("VideoPlayerContexts").VideoPlayerCaptionsReservationActionsContext.Provider,{value:b,children:h.jsxs(d("VideoPlayerContexts").VideoPlayerCaptionsReservationsContext.Provider,{value:e,children:[g?h.jsx(c("VideoPlayerCaptions.react"),{}):null,a]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerFallbackLearnMoreLink.react",["fbt","CometLink.react","TetraText.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=c("gkx")("1224637")?"/help/work/1876956335887765/i-cant-view-or-play-videos-on-workplace":"https://www.facebook.com/help/396404120401278/list";return i.jsx(c("TetraText.react"),{color:"primaryOnMedia",type:"headlineEmphasized3",children:i.jsx(c("CometLink.react"),{href:a,children:h._("__JHASH__GWeGP0j1NWF__JHASH__")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerFallbackCoverImplWithoutRetry.react",["TetraText.react","VideoPlayerFallbackLearnMoreLink.react","cr:1672302","cr:4149","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var d=a.debugError,e=a.message,f=a.showDebugWithoutError;f=f===void 0?!0:f;a=a.showLearnMoreLink;a=a===void 0?!0:a;return h.jsx("div",{className:"x6s0dn4 xatbrnm x9f619 x78zum5 x5yr21d xl56j7k x6ikm8r x10wlt62 x889kno x1iji9kk x1a8lsjc x1sln4lm xh8yej3",children:h.jsxs("div",{className:"x6s0dn4 x78zum5 xdt5ytf x3es6ox",children:[h.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf x193iq5w",children:h.jsx(c("TetraText.react"),{align:"center",color:"primaryOnMedia",type:"bodyLink3",children:e})}),a&&h.jsx("div",{className:"x6s0dn4 x78zum5 xdt5ytf xw7yly9 x193iq5w",children:h.jsx(c("VideoPlayerFallbackLearnMoreLink.react"),{})}),(d!=null||f)&&h.jsxs(h.Fragment,{children:[b("cr:4149")?h.jsx(b("cr:4149"),{error:d}):null,b("cr:1672302")?h.jsx(b("cr:1672302"),{error:d}):null]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerFallbackCover.react",["fbt","VideoPlayerFallbackCoverImplWithoutRetry.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b;b=(b=a.message)!=null?b:h._("__JHASH__dzG08k88Xfs__JHASH__");return i.jsx(c("VideoPlayerFallbackCoverImplWithoutRetry.react"),{debugError:a.debugError,message:b,showDebugWithoutError:a.showDebugWithoutError,showLearnMoreLink:a.showLearnMoreLink})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerSpinner.react",["CometLoadingAnimation.react","react","stylex","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=36,j={spinner:{height:"xc9qbxq",opacity:"x1hc1fzr",position:"x10l6tqk",start:"xtzzx4i",top:"xwa60dl",transform:"x11lhmoz",transitionDelay:"x5w5eug",transitionDuration:"x13dflua",transitionProperty:"x19991ni",transitionTimingFunction:"xl405pv",width:"x14qfxbe",$$css:!0},spinnerHidden:{opacity:"xg01cxk",transitionDelay:"x2p8vrm",transitionDuration:"x13dflua",transitionProperty:"x1jl3cmp",transitionTimingFunction:"xl405pv",visibility:"xlshs6z",$$css:!0}};function a(a){a=a.isVisible;var b=c("useDebouncedValue")(a,a?200:500);return h.jsx("div",{className:c("stylex")(j.spinner,!a&&j.spinnerHidden),children:h.jsx(c("CometLoadingAnimation.react"),{animationPaused:!b,size:i})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerFullscreenControl.react",["fbt","ix","VideoPlayerControlIcon.react","VideoPlayerHooks","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onPress,e=a.onUserInteraction,f=a.shouldUnmute,g=d("VideoPlayerHooks").useController(),k=d("VideoPlayerHooks").useIsFullscreen(),l=d("VideoPlayerHooks").useLastMuteReason();a=k?h._("__JHASH__hwf7JoNGQNh__JHASH__"):h._("__JHASH__5hSxdUd3nQi__JHASH__");var m=function(){b&&b(),g.requestSetIsFullscreen(!k),f===!0&&l!=="user_initiated"&&g.setMuted(!1,"product_initiated"),e&&e({name:"video_fullscreen_button",type:"happened"})};return j.jsx(c("VideoPlayerControlIcon.react"),{icon:k?d("fbicon")._(i("517758"),20):d("fbicon")._(i("517763"),20),label:a,onPress:m,tooltip:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useVideoPlayerDefaultControlsVisibility",["VideoPlayerHooks","VideoPlayerInstreamAdsStateHooks","VideoPlayerUserInteractionCounter","clearTimeout","react","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState,j=5e3;function a(a){a=a===void 0?{}:a;var b=a.forceVisible,e=a.forceVisibleOnMount;a.isInteracting;a=d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteractionCounter();var f=a.ongoingInteractionsCount;a=a.onUserInteraction;var g=d("VideoPlayerHooks").useEnded(),k=d("VideoPlayerHooks").useIsHovering(),l=d("VideoPlayerHooks").usePaused(),m=d("VideoPlayerHooks").useIsMouseIdle(),n=d("VideoPlayerHooks").useVideoPlaybackEnded(),o=d("VideoPlayerInstreamAdsStateHooks").useInstreamAdsIsStart();d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_pointer_active",k&&!m,a);k=i(e===!0);var p=k[0],q=k[1];h(function(){if(!l&&p){var a=c("setTimeout")(function(){q(!1)},j);return function(){c("clearTimeout")(a)}}},[p,l]);b===!0||b===!1?m=b:o?m=!1:f>0||p?m=!0:l?m=g?n:!0:m=!1;return{isControlsVisible:m,onUserInteraction:a}}g["default"]=a}),98);
__d("computeAspectRatio",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return a!=null&&b!=null&&a!==0&&b!==0?a/b:null}f["default"]=a}),66);
__d("defaultErrorBoundaryFallback",["fbt","VideoPlayerFallbackCover.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return c("gkx")("1792489")&&a.message.toLowerCase().indexOf("audio_renderer_error")>=0}function k(a){return c("gkx")("4281")&&a.message.indexOf("DEVICE_CERTIFICATE_REVOKED")>=0}function l(a){return c("gkx")("1076")&&(a.name.indexOf("VideoImplementationsDashManifestUnsupportedCodecs")>=0||a.name.indexOf("VideoImplementationsMediaSourceUnsupported")>=0)}function a(a){var b=null;j(a)?b=h._("__JHASH__32piJ10frlX__JHASH__"):k(a)?b=h._("__JHASH__6MAWOMXczk1__JHASH__"):l(a)&&(b=h._("__JHASH__EuR8fzpxUQU__JHASH__"));return i.jsx(c("VideoPlayerFallbackCover.react"),{debugError:a,message:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getErrorMessageFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 1:return"The fetching process for the media resource was aborted by the user agent at the users request.";case 2:return"A network error of some description caused the user agent to stop fetching the media resource, after the resource was established to be usable.";case 3:return"An error of some description occurred while decoding the media resource, after the resource was established to be usable.";case 4:return"The media resource indicated by the src attribute was not suitable."}return null}f["default"]=a}),66);
__d("getErrorNameFromMediaErrorCode",[],(function(a,b,c,d,e,f){"use strict";function a(a){switch(a){case 1:return"MEDIA_ERR_ABORTED";case 2:return"MEDIA_ERR_NETWORK";case 3:return"MEDIA_ERR_DECODE";case 4:return"MEDIA_ERR_SRC_NOT_SUPPORTED";default:return"MEDIA_ERR_UNKNOWN_"+((a=a)!=null?a:"UNDEFINED")}}f["default"]=a}),66);
__d("isSSR",["ExecutionEnvironment","XPlatReactEnvironment"],(function(a,b,c,d,e,f,g){"use strict";a=d("XPlatReactEnvironment").isWeb()&&!c("ExecutionEnvironment").canUseDOM;b=a;g["default"]=b}),98);
__d("VideoPlayerConnectionQuality",["isSSR"],(function(a,b,c,d,e,f,g){"use strict";var h={POOR:"POOR",MODERATE:"MODERATE",GOOD:"GOOD",EXCELLENT:"EXCELLENT"},i=[{bandwidth:5e5,connectionQuality:h.POOR},{bandwidth:2e6,connectionQuality:h.MODERATE},{bandwidth:1e7,connectionQuality:h.GOOD}],j=100,k=null,l=null;a=function(a){if(c("isSSR"))return"MODERATE";if(k!==null&&l!==null&&k>=Date.now()-j)return l;a=a();var b=null;if(a!=null)for(var d=0;d<i.length;d++)if(a<i[d].bandwidth){b=i[d].connectionQuality;break}b===null&&(b=h.EXCELLENT);k=Date.now();l=b;return b};g.evaluate=a}),98);
__d("VideoMimeTypes",[],(function(a,b,c,d,e,f){function a(a,b,c){return a+'; codecs="'+b+", "+c+'"'}e="mp4a.40.2";function b(a){return"avc1.42E0"+a.toString(16).toUpperCase()}function c(a){return"avc1.4D40"+a.toString(16).toUpperCase()}function d(a){return"avc1.6400"+a.toString(16).toUpperCase()}var g="video/mp4";b=a(g,b(30),e);var h=a(g,c(30),e);c=a(g,c(31),e);var i=a(g,d(50),e);a=a(g,d(51),e);g={h264baseline:b,h264main30avc:h,h264main31avc:c,h264high50avc:i,h264high51avc:a};f["default"]=g}),66);
__d("DataViewReader",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=0,this.$2=a}var b=a.prototype;b.seek=function(a){this.$1=a};b.skip=function(a){var b=this.$1;this.$1+=a;return b};b.readUint8=function(){return this.$2.getUint8(this.skip(8/8))};b.readUint16=function(a){a===void 0&&(a=!1);return this.$2.getUint16(this.skip(16/8),a)};b.readUint32=function(a){a===void 0&&(a=!1);return this.$2.getUint32(this.skip(32/8),a)};b.readUint64=function(a){a===void 0&&(a=!1);var b;a?(a=this.$2.getUint32(this.skip(32/8),!0),b=this.$2.getUint32(this.skip(32/8),!0)):(b=this.$2.getUint32(this.skip(32/8)),a=this.$2.getUint32(this.skip(32/8)));if(b>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*b+a};b.readInt64=function(a){a===void 0&&(a=!1);var b;a?(a=this.$2.getInt32(this.skip(32/8),!0),b=this.$2.getInt32(this.skip(32/8),!0)):(b=this.$2.getInt32(this.skip(32/8)),a=this.$2.getInt32(this.skip(32/8)));if(b>2097151)throw new RangeError("Overflow reading 64-bit value.");return Math.pow(2,32)*(b|0)+a};b.readInt16=function(a){a===void 0&&(a=!1);return this.$2.getInt16(this.skip(16/8),a)};b.readInt32=function(a){a===void 0&&(a=!1);return this.$2.getInt32(this.skip(32/8),a)};b.readZeroTerminatedString=function(a){var b="",c=0,d;while(c++<a&&(d=this.readUint8()))b+=String.fromCharCode(d);return b};b.readChars=function(a){var b="";while(a-->0)b+=String.fromCharCode(this.$2.getUint8(this.skip(8/8)));return b};b.readBytes=function(a){var b=[];while(a-->0)b.push(this.$2.getUint8(this.skip(8/8)));return b};b.getDataView=function(){return this.$2};b.getCursor=function(){return this.$1};b.hasMoreData=function(){return this.$2.byteLength-this.getCursor()>0};return a}();f["default"]=a}),66);
__d("Mp4Box",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$4=a.getCursor(),this.$1=a.readUint32(),this.$2=a.readChars(4),this.$1===1?this.$1=a.readUint64():this.$1===0&&(this.$1=a.getDataView().byteLength-this.$4),this.$2==="uuid"&&(this.$3=a.readChars(16)),this.$5=a.getCursor()}var b=a.prototype;b.getBodyStart=function(){return this.$5};b.getBodySize=function(){var a=this.$5-this.$4;return this.getSize()-a};b.getSize=function(){return this.$1};b.getType=function(){return this.$2};b.getUuid=function(){return this.$3};b.getStart=function(){return this.$4};b.inspect=function(){return"{ size: "+this.$1+", type: "+this.$2+" }"};return a}();f["default"]=a}),66);
__d("Mp4FullBox",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a,b){this.$2=a.readUint8(),this.$1=a.readUint8(),this.$1=a.readUint8()+(this.$1<<8),this.$1=a.readUint8()+(this.$1<<8),this.$3=b}var b=a.prototype;b.getVersion=function(){return this.$2};b.getFlags=function(){return this.$1};b.getBox=function(){return this.$3};return a}();f["default"]=a}),66);
__d("Mp4Demuxer",["DataViewReader","Mp4Box","Mp4FullBox"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=new(c("DataViewReader"))(a)}var b=a.prototype;b.parseBox=function(){return new(c("Mp4Box"))(this.$1)};b.parseFullBox=function(a){return new(c("Mp4FullBox"))(this.$1,a)};b.parseCanonicalBox=function(a,b){return new a(this.$1,b)};b.skipBox=function(a){this.$1.seek(a.getStart()+a.getSize())};b.withinBox=function(a){var b=this.$1.getCursor();return b>=a.getStart()&&b<a.getStart()+a.getSize()};b.atEnd=function(){return this.$1.getCursor()>=this.$1.getDataView().byteLength};b.reset=function(){this.$1.seek(0)};b.readBoxBodyText=function(a){this.$1.seek(a.getBodyStart());var b=new TextDecoder();a=new Uint8Array(this.$1.readBytes(a.getBodySize()));return b.decode(a)};return a}();g["default"]=a}),98);
__d("Mp4DASHEventMessageBox",[],(function(a,b,c,d,e,f){a=function(){function a(a,b){this.$1=b,this.$2=null,b.getVersion()==0?this.$2={version:0,schemeIdUri:a.readZeroTerminatedString(this.$4(a,b)),value:a.readZeroTerminatedString(this.$4(a,b)),timescale:a.readUint32(),presentationTimeDelta:a.readUint32(),eventDuration:a.readUint32(),id:a.readUint32()}:b.getVersion()==1&&(this.$2={version:1,timescale:a.readUint32(),presentationTime:a.readUint64(),eventDuration:a.readUint32(),id:a.readUint32(),schemeIdUri:a.readZeroTerminatedString(this.$4(a,b)),value:a.readZeroTerminatedString(this.$4(a,b))}),this.$3=new DataView(a.getDataView().buffer,a.getCursor())}var b=a.prototype;b.getFullBox=function(){return this.$1};b.getEmsgFields=function(){return this.$2};b.getMessageData=function(){return this.$3};b.getStartTime=function(){var a=this.$2;if(a==null)return null;switch(a.version){case 0:return null;case 1:return this.$5(a)}};b.getDuration=function(){var a=this.$2;if(a==null)return null;var b=a.eventDuration;a=a.timescale;return a!==0?b/a:b};b.$5=function(a){var b=a.timescale;a=a.presentationTime;return b!==0?a/b:a};b.$4=function(a,b){return b.getBox().getSize()-(a.getCursor()-b.getBox().getStart())};return a}();a.canonicalType="emsg";f["default"]=a}),66);
__d("LiveTraceWwwVideoPlayerFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743810");b=d("FalcoLoggerInternal").create("live_trace_www_video_player",a);e=b;g["default"]=e}),98);
__d("VideoLiveTrace",["DataViewReader","LiveTraceWwwVideoPlayerFalcoEvent","Mp4DASHEventMessageBox","Mp4Demuxer","throttle"],(function(a,b,c,d,e,f,g){var h="x-fb-video-livetrace-ids",i="x-fb-video-livetrace-parentsource",j="x-fb-video-livetrace-streamtype",k="x-fb-origin-hit",l="x-fb-edge-hit",m="PLY:WWW:",n=m+"DL:",o=m+"DIS:",p=1e3,q=/[\r\n]+/;a=function(){function a(a,b,d){var e=this;this.$6=[];this.$1=a;this.$2=null;a=d+":"+b.substring(0,5);this.$3=m+a;this.$4=n+a;this.$5=o+a;this.$7=c("throttle")(function(a){return e.$8(a)},p)}var b=a.prototype;b.setStreamType=function(a){this.$2=a};b.$9=function(a,b,d,e,f,g){var h,i=this,j=Date.now(),k=(h=this.$2)!=null?h:0;c("LiveTraceWwwVideoPlayerFalcoEvent").log(function(){return{stream_id:i.$1,stream_type:k,event_name:b,event_severity:f,event_creation_time:j,source:a,trace_id:d,parent_source:e,metadata:g}})};b.onUpdateStatus=function(a){this.$7(a)};b.$8=function(a){a=a.position*1e3;for(var b=this.$6.length-1;b>=0;b--){var c=this.$6[b];if(c.presentationTimestamp>a)continue;if(c.displayTimestamp==null)c.displayTimestamp=Date.now();else continue;this.$9(this.$5,"FRAME",c.traceId,this.$4,"SUCCESS",null)}};b.getAndFlushTracedFrames=function(){var a,b={currentTimeMs:Date.now(),streamId:this.$1},c={dl:[],dis:[]},d=[];this.$6.forEach(function(a){a.hasBeenFlushedAsDownloaded||(c.dl.push({id:a.traceId,timeMs:a.downloadTimestamp}),a.hasBeenFlushedAsDownloaded=!0),a.displayTimestamp!=null?c.dis.push({id:a.traceId,timeMs:a.displayTimestamp}):d.push(a)});this.$6=d;b[(a=this.$2)!=null?a:0]=c;return c.dl.length>0||c.dis.length>0?b:null};b.handleHeadersString=function(a,b){a=a.trim().split(q);this.$10(a.map(function(a){a=a.split(": ");return[a.shift().toLowerCase(),a.shift()]}),b)};b.handleHeaders=function(a,b){this.$10(this.$11(a),b)};b.handleHeadersAndBody=function(a,b,c){this.$12(this.$11(a),b,c)};b.$11=function(a){var b=[];for(var a=a.entries(),c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;b.push(e)}return b};b.$13=function(a){var b=Date.now(),d=new Map(),e=a.reduce(function(a,b){return a+b.byteLength},0),f=new Uint8Array(e),g=0;a.forEach(function(a){f.set(a,g),g+=a.byteLength});e=new(c("Mp4Demuxer"))(new DataView(f.buffer,f.byteOffset,f.byteLength));while(!e.atEnd()){a=e.parseBox();if(a.getType()===c("Mp4DASHEventMessageBox").canonicalType){var h=e.parseCanonicalBox(c("Mp4DASHEventMessageBox"),e.parseFullBox(a));if(h instanceof c("Mp4DASHEventMessageBox")){var i;i=(i=h.getEmsgFields())==null?void 0:i.schemeIdUri;if(i==null?void 0:i.startsWith("livedash:trace:")){i=h.getMessageData();h=new(c("DataViewReader"))(i).readZeroTerminatedString(i.byteLength);try{i=JSON.parse(h);Array.isArray(i)&&i.filter(function(a){return Array.isArray(a)&&a.length===2}).forEach(function(a){var c=a[0];a=a[1];d.set(c,{displayTimestamp:null,downloadTimestamp:b,hasBeenFlushedAsDownloaded:!1,presentationTimestamp:a,traceId:c})})}catch(a){}}}}e.skipBox(a)}return d};b.$14=function(a,b){var c=this,d="null",e=Date.now(),f=new Map(),g="";a.forEach(function(a){var b=a[0].toLowerCase();a=a[1];if(b===h&&a){var m=a.split(",");m.forEach(function(a){a=a.split(":");var b=+a[0];a=+a[1];f.set(b,{displayTimestamp:null,downloadTimestamp:e,hasBeenFlushedAsDownloaded:!1,presentationTimestamp:a,traceId:b})})}b===i&&(g=a);c.$2===null&&b===j&&(c.$2=parseInt(a,10));(b===k||b===l)&&parseInt(a,10)&&(d=b===k?"origin":"edge")});a=b||{};a.hit=d;return g!==""?{tracedFrames:f,eventMetaData:a,parentSource:g,streamType:this.$2}:null};b.$12=function(a,b,c){var d=this.$14(a,c);if(d==null||d.parentSource==="")return;if(b==null?void 0:b.length){a=this.$13(b);a.forEach(function(a,b){d.tracedFrames.set(b,a)})}this.$6=this.$6.concat(Array.from(d.tracedFrames.values()));c=d.tracedFrames.keys();for(b=c,a=Array.isArray(b),c=0,b=a?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(a){if(c>=b.length)break;e=b[c++]}else{c=b.next();if(c.done)break;e=c.value}e=e;this.$9(this.$4,"SEGMENT",e,d.parentSource,"SUCCESS",d.eventMetaData)}};b.$10=function(a,b){this.$12(a,null,b)};b.handleXHR=function(a,b){this.handleHeadersString(a.getAllResponseHeaders(),b)};b.getLiveTraceContext=function(){return this.$2!=null?{streamId:this.$1,streamType:this.$2,sourceId:this.$3}:null};return a}();g["default"]=a}),98);
__d("VideoPlayerWwwFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1914651");b=d("FalcoLoggerInternal").create("video_player_www",a);e=b;g["default"]=e}),98);
__d("VideoPlayerLoggerPlayerStates",[],(function(a,b,c,d,e,f){a="started";b="unpaused";c={STARTED:a,UNPAUSED:b};f["default"]=c}),66);
__d("getVideoBrowserTabId",["guid"],(function(a,b,c,d,e,f,g){var h=c("guid")().slice(-8);function a(){return h}g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("useLiveCostreamerTagSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="7089377211078031"}),null);
__d("useLiveCostreamerTagSubscription.graphql",["VideoPlayerRelay_video$normalization.graphql","useLiveCostreamerTagSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[d],f={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"tagged_page",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:e,storageKey:null}],storageKey:null},g={args:null,documentName:"useLiveCostreamerTagSubscription",fragmentName:"VideoPlayerCostreamingControl_video",fragmentPropName:"video",kind:"ModuleImport"};e={alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:e,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null}],storageKey:null}],storageKey:null};var h={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useLiveCostreamerTagSubscription",selections:[{alias:null,args:c,concreteType:"LiveVideoTagSubscribeResponsePayload",kind:"LinkedField",name:"live_video_tag_subscribe",plural:!1,selections:[f,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"tagged_video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[g],storageKey:null},{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometVideoPlayerCostreamingThumbnailRowInner_video"}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},e],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useLiveCostreamerTagSubscription",selections:[{alias:null,args:c,concreteType:"LiveVideoTagSubscribeResponsePayload",kind:"LinkedField",name:"live_video_tag_subscribe",plural:!1,selections:[f,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"tagged_video",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_see_costreaming_tools",plural:!1,selections:[g,d],storageKey:null},{alias:null,args:null,concreteType:"VideoLiveCostreamingStreamersConnection",kind:"LinkedField",name:"live_costreaming_streamers",plural:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"currently_live_video",plural:!1,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"video_channel",plural:!1,selections:[h,d],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:null},d],storageKey:null},{args:null,fragment:b("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"},{alias:null,args:null,concreteType:"VideoThumbnail",kind:"LinkedField",name:"preferred_thumbnail",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:i,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_preview_payload",storageKey:null},d],storageKey:null}],storageKey:null},d],storageKey:null}],storageKey:null}],storageKey:null},e],storageKey:null}]},params:{id:b("useLiveCostreamerTagSubscription_facebookRelayOperation"),metadata:{subscriptionName:"live_video_tag_subscribe"},name:"useLiveCostreamerTagSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("fetchCtvCastPayloadQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4867407706706103"}),null);
__d("fetchCtvCastPayloadQuery.graphql",["fetchCtvCastPayloadQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"castSessionID"},c={defaultValue:null,kind:"LocalArgument",name:"mediaParameters"},d={defaultValue:null,kind:"LocalArgument",name:"requestID"},e=[{alias:null,args:[{kind:"Variable",name:"cast_session_id",variableName:"castSessionID"},{kind:"Literal",name:"caster_id",value:0},{kind:"Variable",name:"media_parameters_json",variableName:"mediaParameters"},{kind:"Literal",name:"receiver_app_id",value:1614120985559993},{kind:"Variable",name:"request_id",variableName:"requestID"},{kind:"Literal",name:"uses_secure_connection",value:!0}],kind:"ScalarField",name:"ctv_cast_payload",storageKey:null}];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"fetchCtvCastPayloadQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c],kind:"Operation",name:"fetchCtvCastPayloadQuery",selections:e},params:{id:b("fetchCtvCastPayloadQuery_facebookRelayOperation"),metadata:{},name:"fetchCtvCastPayloadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("fetchVideoCastPayloadQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4715510405214458"}),null);
__d("fetchVideoCastPayloadQuery.graphql",["fetchVideoCastPayloadQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"castSessionID"},c={defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},d={defaultValue:null,kind:"LocalArgument",name:"playerSubOrigin"},e={defaultValue:null,kind:"LocalArgument",name:"videoID"},f=[{kind:"Variable",name:"id",variableName:"videoID"}],g={alias:null,args:[{kind:"Variable",name:"cast_session_id",variableName:"castSessionID"},{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSubOrigin"}],kind:"ScalarField",name:"video_cast_payload",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"fetchVideoCastPayloadQuery",selections:[{alias:null,args:f,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[g],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,c,d,a],kind:"Operation",name:"fetchVideoCastPayloadQuery",selections:[{alias:null,args:f,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[g,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("fetchVideoCastPayloadQuery_facebookRelayOperation"),metadata:{},name:"fetchVideoCastPayloadQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("LiveVideoLatencyMenuContextProvider_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LiveVideoLatencyMenuContextProvider_video",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_latency_menu",plural:!1,selections:[{args:null,documentName:"LiveVideoLatencyMenuContextProvider_video_if_viewer_can_use_latency_menu",fragmentName:"VideoPlayerSettingsMenuLatencyPane_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},action:"NONE",path:"if_viewer_can_use_latency_menu"},{kind:"RequiredField",field:{alias:"if_viewer_can_use_latency_menu_toggle",args:null,concreteType:"Video",kind:"LinkedField",name:"if_viewer_can_use_latency_menu",plural:!1,selections:[{args:null,documentName:"LiveVideoLatencyMenuContextProvider_video_if_viewer_can_use_latency_menu_toggle",fragmentName:"VideoPlayerSettingsMenuLatencyPaneToggle_video",fragmentPropName:"video",kind:"ModuleImport"}],storageKey:null},action:"NONE",path:"if_viewer_can_use_latency_menu_toggle"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerCometFeedStoryControlsImplLive_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCometFeedStoryControlsImplLive_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerLiveVideoControls_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerCometFeedStoryControlsImplNotLive_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberWithPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberBottomWithPreview_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerWatchAndScrollControl_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerCaptionsControl_video"},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"recipient_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"captions_url",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerDefaultControlsImplMusicClip_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerDefaultControlsImplMusicClip_video",selections:[{alias:null,args:null,concreteType:"XFBMusicAttachmentMetadata",kind:"LinkedField",name:"music_attachment_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_time_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time_ms",storageKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberBottomWithPreview_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberBottomWithPreview_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberPreview_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberWithPreview_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberWithPreview_video",selections:[{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubber_video"},{args:null,kind:"FragmentSpread",name:"VideoPlayerScrubberPreview_video"}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerWithVideoCardsOverlay_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerWithVideoCardsOverlay_video",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comet_video_player_with_video_card_renderer",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"VideoPlayerWithVideoCardsOverlay_video",fragmentName:"VideoPlayerVideoCardsOverlay_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometVideoPlayerWithVideoCardRenderer",abstractKey:null}],storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("useLiveCostreamerTagSubscription.react",["CometRelay","react","useLiveCostreamerTagSubscription.graphql","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useMemo;function a(a,e,f){var g=h!==void 0?h:h=b("useLiveCostreamerTagSubscription.graphql"),j=i(function(){return{onNext:f,subscription:g,updater:function(a){var b;a=a.getRootField("live_video_tag_subscribe");b=a==null?void 0:(b=a.getLinkedRecord("tagged_page"))==null?void 0:b.getLinkedRecord("currently_live_video");a=a==null?void 0:a.getLinkedRecord("tagged_video");b==null&&a!=null&&a.setValue(null,"if_viewer_can_see_costreaming_tools")},variables:{input:{client_subscription_id:c("uuidv4")(),tagged_page_id:a,tagged_video_id:e}}}},[f,a,g,e]);d("CometRelay").useSubscription(j)}g["default"]=a}),98);
__d("LiveCostreamerTagSubscription.react",["useLiveCostreamerTagSubscription.react"],(function(a,b,c,d,e,f,g){"use strict";function a(a){c("useLiveCostreamerTagSubscription.react")(a.pageID,a.videoID,a.onNext);return null}g["default"]=a}),98);
__d("CastingChromecastAPIWrapper",["cr:1885117"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:1885117")}),98);
__d("CastingChromecastSession",["Promise","err","recoverableViolation","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b,d){var e=this;this.$3=null;this.$4=[];this.$5=[];this.$6=[];this.$7=[];this.$8=[];this.$9=[];this.$10=[];this.$11=[];this.$12=function(a,b){if(a===e.$2){var d=e.$4.slice();d.forEach(function(a){a(b)})}else e.$6.slice().forEach(function(b){b(c("err")("Namespace does not match. Expected "+e.$2+" but received "+a),"CastingChromecastSession._onMessageReceived")})};this.$1=a;this.$2=b;this.$3=d;d.addMessageListener(this.$2,this.$12)}var d=a.prototype;d.destroy=function(){var a=this.$3;a!=null&&(a.status!=null&&a.status!=="disconnected"&&c("recoverableViolation")("Destroying receiver session that is not disconnected. Status, "+a.status,"comet_cast_sender"),a.removeMessageListener(this.$2,this.$12));this.$3=null};d.isCasting=function(){return this.$3!=null};d.isConnected=function(){return this.$3!=null&&this.$3.status==="connected"};d.isDisconnected=function(){return this.$3!=null&&this.$3.status==="disconnected"};d.disconnect=function(){var a=this;this.$5.slice().forEach(function(a){a()});return new(b("Promise"))(function(b,c){a.$3!=null?a.$3.stop(b,c):b()})["catch"](function(b){if(a.$3!=null&&a.$3.status!=="stopped"){a.$6.slice().forEach(function(a){a(b,"CastingChromecastSession.disconnect")});throw b}})["finally"](function(){var b=a.$3;a.$3=null;b&&b.removeMessageListener(a.$2,a.$12);a.$7.slice().forEach(function(a){a()})})};d.getVolume=function(){var a=this.$13();return a?a.level:null};d.getFriendlyName=function(){return this.$14()};d.setVolume=function(a){var d=this,e=this.$3;return new(b("Promise"))(function(b,d){if(e==null){d(c("err")("Cannot set volume without a session"));return}e.setReceiverVolumeLevel(a,b,d)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession.setVolume")});throw a})};d.isMuted=function(){var a=this.$13();return a?a.muted:null};d.mute=function(){return this.$15(!0)};d.unmute=function(){return this.$15(!1)};d.sendMessage=function(a){var d=this;return new(b("Promise"))(function(b,e){var f=d.$3;if(f==null){e(c("err")("The message can not be sent without a session"));return}f.sendMessage(d.$2,a,b,e)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession.sendMessage")});throw a})};d.$13=function(){var a;a=(a=this.$3)==null?void 0:(a=a.receiver)==null?void 0:a.volume;return a==null?null:a};d.$14=function(){var a;return((a=this.$3)==null?void 0:a.receiver.friendlyName)||null};d.$15=function(a){var d=this;return new(b("Promise"))(function(b,e){var f=d.$3;if(f==null){e(c("err")("The muted state can not be set without a session"));return}f.setReceiverMuted(a,b,e)})["catch"](function(a){d.$6.slice().forEach(function(b){b(a,"CastingChromecastSession._setIsMuted")});throw a})};d.onMessage=function(a){var b=this.$4;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onDisconnecting=function(a){var b=this.$5;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onError=function(a){var b=this.$6;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onDisconnected=function(a){var b=this.$7;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoLoading=function(a){var b=this.$8;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoLoaded=function(a){var b=this.$9;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoPlaying=function(a){var b=this.$10;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};d.onVideoPaused=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingErrorUtils",["ErrorMetadata","err","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return a!=null&&typeof a==="object"&&typeof a.code==="string"&&a.code===b}function b(a){return a!=null&&typeof a==="object"&&typeof a.code==="string"?c("err")("Chromecast error: %s, keys: %s","cast.ChromecastError",JSON.stringify({code:a.code})):c("getErrorSafe")(a)}function d(a,b){a.metadata==null&&(a.metadata=new(c("ErrorMetadata"))());var d=a.metadata;b=b==null?void 0:b.videoID;b!=null&&d.addEntries(["COMET_VIDEO","VIDEO_ID",b]);return a}g.isChromecastError=a;g.getCastingErrorSafe=b;g.appendCastingMetadataToExpandedError=d}),98);
__d("ConnectedTvLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1843753");b=d("FalcoLoggerInternal").create("connected_tv_logging",a);e=b;g["default"]=e}),98);
__d("CastingChromecastScanner",["CastingChromecastAPIWrapper","CastingChromecastSession","CastingErrorUtils","ConnectedTvLoggingFalcoEvent","Promise","err","performanceAbsoluteNow","promiseDone","removeFromArray"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a,b){this.$6=null,this.$7=[],this.$8=[],this.$9=[],this.$10=[],this.$11=[],this.$12=[],this.$13=[],this.$14=[],this.$15=[],this.$1=a,this.$2=b,this.$4=!1,this.$3=!1,this.$5=new Set()}var e=a.prototype;e.init=function(){if(this.$6!=null)return b("Promise").reject(c("err")("Scanner can only be initialized once."));this.$6=this.$16();return this.$6};e.ready=function(){return this.$6==null?b("Promise").reject(c("err")("Scanner should be initialized.")):this.$6};e.hasSupport=function(){return this.$3};e.hasFoundReceiver=function(){return this.$4};e.getSession=function(){var a=this;if(!this.$4)return b("Promise").reject(c("err")("No receivers found"));this.$13.slice().forEach(function(a){a()});return this.$17().then(function(b){var c=a.$18(b);a.$5.add(c);a.$14.slice().forEach(function(a){a(c)});return c})["catch"](function(b){a.$10.slice().forEach(function(a){a()});a.$11.slice().forEach(function(a){a()});throw b})};e.$16=function(){var a=this;this.$3=!0;return this.$19().then(function(b){return a.$20()}).then(function(b){a.$9.slice().forEach(function(a){a()})}).then(function(b){return a.$21()})["catch"](function(b){!d("CastingErrorUtils").isChromecastError(b,"not_supported")&&!d("CastingErrorUtils").isChromecastError(b,"extension_not_available")&&!d("CastingErrorUtils").isChromecastError(b,"extension_no_casting_script")&&a.$8.slice().forEach(function(a){a(b,"CastingChromecastScanner._init")});throw b})};e.$21=function(){var a=this,d=this.$1;if(d==null)return b("Promise").reject(c("err")("App ID is not defined"));var e=function(b){var c=a.$18(b);a.$14.slice().forEach(function(a){a(c)})},f=function(b){c("promiseDone")(c("CastingChromecastAPIWrapper").getIsAvailable(b).then(function(b){a.$4=b,a.$15.slice().forEach(function(b){b({foundReceiver:a.$4})})}))};return c("CastingChromecastAPIWrapper").initialize({appID:d,receiverListener:f,sessionListener:e}).then(function(){})["catch"](function(b){a.$8.slice().forEach(function(a){a(b,"CastingChromecastScanner._initializeApi")});throw b})};e.$19=function(){var a=this;return this.$1!=null?b("Promise").resolve():c("CastingChromecastAPIWrapper").getDefaultAppID().then(function(b){a.$1=b})};e.$17=function(){var a=this.$1;if(a==null)return b("Promise").reject(c("err")("App ID is not defined"));var d=c("performanceAbsoluteNow")();c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_requested"}});return c("CastingChromecastAPIWrapper").getSession(a).then(function(a){c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_started",perf_time_ms:Math.floor(c("performanceAbsoluteNow")()-d)}});return a})["catch"](function(a){c("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_failed",perf_time_ms:Math.floor(c("performanceAbsoluteNow")()-d),session_failure_code:typeof a.code==="string"?a.code:null,session_failure_description:a.description}});throw a})};e.$18=function(a){var b=this,d=new(c("CastingChromecastSession"))(this.$1||"",this.$2||"",a),e=d.onDisconnecting(function(){b.$12.slice().forEach(function(a){a()})}),f=d.onError(function(a,c){b.$8.slice().forEach(function(b){b(a,c)})}),g=d.onDisconnected(function(){b.$11.slice().forEach(function(a){a()}),b.$5["delete"](d),e.remove(),f.remove(),g.remove()});return d};e.$20=function(){var a=this;return c("CastingChromecastAPIWrapper").addReceiverListener({onCast:function(b){a.$7.slice().forEach(function(a){a(b)})},onStop:function(){a.$5.forEach(function(a){return a.disconnect()})}})};e.onCast=function(a){var b=this.$7;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onError=function(a){var b=this.$8;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onInit=function(a){var b=this.$9;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionCancelled=function(a){var b=this.$10;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnected=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnecting=function(a){var b=this.$12;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionRequested=function(a){var b=this.$13;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionStarted=function(a){var b=this.$14;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onStatusChanged=function(a){var b=this.$15;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingState",[],(function(a,b,c,d,e,f){"use strict";function a(){return{isCastPending:!1,receiverExperience:null,receiverFriendlyName:null,receiverIsConnected:!1,receiverIsMuted:null,receiverVolume:null}}function b(){return{currentDuration:null,currentPlaybackState:null,currentPosition:null,currentVideoID:null,type:"video_channel"}}function c(){return{type:"photo"}}function d(){return{currentAssetID:null,currentPlaybackState:null,type:"photo_album"}}f.initialCastingState=a;f.initialVideoChannelExperienceState=b;f.initialPhotoExperienceState=c;f.initialPhotoAlbumExperienceState=d}),66);
__d("TV2PhotoAlbumReportedState",[],(function(a,b,c,d,e,f){"use strict";function a(a){return k(JSON.parse(a),m("TV2PhotoAlbumReportedState"))}function b(a){return JSON.stringify(l(a,m("TV2PhotoAlbumReportedState")),null,2)}function g(a,b,c){c===void 0&&(c="");if(c)throw Error('Invalid value for key "'+c+'". Expected type '+JSON.stringify(a)+" but got "+JSON.stringify(b));throw Error("Invalid value "+JSON.stringify(b)+" for type "+JSON.stringify(a))}function h(a){if(a.jsonToJS===void 0){var b={};a.props.forEach(function(a){return b[a.json]={key:a.js,typ:a.typ}});a.jsonToJS=b}return a.jsonToJS}function i(a){if(a.jsToJSON===void 0){var b={};a.props.forEach(function(a){return b[a.js]={key:a.json,typ:a.typ}});a.jsToJSON=b}return a.jsToJSON}function j(a,b,c,d){d===void 0&&(d="");function e(b,a){return typeof b===typeof a?a:g(b,a,d)}function f(b,a){var d=b.length;for(var e=0;e<d;e++){var f=b[e];try{return j(a,f,c)}catch(a){}}return g(b,a)}function h(b,a){return b.indexOf(a)!==-1?a:g(b,a)}function i(b,a){return!Array.isArray(a)?g("array",a):a.map(function(a){return j(a,b,c)})}function k(a){if(a===null)return null;var b=new Date(a);return isNaN(b.valueOf())?g("Date",a):b}function l(b,d,a){if(a===null||typeof a!=="object"||Array.isArray(a))return g("object",a);var e={};Object.getOwnPropertyNames(b).forEach(function(d){var f=b[d];d=Object.prototype.hasOwnProperty.call(a,d)?a[d]:void 0;e[f.key]=j(d,f.typ,c,f.key)});Object.getOwnPropertyNames(a).forEach(function(f){Object.prototype.hasOwnProperty.call(b,f)||(e[f]=j(a[f],d,c,f))});return e}if(b==="any")return a;if(b===null)return a===null?a:g(b,a);if(b===!1)return g(b,a);while(typeof b==="object"&&b.ref!==void 0)b=n[b.ref];if(Array.isArray(b))return h(b,a);if(typeof b==="object")return Object.prototype.hasOwnProperty.call(b,"unionMembers")?f(b.unionMembers,a):Object.prototype.hasOwnProperty.call(b,"arrayItems")?i(b.arrayItems,a):Object.prototype.hasOwnProperty.call(b,"props")?l(c(b),b.additional,a):g(b,a);return b===Date&&typeof a!=="number"?k(a):e(b,a)}function k(a,b){return j(a,b,h)}function l(a,b){return j(a,b,i)}function c(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return{unionMembers:b}}function d(a,b){return{props:a,additional:b}}function m(a){return{ref:a}}var n={TV2PhotoAlbumReportedState:d([{json:"media_parameters",js:"media_parameters",typ:m("MediaParameters")},{json:"media_state",js:"media_state",typ:m("MediaState")}],"any"),MediaParameters:d([{json:"album_id",js:"album_id",typ:""}],"any"),MediaState:d([{json:"photo_state",js:"photo_state",typ:c(void 0,m("PhotoMediaState"))},{json:"video_state",js:"video_state",typ:c(void 0,m("VideoMediaState"))}],"any"),PhotoMediaState:d([{json:"duration_ms",js:"duration_ms",typ:3.14},{json:"photo_id",js:"photo_id",typ:""},{json:"photo_playback_state",js:"photo_playback_state",typ:m("PhotoPlaybackState")},{json:"position_ms",js:"position_ms",typ:3.14}],"any"),VideoMediaState:d([{json:"duration_ms",js:"duration_ms",typ:3.14},{json:"position_ms",js:"position_ms",typ:3.14},{json:"video_id",js:"video_id",typ:""},{json:"video_playback_state",js:"video_playback_state",typ:m("VideoPlaybackState")}],"any"),PhotoPlaybackState:["paused","play"],VideoPlaybackState:["ended","paused","play","seeking","unknown"]};e.exports={TV2PhotoAlbumReportedStateToJson:b,toTV2PhotoAlbumReportedState:a}}),null);
__d("TV2UniqueIDs",["guid"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function i(a){var b;b=(b=h.get(a))!=null?b:0;h.set(a,b+1);return""+a+b.toString(36)}function a(){return i("id_tv2_vcr_")}function b(){return i("id_tv2_veqe_")}function d(){return i("id_tv2_toast_")}function e(){return i("id_tv2_rvr_")}function f(){return c("guid")()}g.makeTV2VideoCastRequestID=a;g.makeTV2VideoExperienceQueueEntryID=b;g.makeTV2ToastID=d;g.makeTV2RelatedVideosRequestID=e;g.makeTV2ChainingSessionID=f}),98);
__d("getTV2QueryStringCheatcodeValue",[],(function(a,b,c,d,e,f){"use strict";function b(b){try{b=new RegExp("\\b"+b+"=([^&]*)");b=b.exec(a.location.search);return!b||b[1]==null?null:b[1]}catch(a){return null}}f["default"]=b}),66);
__d("getTV2QueryStringCheatcode",["getTV2QueryStringCheatcodeValue"],(function(a,b,c,d,e,f,g){"use strict";function a(a){try{return c("getTV2QueryStringCheatcodeValue")(a)==="1"}catch(a){return!1}}g["default"]=a}),98);
__d("getTV2DebuggingEnabled",["getTV2QueryStringCheatcode"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("getTV2QueryStringCheatcode")("debugging")}g["default"]=a}),98);
__d("TV2CommsParseUtils",["TV2PhotoAlbumReportedState","TV2UniqueIDs","err","getTV2DebuggingEnabled","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a===null?"null":a===""?"empty string":Array.isArray(a)?"array":typeof a==="object"?"object with keys: "+JSON.stringify(Object.keys(a).sort()):typeof a}function i(a,b,d){if(typeof a!=="string"||a===""){var e=c("err")("Message parse error: %s expected JSON string, got %s",d,h(a));throw e}try{e=JSON.parse(a);return b(e,d)}catch(b){if("messageFormat"in b&&typeof b.messageFormat==="string"&&"messageParams"in b&&Array.isArray(b.messageParams))throw b;else{a=c("err")("Message parse error: %s expected JSON string, got error: %s",d,b.message);throw a}}}function j(a,b){if(typeof a!=="object"||a==null){b=c("err")("Message parse error: %s expected object, got %s",b,h(a));throw b}return a}function b(a,b){if(a==null)return null;if(typeof a!=="object"||a==null){b=c("err")("Message parse error: %s expected object, got %s",b,h(a));throw b}return a}function k(a,b){if(!Array.isArray(a)){b=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw b}return a}function l(a,b){if(!Array.isArray(a)){var d=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw d}return a.map(function(a){return n(a,b)})}function m(a,b){if(!Array.isArray(a)){var d=c("err")("Message parse error: %s expected array, got %s",b,h(a));throw d}return a.filter(Boolean).map(function(a){return n(a,b)})}function n(a,b){if(typeof a!=="string"||a===""){b=c("err")("Message parse error: %s expected non-empty string, got %s",b,h(a));throw b}return a}function o(a,b){if(a==null)return null;if(typeof a!=="string"||a===""){b=c("err")("Message parse error: %s expected optional non-empty string, got %s",b,h(a));throw b}return a}function p(a,b){if(a==null)return null;if(typeof a!=="string"){b=c("err")("Message parse error: %s expected optional string, got %s",b,h(a));throw b}return a}function q(a,b){if(a==null)return null;if(!(typeof a==="number"&&Number.isFinite(a)||typeof a==="string"&&a!=="")){b=c("err")("Message parse error: %s expected optional non-empty string or number, got %s",b,h(a));throw b}return a}function r(a,b){if(typeof a!=="number"||!Number.isFinite(a)){b=c("err")("Message parse error: %s expected finite number, got %s",b,h(a));throw b}return a}function e(a,b){if(a==null)return null;if(typeof a!=="number"||!Number.isFinite(a)){b=c("err")("Message parse error: %s expected optional finite number, got %s",b,h(a));throw b}return a}function f(a,b){return a==="true"||a===!0}function s(a,b,c){c===void 0&&(c=!1);return a==null?c:a===!0}function t(a,b){if(typeof a!=="boolean"){b=c("err")("Parse error: %s expected boolean, got %s",b,h(a));throw b}return a}function u(a,b){a=a!=null?j(a,b):null;if(a==null)return null;var c=n(a.uri,b+".uri"),d=r(a.width,b+".width");a=r(a.height,b+".height");return{height:a,uri:c,width:d}}function v(a,b){a=a!=null?j(a,b):null;if(a==null)return null;a=j(a.image,b+".image");a=n(a.uri,b+".image.uri");return{uri:a}}function w(a,b){if(a==null)return null;a=k(a,b);return a.map(function(a,b){return n(a,"["+b+"]")})}function x(a,b){return i(a,function(b,a){b=k(b,a);return b.map(function(b,c){c=a+"."+c;return z(j(b,c),c)})},b)}function y(a,b){return i(a,function(b,a){return z(j(b,a),a)},b)}function z(b,e){var f=n(b.access_token,e+".access_token"),g=String(q(b.app_id,e+".app_id")),h=p(b.app_version,e+".app_version"),i=u(b.background_image,e+".background_image"),j=o(b.channel_token,e+".channel_token"),k=o(b.channel_session_id,e+".channel_session_id"),r=p(b.end_cursor,e+".end_cursor")||null,t=s(b.from_next_video_query,e+".from_next_video_query"),x=s(b.is_ad,e+".is_ad"),y=w(b.dash_prefetched_representation_ids,e+".dash_prefetched_representation_ids"),z=o(b.entry_point,e+".entry_point"),A=o(b.player_origin===""?null:b.player_origin,e+".player_origin"),B=o(b.player_suborigin===""?null:b.player_suborigin,e+".player_suborigin"),C=v(b.preferred_thumbnail,e+".preferred_thumbnail"),D=o(b.video_channel_id,e+".video_channel_id"),E=n(b.root_video_id,e+".root_video_id"),F=c("getTV2DebuggingEnabled")()?/\bvideo_id=([0-9]+)\b/.exec(a.location.search):null;F=F&&F[1]?F[1]:n(b.video_id,e+".video_id");var G=c("gkx")("2172")?m:l;G=b.tracking_codes!=null?G(b.tracking_codes,e+".tracking_codes"):null;return{accessToken:f,appID:g,appVersion:h,backgroundImage:i,chainingEnabled:!1,channelSessionID:k,channelToken:j,dashPrefetchedRepresentationIDs:y,endCursor:r,entryPoint:z,fromNextVideoQuery:t,isAd:x,playerOrigin:A,playerSuborigin:B,preferredThumbnail:C,rootVideoID:E,startTimestamp:0,trackingCodes:G,videoCastRequestID:d("TV2UniqueIDs").makeTV2VideoCastRequestID(),videoChannelID:D,videoID:F}}function A(a,b){a=j(a,b);b=n(a.type,b+".type");switch(b){case"version_response":return a;case"version_launch_response":return a;case"experience_state":return a;case"command_result":return a;case"duration_change":return a;case"status_update":return a;case"experience_status_update":return a}b=c("err")("Parse error: %s expected response message type, got %s","parseTV2CommsFBAppOutboundMessageFromObject",h(a));throw b}function B(a){return i(a,A,".")}function C(a){a=B(a);switch(a.type){case"version_response":case"version_launch_response":case"experience_state":case"command_result":return a}a=c("err")("Parse error: %s expected response message type, got %s","parseCastingReceiverResponseMessageFromJSON",h(a));throw a}function D(a){return d("TV2PhotoAlbumReportedState").toTV2PhotoAlbumReportedState(a)}g.parseJSONString=i;g.parseObject=j;g.parseOptionalObject=b;g.parseArray=k;g.parseStringArray=l;g.parseTrackingCodes=m;g.parseNonEmptyString=n;g.parseOptionalNonEmptyString=o;g.parseOptionalString=p;g.parseNumber=r;g.parseOptionalNumber=e;g.parseOptionalStringishBoolean=f;g.parseOptionalBoolean=s;g.parseBoolean=t;g.parseVideoCastingPayloadBackgroundImage=u;g.parseVideoCastingPayloadPreferredThumbnail=v;g.parseVideoCastingPayloadListJSONAsTV2VideoCastRequestArray=x;g.parseVideoCastingPayloadJSONAsTV2VideoCastRequest=y;g.parseVideoCastingPayloadAsTV2VideoCastRequest=z;g.parseTV2CommsFBAppOutboundMessageFromJSON=B;g.parseCastingReceiverResponseMessageFromJSON=C;g.parseCastingReceiverPhotoAlbumReportedState=D}),98);
__d("fetchCtvCastPayload",["CometRelay","err","fetchCtvCastPayloadQuery.graphql","getErrorSafe","guid"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("fetchCtvCastPayloadQuery.graphql");function a(a){var b=a.castSessionID;a=a.environment;return d("CometRelay").fetchQuery(a,i,{castSessionID:b,mediaParameters:"{}",requestID:c("guid")()}).toPromise().then(function(a){if(a!=null&&a.ctv_cast_payload!=null&&typeof a.ctv_cast_payload==="string")return{payload:a.ctv_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}function e(a){var b=a.albumID,e=a.castSessionID;a=a.environment;return d("CometRelay").fetchQuery(a,i,{castSessionID:e,mediaParameters:JSON.stringify({album_id:b}),requestID:c("guid")()}).toPromise().then(function(a){if(typeof (a==null?void 0:a.ctv_cast_payload)==="string")return{payload:a.ctv_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}g.fetchPhotoCastPayload=a;g.fetchAlbumCastPayload=e}),98);
__d("fetchVideoCastPayload",["CometRelay","err","fetchVideoCastPayloadQuery.graphql","getErrorSafe"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("fetchVideoCastPayloadQuery.graphql");function a(a){var b=a.castSessionID,e=a.environment,f=a.playerOrigin,g=a.playerSubOrigin;a=a.videoID;return d("CometRelay").fetchQuery(e,i,{castSessionID:b,playerOrigin:f,playerSubOrigin:g,videoID:a}).toPromise().then(function(a){if(a==null||a.video==null||a.video.video_cast_payload==null)return{type:"video_cannot_be_casted"};else if(typeof a.video.video_cast_payload==="string")return{payload:a.video.video_cast_payload,type:"loaded"};else return{error:c("err")("Payload was not string"),type:"error"}})["catch"](function(a){a=c("getErrorSafe")(a);return{error:a,type:"error"}})}g["default"]=a}),98);
__d("CastingController",["CastingErrorUtils","CastingState","FBLogger","Promise","SubscriptionsHandler","TV2CommsParseUtils","err","fetchCtvCastPayload","fetchVideoCastPayload","getErrorSafe","performanceAbsoluteNow","promiseDone","recoverableViolation","removeFromArray","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h=c("FBLogger")("fbtv"),i="PhotoAlbum",j="ChannelVideo",k="Photo";a=function(){function a(a,b){var e=this;this.$5=[];this.$6=[];this.$7=[];this.$9=function(){var a=d("CastingState").initialCastingState();e.$12(a);e.$13(null)};this.$10=function(a){switch(a.type){case"status_update":e.$16(a);break;case"experience_status_update":e.$17(a);break;default:break}};this.$11=function(a,b){var f;if(d("CastingErrorUtils").isChromecastError(a,"cancel"))h.warn("ChromecastError while casting. Received ChromecastError with cancel code.");else if(((f=e.$2)==null?void 0:f.type)==="video_channel"){f=(f=e.$2)==null?void 0:f.currentVideoID;f=d("CastingErrorUtils").appendCastingMetadataToExpandedError(d("CastingErrorUtils").getCastingErrorSafe(a),babelHelpers["extends"]({},f!=null?{videoID:f}:{}));c("recoverableViolation")("Receiver error at "+b+" while playing video channel","comet_cast_sender",{error:f});c("promiseDone")(e.$4.stopCasting())}else{f=d("CastingErrorUtils").appendCastingMetadataToExpandedError(d("CastingErrorUtils").getCastingErrorSafe(a),{});a=((a=e.$2)==null?void 0:a.type)||"";c("recoverableViolation")("Receiver error at "+b+" while playing in experience "+a,"comet_cast_sender",{error:f});c("promiseDone")(e.$4.stopCasting())}};this.$1=d("CastingState").initialCastingState();this.$2=null;this.$3=b;this.$4=a;this.$8=new(c("SubscriptionsHandler"))();this.$8.addSubscriptions(this.$4.onReceiverDisconnected(this.$9),this.$4.onSessionDisconnected(this.$9),this.$4.onSessionMessage(this.$10),this.$4.onError(this.$11))}var e=a.prototype;e.destroy=function(){this.$8.release()};e.getCastingState=function(){return this.$1};e.getCastingExperienceState=function(){return this.$2};e.setCastingState=function(a){this.$1=a};e.setCastingExperienceState=function(a){this.$2=a};e.subscribeToCastingStateChange=function(a){var b=this;this.$5.push(a);return function(){c("removeFromArray")(b.$5,a)}};e.subscribeToCastingExperienceStateChange=function(a){var b=this;this.$6.push(a);return function(){c("removeFromArray")(b.$6,a)}};e.subscribeToCastingEvent=function(a){var b=this;this.$7.push(a);return function(){c("removeFromArray")(b.$7,a)}};e.startPlayVideoNow=function(a){var e=this,f=a.environment,g=a.origin,h=a.position,i=a.subOrigin,k=a.videoID;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);this.$14({data:{type:"cast_requested",videoID:k},timestamp:c("performanceAbsoluteNow")()});c("promiseDone")(b("Promise").all([c("fetchVideoCastPayload")({castSessionID:this.$3,environment:f,playerOrigin:g,playerSubOrigin:i,videoID:k}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="video_cannot_be_casted"){c("recoverableViolation")("The video is not eligible to be casted. The cast request is ignored.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("err")("video_cannot_be_casted"),{videoID:k})});return b("Promise").resolve()}else if(f.type==="error"){c("recoverableViolation")("There was a failure retrieving video cast payload. Video failed to play.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{videoID:k})});return b("Promise").resolve()}a=e.$4.isCasting(j);a?a=e.$4.playVideoNow({position:h},f.payload):a=e.$4.startCasting(j,{position:h},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);a=d("CastingState").initialVideoChannelExperienceState();e.$13(a)})})["catch"](function(a){e.$14({data:{type:"cast_failed",videoID:k},timestamp:c("performanceAbsoluteNow")()}),d("CastingErrorUtils").isChromecastError(a,"cancel")||c("recoverableViolation")("Failed to cast video.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{videoID:k})})})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.startPhotoCasting=function(a){var e=this;a=a.environment;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);this.$14({data:{type:"photo_cast_requested"},timestamp:c("performanceAbsoluteNow")()});c("promiseDone")(b("Promise").all([d("fetchCtvCastPayload").fetchPhotoCastPayload({castSessionID:this.$3,environment:a}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="error"){c("recoverableViolation")("There was a failure retrieving photo cast payload.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{})});return b("Promise").resolve()}a=e.$4.startCasting(k,{},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);e.$13(d("CastingState").initialPhotoExperienceState())})})["catch"](function(a){d("CastingErrorUtils").isChromecastError(a,"cancel")||c("recoverableViolation")("Failed to start photo casting session.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{})})})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.startAlbumSlideshow=function(a){var e=this,f=a.albumID;a=a.environment;if(this.$1.isCastPending)return;this.$12(babelHelpers["extends"]({},this.$1,{isCastPending:!0}));this.$13(null);c("promiseDone")(b("Promise").all([d("fetchCtvCastPayload").fetchAlbumCastPayload({albumID:f,castSessionID:this.$3,environment:a}),this.$4.getSession().then(function(a){e.$12(babelHelpers["extends"]({},e.$1,{receiverIsConnected:!0}));return a})]).then(function(a){var f=a[0];a[1];if(f.type==="album_cannot_be_casted"){c("recoverableViolation")("The album is not eligible to be casted.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("err")("album_cannot_be_casted"),{})});return b("Promise").resolve()}else if(f.type==="error"){c("recoverableViolation")("There was a failure retrieving album cast payload.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(f.error,{})});return b("Promise").resolve()}a=e.$4.startCasting(i,{},f.payload);return a.then(function(){var a=babelHelpers["extends"]({},e.$1,e.$15());e.$12(a);a=d("CastingState").initialPhotoAlbumExperienceState();e.$13(a)})})["catch"](function(a){d("CastingErrorUtils").isChromecastError(a,"cancel")||c("recoverableViolation")("Failed to cast album.","comet_cast_sender",{error:d("CastingErrorUtils").appendCastingMetadataToExpandedError(c("getErrorSafe")(a),{})})})["finally"](function(){var a=babelHelpers["extends"]({},e.$1,{isCastPending:!1});e.$12(a)}))};e.disconnect=function(){c("promiseDone")(this.$4.stopCasting())};e.play=function(){c("promiseDone")(this.$4.playVideo())};e.pause=function(){c("promiseDone")(this.$4.pauseVideo())};e.setVolume=function(a){c("promiseDone")(this.$4.setVolume(a))};e.mute=function(){c("promiseDone")(this.$4.mute())};e.unmute=function(){c("promiseDone")(this.$4.unmute())};e.seek=function(a){c("promiseDone")(this.$4.seekVideo(a))};e.showSingleMedia=function(a){var b=null;switch(a.type){case"photo":b={photo_id:a.photoID};break;case"video":b={video_id:a.videoID};break;default:a.type;return}c("promiseDone")(this.$4.showPhoto({media_parameters:b,request_id:c("uuidv4")()}))};e.playAlbumSlideshow=function(){c("promiseDone")(this.$4.playAlbumSlideshow())};e.pauseAlbumSlideshow=function(){c("promiseDone")(this.$4.pauseAlbumSlideshow())};e.nextPhotoAlbumSlideshow=function(){c("promiseDone")(this.$4.nextPhotoAlbumSlideshow())};e.previousPhotoAlbumSlideshow=function(){c("promiseDone")(this.$4.previousPhotoAlbumSlideshow())};e.$12=function(a){a!==this.$1&&(this.$1=a,this.$5.slice().forEach(function(b){b(a)}))};e.$13=function(a){a!==this.$2&&(this.$2=a,this.$6.slice().forEach(function(b){b(a)}))};e.$14=function(a){this.$7.slice().forEach(function(b){b(a)})};e.$16=function(a){var b=this.$1,d=this.$2;if(d!=null&&d.type==="video_channel"){var e=a.data.video_id,f=this.$4.getVolume()||0,g=this.$4.isMuted()||!1;e!=null&&this.$14({data:{playbackState:a.data.state,playerInfo:(a==null?void 0:a.player_info)||null,receiverInfo:(a==null?void 0:a.receiver_info)||null,type:"video_status_update",videoID:e},timestamp:c("performanceAbsoluteNow")()});g={receiverIsConnected:!0,receiverIsMuted:g,receiverVolume:f};if(e==null)this.$12(babelHelpers["extends"]({},b,g)),this.$13(babelHelpers["extends"]({},d,{currentDuration:null,currentPlaybackState:null,currentPosition:null,currentVideoID:null}));else{f=babelHelpers["extends"]({},b,g);this.$12(f);this.$13(babelHelpers["extends"]({},d,{currentDuration:a.data.duration!=null?a.data.duration:d.currentDuration,currentPlaybackState:a.data.state,currentPosition:a.data.position,currentVideoID:e}))}}};e.$17=function(a){var b=this.$2;if(b!=null&&b.type==="photo_album"&&a.data.name==="PhotoAlbum"){var c;a=d("TV2CommsParseUtils").parseCastingReceiverPhotoAlbumReportedState(a.data.payload);a=a.media_state;c=((c=(c=a.photo_state)==null?void 0:c.photo_id)!=null?c:(c=a.video_state)==null?void 0:c.video_id)||null;a=this.$18(a);this.$13(babelHelpers["extends"]({},b,{currentAssetID:c,currentPlaybackState:a}))}};e.$15=function(){return{receiverFriendlyName:this.$4.getFriendlyName()||null,receiverIsMuted:this.$4.isMuted()||null,receiverVolume:this.$4.getVolume()||0}};e.$18=function(a){if(a.photo_state!=null)return a.photo_state.photo_playback_state==="play"?"play":"paused";else if(a.video_state!=null)return["play","seeking"].includes(a.video_state.video_playback_state)?"play":"paused";else return null};return a}();g["default"]=a}),98);
__d("CastingEventReporter",["ConnectedTvLoggingFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$4=function(a){switch(a.data.type){case"cast_requested":b.logWithAvailableContext({event:"cast_requested",video_id_override:a.data.videoID});b.$5(a);break;case"photo_cast_requested":b.logWithAvailableContext({event:"photo_cast_requested"});b.$5(a);break;case"cast_failed":b.$5(a);break;case"video_status_update":b.$6(a.data.receiverInfo,a.data.playerInfo);b.$5(a);break;default:break}};this.$1=null;this.$2=null;this.$3={cast_session_id:a,is_google_cast_bg:null,third_party_app_id:null,tv_os_version:null,tv_player_instance_key:null,tv_player_version:null,tv_session_id:null,tv_web_client_revision:null}}var b=a.prototype;b.destroy=function(){this.$1!=null&&this.$1(),this.$1=null};b.bindToCastingController=function(a){this.$1=a.subscribeToCastingEvent(this.$4)};b.logWithAvailableContext=function(a){var b=this;c("ConnectedTvLoggingFalcoEvent").log(function(){return babelHelpers["extends"]({},b.$3,a)})};b.$5=function(a){var b=a.data;switch(b.type){case"cast_requested":this.$2={data:b,timestamp:a.timestamp};break;case"cast_failed":var c=this.$2;this.logWithAvailableContext({event:"cast_failed",perf_time_ms:Math.floor(c!=null?a.timestamp-c.timestamp:0),video_id_override:b.videoID});this.$2=null;break;case"video_status_update":c=this.$2;if(c==null)break;var d=c.data.videoID;b.videoID===d&&b.playbackState==="play"?(this.logWithAvailableContext({event:"cast_started",perf_time_ms:Math.floor(a.timestamp-c.timestamp)}),this.$2=null):b.videoID!==d&&(this.$2=null);break}};b.$6=function(a,b){var c=(a==null?void 0:a.third_party_app_id)||null,d=(a==null?void 0:a.cast_receiver_logger_session_id)||null,e=(a==null?void 0:a.is_google_cast_bg)||null,f=(a==null?void 0:a.os_version)||null;a=(a==null?void 0:a.web_client_revision)||null;var g=(b==null?void 0:b.player_instance_key)||null;b=(b==null?void 0:b.player_version)||null;this.$3=babelHelpers["extends"]({},this.$3,{is_google_cast_bg:e,third_party_app_id:c,tv_os_version:f,tv_player_instance_key:g,tv_player_version:b,tv_session_id:d,tv_web_client_revision:a})};return a}();g["default"]=a}),98);
__d("TV2MessageTypes",[],(function(a,b,c,d,e,f){"use strict";a="urn:x-cast:com.facebook.fb";b="urn:x-cast:com.google.cast.media";f.FBAPP_CAST_PROTOCOL_NAMESPACE=a;f.GOOGLE_CAST_MEDIA_PROTOCOL_NAMESPACE=b}),66);
__d("TV2PhotoShowRequest",[],(function(a,b,c,d,e,f){"use strict";function a(a){return k(JSON.parse(a),m("TV2PhotoShowRequest"))}function b(a){return JSON.stringify(l(a,m("TV2PhotoShowRequest")),null,2)}function g(a,b,c){c===void 0&&(c="");if(c)throw Error('Invalid value for key "'+c+'". Expected type '+JSON.stringify(a)+" but got "+JSON.stringify(b));throw Error("Invalid value "+JSON.stringify(b)+" for type "+JSON.stringify(a))}function h(a){if(a.jsonToJS===void 0){var b={};a.props.forEach(function(a){return b[a.json]={key:a.js,typ:a.typ}});a.jsonToJS=b}return a.jsonToJS}function i(a){if(a.jsToJSON===void 0){var b={};a.props.forEach(function(a){return b[a.js]={key:a.json,typ:a.typ}});a.jsToJSON=b}return a.jsToJSON}function j(a,b,c,d){d===void 0&&(d="");function e(b,a){return typeof b===typeof a?a:g(b,a,d)}function f(b,a){var d=b.length;for(var e=0;e<d;e++){var f=b[e];try{return j(a,f,c)}catch(a){}}return g(b,a)}function h(b,a){return b.indexOf(a)!==-1?a:g(b,a)}function i(b,a){return!Array.isArray(a)?g("array",a):a.map(function(a){return j(a,b,c)})}function k(a){if(a===null)return null;var b=new Date(a);return isNaN(b.valueOf())?g("Date",a):b}function l(b,d,a){if(a===null||typeof a!=="object"||Array.isArray(a))return g("object",a);var e={};Object.getOwnPropertyNames(b).forEach(function(d){var f=b[d];d=Object.prototype.hasOwnProperty.call(a,d)?a[d]:void 0;e[f.key]=j(d,f.typ,c,f.key)});Object.getOwnPropertyNames(a).forEach(function(f){Object.prototype.hasOwnProperty.call(b,f)||(e[f]=j(a[f],d,c,f))});return e}if(b==="any")return a;if(b===null)return a===null?a:g(b,a);if(b===!1)return g(b,a);while(typeof b==="object"&&b.ref!==void 0)b=n[b.ref];if(Array.isArray(b))return h(b,a);if(typeof b==="object")return Object.prototype.hasOwnProperty.call(b,"unionMembers")?f(b.unionMembers,a):Object.prototype.hasOwnProperty.call(b,"arrayItems")?i(b.arrayItems,a):Object.prototype.hasOwnProperty.call(b,"props")?l(c(b),b.additional,a):g(b,a);return b===Date&&typeof a!=="number"?k(a):e(b,a)}function k(a,b){return j(a,b,h)}function l(a,b){return j(a,b,i)}function c(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];return{unionMembers:b}}function d(a,b){return{props:a,additional:b}}function m(a){return{ref:a}}var n={TV2PhotoShowRequest:d([{json:"media_parameters",js:"media_parameters",typ:m("MediaParameters")},{json:"request_id",js:"request_id",typ:""}],"any"),MediaParameters:d([{json:"photo_id",js:"photo_id",typ:c(void 0,"")},{json:"video_id",js:"video_id",typ:c(void 0,"")}],"any")};e.exports={TV2PhotoShowRequestToJson:b,toTV2PhotoShowRequest:a}}),null);
__d("CastingReceiverManager",["CastingChromecastScanner","Promise","Random","SubscriptionsHandler","TV2CommsParseUtils","TV2MessageTypes","TV2PhotoShowRequest","promiseDone","removeFromArray","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="1.2.0";a=function(){function a(a){var b=this;this.$5=null;this.$6=null;this.$10=null;this.$11=[];this.$12=[];this.$13=[];this.$14=[];this.$15=[];this.$16=[];this.$17=[];this.$18=[];this.$19=[];this.$4=new(c("CastingChromecastScanner"))(a,d("TV2MessageTypes").FBAPP_CAST_PROTOCOL_NAMESPACE);this.$2=null;this.$1=!1;this.$3=0;this.$6=null;this.$9=new Map();this.$20=new(c("SubscriptionsHandler"))();this.$20.addSubscriptions(this.$4.onStatusChanged(function(a){var c=a.foundReceiver;b.$15.slice().forEach(function(a){a(!!c)})}),this.$4.onSessionDisconnected(function(){b.$21(),b.$14.slice().forEach(function(a){a()})}),this.$4.onSessionStarted(function(a){b.$22(a)}),this.$4.onError(function(a,c){b.$11.slice().forEach(function(b){b(a,c)})}));this.$7=this.$4.init();c("promiseDone")(this.$7.then(function(){b.$2=!0,b.$1=!0,b.$13.slice().forEach(function(a){a()})},function(a){b.$2=!1,b.$12.slice().forEach(function(b){b(a)})}))}var e=a.prototype;e.ready=function(){return this.$7};e.hasSupport=function(){return this.$2};e.hasFoundReceiver=function(){return this.$4.hasFoundReceiver()};e.isCasting=function(a){var b=!!this.$5&&this.$5.isCasting();b&&a!=null&&(b=this.$6!=null&&this.$6.indexOf(a)>=0);return b};e.getSession=function(){var a=this;return this.ready().then(function(){var b=a.$5;b!=null&&!b.isConnected()&&a.$21()}).then(function(){if(a.$5)return a.$5;a.$8||(a.$8=a.$23());return a.$8})["catch"](function(b){a.$11.slice().forEach(function(a){a(b,"CastingReceiverManager.getSession")});throw b})["finally"](function(){a.$8=null})};e.startCasting=function(a,b,c){var d=this;return this.$24(a,b,c).then(function(a){a.success?d.$6=a.target:d.$6=null})};e.stopCasting=function(){var a=this;return!this.isCasting()?b("Promise").resolve():this.ready().then(function(){var b=a.$5;b!=null&&b.isDisconnected()&&a.$21();return a.$5}).then(function(a){return a==null?b("Promise").resolve(null):a.disconnect()}).then(function(){a.$21()})};e.playVideoNow=function(a,c){return!this.isCasting()?b("Promise").resolve():this.$25("next_video",babelHelpers["extends"]({},a,{auto_advance:!0}),c).then(function(){})};e.skipToNextVideo=function(){return!this.isCasting()?b("Promise").resolve():this.$25("skip_video").then(function(){})};e.playVideo=function(a){return!this.isCasting()?b("Promise").resolve():this.$25("play_video",{position:a||0}).then(function(){})};e.pauseVideo=function(){return!this.isCasting()?b("Promise").resolve():this.$25("pause_video").then(function(){})};e.seekVideo=function(a){return!this.isCasting()?b("Promise").resolve():this.$25("seek_video",{position:a}).then(function(){})};e.showPhoto=function(a){return!this.isCasting()?b("Promise").resolve():this.$25("show_photo",void 0,d("TV2PhotoShowRequest").TV2PhotoShowRequestToJson(a),"Photo").then(function(){})};e.stopVideo=function(){return!this.isCasting()?b("Promise").resolve():this.$25("stop_video").then(function(){})};e.playAlbumSlideshow=function(){return!this.isCasting()?b("Promise").resolve():this.$25("play_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.pauseAlbumSlideshow=function(){return!this.isCasting()?b("Promise").resolve():this.$25("pause_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.nextPhotoAlbumSlideshow=function(){return!this.isCasting()?b("Promise").resolve():this.$25("next_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.previousPhotoAlbumSlideshow=function(){return!this.isCasting()?b("Promise").resolve():this.$25("previous_photo",void 0,void 0,"PhotoAlbum").then(function(){})};e.getFriendlyName=function(){return this.$5==null?null:this.$5.getFriendlyName()};e.getVolume=function(){return this.$5==null?null:this.$5.getVolume()};e.setVolume=function(a){if(!this.isCasting())return b("Promise").resolve();return this.$5==null?b("Promise").resolve():this.$5.setVolume(a)};e.isMuted=function(){if(!this.isCasting())return null;return this.$5==null?null:this.$5.isMuted()};e.mute=function(){if(!this.isCasting())return b("Promise").resolve();return this.$5==null?b("Promise").resolve():this.$5.mute()};e.unmute=function(){if(!this.isCasting())return b("Promise").resolve();return this.$5==null?b("Promise").resolve():this.$5.unmute()};e.$26=function(){var a=this,b=this.$27();return this.$28(function(a){return{data:{client_cast_session:b,version:h},num:a,target:"version",timestamp:Date.now(),type:"version_request"}}).then(function(b){var c=b.messageNum;return a.$29(function(a){return a.response_num===c})}).then(function(a){if(a.type!=="version_response")throw c("unrecoverableViolation")('Response message was not a "version_response"',"comet_cast_sender");if(a.data==null)throw c("unrecoverableViolation")("Version response is missing data","comet_cast_sender");return a.data})};e.$24=function(a,b,d){var e=this,f=this.$27();return this.$28(function(c){return{data:{client_cast_session:f,name:a,params:b,payload:d,version:h},num:c,target:"version_launch",timestamp:Date.now(),type:"version_launch"}}).then(function(a){var b=a.messageNum;return e.$29(function(a){return a.response_num===b})}).then(function(a){if(a.type!=="version_launch_response")throw c("unrecoverableViolation")('Response message was not a "version_launch_response"',"comet_cast_sender");if(a.data==null)throw c("unrecoverableViolation")("Version launch response is missing data","comet_cast_sender");return a.data})};e.$30=function(){var a=this;return this.$6!=null?b("Promise").resolve(this.$6):this.getSession().then(function(b){return a.$26()}).then(function(b){var d=null;typeof b.currently_running_experience==="object"&&(d=b.currently_running_experience);if(d==null)throw c("unrecoverableViolation")("Session has no target","comet_cast_sender");a.$6=d;return a.$6})};e.$27=function(){var a=null;localStorage&&(a=localStorage.getItem("CastingSessionKey"));a==null&&(a=c("Random").uint32().toString(16),localStorage&&localStorage.setItem("CastingSessionKey",a));return a};e.$28=function(a){var b=this.$3+=2;return this.getSession().then(function(d){if(d==null)throw c("unrecoverableViolation")("The message can not be sent without a session","comet_cast_sender");var e=a(b);return d.sendMessage(e)}).then(function(){return{messageNum:b}})};e.$29=function(a){return this.getSession().then(function(e){if(e==null)throw c("unrecoverableViolation")("The message cannot be received without a session","comet_cast_sender");return new(b("Promise"))(function(b,c){var f=e.onMessage(function(e){try{e=d("TV2CommsParseUtils").parseTV2CommsFBAppOutboundMessageFromJSON(e);if(e.type==="version_response"||e.type==="version_launch_response"||e.type==="experience_state"||e.type==="command_result"){var g=!a||a(e);g&&(f.remove(),b(e))}}catch(a){f.remove(),c(a)}})})})};e.$25=function(a,b,d,e){var f=this;return this.$30().then(function(c){return f.$28(function(f){return{data:{cmd:a,name:e,params:b,payload:d},num:f,target:c,timestamp:Date.now(),type:"experience_command"}})}).then(function(a){var b=a.messageNum;return f.$29(function(a){return a.response_num===b})}).then(function(a){if(a.type!=="command_result")throw c("unrecoverableViolation")('Response message was not a "command_result"',"comet_cast_sender");return a.data})};e.$23=function(){var a=this;return this.$4.getSession().then(function(b){a.$5==null&&(a.$5=b);return a.$5})};e.$22=function(a){var b=this;this.$5=a;var e="extension";this.$8&&(e="site");c("promiseDone")(this.$26().then(function(c){var f=c.success;if(!f)return;var g=null;typeof c.currently_running_experience==="object"&&(g=c.currently_running_experience);g!=null&&(b.$6=g);b.$18.slice().forEach(function(c){c(a,{session:a,source:e,success:f,target:b.$6})});b.$10=a.onMessage(function(a){try{var c=d("TV2CommsParseUtils").parseTV2CommsFBAppOutboundMessageFromJSON(a);b.$17.slice().forEach(function(a){a(c)})}catch(a){b.$11.slice().forEach(function(b){b(a,"CastingReceiverManager._onSessionStartedHandler")})}})}))};e.$21=function(){this.$10!=null&&(this.$10.remove(),this.$10=null);var a=this.$5;a!=null&&a.destroy();this.$5=null;this.$6=null};e.onError=function(a){var b=this.$11;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onExperienceNotSupported=function(a){var b=this.$12;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onExperienceReady=function(a){var b=this.$13;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onReceiverDisconnected=function(a){var b=this.$14;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onReceiverStatusChanged=function(a){var b=this.$15;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionDisconnected=function(a){var b=this.$16;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionMessage=function(a){var b=this.$17;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onSessionStarted=function(a){var b=this.$18;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};e.onStopView=function(a){var b=this.$19;b.push(a);return{remove:function(){c("removeFromArray")(b,a)}}};return a}();g["default"]=a}),98);
__d("CastingControllerHooks",["CastingContext","CastingController","CastingEventReporter","CastingReceiverManager","CurrentUser","ExecutionEnvironment","Promise","guid","qex","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";f=d("react");var h=f.useContext,i=f.useEffect,j=f.useState,k=null,l=c("qex")._("1648");function m(){if(k!=null)return k;if(l==null)throw c("unrecoverableViolation")("Use useIsCastAvailable first to check if casting feature is available in this browser.","comet_cast_sender");var a=new(c("CastingReceiverManager"))(l),b=c("guid")(),d=new(c("CastingController"))(a,b);b=new(c("CastingEventReporter"))(b);b.bindToCastingController(d);k={castingController:d,castingEventReporter:b,castingReceiverManager:a};return k}function n(){var a=o();a=a.castingReceiverManager;return a}function o(){if(c("ExecutionEnvironment").canUseDOM&&c("CurrentUser").isLoggedIn())return m();throw new(b("Promise"))(function(){})}function p(){var a=o();a=a.castingController;return a}function a(){var a=n(),b=h(d("CastingContext").SetCastingControllerContext),c=j(!1),e=c[0],f=c[1];c=j(!1);var g=c[0],k=c[1];i(function(){var b=a.onExperienceReady(function(){f(a.hasSupport()||!1)});f(a.hasSupport()||!1);return function(){return b.remove()}},[a]);i(function(){var b=a.onReceiverStatusChanged(function(){k(a.hasFoundReceiver()||!1)});k(a.hasFoundReceiver()||!1);return function(){return b.remove()}},[a]);if(l==null)return!1;if(b==null)return!1;if(!e)return!1;return!g?!1:!0}function e(){var a=p(),b=h(d("CastingContext").SetCastingControllerContext);if(b==null)throw c("unrecoverableViolation")("Casting has to be initialized inside CastingProvider.","comet_cast_sender");i(function(){b(a)},[b,a])}g.useCastingController=p;g.useIsCastAvailable=a;g.useCastingInitializeIfNecessary=e}),98);
__d("VideoPlayerSettingsMenuQualityPaneToggle.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerSettingsMenu.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={chevronRight:{display:"x3nfvp2",marginBottom:"xmgb6t1",marginStart:"x12mruv9",$$css:!0},label:{cursor:"x1ypdohk",fontWeight:"x1s688f",$$css:!0},option:{alignItems:"x6s0dn4",color:"x14ctfv",cursor:"x1ypdohk",display:"x78zum5",flexGrow:"x1bhwmg6",justifyContent:"x13a6bvl",marginStart:"x1i64zmx",minWidth:"x450l9j",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=a.selectedVideoQuality,e=a.setPane;a=a.targetVideoQuality;return j.jsxs(c("CometPressable.react"),{onPress:function(){e(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.QUALITY)},testid:void 0,xstyle:k.pressableOption,children:[j.jsx("div",{className:"x1ypdohk x1s688f",children:h._("__JHASH__0EdCFWvij7o__JHASH__")}),j.jsxs("div",{className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x1i64zmx x450l9j",children:[b==="notselected"?j.jsx("span",{"data-testid":void 0,children:"\xa0"}):b==="auto"?j.jsxs(j.Fragment,{children:[j.jsx("span",{"data-testid":void 0,children:h._("__JHASH__hdERtczUAO6__JHASH__")}),a!=null?j.jsxs(j.Fragment,{children:[j.jsx("span",{children:"\xa0"}),j.jsx("span",{"data-testid":void 0,children:a})]}):null]}):j.jsx("span",{"data-testid":void 0,children:b}),j.jsx("span",{className:"x3nfvp2 xmgb6t1 x12mruv9",children:j.jsx(c("CometImage.react"),{src:i("480587")})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LiveVideoLatencyMenu.react",["fbt","CometRelay","LiveVideoLatencyMenuContextProvider_video.graphql","VideoPlayerHooks","gkx","react","recoverableViolation","useSelectedLatencySetting"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useMemo,l=h._("__JHASH__bTzlM2_yLZR__JHASH__"),m=c("gkx")("3681")?[o("ultra-low"),o("low"),o("normal")]:[o("low"),o("normal")],n=j.createContext({liveVideoLatencyMenuPaneMatchPointer:null,liveVideoLatencyMenuPaneToggleMatchPointer:null});function o(a){switch(a){case"low":return{description:h._("__JHASH__Wdbuy3igQMj__JHASH__"),title:h._("__JHASH__dCQb4PMifya__JHASH__"),value:a};case"normal":return{description:h._("__JHASH__dcU5TOtw40F__JHASH__"),title:h._("__JHASH__PL-fSmiQjO2__JHASH__"),value:a};case"ultra-low":return{description:h._("__JHASH__99h8y4YbicW__JHASH__"),title:h._("__JHASH__U6zABNuSUIw__JHASH__"),value:a};default:a;c("recoverableViolation")("Setting "+a+" is not valid","gaming_video");return{description:h._("__JHASH__TWLERIjePxH__JHASH__"),title:h._("__JHASH__TWLERIjePxH__JHASH__"),value:a}}}function a(a,b){var e=d("VideoPlayerHooks").useController(),f=d("VideoPlayerHooks").useLatencyLevel();a=c("useSelectedLatencySetting")(a,b);a[0];var g=a[1];b=o(f);a=b.title;b=function(a){f!==a&&(g(a),e.setLatencyLevel(a))};return{selectedLatencySetting:f,selectedLatencySettingTitle:a,setSelectedLatencySetting:b}}var p=i!==void 0?i:i=b("LiveVideoLatencyMenuContextProvider_video.graphql");function e(a){var b=a.children;a=a.video;var c=d("CometRelay").useFragment(p,a);a=k(function(){return c==null?{liveVideoLatencyMenuPaneMatchPointer:null,liveVideoLatencyMenuPaneToggleMatchPointer:null}:{liveVideoLatencyMenuPaneMatchPointer:c.if_viewer_can_use_latency_menu,liveVideoLatencyMenuPaneToggleMatchPointer:c.if_viewer_can_use_latency_menu_toggle}},[c]);return j.jsx(n.Provider,{value:a,children:b})}e.displayName=e.name+" [from "+f.id+"]";g.LATENCY_MENU_TITLE=l;g.LATENCY_SETTING_OPTIONS=m;g.LiveVideoLatencyMenuContext=n;g.getLiveVideoLatencySettingToInfoMapping=o;g.useLatencySettingState=a;g.LiveVideoLatencyMenuContextProvider=e}),98);
__d("VideoPlayerSettingsMenu.react",["fbt","$InternalEnum","CometErrorBoundary.react","CometKeys","CometPlaceholder.react","CometRelay","LiveVideoLatencyMenu.react","PlaybackSpeedExperiments","VideoPlayerHooks","VideoPlayerSettingsMenuMainPane.react","VideoPlayerSettingsMenuPlaybackSpeedPane.react","VideoPlayerSettingsMenuQualityPane.react","cr:104","react","recoverableViolation","useLayerKeyCommands"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useContext,l=e.useEffect,m=e.useMemo,n=e.useRef,o=e.useState,p=b("$InternalEnum")({LATENCY:"latency",MAIN:"main",PLAYBACK_SPEED:"playbackSpeed",QUALITY:"quality",AUDIO:"audio"});function a(a){var e=a.children;e=e===void 0?null:e;var f=a.onClose;a=d("VideoPlayerHooks").useCaptionsLoaded();var g=d("VideoPlayerHooks").useCaptionsVisible(),q=d("VideoPlayerHooks").useSelectedVideoQuality(),r=d("VideoPlayerHooks").useSelectedAudioTrackID(),s=d("VideoPlayerHooks").useAvailableAudioTracks(),t=d("VideoPlayerHooks").useInbandCaptionsAutogenerated(),u=d("VideoPlayerHooks").useTargetVideoQuality(),v=o(p.MAIN),w=v[0],x=v[1];v=o(g);g=v[0];v=v[1];var y=d("VideoPlayerHooks").usePlaybackRate(),z=d("VideoPlayerHooks").useIsLive(),A=d("VideoPlayerHooks").useIsLiveRewindActive(),B=k(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContext);B=B.liveVideoLatencyMenuPaneMatchPointer;var C=d("VideoPlayerHooks").useShouldShowPlaybackRateControl();C=!!d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControlPublicTest()&&C;l(function(){z&&!A&&w===p.PLAYBACK_SPEED&&x(p.MAIN)},[A,x,z,w]);l(function(){s.length<=1&&x(p.MAIN)},[s]);var D=n(null),E=n(null),F=j(function(a){D.current&&E.current&&a.target instanceof HTMLElement&&document.contains(a.target)&&!D.current.contains(a.target)&&E.current.contains(a.target)&&f()},[f]);l(function(){document.addEventListener("click",F);return function(){document.removeEventListener("click",F)}},[F]);var G=m(function(){return[{command:{key:c("CometKeys").ESCAPE},description:h._("__JHASH__hGEFqYmPW2a__JHASH__"),handler:function(){f()}}]},[f]);c("useLayerKeyCommands")(G);G=s.find(function(a){return a.id===r});a=i.jsx(c("VideoPlayerSettingsMenuMainPane.react"),{availableAudioTracks:s,captionsLoaded:a,captionsVisibleOptimistic:g,inbandCaptionsAutogenerated:t,playbackRate:y,selectedAudioTrack:G,selectedVideoQuality:q,setIsCaptionsVisible:v,setPane:x,shouldEnablePlaybackRateSupport:C,targetVideoQuality:u,children:e});switch(w){case p.LATENCY:if(B==null){c("recoverableViolation")("Latency components should not be null","gaming_video");break}a=i.jsx(c("CometErrorBoundary.react"),{children:i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("CometRelay").MatchContainer,{match:B,props:{setPane:x}})})});break;case p.MAIN:break;case p.PLAYBACK_SPEED:a=i.jsx(c("VideoPlayerSettingsMenuPlaybackSpeedPane.react"),{playbackRate:y,setPane:x});break;case p.QUALITY:a=i.jsx(c("VideoPlayerSettingsMenuQualityPane.react"),{selectedVideoQuality:q,setPane:x});break;case p.AUDIO:a=b("cr:104")?i.jsx(b("cr:104"),{availableAudioTracks:s,selectedAudioTrackID:r,setPane:x}):null;break}return i.jsxs(i.Fragment,{children:[i.jsx("div",{ref:D,children:a}),i.jsx("div",{className:"xjbqb8w x5yr21d xg6iff7 x1g81zrj xixxii4 x17qophe x13vifvy xh8yej3 x8knxv4","data-testid":void 0,ref:E})]})}a.displayName=a.name+" [from "+f.id+"]";g.VideoPlayerSettingsMenuPaneType=p;g.VideoPlayerSettingsMenu=a}),98);
__d("VideoPlayerSettingsMenuAudioTrackPaneToggle.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerSettingsMenu.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={chevronRight:{display:"x3nfvp2",marginBottom:"xmgb6t1",marginStart:"x12mruv9",$$css:!0},label:{cursor:"x1ypdohk",fontWeight:"x1s688f",$$css:!0},option:{alignItems:"x6s0dn4",color:"x14ctfv",cursor:"x1ypdohk",display:"x78zum5",flexGrow:"x1bhwmg6",justifyContent:"x13a6bvl",marginStart:"x1i64zmx",minWidth:"x450l9j",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=a.selectedAudioTrack,e=a.setPane;return j.jsxs(c("CometPressable.react"),{onPress:function(){e(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.AUDIO)},testid:void 0,xstyle:k.pressableOption,children:[j.jsx("div",{className:"x1ypdohk x1s688f",children:h._("__JHASH__Yo1K4tyDPVM__JHASH__")}),j.jsxs("div",{className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x1i64zmx x450l9j",children:[b?j.jsx("span",{"data-testid":void 0,children:b.displayLabel}):j.jsx("span",{"data-testid":void 0,children:h._("__JHASH__0YizY_yJ3be__JHASH__")}),j.jsx("span",{className:"x3nfvp2 xmgb6t1 x12mruv9",children:j.jsx(c("CometImage.react"),{src:i("480587")})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerSettingsMenuMainPane.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","FocusRegion.react","LiveVideoLatencyMenu.react","VideoPlayerSettingsMenuAudioTrackPaneToggle.react","VideoPlayerSettingsMenuPlaybackPaneToggle.react","VideoPlayerSettingsMenuQualityPaneToggle.react","focusScopeQueries","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var b=a.availableAudioTracks,e=a.children,f=a.playbackRate,g=a.selectedAudioTrack,j=a.selectedVideoQuality,k=a.setPane,l=a.shouldEnablePlaybackRateSupport;a=a.targetVideoQuality;var m=i(d("LiveVideoLatencyMenu.react").LiveVideoLatencyMenuContext);m=m.liveVideoLatencyMenuPaneToggleMatchPointer;b=c("gkx")("3146")&&b.length>1;return h.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:h.jsxs("div",{"data-testid":void 0,children:[h.jsx("div",{className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv",children:h.jsx(c("VideoPlayerSettingsMenuQualityPaneToggle.react"),{selectedVideoQuality:j,setPane:k,targetVideoQuality:a})}),b&&h.jsx("div",{className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv",children:h.jsx(c("VideoPlayerSettingsMenuAudioTrackPaneToggle.react"),{selectedAudioTrack:g,setPane:k})}),h.jsx("div",{className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv",children:h.jsx(c("VideoPlayerSettingsMenuPlaybackPaneToggle.react"),{playbackRate:f,setPane:k,shouldEnablePlaybackRateSupport:l})}),m!=null&&h.jsx("div",{className:"x14ctfv x78zum5 x1hoihq8 x1lku1pv",children:h.jsx(c("CometErrorBoundary.react"),{children:h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(d("CometRelay").MatchContainer,{match:m,props:{setPane:k}})})})}),e]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerSettingsMenuPlaybackPaneToggle.react",["fbt","ix","CometImage.react","CometPressable.react","VideoPlayerSettingsMenu.react","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={chevronRight:{display:"x3nfvp2",marginBottom:"xmgb6t1",marginStart:"x12mruv9",$$css:!0},label:{cursor:"x1ypdohk",fontWeight:"x1s688f",$$css:!0},option:{alignItems:"x6s0dn4",color:"x14ctfv",cursor:"x1ypdohk",display:"x78zum5",flexGrow:"x1bhwmg6",justifyContent:"x13a6bvl",marginStart:"x1i64zmx",minWidth:"x450l9j",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0}};function a(a){var b=a.playbackRate,e=a.setPane;a=a.shouldEnablePlaybackRateSupport;return!a?null:j.jsxs(c("CometPressable.react"),{onPress:function(){e(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.PLAYBACK_SPEED)},testid:void 0,xstyle:k.pressableOption,children:[j.jsx("div",{className:"x1ypdohk x1s688f",children:h._("__JHASH__8IenQAQlVCL__JHASH__")}),j.jsxs("div",{className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x1i64zmx x450l9j",children:[j.jsx("span",{"data-testid":void 0,children:b}),j.jsx("span",{className:"x3nfvp2 xmgb6t1 x12mruv9",children:j.jsx(c("CometImage.react"),{src:i("480587")})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerSettingsMenuPlaybackSpeedPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={chevronLeft:{display:"x3nfvp2",marginBottom:"xmgb6t1",marginStart:"x139jcc6",$$css:!0},menuHeading:{alignItems:"x6s0dn4",color:"x14ctfv",cursor:"x1ypdohk",display:"x78zum5",fontWeight:"x1s688f",":hover_textDecoration":"x1lku1pv",$$css:!0},menuLabel:{cursor:"x1ypdohk",display:"x1rg5ohu",$$css:!0},menuOption:{marginStart:"x17adc0v",marginTop:"x1anpbxc",$$css:!0},menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingEnd:"x4uap5",paddingBottom:"xg8j3zb",paddingStart:"xkhd6sd",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0},radio:{backgroundColor:"x17j41np",borderTopStartRadius:"x1ykpwxx",borderTopEndRadius:"x118zf8b",borderBottomEndRadius:"xnwxkdh",borderBottomStartRadius:"xfocsrx",display:"x1rg5ohu",marginBottom:"xmgb6t1",marginEnd:"xmo9yow",paddingTop:"x1yrsyyn",paddingEnd:"xsyo7zv",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l",$$css:!0},radioDot:{backgroundColor:"x14hiurz",borderTopStartRadius:"x8u2fvd",borderTopEndRadius:"x1ht7hnu",borderBottomEndRadius:"x1quq95r",borderBottomStartRadius:"x5yzy4c",display:"x1rg5ohu",height:"xqu0tyb",marginStart:"x8182xy",marginTop:"x1kgmq87",position:"x10l6tqk",width:"x51ohtg",$$css:!0},selectedOption:{fontWeight:"x1s688f",$$css:!0}};function a(a){var b=a.playbackRate,e=a.setPane,f=d("VideoPlayerHooks").useController();return j.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:j.jsxs("div",{"data-testid":void 0,children:[j.jsx("div",{className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv",children:j.jsxs(c("CometPressable.react"),{onPress:function(){return e(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},testid:void 0,xstyle:k.pressableOption,children:[" ",j.jsx("span",{className:"x3nfvp2 xmgb6t1 x139jcc6",children:j.jsx(c("CometImage.react"),{src:i("480579")})}),h._("__JHASH__8IenQAQlVCL__JHASH__")]})}),j.jsx("div",{className:"x17adc0v x1anpbxc","data-testid":void 0,children:[.5,.75,1,1.25,1.5,1.75,2].map(function(a){var d=b===a,e=h._("__JHASH__uy1byBD2qL2__JHASH__",[h._param("playback_rate_option",a),h._param("is_playback_rate_option_selected",d?", selected":"")]);return j.jsx("div",{children:j.jsxs(c("CometPressable.react"),{"aria-checked":d,"aria-label":e,onPress:function(){f.setPlaybackRate(a)},testid:void 0,xstyle:k.menuOptionRow,children:[j.jsx("div",{className:"x17j41np x1ykpwxx x118zf8b xnwxkdh xfocsrx x1rg5ohu xmgb6t1 xmo9yow x1yrsyyn xsyo7zv x10b6aqq x16hj40l",children:d&&j.jsx("div",{className:"x14hiurz x8u2fvd x1ht7hnu x1quq95r x5yzy4c x1rg5ohu xqu0tyb x8182xy x1kgmq87 x10l6tqk x51ohtg","data-testid":void 0})}),j.jsx("div",{className:c("stylex")(k.menuLabel,d&&k.selectedOption),"data-testid":void 0,children:a})]})},a)})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerSettingsMenuQualityPane.react",["fbt","ix","CometImage.react","CometPressable.react","FocusRegion.react","VideoPlayerHooks","VideoPlayerSettingsMenu.react","focusScopeQueries","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={chevronLeft:{alignItems:"x6s0dn4",display:"x3nfvp2",marginBottom:"xmgb6t1",marginStart:"x139jcc6",$$css:!0},menuHeading:{alignItems:"x6s0dn4",color:"x14ctfv",cursor:"x1ypdohk",display:"x78zum5",fontWeight:"x1s688f",":hover_textDecoration":"x1lku1pv",$$css:!0},menuLabel:{cursor:"x1ypdohk",display:"x1rg5ohu",$$css:!0},menuOption:{marginStart:"x17adc0v",marginTop:"x1anpbxc",$$css:!0},menuOptionRow:{color:"x14ctfv",display:"x1lliihq",minWidth:"xfvyar9",outline:"x1a2a7pz",paddingTop:"xyqdw3p",paddingEnd:"x4uap5",paddingBottom:"xg8j3zb",paddingStart:"xkhd6sd",textAlign:"x1yc453h",$$css:!0},pressableOption:{width:"xh8yej3",$$css:!0},radio:{backgroundColor:"xiakxrv",borderTopStartRadius:"x1ykpwxx",borderTopEndRadius:"x118zf8b",borderBottomEndRadius:"xnwxkdh",borderBottomStartRadius:"xfocsrx",display:"x1rg5ohu",marginBottom:"xmgb6t1",marginEnd:"xmo9yow",paddingTop:"x1yrsyyn",paddingEnd:"xsyo7zv",paddingBottom:"x10b6aqq",paddingStart:"x16hj40l",$$css:!0},radioDot:{backgroundColor:"x14hiurz",borderTopStartRadius:"x8u2fvd",borderTopEndRadius:"x1ht7hnu",borderBottomEndRadius:"x1quq95r",borderBottomStartRadius:"x5yzy4c",display:"x1rg5ohu",height:"xqu0tyb",marginStart:"x8182xy",marginTop:"x1kgmq87",position:"x10l6tqk",width:"x51ohtg",$$css:!0},selectedOption:{fontWeight:"x1s688f",$$css:!0}};function a(a){var b=a.selectedVideoQuality,e=a.setPane;a=d("VideoPlayerHooks").useAvailableVideoQualities();var f=d("VideoPlayerHooks").useIsAbrEnabled(),g=d("VideoPlayerHooks").useController();return j.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,recoverFocusQuery:d("focusScopeQueries").headerFirstTabbableSecondScopeQuery,children:j.jsxs("div",{"data-testid":void 0,children:[j.jsx("div",{className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1s688f x1lku1pv",children:j.jsxs(c("CometPressable.react"),{onPress:function(){return e(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.MAIN)},testid:void 0,xstyle:k.pressableOption,children:[j.jsx("span",{className:"x6s0dn4 x3nfvp2 xmgb6t1 x139jcc6",children:j.jsx(c("CometImage.react"),{src:i("480579")})}),h._("__JHASH__0EdCFWvij7o__JHASH__")]})}),j.jsxs("div",{className:"x17adc0v x1anpbxc","data-testid":void 0,children:[f?j.jsx("div",{children:j.jsxs(c("CometPressable.react"),{onPress:function(){g.selectVideoQuality("auto")},testid:void 0,xstyle:k.menuOptionRow,children:[j.jsx("div",{className:"xiakxrv x1ykpwxx x118zf8b xnwxkdh xfocsrx x1rg5ohu xmgb6t1 xmo9yow x1yrsyyn xsyo7zv x10b6aqq x16hj40l",children:b==="auto"&&j.jsx("div",{className:"x14hiurz x8u2fvd x1ht7hnu x1quq95r x5yzy4c x1rg5ohu xqu0tyb x8182xy x1kgmq87 x10l6tqk x51ohtg","data-testid":void 0})}),j.jsx("div",{className:c("stylex")(k.menuLabel,b==="auto"&&k.selectedOption),"data-testid":void 0,children:h._("__JHASH__pan0Y10zXIi__JHASH__")})]})},"auto"):null,a.map(function(a){var d=b===a;return j.jsx("div",{children:j.jsxs(c("CometPressable.react"),{onPress:function(){g.selectVideoQuality(a)},testid:void 0,xstyle:k.menuOptionRow,children:[j.jsx("div",{className:"xiakxrv x1ykpwxx x118zf8b xnwxkdh xfocsrx x1rg5ohu xmgb6t1 xmo9yow x1yrsyyn xsyo7zv x10b6aqq x16hj40l",children:d&&j.jsx("div",{className:"x14hiurz x8u2fvd x1ht7hnu x1quq95r x5yzy4c x1rg5ohu xqu0tyb x8182xy x1kgmq87 x10l6tqk x51ohtg","data-testid":void 0})}),j.jsx("div",{className:c("stylex")(k.menuLabel,d&&k.selectedOption),"data-testid":void 0,children:a})]})},a)}).reverse()]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerCastControlIcon.react",["fbt","ix","CastingControllerHooks","CometRelay","CometWatchAndScrollVideoContext","JSResourceForInteraction","VideoPlayerControlIcon.react","VideoPlayerHooks","emptyFunction","fbicon","react","recoverableViolation","useCometLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useContext,m=c("JSResourceForInteraction")("CometCastingStopWatchAndScrollDialog.react").__setRef("VideoPlayerCastControlIcon.react");function a(a){var b=a.subOrigin;d("CastingControllerHooks").useCastingInitializeIfNecessary();var e=(a=d("VideoPlayerHooks").useVideoFbid())!=null?a:"",f=d("VideoPlayerHooks").useController(),g=d("CometRelay").useRelayEnvironment(),n=d("CastingControllerHooks").useCastingController();a=l(c("CometWatchAndScrollVideoContext"));var o=c("useCometLazyDialog")(m),p=o[0],q=a==null?void 0:a.videoID,r=k(function(){if(e!=null){var a=f.getPlayheadPosition();n.startPlayVideoNow({environment:g,origin:"video_home",position:a,subOrigin:b,videoID:e})}else c("recoverableViolation")("Could not transition to Cast player because videoID was null","comet_video_player")},[n,g,b,f,e]);o=k(function(){q!=null?p({onClose:c("emptyFunction"),onContinue:r,startingVideoType:"cast"},c("emptyFunction")):r()},[p,r,q]);a=h._("__JHASH__n4AAlvyuR-n__JHASH__");return j.jsx(c("VideoPlayerControlIcon.react"),{color:"white",icon:d("fbicon")._(i("788899"),20),label:a,onPress:o,tooltip:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerCastControl.react",["CastingControllerHooks","VideoPlayerCastControlIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.subOrigin;var b=d("CastingControllerHooks").useIsCastAvailable();return!b?null:h.jsx(c("VideoPlayerCastControlIcon.react"),{subOrigin:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerCastControlShimImpl.modern.react",["deferredLoadComponent","react","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";d("react");a=c("deferredLoadComponent")(c("requireDeferred")("VideoPlayerCastControl.react").__setRef("VideoPlayerCastControlShimImpl.modern.react"));g["default"]=a}),98);
__d("VideoPlayerSettingsControl.react",["fbt","ix","VideoPlayerControlIcon.react","VideoPlayerDefaultControlsProperties","VideoPlayerSettingsMenu.react","VideoPlayerUserInteractionCounter","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useState,l={alignToEnd:{right:"x3m8u43",$$css:!0},"default":{display:"x1rg5ohu",marginTop:"x1k70j0n",marginEnd:"x1w0mnb",marginBottom:"xzueoph",marginStart:"x1mnrxsn",$$css:!0},menu:{backgroundColor:"xjb1437",bottom:"xacj9c0",color:"x14ctfv",marginLeft:"x89ytp0",paddingTop:"x889kno",paddingEnd:"x1ou2tus",paddingBottom:"x1a8lsjc",paddingStart:"x1egjynq",position:"x10l6tqk",right:"x1fwd5yv",$$css:!0},menuCompact:{right:"xwjie4w",$$css:!0},positionRelative:{position:"x1n2onr6",whiteSpace:"xuxw1ft",$$css:!0}};a=j.forwardRef(function(a,b){var e=a.alignMenuToIcon;e=e===void 0?!1:e;var f=a.children;f=f===void 0?null:f;var g=a.compactMenu,m=a.icon,n=a.menuOpened,o=a.onMenuOpen,p=a.onUserInteraction,q=a.setMenuOpened;a=k(!1);var r=a[0],s=a[1];a=h._("__JHASH__uL7pUaxPcnz__JHASH__");var t=q!=null;d("VideoPlayerUserInteractionCounter").useVideoPlayerUserInteraction("video_settings_menu",t?n===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU:r,p);var u=t?n===d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU:r;return j.jsxs("div",{className:c("stylex")(l["default"],e===!0&&l.positionRelative),ref:b,children:[u&&j.jsx("div",{className:c("stylex")(l.menu,g===!0&&l.menuCompact,e===!0&&l.alignToEnd),children:j.jsx(d("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenu,{onClose:function(){t?q!=null&&q(null):s(!1)},children:f})}),j.jsx(c("VideoPlayerControlIcon.react"),{icon:m==null?d("fbicon")._(i("497567"),20):m,label:a,onPress:function(){t?q!=null&&q(u?null:d("VideoPlayerDefaultControlsProperties").VideoMenuType.VIDEO_SETTINGS_MENU):s(!r),!u&&o!=null&&o()},tooltip:a})]})});a.displayName="VideoPlayerSettingsControl";b=a;g["default"]=b}),98);
__d("VideoPlayerCometFeedStoryControlsImplLive.react",["CometRelay","VideoPlayerCometFeedStoryControlsImplLive_video.graphql","VideoPlayerLiveVideoControls.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.disablePlaybackControls,f=a.expandControl,g=a.isAdVideo,j=a.isControlsVisible,k=a.isExpandControlVisible,l=a.isVolumeControlVisible,m=a.isWatchAndScrollControlVisible,n=a.isWatchAndScrollDisabled,o=a.onUserInteraction,p=a.reactionVideoChannelType,q=a.shouldHideRewindControls,r=a.subOrigin,s=a.video;a=a.videoTahoeUrl;s=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerCometFeedStoryControlsImplLive_video.graphql"),s);var t=c("gkx")("976093");return i.jsx(c("VideoPlayerLiveVideoControls.react"),{disablePlaybackControls:e,expandControl:f,isControlsVisible:j,isExpandControlVisible:k,isVolumeControlVisible:l,isWatchAndScrollControlVisible:m,onUserInteraction:o,reactionVideoChannelType:p,shouldHideRewindControls:q,shouldRenderCastControl:!g,shouldRenderWatchAndScrollControl:!t&&!g&&n!==!0,subOrigin:r,video:s,videoTahoeUrl:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerScrubberBottomWithPreview.react",["CometRelay","VideoPlayerScrubber.react","VideoPlayerScrubberBottomWithPreview_video.graphql","VideoPlayerScrubberPreview.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.onUserInteraction;a=a.video;var f=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberBottomWithPreview_video.graphql"),a);return i.jsx("i",{className:"x1ypdohk x1hc1fzr x10l6tqk x17qophe x13e46mh xh8yej3",children:i.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:e,renderTooltip:function(a){return i.jsx(c("VideoPlayerScrubberPreview.react"),{timestampSec:a,video:f})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerScrubberWithPreview.react",["CometRelay","VideoPlayerScrubber.react","VideoPlayerScrubberPreview.react","VideoPlayerScrubberWithPreview_video.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.onUserInteraction;a=a.video;var f=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberWithPreview_video.graphql"),a);return i.jsx(c("VideoPlayerScrubber.react"),{onUserInteraction:e,renderTooltip:function(a){return i.jsx(c("VideoPlayerScrubberPreview.react"),{timestampSec:a,video:f})},video:f})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useVideoPlayerPlaybackRateControlNUX",["cr:11881"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:11881")}),98);
__d("VideoPlayerCometFeedStoryControlsImplNotLive.react",["fbt","CometRelay","CometTrackingNodeProvider.react","PlaybackSpeedExperiments","VideoPlayerCaptionsControl.react","VideoPlayerCastControlShim.react","VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerHooks","VideoPlayerJoinOnPortalControl.react","VideoPlayerPlaybackControl.react","VideoPlayerPlaybackTimer.react","VideoPlayerScrubberBottomWithPreview.react","VideoPlayerScrubberWithPreview.react","VideoPlayerSettingsControl.react","VideoPlayerVolumeControl.react","VideoPlayerWatchAndScrollControl.react","cr:1790881","cr:1809777","emptyFunction","gkx","nux:31","react","useCurrentRouteBuilder","useVideoPlayerBigPlayButtonOverlay","useVideoPlayerPlaybackRateControlNUX"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useState,l=d("PlaybackSpeedExperiments").isInCometHeadroomTest()?b("cr:1790881"):null,m=d("PlaybackSpeedExperiments").isInCometHeadroomTest()?b("cr:1809777"):null,n={nux:{maxWidth:"xw5ewwj",$$css:!0}};function a(a){var e,f=a.disablePlaybackControls,g=a.expandControl,o=a.isAdVideo,p=a.isControlsVisible,q=a.isExpandControlVisible,r=a.isVolumeControlVisible,s=a.isWatchAndScrollControlVisible,t=a.isWatchAndScrollDisabled,u=a.onUserInteraction,v=a.subOrigin,w=a.video;a=a.videoTahoeUrl;w=d("CometRelay").useFragment(i!==void 0?i:i=b("VideoPlayerCometFeedStoryControlsImplNotLive_video.graphql"),w);var x=d("VideoPlayerHooks").useShouldShowPlaybackRateControl();x=d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControlNUX()&&["discover","entry_point"].includes(v)&&x;x=c("useVideoPlayerPlaybackRateControlNUX")(x);var y=x[0];x=x[1];var z=(w==null?void 0:w.recipient_group)!=null&&(w==null?void 0:w.captions_url)!=null;z=z;e=(e=b("nux:31")==null?void 0:b("nux:31")("comet_group_video_caption_setting"))!=null?e:c("emptyFunction");e=e({align:"end",arrowStyle:"inset",hasCloseButton:!0,label:h._("__JHASH__hNkQA-7yz1h__JHASH__"),position:"above",type:"accent",xstyle:n.nux},z);z=c("useVideoPlayerBigPlayButtonOverlay")();z=z.bigPlayButtonIsVisible;p=!e&&x||p;s=s||p||f===!0&&!z;q=q||f===!0&&!o&&!z;z=c("gkx")("976093");var A=d("VideoPlayerHooks").useCaptionsLoaded(),B=d("VideoPlayerHooks").useCaptionsVisible(),C=c("useCurrentRouteBuilder")();C=C==null?void 0:C.buildURL().toString();a=f!==!0&&a==null&&(C==null?void 0:C.includes("/watch/"))===!0;C=!z&&!o&&t!==!0&&w!=null?j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:s,children:j.jsx(c("VideoPlayerWatchAndScrollControl.react"),{subOrigin:v,video:w})}):null;z=j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:p,noPaddingEnd:!0,children:j.jsx(c("VideoPlayerJoinOnPortalControl.react"),{isVisible:p})});t=j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!e&&x||q,noPaddingEnd:!0,noPaddingStart:!0,children:g});s=k(null);x=s[0];q=s[1];return j.jsxs(c("VideoPlayerControlsContainerOverlay.react"),{isBackgroundVisible:p,children:[j.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:p,children:[j.jsx(c("VideoPlayerPlaybackControl.react"),{isNPC:a}),f===!0?null:j.jsx(c("VideoPlayerPlaybackTimer.react"),{}),l!=null?j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:p&&!f,children:j.jsx(l,{onUserInteraction:u})}):null]}),j.jsx(d("VideoPlayerControlsGroups.react").Expanded,{isVisible:p&&!f,children:j.jsx(c("VideoPlayerScrubberWithPreview.react"),{onUserInteraction:u,video:w})}),j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!1,children:j.jsx(c("VideoPlayerScrubberBottomWithPreview.react"),{onUserInteraction:u,video:w})}),j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:p&&!f,noPaddingEnd:!0,children:j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:257,children:j.jsx(c("VideoPlayerSettingsControl.react"),{menuOpened:x,onUserInteraction:u,ref:(g=e)!=null?g:y,setMenuOpened:q})})}),A?j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:p&&!f,children:j.jsx(c("VideoPlayerCaptionsControl.react"),{captionsVisible:B,menuOpened:x,onUserInteraction:u,setMenuOpened:q,video:w})}):null,!o&&w!=null?j.jsx(c("VideoPlayerCastControlShim.react"),{isVisible:p&&!f,subOrigin:v}):null,t,z,C,m!=null?j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,children:j.jsx(m,{enableNUX:d("PlaybackSpeedExperiments").enableCometPlaybackSpeedControlHeadroomTestNUX()&&["discover","entry_point"].includes(v),onUserInteraction:u})}):null,j.jsx(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:m?!0:r,noPaddingStart:!0,children:j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:114,children:j.jsx(c("VideoPlayerVolumeControl.react"),{onUserInteraction:u})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MusicClipPlayerPlaybackTimer.react",["VideoPlayerHooks","getFormattedTimestamp","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.endTimeSeconds,e=a.startTimeSeconds,f=a.timerTextXStyle;a=a.timerXStyle;var g=d("VideoPlayerHooks").useCurrentTimeThrottled(200);g=g-e;b=b-e;e=d("VideoPlayerHooks").usePlaying();e=g<=0&&!e?b:g;return h.jsx("div",{className:c("stylex")(a),children:h.jsx("span",{className:c("stylex")(f),children:c("getFormattedTimestamp")(e)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerDefaultControlsImplMusicClipConvertBoundsLogic",[],(function(a,b,c,d,e,f){"use strict";var g=1e3,h=0,i=30,j=30;function a(a,b){var c=h,d=i;a!=null&&b!=null&&(c=Math.round(a/g),d=Math.round(b/g));d>c+j&&(d=c+j);return{lower_s:c,upper_s:d}}f["default"]=a}),66);
__d("VideoPlayerDefaultControlsImplMusicClip.react",["CometRelay","MusicClipPlayerPlaybackTimer.react","VideoPlayerControlsContainerOverlay.react","VideoPlayerControlsGroups.react","VideoPlayerDefaultControlsImplMusicClipConvertBoundsLogic","VideoPlayerDefaultControlsImplMusicClip_video.graphql","VideoPlayerHooks","VideoPlayerPlaybackControl.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useEffect,k=e.useRef,l={controls:{alignItems:"x6s0dn4",bottom:"xn0vg7t",display:"x78zum5",end:"x1f00ac0",flexDirection:"x1q0g3np",justifyContent:"xl56j7k",position:"x10l6tqk",$$css:!0},timer:{color:"x14ctfv",display:"x1rg5ohu",fontSize:"x1pg5gke",fontVariantNumeric:"xss6m8b",lineHeight:"x7h9g57",marginEnd:"x1t4t16n",marginStart:"x8j4wrb",minWidth:"x9hgts1",textAlign:"x2b8uid",textShadow:"x27saw0",verticalAlign:"x3ajldb",$$css:!0},timerText:{fontWeight:"x1s688f",minWidth:"x15hfatp",$$css:!0}};function a(a){var e;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerDefaultControlsImplMusicClip_video.graphql"),a);e=a==null?void 0:(e=a.music_attachment_metadata)==null?void 0:e.start_time_ms;a=a==null?void 0:(a=a.music_attachment_metadata)==null?void 0:a.end_time_ms;e=c("VideoPlayerDefaultControlsImplMusicClipConvertBoundsLogic")(e,a);var f=e.lower_s,g=e.upper_s,m=d("VideoPlayerHooks").useController();j(function(){m.seek(f),m.pause("product_initiated")},[m,f]);var n=k(null);j(function(){var a=m.subscribe(function(){var a=m.getPlayheadPosition();a!==n.current&&(n.current=a,a>g&&(m.seek(f),m.pause("product_initiated")))});return function(){a.remove()}},[m,f,g]);a=i.jsxs(d("VideoPlayerControlsGroups.react").Contracted,{isVisible:!0,children:[i.jsx(c("MusicClipPlayerPlaybackTimer.react"),{endTimeSeconds:g,startTimeSeconds:f,timerTextXStyle:l.timerText,timerXStyle:l.timer}),i.jsx(c("VideoPlayerPlaybackControl.react"),{unmuteOnPlay:!0})]});return i.jsx("div",{className:"x6s0dn4 xn0vg7t x78zum5 x1f00ac0 x1q0g3np xl56j7k x10l6tqk",children:i.jsx(c("VideoPlayerControlsContainerOverlay.react"),{isVisible:!0,children:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useVideoPlayerPlaybackRateControlNUX.good",["emptyFunction","nux:87"],(function(a,b,c,d,e,f,g){"use strict";d=(a=b("nux:87")==null?void 0:b("nux:87")("comet_playback_speed_prompt_headroom_test"))!=null?a:c("emptyFunction").thatReturns([void 0,void 0]);g["default"]=d}),98);
__d("VideoPlayerWithVideoCardsOverlay.react",["CometPlaceholder.react","CometRelay","VideoPlayerWithVideoCardsOverlay_video.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=a.cardsHidden,f=a.surface;a=a.video;a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerWithVideoCardsOverlay_video.graphql"),a);return i.jsx(c("CometPlaceholder.react"),{fallback:null,children:i.jsx(d("CometRelay").MatchContainer,{match:a==null?void 0:a.comet_video_player_with_video_card_renderer,props:{cardsHidden:e,surface:f}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntryWithTagSuggestion_data",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],type:"SuggestedWithTagsEdge",abstractKey:null};e.exports=a}),null);
__d("createFeedCometMentionsDataEntryWithTag_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntryWithTag_data",selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"}],storageKey:null}],type:"FriendsEdge",abstractKey:null};e.exports=a}),null);
__d("createFeedCometMentionsDataEntry_data.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},d={kind:"Variable",name:"scale",variableName:"scale"},e={alias:"photo",args:[{kind:"Literal",name:"height",value:40},d,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},f={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},g=[a,b,e];return{argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntry_data",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[a,b,c,e,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[f],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[f,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:g,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[a,b,{alias:"thumbnail_link",args:[d],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:g,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[a,b,c,e],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[a,e],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:g,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:g,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:g,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null}}();e.exports=a}),null);
__d("createFeedCometMentionsDataEntry_profile.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{mask:!1},name:"createFeedCometMentionsDataEntry_profile",selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:"photo",args:[{kind:"Literal",name:"height",value:40},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],type:"Profile",abstractKey:"__isProfile"};e.exports=a}),null);
__d("useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6573211379407909"}),null);
__d("useFeedComposerCometMentionsBootloadDataSourceQuery.graphql",["useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"canUseSections"},c={defaultValue:null,kind:"LocalArgument",name:"include_viewer"},d={defaultValue:null,kind:"LocalArgument",name:"options"},e={defaultValue:null,kind:"LocalArgument",name:"scale"},f={defaultValue:null,kind:"LocalArgument",name:"typeaheadFirstDegreeFilters"},g={defaultValue:null,kind:"LocalArgument",name:"typeahead_context"},h=[{kind:"Variable",name:"include_viewer",variableName:"include_viewer"},{kind:"Variable",name:"options",variableName:"options"},{kind:"Variable",name:"typeahead_context",variableName:"typeahead_context"},{kind:"Variable",name:"types",variableName:"typeaheadFirstDegreeFilters"},{kind:"Variable",name:"use_sections",variableName:"canUseSections"}],i={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},m={kind:"Variable",name:"scale",variableName:"scale"},n={alias:"photo",args:[{kind:"Literal",name:"height",value:40},m,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},o={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},p=[j,k,n];o={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i,{kind:"InlineFragment",selections:[j,k,l,n,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[o],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[o,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:p,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[j,k,{alias:"thumbnail_link",args:[m],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[j,k,l,n],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[j,n],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:p,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:p,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:p,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null};m={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null};k={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g],kind:"Fragment",metadata:null,name:"useFeedComposerCometMentionsBootloadDataSourceQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[i,o,{kind:"InlineFragment",selections:[m,k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[o],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,d,e,g,f,a],kind:"Operation",name:"useFeedComposerCometMentionsBootloadDataSourceQuery",selections:[{alias:null,args:h,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_bootload",plural:!0,selections:[i,o,{kind:"InlineFragment",selections:[m,k,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[i,o],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}]},params:{id:b("useFeedComposerCometMentionsBootloadDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useFeedComposerCometMentionsBootloadDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useFeedComposerCometMentionsNetworkDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6077104932393637"}),null);
__d("useFeedComposerCometMentionsNetworkDataSourceQuery.graphql",["useFeedComposerCometMentionsNetworkDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"canUseSections"},c={defaultValue:null,kind:"LocalArgument",name:"context_id"},d={defaultValue:null,kind:"LocalArgument",name:"count"},e={defaultValue:null,kind:"LocalArgument",name:"enable_type_selection"},f={defaultValue:null,kind:"LocalArgument",name:"include_viewer"},g={defaultValue:null,kind:"LocalArgument",name:"mentionTypes"},h={defaultValue:null,kind:"LocalArgument",name:"query"},i={defaultValue:null,kind:"LocalArgument",name:"scale"},j={defaultValue:null,kind:"LocalArgument",name:"typeahead_context"},k=[{kind:"Variable",name:"context_id",variableName:"context_id"},{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"enable_type_selection",variableName:"enable_type_selection"},{kind:"Variable",name:"include_viewer",variableName:"include_viewer"},{kind:"Variable",name:"query",variableName:"query"},{kind:"Variable",name:"typeahead_context",variableName:"typeahead_context"},{kind:"Variable",name:"types",variableName:"mentionTypes"},{kind:"Variable",name:"use_sections",variableName:"canUseSections"}],l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},p={kind:"Variable",name:"scale",variableName:"scale"},q={alias:"photo",args:[{kind:"Literal",name:"height",value:40},p,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},r={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},s=[m,n,q];r={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},l,{kind:"InlineFragment",selections:[m,n,o,q,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[r],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[r,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:s,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[m,n,{alias:"thumbnail_link",args:[p],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:s,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:s,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[m,n,o,q],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[m,q],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:s,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:s,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:s,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null};p={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null};n={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null};o={kind:"InlineFragment",selections:[p,{alias:null,args:null,kind:"ScalarField",name:"types_to_show",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"icon_name",storageKey:null}],type:"XFBMentionsTypeSelectionEntry",abstractKey:null};m={kind:"InlineFragment",selections:[p,n],type:"XFBMentionsTypeResetEntry",abstractKey:null};return{fragment:{argumentDefinitions:[a,c,d,e,f,g,h,i,j],kind:"Fragment",metadata:null,name:"useFeedComposerCometMentionsNetworkDataSourceQuery",selections:[{alias:null,args:k,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[l,r,o,m,{kind:"InlineFragment",selections:[p,n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[r],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,d,f,h,i,j,g,a,c],kind:"Operation",name:"useFeedComposerCometMentionsNetworkDataSourceQuery",selections:[{alias:null,args:k,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[l,r,o,m,{kind:"InlineFragment",selections:[p,n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[l,r],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}]},params:{id:b("useFeedComposerCometMentionsNetworkDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useFeedComposerCometMentionsNetworkDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useFeedComposerCometMentionsNullstateDataSourceQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6646634732026556"}),null);
__d("useFeedComposerCometMentionsNullstateDataSourceQuery.graphql",["useFeedComposerCometMentionsNullstateDataSourceQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"count"},c={defaultValue:null,kind:"LocalArgument",name:"mentionTypes"},d={defaultValue:null,kind:"LocalArgument",name:"scale"},e={defaultValue:null,kind:"LocalArgument",name:"useSections"},f=[{kind:"Variable",name:"count",variableName:"count"},{kind:"Literal",name:"query",value:""},{kind:"Literal",name:"typeahead_context",value:"mentions"},{kind:"Variable",name:"types",variableName:"mentionTypes"},{kind:"Variable",name:"use_sections",variableName:"useSections"}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"mentions_subtext",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},k={kind:"Variable",name:"scale",variableName:"scale"},l={alias:"photo",args:[{kind:"Literal",name:"height",value:40},k,{kind:"Literal",name:"width",value:40}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},m={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},n=[h,i,l];m={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icon_shape",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g,{kind:"InlineFragment",selections:[h,i,j,l,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[m],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[m,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null}],type:"Group",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"User",abstractKey:null},{kind:"InlineFragment",selections:n,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},{kind:"InlineFragment",selections:[h,i,{alias:"thumbnail_link",args:[k],kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"doc_url",storageKey:null}],type:"KnowledgeHubDocumentData",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Group",abstractKey:null},{kind:"InlineFragment",selections:n,type:"Event",abstractKey:null},{kind:"InlineFragment",selections:[h,i,j,l],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[h,l],type:"ContextualProfile",abstractKey:"__isContextualProfile"},{kind:"InlineFragment",selections:n,type:"GroupRule",abstractKey:null},{kind:"InlineFragment",selections:n,type:"ProductItem",abstractKey:null},{kind:"InlineFragment",selections:n,type:"BatchMentions",abstractKey:null}],storageKey:null}],type:"CometComposerTypeaheadResultEntry",abstractKey:null};k={alias:null,args:null,kind:"ScalarField",name:"cache_id",storageKey:null};i={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null};return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"useFeedComposerCometMentionsNullstateDataSourceQuery",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[g,m,{kind:"InlineFragment",selections:[k,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[m],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,d,c,e],kind:"Operation",name:"useFeedComposerCometMentionsNullstateDataSourceQuery",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"comet_composer_typeahead_search",plural:!0,selections:[g,m,{kind:"InlineFragment",selections:[k,i,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entries",plural:!0,selections:[g,m],storageKey:null}],type:"XFBMentionsSectionEntry",abstractKey:null}],storageKey:null}]},params:{id:b("useFeedComposerCometMentionsNullstateDataSourceQuery_facebookRelayOperation"),metadata:{},name:"useFeedComposerCometMentionsNullstateDataSourceQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("getCometComposerMentionsSearchForLexical",["Lexical"],(function(a,b,c,d,e,f,g){"use strict";function h(a){a=a.anchor;if(a.type!=="text")return null;var b=a.getNode();if(!b.isSimpleText())return null;a=a.offset;return b.getTextContent().slice(0,a)}function a(a){var b=null;a.getEditorState().read(function(){var a=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(a))return;b=h(a)});return b}g["default"]=a}),98);
__d("createCometMentionsNameMatchStrategy",[],(function(a,b,c,d,e,f){"use strict";b="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";var g="\\b[A-Z][^\\s"+b+"]",h="\\b[a-z][^\\s"+b+"]";function a(a){var b=a.commonWordsBlocklist,c=a.minMatchLength;a=a.nameCase;var d=a==="capitalized"?g:h,e=new RegExp("(^|[^#])((?:"+d+"{"+1+",})$)");return{findMentionableString:function(a){a=e.exec(a);if(a===null)return null;var d=a[1],f=a[2];if(b.includes(f))return null;return f!=null&&f.length>=c?{leadOffset:a.index+d.length,matchingString:f,replaceableString:f}:null},name:"NameMentionStrategy("+c.toString()+", "+a+")"}}f["default"]=a}),66);
__d("DocumentMentionsRegex",[],(function(a,b,c,d,e,f){"use strict";a="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;";b="\\b[A-Z][^\\s"+a+"]";c={PUNCTUATION:a,NAME:b};d=c;f["default"]=d}),66);
__d("createCometMentionMatchStrategy",["DocumentMentionsRegex"],(function(a,b,c,d,e,f,g){"use strict";var h="(?:\\.[ |$]| |["+c("DocumentMentionsRegex").PUNCTUATION+"]|)",i=75;function j(a,b){b="[^"+a+b+"\\s]";var c=new RegExp("(^|\\s|\\()(["+a+"]((?:"+b+h+"){0,"+i+"}))$"),d=50;a=new RegExp("(^|\\s|\\()(["+a+"]((?:"+b+"){0,"+d+"}))$");return{regex:c,regexAlias:a}}function a(a){var b=a.minMatchLength,d=a.name,e=a.triggers,f=a.disallowedChars;f=f===void 0?c("DocumentMentionsRegex").PUNCTUATION:f;var g=a.disallowedTerms;a=j(e,f);var h=a.regex,i=a.regexAlias;return{findMentionableString:function(a){var c=h.exec(a);c===null&&(c=i.exec(a));if(c!==null){a=c[1];var d=c[3];if(g==null?void 0:g.includes(d.toLowerCase()))return null;if(d.length>=b)return{leadOffset:c.index+a.length,matchingString:d,replaceableString:c[2]}}return null},name:d}}g["default"]=a}),98);
__d("createCometAtSignComposerMentionsMatchStrategy",["createCometMentionMatchStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=["@","\\uff20"].join("");function a(a){a=a.minMatchLength;return c("createCometMentionMatchStrategy")({minMatchLength:a,name:"AtSignComposerMentionStrategy("+a.toString()+")",triggers:h})}g["default"]=a}),98);
__d("cometFeedComposerCometMentionsTypeSelectionPayloadDecorator",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=a.entries,c=b.filter(function(a){return g(a)});b=b.filter(function(a){return!g(a)});return babelHelpers["extends"]({},a,{entries:c.concat(b)})}function g(a){return a.type==="entry"&&(a.rawData.type==="MENTION_TYPE_SELECTION"||a.rawData.type==="MENTION_TYPE_RESET")}f["default"]=a}),66);
__d("createFeedCometMentionsDataEntry",["createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql","createFeedCometMentionsDataEntryWithTag_data.graphql","createFeedCometMentionsDataEntry_data.graphql","createFeedCometMentionsDataEntry_profile.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;h!==void 0?h:h=b("createFeedCometMentionsDataEntry_data.graphql");i!==void 0?i:i=b("createFeedCometMentionsDataEntryWithTag_data.graphql");j!==void 0?j:j=b("createFeedCometMentionsDataEntryWithTagSuggestion_data.graphql");k!==void 0?k:k=b("createFeedCometMentionsDataEntry_profile.graphql");function a(a){var b;b=a.data.node;if(b==null)return null;b=b;var c=b.id,d=b.name;b=b.photo;b=b==null?void 0:b.uri;var e;switch(a.data.icon_shape){case"square":e="square";break;case"roundedRect":e="roundedRect";break;default:e="circle";break}if(b==null&&a.type==="MENTION_SEARCH_RESULT"){var f;b=(f=a.data.node)==null?void 0:f.thumbnail_link;e="roundedRect"}if(d==null||c==null||b==null)return null;if(a.type==="MENTION_SEARCH_RESULT"){var g,h;f=a.data.score;if(f==null)return null;g=Boolean((g=a.data.node)==null?void 0:g.is_verified);return{key:c,label:d,rawData:{docTitle:(h=a.data.node)==null?void 0:h.doc_title,docUrl:(h=a.data.node)==null?void 0:h.doc_url,iconShape:e,isExternal:!1,isVerified:g,photoURI:b,resultType:(h=a.data.node)==null?void 0:h.__typename,score:f,subtext:(g=a.data.node)==null?void 0:g.mentions_subtext,type:"MENTION_SEARCH_RESULT"},type:"entry"}}return{key:c,label:d,rawData:{photoURI:b,type:a.type},type:"entry"}}g["default"]=a}),98);
__d("BaseTypeaheadLocalStorageDataProviderStorageKey",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a="_SearchBootstrapCache_";c=b("$InternalEnum").Mirrored(["FeedComposerMentionsIntentfulMentionsBootstrap","FeedComposerMentionsNonIntentfulMentionsBootstrap","FeedComposerMentionsWithTagBootstrap","GlobalTypeaheadBootstrapEntities","GlobalTypeaheadBootstrapKeywords"]);f.StorageKeyPrefix=a;f.StorageKey=c}),66);
__d("BaseTypeaheadLocalStorageDataProvider",["BaseTypeaheadDataProvider","BaseTypeaheadLocalStorageDataProviderStorageKey","Promise","WebStorage","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3*60*60*24;a=function(){function a(a){var b=a.storageKey,e=a.storageTimespan;e=e===void 0?h:e;a=babelHelpers.objectWithoutPropertiesLoose(a,["storageKey","storageTimespan"]);this.$1=new(c("BaseTypeaheadDataProvider"))(a);this.$3=b!=null?d("BaseTypeaheadLocalStorageDataProviderStorageKey").StorageKeyPrefix+b:null;this.$4=e;b=a.queryVariablesBuilder;this.$2=b}var e=a.prototype;e.fetch=function(a){var c=this,d=this.$3!=null?this.$5(a):null;if(d!=null){var e=this.$2.build();e=e(a);return b("Promise").resolve({requestQueryVariables:e,response:d})}return this.$1.fetch(a).then(function(b){var d=b.response;d!=null&&c.$3!=null&&c.$6(a,d);return b})};e.clearLocalStorage=function(){var a=this.$3,b=c("WebStorage").getLocalStorage();if(b==null||a==null)return;b.removeItem(a)};e.$5=function(a){var b=this.$3,d=c("WebStorage").getLocalStorage();if(d==null||b==null)return null;var e=d.getItem(b);if(e==null)return null;var f;try{f=JSON.parse(e)}catch(a){c("recoverableViolation")("Cannot deserialize bootstrap response from local storage due to error: "+a,"search")}if(f==null)return null;e=f;var g=e.queryVariables,h=e.response;e=e.timestamp;var i=this.$2.build();i=i(a);if(JSON.stringify(g)!==JSON.stringify(i)){d.removeItem(b);return null}a=Date.now();if(e+Number(this.$4)>=a)return h;d.removeItem(b);return null};e.$6=function(a,b){var d=this.$3,e=c("WebStorage").getLocalStorage();if(e==null||d==null)return;var f=this.$2.build();f=f(a);try{a=Date.now();f=JSON.stringify({queryVariables:f,response:b,timestamp:a});e.setItem(d,f)}catch(a){c("recoverableViolation")("Cannot save bootstrap response to local storage due to error: "+a,"search")}};return a}();g["default"]=a}),98);
__d("useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource",["BaseTypeaheadDataProviderQueryVariablesBuilder","BaseTypeaheadLocalStorageDataProvider","BaseTypeaheadPayloadDecoratorAddLimit","CometRelay","CometTypeaheadGraphQLBootstrapDataSource","react","useDeepEqualMemo"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.fetchPolicy,e=a.gqlQuery,f=a.limit,g=a.matchStrategy,i=a.normalize,j=a.queryVariables,k=a.storageKey,l=h(function(){return c("BaseTypeaheadPayloadDecoratorAddLimit")(f)},[f]),m=d("CometRelay").useRelayEnvironment();a=c("useDeepEqualMemo")(j);var n=h(function(){var a=new(c("BaseTypeaheadDataProviderQueryVariablesBuilder"))(function(){return function(){return j}});a=new(c("BaseTypeaheadLocalStorageDataProvider"))({options:{fetchPolicy:b},query:e,queryVariablesBuilder:a,relayEnvironment:m,storageKey:k});return new(c("CometTypeaheadGraphQLBootstrapDataSource"))({bootstrapDataProvider:a,matchStrategy:g,normalize:i})},[a,m]);return h(function(){return{bootstrap:function(){return n.bootstrap()},fetchCache:function(a){return l(n.fetchCache(a))}}},[n,l])}g["default"]=a}),98);
__d("useFeedComposerCometMentionsBootloadDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","filterNulls","useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource","useFeedComposerCometMentionsBootloadDataSourceQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useFeedComposerCometMentionsBootloadDataSourceQuery.graphql");function a(a){var b=a.canUseSections,e=a.firstDegreeFinderOptions,f=a.includeViewer,g=a.limit,h=a.matchStrategy;h=h===void 0?"prefix":h;var k=a.storageKey,l=a.typeaheadContext;a=a.typeaheadFirstDegreeFilters;return c("useCometTypeaheadCompositeBootstrapWithLocalStorageDataSource")({gqlQuery:i,limit:g,matchStrategy:h,normalize:j,queryVariables:{canUseSections:b,include_viewer:f,options:e,scale:d("WebPixelRatio").get(),typeahead_context:l,typeaheadFirstDegreeFilters:a},storageKey:k})}function j(a){return c("filterNulls")(((a=a==null?void 0:a.comet_composer_typeahead_bootload)!=null?a:[]).map(function(a){if((a==null?void 0:a.__typename)==="CometComposerTypeaheadResultEntry")return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"});else if((a==null?void 0:a.__typename)==="XFBMentionsSectionEntry"){var b=a.cache_id,d=a.label;return b==null||d==null?null:{entries:c("filterNulls")(a.entries.map(function(a){return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"})})),key:b,label:d,type:"section"}}return null}))}g["default"]=a}),98);
__d("useFeedComposerCometMentionsNetworkDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","filterNulls","useCometTypeaheadGraphQLDataSource","useFeedComposerCometMentionsNetworkDataSourceQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useFeedComposerCometMentionsNetworkDataSourceQuery.graphql");function a(a){var b=a.canUseSections,e=a.contextID,f=a.enableTypeSelection,g=f===void 0?!1:f,h=a.includeViewer,k=a.limit,l=a.mentionTypes,m=a.typeaheadContext;return c("useCometTypeaheadGraphQLDataSource")({gqlQuery:i,limit:k,normalize:j,queryVariablesBuilderFunction:function(a){a=a.query;return{canUseSections:b,context_id:e,count:k,enable_type_selection:g,include_viewer:h,mentionTypes:l,query:a,scale:d("WebPixelRatio").get(),typeahead_context:m}}})}function j(a){return c("filterNulls")(((a=a==null?void 0:a.comet_composer_typeahead_search)!=null?a:[]).map(function(a){if((a==null?void 0:a.__typename)==="CometComposerTypeaheadResultEntry")return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"});if((a==null?void 0:a.__typename)==="XFBMentionsTypeSelectionEntry"||(a==null?void 0:a.__typename)==="XFBMentionsTypeResetEntry"||(a==null?void 0:a.__typename)==="XFBMentionsSectionEntry"){a.__typename;var b=a.cache_id,d=a.label;if(b==null||d==null)return null;if((a==null?void 0:a.__typename)==="XFBMentionsTypeSelectionEntry"){var e;return{key:b,label:d,rawData:{iconName:(e=a.icon_name)!=null?e:"",type:"MENTION_TYPE_SELECTION",typesToShow:a.types_to_show.map(function(a){return a})},type:"entry"}}else if((a==null?void 0:a.__typename)==="XFBMentionsTypeResetEntry")return{key:b,label:d,rawData:{type:"MENTION_TYPE_RESET"},type:"entry"};else if((a==null?void 0:a.__typename)==="XFBMentionsSectionEntry")return{entries:c("filterNulls")(a.entries.map(function(a){return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"})})),key:b,label:d,type:"section"}}return null}))}g["default"]=a}),98);
__d("useFeedComposerCometMentionsNullstateDataSource",["WebPixelRatio","createFeedCometMentionsDataEntry","filterNulls","useCometTypeaheadGraphQLDataSource","useFeedComposerCometMentionsNullstateDataSourceQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h!==void 0?h:h=b("useFeedComposerCometMentionsNullstateDataSourceQuery.graphql");function a(a){var b=a.limit,e=a.mentionTypes,f=a.useSections;return c("useCometTypeaheadGraphQLDataSource")({gqlQuery:i,limit:b,normalize:j,queryVariablesBuilderFunction:function(){return{count:b,mentionTypes:e,scale:d("WebPixelRatio").get(),useSections:f}}})}function j(a){return c("filterNulls")(((a=a==null?void 0:a.comet_composer_typeahead_search)!=null?a:[]).map(function(a){if((a==null?void 0:a.__typename)==="CometComposerTypeaheadResultEntry")return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"});else if((a==null?void 0:a.__typename)==="XFBMentionsSectionEntry"){var b=a.cache_id,d=a.label;return b==null||d==null?null:{entries:c("filterNulls")(a.entries.map(function(a){return c("createFeedCometMentionsDataEntry")({data:a,type:"MENTION_SEARCH_RESULT"})})),key:b,label:d,type:"section"}}return null}))}g["default"]=a}),98);
__d("useCometMentionsDataSourceResolverConfig",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useLayoutEffect,j=b.useMemo;function a(a,b){var c=h(function(){a.forEach(function(a){a=a.dataSource;a.bootstrap()})},[a]);i(function(){if(!b)return;c()},[b,c]);return j(function(){var b=new Map();return{bootstrap:c,resolver:function(c){var d={dataSource:null,searchResult:null};if(c==null)return d;var e=b.get(c);if(e!=null)return e;for(e=0;e<a.length;e++){var f=a[e],g=f.dataSource;f=f.matchStrategy;f=f.findMentionableString(c);if(f!=null){g={dataSource:g,searchResult:f};b.set(c,g);return g}}b.set(c,d);return d}}},[a,c])}g["default"]=a}),98);
__d("useBaseFeedMentionsDataSourceResolverConfig",["BaseTypeaheadLocalStorageDataProviderStorageKey","MentionsCommonWordsBlocklist","createCometAtSignComposerMentionsMatchStrategy","createCometMentionsNameMatchStrategy","gkx","react","useCometMentionsDataSourceResolverConfig","useCometTypeaheadCompositeDataSource","useFeedComposerCometMentionsBootloadDataSource","useFeedComposerCometMentionsNetworkDataSource","useFeedComposerCometMentionsNullstateDataSource"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(a){var b=a.canUseSections,e=a.contextID,f=a.enableTypeSelection;f=f===void 0?!1:f;var g=a.firstDegreeTypesForBootstrap,i=a.limit,j=a.matchStrategy;j=j===void 0?"token":j;var k=a.mentionTypesForNetwork,l=a.payloadDecorators;a=a.shouldBootstrapOnLayoutEffect;var m=c("useCometTypeaheadCompositeDataSource")({bootstrapDataSource:c("useFeedComposerCometMentionsBootloadDataSource")({canUseSections:b,includeViewer:!0,limit:Math.floor(i.intentful/2),matchStrategy:j,storageKey:c("gkx")("1864085")?d("BaseTypeaheadLocalStorageDataProviderStorageKey").StorageKey.FeedComposerMentionsIntentfulMentionsBootstrap:null,typeaheadContext:"mentions",typeaheadFirstDegreeFilters:g}),cacheKey_SEARCH_ONLY:{enableTypeSelection:f,mentionTypes:(g=k)!=null?g:[],type:"feed_mentions_intentful_datasource_cache_key"},limit:i.intentful,networkDataSource:c("useFeedComposerCometMentionsNetworkDataSource")({canUseSections:b,contextID:e,enableTypeSelection:f,includeViewer:!0,limit:i.intentful,mentionTypes:k,typeaheadContext:"mentions"}),nullstateDataSource:c("useFeedComposerCometMentionsNullstateDataSource")({limit:i.nullstate,mentionTypes:k,useSections:b}),payloadDecorators:l}),n=c("useCometTypeaheadCompositeDataSource")({bootstrapDataSource:c("useFeedComposerCometMentionsBootloadDataSource")({canUseSections:b,firstDegreeFinderOptions:["FRIENDS_ONLY"],includeViewer:!0,limit:i.nonIntentful,matchStrategy:j,storageKey:c("gkx")("1864085")?d("BaseTypeaheadLocalStorageDataProviderStorageKey").StorageKey.FeedComposerMentionsNonIntentfulMentionsBootstrap:null,typeaheadContext:"mentions",typeaheadFirstDegreeFilters:["USER","WORKROOMS_USER"]}),cacheKey_SEARCH_ONLY:{type:"feed_mentions_non_intentful_datasource_cache_key"},limit:i.nonIntentful,payloadDecorators:l});g=h(function(){var a=[{dataSource:m,matchStrategy:c("createCometAtSignComposerMentionsMatchStrategy")({minMatchLength:0})}];if(c("gkx")("3923"))return a;a.push({dataSource:n,matchStrategy:c("createCometMentionsNameMatchStrategy")({commonWordsBlocklist:c("MentionsCommonWordsBlocklist").wordList,minMatchLength:3,nameCase:"capitalized"})});a.push({dataSource:n,matchStrategy:c("createCometMentionsNameMatchStrategy")({commonWordsBlocklist:c("MentionsCommonWordsBlocklist").wordList,minMatchLength:4,nameCase:"lower-case"})});return a},[m,n]);return c("useCometMentionsDataSourceResolverConfig")(g,a)}g["default"]=a}),98);
__d("useFeedComposerCometMentionsDataSourceResolverConfig",["cometFeedComposerCometMentionsTypeSelectionPayloadDecorator","qex","useBaseFeedMentionsDataSourceResolverConfig"],(function(a,b,c,d,e,f,g){"use strict";var h=["user","workrooms_user","group","event","page"],i=["USER","WORKROOMS_USER","GROUP","EVENT","PAGE"],j=5;function a(a){var b=a.enableTypeSelection;b=b===void 0?!1:b;var d=a.firstDegreeTypesForBootstrap;d=d===void 0?i:d;var e=a.mentionTypesForNetwork;e=e===void 0?h:e;var f=a.shouldBootstrapOnLayoutEffect,g=a.canUseSections;a=a.contextID;var k=b?[c("cometFeedComposerCometMentionsTypeSelectionPayloadDecorator")]:[];return c("useBaseFeedMentionsDataSourceResolverConfig")({canUseSections:g,contextID:a,enableTypeSelection:b,firstDegreeTypesForBootstrap:d,limit:{intentful:(g=c("qex")._("1777"))!=null?g:j,nonIntentful:(a=c("qex")._("576"))!=null?a:j,nullstate:(b=c("qex")._("617"))!=null?b:j},mentionTypesForNetwork:e,payloadDecorators:k,shouldBootstrapOnLayoutEffect:f})}g["default"]=a}),98);
__d("CometSearchMentionsBaseViewItem.react",["CometTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.onPressEntryIn;a.queryString;a=babelHelpers.objectWithoutPropertiesLoose(a,["onPressEntryIn","queryString"]);var d=function(a,c){c.preventDefault(),b&&b(a,c)};return h.jsx(c("CometTypeaheadViewItem.react"),babelHelpers["extends"]({},a,{onPressEntryIn:d}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FeedComposerCometMentionsMentionTypeResetViewItem.react",["ix","CometListCellStrict.react","CometSearchMentionsBaseViewItem.react","TetraText.react","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={addOnIconVertical:{marginBottom:"xat24cr",marginTop:"xdj266r",$$css:!0},text:{minWidth:"x15huedd",$$css:!0}};function a(a){var b=a.entry.label;return i.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{children:i.jsx(c("CometListCellStrict.react"),{addOnStart:{icon:d("fbicon")._(h("492485"),16),type:"icon"},addOnStartOverrideVerticalStyle:j.addOnIconVertical,addOnStartVerticalAlign:"center",contentHorizontalPadding:0,headline:i.jsx("div",{className:"x15huedd",children:i.jsx(c("TetraText.react"),{type:"headlineEmphasized4",children:b})}),level:4,paddingHorizontal:0})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FeedComposerCometMentionsMentionTypeSelectionViewItem.react",["ix","CometListCellStrict.react","CometSearchMentionsBaseViewItem.react","TetraText.react","fbicon","react","recoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={addOnIcon:{marginBottom:"xat24cr",marginTop:"xdj266r",$$css:!0},text:{minWidth:"xcqhk00",$$css:!0}};function a(a){var b=a.entry,e=b.label;b=b.rawData;b=b.type==="MENTION_TYPE_SELECTION"?b.iconName:null;if(b==null){c("recoverableViolation")("No icon name found for mention type selection entry","comet_composer");return null}var f=null;switch(b){case"shops":f=d("fbicon")._(h("1664042"),20);break;default:break}return i.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{children:i.jsx(c("CometListCellStrict.react"),{addOnEnd:{color:"secondary",icon:d("fbicon")._(h("492533"),16),type:"icon"},addOnEndVerticalAlign:"center",addOnStart:f!=null?{icon:f,size:40,type:"contained-icon"}:null,addOnStartOverrideVerticalStyle:j.addOnIcon,addOnStartVerticalAlign:"center",contentHorizontalPadding:0,headline:i.jsx("div",{className:"xcqhk00",children:i.jsx(c("TetraText.react"),{type:"headlineEmphasized4",children:e})}),level:4,paddingHorizontal:0})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FeedComposerCometMentionsViewItem.react",["fbt","ix","CometProfilePhoto.react","CometProfileVerificationBadge.react","CometSearchMentionsBaseViewItem.react","TetraIcon.react","TetraText.react","fbicon","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={container:{paddingStart:"x1t2a60a",$$css:!0},invitedName:{alignItems:"x6s0dn4",maxWidth:"x11t6kkg",$$css:!0},invitedVerifiedName:{alignItems:"x6s0dn4",maxWidth:"xw5ewwj",$$css:!0},name:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},nameBadge:{height:"x1kpxq89",$$css:!0},nameDivider:{width:"x51ohtg",$$css:!0},photo:{height:"x1vqgdyp",width:"x100vrsf",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",maxWidth:"x1gfrnbc",minWidth:"x18ip3f8",$$css:!0},subText:{marginBottom:"x12nagc",$$css:!0},text:{flexGrow:"x1iyjqo2",marginStart:"x16n37ib",overflowX:"x6ikm8r",overflowY:"x10wlt62",textOverflow:"xlyipyv",whiteSpace:"xuxw1ft",$$css:!0},textDivider:{height:"xdk7pt",$$css:!0},textHeadline:{display:"x78zum5",marginTop:"x1gslohp",marginBottom:"x12nagc",$$css:!0}};function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var e=b.rawData,f=!1,g=!1,l=null,m="circle";if(e.type==="MENTION_SEARCH_RESULT"){var n;f=Boolean(e.isExternal);g=e.isVerified;l=e.subtext;m=(n=e.iconShape)!=null?n:"circle"}n=b.label;var o=a.addOn,p=k.name;o!=null&&(p=g?k.invitedVerifiedName:k.invitedName);e=e.type!=="SEE_ALL_ENTRY"&&e.type!=="MENTION_TYPE_RESET"?e.photoURI:null;if(e==null){c("recoverableViolation")("No profile picture found for mentions entry","comet_composer");return null}m=j.jsx(c("CometProfilePhoto.react"),{shape:m,size:40,source:{uri:e}});return j.jsx(c("CometSearchMentionsBaseViewItem.react"),babelHelpers["extends"]({},a,{entry:b,testid:void 0,children:j.jsxs("div",{className:"x6s0dn4 x78zum5 x1gfrnbc x18ip3f8",children:[j.jsx("div",{className:"x1vqgdyp x100vrsf",children:m}),j.jsxs("div",{className:"x1iyjqo2 x16n37ib x6ikm8r x10wlt62 xlyipyv xuxw1ft",children:[j.jsxs("div",{className:"x78zum5 x1gslohp x12nagc",children:[j.jsx("div",{className:c("stylex")(p),children:j.jsx(c("TetraText.react"),{numberOfLines:1,type:"headlineEmphasized4",children:n})}),g&&j.jsxs(j.Fragment,{children:[j.jsx("div",{className:"x51ohtg"}),j.jsx("div",{className:"x1kpxq89",children:j.jsx(c("CometProfileVerificationBadge.react"),{profileID:b.key,size:"small"})}),j.jsx("div",{className:"x51ohtg"})]}),f?j.jsx("span",{className:"x1t2a60a",children:j.jsx(c("TetraIcon.react"),{alt:h._("__JHASH__U217aVJMGxG__JHASH__"),color:"primary",icon:d("fbicon")._(i("785426"),12)})}):null]}),l!=null&&j.jsxs("div",{className:"x12nagc",children:[j.jsx("div",{className:"xdk7pt"}),j.jsx(c("TetraText.react"),{numberOfLines:1,type:"meta3",children:l})]})]}),j.jsx("div",{children:o})]})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("FeedComposerCometMentionsViewItemResolver.react",["FeedComposerCometMentionsMentionTypeResetViewItem.react","FeedComposerCometMentionsMentionTypeSelectionViewItem.react","FeedComposerCometMentionsViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entry;a=babelHelpers.objectWithoutPropertiesLoose(a,["entry"]);var d=b.rawData;switch(d.type){case"MENTION_TYPE_SELECTION":return h.jsx(c("FeedComposerCometMentionsMentionTypeSelectionViewItem.react"),babelHelpers["extends"]({entry:b},a));case"MENTION_TYPE_RESET":return h.jsx(c("FeedComposerCometMentionsMentionTypeResetViewItem.react"),babelHelpers["extends"]({entry:b},a));default:return h.jsx(c("FeedComposerCometMentionsViewItem.react"),babelHelpers["extends"]({entry:b},a))}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getPeopleTypeaheadNullStateText",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";function a(){return h._("__JHASH__d3iOAkT_5Ax__JHASH__")}g["default"]=a}),98);
__d("CometMentions.react",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","gkx","react","useBaseTypeaheadDataSourceFetch"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useImperativeHandle,l=b.useRef,m=b.useState,n=c("gkx")("4226");function a(a,b){var e=a.context,f=a.dataSource,g=a.editorHasFocus,p=a.inputElement,q=a.layoutStrategyRenderer,r=a.loggingProvider,s=a.onAriaChange,t=a.onEntriesUpdated,u=a.onHighlightEntry,v=a.onSelectedEntry,w=a.onVisibilityChange,x=a.position;x=x===void 0?"above":x;var y=a.queryString,z=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["context","dataSource","editorHasFocus","inputElement","layoutStrategyRenderer","loggingProvider","onAriaChange","onEntriesUpdated","onHighlightEntry","onSelectedEntry","onVisibilityChange","position","queryString","viewStrategyRenderer"]);var A=m([]),B=A[0],C=A[1],D=l(null);A=m(null);var E=A[0],F=A[1],G=l(y),H=l(B),I=l(null),J=l(!0),K=l(null);A=m(!1);var L=A[0],M=A[1];j(function(){if(n)return;H.current=B;G.current=y},[B,y]);j(function(){return function(){r.isSessionActive()&&r.maybeEndSession(n?y:G.current,c("baseTypeaheadFlattenEntries")(H.current))}},[]);var N=i(function(){var a=J.current&&H.current.length>0;a!==K.current&&(w(a),a?r.startSession(y):r.isSessionActive()&&r.maybeEndSession(y,c("baseTypeaheadFlattenEntries")(B)),M(a))},[B,w,r,y]),O=i(function(a){u&&u(a),F(a),D.current=a},[u]);k(b,function(){return{getViewRef:function(){return I},hasSelection:function(){return o(c("baseTypeaheadFlattenEntries")(n?H.current:B),E)},moveDown:function(){d("cometTypeaheadKeyboardNavigationUtils").moveDown(c("baseTypeaheadFlattenEntries")(n?H.current:B),E!=null?E.key:null,O)},moveUp:function(){d("cometTypeaheadKeyboardNavigationUtils").moveUp(c("baseTypeaheadFlattenEntries")(n?H.current:B),E!=null?E.key:null,O)},select:function(){var a=c("baseTypeaheadFlattenEntries")(n?H.current:B);v&&E!=null&&o(a,E)&&(r.isSessionActive()&&r.maybeEndSession(y,a,E),v(E))}}},[B,E,O,v,r,y]);A=c("useBaseTypeaheadDataSourceFetch")({dataSource:f,onResolvePayload:i(function(a){a=a.entries;if(n){var b;H.current=a;N();var d=c("baseTypeaheadFlattenEntries")(a),e=d[0];b=D==null?void 0:(b=D.current)==null?void 0:b.key;e!=null&&!d.map(function(a){return a.key}).includes(b)&&(F(e),D.current=e)}else C(a);t&&t(a.length>0)},[t,N])});A[0];var P=A[1];j(function(){P({query:y})},[P,y,f]);b=i(function(a){var b=c("baseTypeaheadFlattenEntries")(n?H.current:B);v&&o(b,a)&&(r.isSessionActive()&&r.maybeEndSession(y,b,a),v(a))},[v,B,r,y]);j(function(){var a=c("baseTypeaheadFlattenEntries")(B);!o(a,E)&&a.length>0&&O(a[0])},[E,O,B]);j(function(){if(!n)return;function a(a,b){a=a.parentElement;while(a!=null&&a!==b)a=a.parentElement;return a===b}var b=function(b){b=b.target;if(!(b instanceof HTMLElement))return;var c=I.current;c=c!==null&&(b===c||a(b,c));b=p!==null&&(b===p||a(b,p));J.current=c||b;N()};document.addEventListener("click",b);return function(){return document.removeEventListener("click",b)}},[p,N]);var Q=l(!1);A=i(function(a){if(n)return;var b=Q.current;b!==a&&(Q.current=a,w(a),a?r.startSession(y):r.isSessionActive()&&r.maybeEndSession(y,c("baseTypeaheadFlattenEntries")(B)))},[B,w,r,y]);if(n){if(!L)return null}else{if(!g||B.length===0){A(!1);return null}A(!0)}return h.jsx(q,{ariaProps:{role:"listbox"},context:e,entries:n?H.current:B,highlightedEntry:E,isLoading:!1,onAriaChange:s,onBlur:a.onBlur,onHighlightEntry:O,onPressEntry:b,onPressEntryIn:b,position:x,queryString:y,viewRef:I,viewStrategyRenderer:z})}a.displayName=a.name+" [from "+f.id+"]";function o(a,b){if(b==null)return!1;var c=b.key;return a.find(function(a){return a.key===c})!=null}e=h.forwardRef(a);g["default"]=e}),98);
__d("mlcFocusSubscription",["Lexical","LexicalUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return{initialValueFn:function(){return a.getRootElement()===document.activeElement},subscribe:function(b){return d("LexicalUtils").mergeRegister(a.registerCommand(d("Lexical").FOCUS_COMMAND,function(){b(!0);return!1},d("Lexical").COMMAND_PRIORITY_LOW),a.registerCommand(d("Lexical").BLUR_COMMAND,function(){b(!1);return!1},d("Lexical").COMMAND_PRIORITY_LOW))}}}g["default"]=a}),98);
__d("useCometMentionsBootstrapForLexical",["Lexical","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(a,b){var c=i(!1);h(function(){if(c.current)return;var e=a.getRootElement()===document.activeElement;if(e){b();c.current=!0;return}var f=a.registerCommand(d("Lexical").FOCUS_COMMAND,function(){b();c.current=!0;f();return!1},d("Lexical").COMMAND_PRIORITY_LOW);return f},[b,a,c])}g["default"]=a}),98);
__d("MentionsSessionEndWithoutClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("445");b=d("FalcoLoggerInternal").create("mentions_session_end_without_click",a);e=b;g["default"]=e}),98);
__d("MentionsSessionStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("446");b=d("FalcoLoggerInternal").create("mentions_session_start",a);e=b;g["default"]=e}),98);
__d("MentionsSuggestionClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("447");b=d("FalcoLoggerInternal").create("mentions_suggestion_clicked",a);e=b;g["default"]=e}),98);
__d("CometMentionsLoggingProvider",["MentionsSessionEndWithoutClickFalcoEvent","MentionsSessionStartFalcoEvent","MentionsSuggestionClickedFalcoEvent","guid","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$2=!1,this.$3=null,this.$1=a}var b=a.prototype;b.getSessionID=function(){this.$3==null&&c("recoverableViolation")("Mentions logging sessionID does not exist.","search");return this.$3};b.isSessionActive=function(){return this.$2};b.startSession=function(a){var b=this;if(a==null)return;var d=c("guid")();this.$3=d;this.$2=!0;c("MentionsSessionStartFalcoEvent").log(function(){return babelHelpers["extends"]({},b.$1,{session_id:d,typed_query:a})})};b.maybeEndSession=function(a,b,d){if(a==null)return;var e=b!=null?JSON.stringify(b.map(function(a){return{id:a.key}})):null,f=babelHelpers["extends"]({},this.$1,{serialized_candidate_suggestions:e,session_id:this.getSessionID(),typed_query:a});if(d!=null){var g=d.key,h=(e=b==null?void 0:b.findIndex(function(a){return a.key===g}))!=null?e:null,i=isNaN(parseInt(d.key,10))?"0":d.key;c("MentionsSuggestionClickedFalcoEvent").log(function(){return babelHelpers["extends"]({},f,{selected_position:String(h),selected_result_display_text:d.label,selected_result_id:i,selected_result_id_string:d.key})})}else c("MentionsSessionEndWithoutClickFalcoEvent").log(function(){return f});this.$3=null;this.$2=!1};return a}();g["default"]=a}),98);
__d("useCometMentionsLoggingProvider",["CometMentionsLoggingProvider","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i={context_id:null,context_type:"unknown",surface:null,typeahead_type:null};function a(a){a===void 0&&(a=i);return h(function(){return new(c("CometMentionsLoggingProvider"))(a)},[a])}g["default"]=a}),98);
__d("useCometMentionsResolutionForLexical",["getCometComposerMentionsSearchForLexical","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.startTransition,i=b.useEffect,j=b.useState;function k(a,b){var c=window.getSelection();if(c===null||!c.isCollapsed||a===null)return!1;var d=c.anchorNode;a=a.leadOffset;c=c.anchorOffset;try{b.setStart(d,a),b.setEnd(d,c)}catch(a){return!1}return!0}function a(a,b){var d=j(null),e=d[0],f=d[1];i(function(){var d=document.createRange(),e=null,g=null,i=null,j=function(){var j=d,l=c("getCometComposerMentionsSearchForLexical")(a);if(l===e||j===null)return;e=l;l=b(l);var m=l.dataSource,n=l.searchResult;if(m===g&&n===i)return;l=k(n,j);g=m;i=n;!l||m===null||n===null?h(function(){return f(null)}):h(function(){f({dataSource:m,range:j,searchResult:n})})},l=a.registerUpdateListener(j);j();return function(){d=null,l()}},[b,a]);return e}g["default"]=a}),98);
__d("CometMentionsForLexical.react",["CometLexicalContentEditableCommands","CometMentions.react","FBLogger","Lexical","LexicalText","LexicalUtils","emptyFunction","getCometComposerMentionsSearchForLexical","mlcFocusSubscription","react","recoverableViolation","useCometLexicalSubscription","useCometMentionsBootstrapForLexical","useCometMentionsLoggingProvider","useCometMentionsResolutionForLexical","useUnsafeRef_DEPRECATED"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useMemo,l=b.useRef,m=b.useState;function a(a){var b=a.createNodeStrategy,e=a.dataSourceResolverConfig,f=e.bootstrap,g=e.resolver,m=a.editor;e=a.layoutStrategyRenderer;var o=a.mentionsHandlerForSelectedEntry,r=a.mentionsLoggerContext,s=a.position;s=s===void 0?"below":s;a=a.viewStrategyRenderer;var t=c("useCometMentionsResolutionForLexical")(m,g),u=c("useUnsafeRef_DEPRECATED")(!1),v=n(m),w=v[0],x=v[1],y=l(null),z=q(m);v=k(function(){return c("mlcFocusSubscription")(m)},[m]);v=c("useCometLexicalSubscription")(v);c("useCometMentionsBootstrapForLexical")(m,f);j(function(){return m.registerCommand(d("Lexical").BLUR_COMMAND,function(){z();return!1},d("Lexical").COMMAND_PRIORITY_LOW)},[m,z]);f=i(function(){z()},[z]);j(function(){var a=[{handler:function(a){if(a.hasSelection()){a.select();return!0}return!1},type:d("Lexical").KEY_ENTER_COMMAND},{handler:function(a){if(a.hasSelection()){a.select();return!0}return!1},type:d("Lexical").KEY_TAB_COMMAND},{handler:function(a){a.moveUp();return!0},type:d("Lexical").KEY_ARROW_UP_COMMAND},{handler:function(a){a.moveDown();return!0},type:d("Lexical").KEY_ARROW_DOWN_COMMAND},{handler:function(){z();x();return!0},type:d("Lexical").KEY_ESCAPE_COMMAND}];return d("LexicalUtils").mergeRegister.apply(void 0,a.map(function(a){var b=a.handler;a=a.type;return m.registerCommand(a,function(a){var c=y.current,d=u.current;if(c===null||!d||w)return!1;if(b(c)){d=a;d.preventDefault();d.stopPropagation();return!0}return!1},d("Lexical").COMMAND_PRIORITY_CRITICAL)}))},[x,m,z,w]);var A=i(function(a){u.current=a},[]),B=i(function(a){if(a)return;z()},[z]),C=i(function(a){var d=c("getCometComposerMentionsSearchForLexical")(m);if(d==null){c("FBLogger")("search").warn("Race condition where the user selected a mention but theres no text in the editor");return}var e=g(d);e=e.searchResult;if(e==null){c("recoverableViolation")("onPressEntry was called and no search result was found for the query "+d,"CometComposer");return}z();d=o==null?void 0:o(a);if(d!=null&&!d.shouldMentionSelectedEntry)return;p(m,b,a,e);x()},[b,g,x,m,z,o]);r=c("useCometMentionsLoggingProvider")(r);if(t===null||w){z();u.current=!1;return null}return h.jsx(c("CometMentions.react"),{context:t.range,dataSource:t.dataSource,editorHasFocus:v,inputElement:m.getRootElement(),layoutStrategyRenderer:e,loggingProvider:r,onAriaChange:z,onBlur:f,onEntriesUpdated:B,onFocus:c("emptyFunction"),onSelectedEntry:C,onVisibilityChange:A,position:s,queryString:t.searchResult.matchingString,ref:y,viewStrategyRenderer:a})}a.displayName=a.name+" [from "+f.id+"]";function n(a){var b=m(!1),c=b[0],e=b[1];j(function(){if(c){var b=a.getEditorState().read(d("LexicalText").$rootTextContent);return a.registerTextContentListener(function(a){b!==null&&a!==b&&e(!1),b=a})}},[a,c]);return k(function(){return[c,function(){return e(!0)}]},[c])}function o(a,b,c){c=c;for(var d=c;d<=b.length;d++)a.substr(-d)===b.substr(0,d)&&(c=d);return c}function p(a,b,c,e){a.update(function(){var a=d("Lexical").$getSelection();if(!d("Lexical").$isRangeSelection(a)||!a.isCollapsed())return;a=a.anchor;if(a.type!=="text")return;var f=a.getNode();if(!f.isSimpleText())return;a=a.offset;var g=f.getTextContent().slice(0,a),h=c.label,i=e.replaceableString.length;g=o(g,h,i);h=a-g;if(h<0)return;b({anchorNode:f,endOffset:a,selectedEntry:c,startOffset:h})})}function q(a){var b=l(void 0),c=l(void 0);return i(function(e,f){var g=b.current,h=c.current;(g!==e||h!==f)&&(b.current=e,c.current=f,a.dispatchCommand(d("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,{activeDescendantID:e,controlsID:f}))},[a])}g["default"]=a}),98);
__d("cometMentionsDataEntryText",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;return(b=a.handle)!=null?b:a.label}f["default"]=a}),66);
__d("CometMentionsViewListStrategy.react",["CometCompositeStructureContext","TetraText.react","getItemRoleFromCompositeRole","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){var b=a.ariaProps,d=a.entries;a.extraViewProps;var e=a.highlightedEntry;a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var f=a.viewItemStrategyRenderer,g=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","viewItemStrategyRenderer"]),j=b.role;a=i(function(){if(j!=null)return{role:j};else return{}},[j]);var k=c("getItemRoleFromCompositeRole")(j);return h.jsx("ul",babelHelpers["extends"]({},b,{className:"x78zum5 xdt5ytf x1iyjqo2","data-testid":void 0,children:h.jsx(c("CometCompositeStructureContext").Provider,{value:a,children:d.map(function(a){if(a.type==="section"){var b=a.entries,d=a.key,i=a.label;return b.length===0?null:h.jsxs("li",{"aria-selected":"false",role:"option",children:[h.jsx("div",{className:"x889kno x1iji9kk x1a8lsjc x1sln4lm",children:h.jsx("label",{htmlFor:d,children:h.jsx(c("TetraText.react"),{color:"primary",type:"entityHeaderMeta2",children:i})})}),h.jsx("ul",{id:d,role:"listbox",children:b.map(function(a){return h.createElement(f,babelHelpers["extends"]({},g,{entry:a,isActive:a.key===(e==null?void 0:e.key),key:a.key,role:k}))})})]},"section-"+d)}else return h.createElement(f,babelHelpers["extends"]({},g,{entry:a,isActive:a.key===(e==null?void 0:e.key),key:a.key,role:k}))})})}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometMentionsViewListStrategy",["CometMentionsViewListStrategy.react","CometTypeaheadProgressGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.viewItemStrategyRenderer;return i(function(a){var d=a.isLoading;a=babelHelpers.objectWithoutPropertiesLoose(a,["isLoading"]);return h.jsxs(h.Fragment,{children:[h.jsx(c("CometMentionsViewListStrategy.react"),babelHelpers["extends"]({},a,{isLoading:!1,viewItemStrategyRenderer:b})),d&&h.jsx(c("CometTypeaheadProgressGlimmer.react"),{})]})},[b])}g["default"]=a}),98);
__d("cometBaseMentionsLexicalCreateNodeStrategy",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return function(b){var d=b.anchorNode,e=b.endOffset,f=b.selectedEntry;b=b.startOffset;if(b===0){var g=d.splitText(e);g=g[0]}else{d=d.splitText(b,e);g=d[1]}if(g==null){c("FBLogger")("search").mustfix("createMentionNodeFromSearchResult failed to find correct offsets. Found offsets: "+b+", "+e+".");return}d=a(f);g.replace(d);d.selectNext(0,0)}}g["default"]=a}),98);
__d("cometMentionsLexicalCreateNodeStrategy",["CometLexicalGenericEntityNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(a,b,c,d,e,f,g){"use strict";a=c("cometBaseMentionsLexicalCreateNodeStrategy")(function(a){return d("CometLexicalGenericEntityNode").$createCometLexicalGenericEntityNode({id:a.key,text:c("cometMentionsDataEntryText")(a),type:"Actor"})});b=a;g["default"]=b}),98);
__d("CometMediaViewerMentionsTypeaheadEmptyState.react",["TetraText.react","getPeopleTypeaheadNullStateText","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){return h.jsx("div",{className:"x6s0dn4 x78zum5 xc9qbxq xl56j7k",children:h.jsx(c("TetraText.react"),{align:"center",color:"secondary",type:"body2",children:c("getPeopleTypeaheadNullStateText")()})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useBaseMentionsLayoutStrategyARIAProps.react",["baseTypeaheadFlattenEntries","react","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=a.entries,d=a.highlightedEntry,e=a.onAriaChange;a=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:c("baseTypeaheadFlattenEntries")(b),helperText:"",highlightedEntry:d,inputLabel:"",isOpened:!0,viewRole:"listbox"});var f=a.ariaInputProps;b=a.ariaViewProps;h(function(){return e(f["aria-activedescendant"],f["aria-controls"])},[f,e]);return b}g["default"]=a}),98);
__d("CometSearchTypeaheadBaseLayoutMentionsStrategy.react",["CometMediaViewerMentionsTypeaheadEmptyState.react","react","useBaseMentionsLayoutStrategyARIAProps.react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isLoading,d=a.onAriaChange,e=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["isLoading","onAriaChange","viewStrategyRenderer"]);d=c("useBaseMentionsLayoutStrategyARIAProps.react")({entries:a.entries,highlightedEntry:a.highlightedEntry,onAriaChange:d});return h.jsxs("div",{children:[h.jsx(e,babelHelpers["extends"]({},a,{ariaProps:d,isLoading:!1})),!b&&a.entries.length===0?h.jsx(c("CometMediaViewerMentionsTypeaheadEmptyState.react"),{}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMentionsLayoutStrategy.react",["CometContextualLayer.react","CometPopover.react","CometSearchTypeaheadBaseLayoutMentionsStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.ariaProps,d=a.context,e=a.onBlur,f=a.position,g=a.viewRef;a=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","context","onBlur","position","viewRef"]);var i=c("CometSearchTypeaheadBaseLayoutMentionsStrategy.react");return h.jsx(c("CometContextualLayer.react"),{align:"start",context_DEPRECATED:d,position:f,children:h.jsx(c("CometPopover.react"),{onBlur:e,ref:g,role:"listbox",children:h.jsx(i,babelHelpers["extends"]({ariaProps:b,isLoading:!1},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getCampaignRegex",[],(function(a,b,c,d,e,f){"use strict";b="A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0\u08a2-\u08ac\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097f\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c3d\u0c58\u0c59\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d60\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19c1-\u19c7\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua697\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua78e\ua790-\ua793\ua7a0-\ua7aa\ua7f8-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa80-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uabc0-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";var g="(^|$|[^"+b+"])",h={};function a(a){var b=a.id;if(b in h)return h[b];h[b]=new RegExp(g+"("+a.keywords.join("|").replace(/\\x{([A-Za-z0-9]+)}/g,function(a,b){return String.fromCharCode(parseInt(b,16))})+")"+g,"i");return h[b]}f["default"]=a}),66);
__d("UpgradedCometDelightsPluginForLexical",["CometLexicalDelightNode","CometPlaceholder.react","CometRelay","CometTextDelightAnimation.entrypoint","CometTextDelightConfig","FBLogger","Lexical","ReactDOMComet","getCampaignRegex","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useMemo,l=b.useState;function m(a){return/[\s\d\[\],\\\/!$%\^&\*;:{}=\-`~()]/.test(a)}function n(a){var b=d("Lexical").$createTextNode(a.getTextContent());a.replace(b)}function o(a){return p(a)&&q(a)}function p(a){a=a.getPreviousSibling();if(a===null||d("Lexical").$isLineBreakNode(a))return!0;if(d("Lexical").$isTextNode(a)&&a.isSimpleText()){a=a.getTextContent();if(m(a[a.length-1]))return!0}return!1}function q(a){a=a.getNextSibling();if(a===null||d("Lexical").$isLineBreakNode(a))return!0;if(d("Lexical").$isTextNode(a)&&a.isSimpleText()){a=a.getTextContent();if(m(a[0]))return!0}return!1}function r(a){var b=a.getTextContent(),e=a.getNextSibling(),f=a.getPreviousSibling();d("CometLexicalDelightNode").$isLexicalDelightNode(f)&&(!o(f)&&!m(b[0])&&n(f));d("CometLexicalDelightNode").$isLexicalDelightNode(e)&&(!o(e)&&!m(b[b.length-1])&&n(e));f=a;e=void 0;a=0;for(var g in c("CometTextDelightConfig").campaigns){var h=c("CometTextDelightConfig").campaigns[g];h.id==="475898886474907"&&(h.keywords=["\\b(?:gg+)(?:s?\\b|z?\\b)"]);var i=c("getCampaignRegex")(h),j=h.id,k=h.styles;j=c("CometTextDelightConfig").campaigns[j].delight_asset;if(j==null)continue;var l,p=0;while((l=i.exec(b.substr(a)))!==null){if(l===null)break;var q=l[1],r=l[3];p+=l.index+q.length;l=p+l[2].length;a+=l;if(q.length>0&&!m(q)||r.length>0&&!m(r)){p=a;continue}if(q===""){q=f.getPreviousSibling();if(q!=null&&!d("Lexical").$isLineBreakNode(q)){p=a;continue}}if(r===""){q=f.getNextSibling();if(q!=null&&!d("Lexical").$isLineBreakNode(q)){p=a;continue}}r=f.splitText(p,l);p===0?(e=r[0],f=r[1]):(e=r[1],f=r[2]);p=0;q=e.getTextContent();l=d("CometLexicalDelightNode").$createLexicalDelightNode(q,k,h.id,j);e.replace(l);e=l}}r=d("Lexical").$getSelection();d("Lexical").$isRangeSelection(r)&&(!r.anchor.getNode().isAttached()||!r.focus.getNode().isAttached())&&(e!==void 0?e.selectNext(0,0):f!==void 0&&f.select(0,0))}function s(a){var b=a.getPreviousSibling(),e=a.getNextSibling();if(b!=null){var f=b.getTextContent();if(!m(f[f.length-1])&&!d("Lexical").$isLineBreakNode(b)){n(a);return}}if(e!=null){f=e.getTextContent();if(!m(f[0])&&!d("Lexical").$isLineBreakNode(e)){n(a);return}}b=c("CometTextDelightConfig").campaigns[a.__campaignID];f=c("getCampaignRegex")(b);e=f.exec(a.getTextContent());if(e==null){n(a);return}b=e[1];f=e[3];(b.length>0||f.length>0)&&n(a)}function a(a){var b=a.editor,e=d("CometRelay").useRelayEnvironment();a=k(function(){return{getEnvironment:function(){return e}}},[e]);a=d("CometRelay").useEntryPointLoader(a,c("CometTextDelightAnimation.entrypoint"));var f=a[0],g=a[1];a=l(!1);var m=a[0],n=a[1];j(function(){b.hasNodes([d("CometLexicalDelightNode").CometLexicalDelightNode])||c("FBLogger")("Lexical").mustfix("UpgradedCometDelightsPluginForLexical: CometLexicalDelightNode missing");var a=b.registerNodeTransform(d("Lexical").TextNode,r),e=b.registerNodeTransform(d("CometLexicalDelightNode").CometLexicalDelightNode,s);return function(){a(),e()}},[b]);var o=i(function(a){a=a.target;var b=a instanceof Element?a.getAttribute("data-delight-asset"):null;b!=null&&!m&&d("ReactDOMComet").unstable_batchedUpdates(function(){g({id:b}),n(!0)})},[m,g]);j(function(){return b.registerRootListener(function(a,b){b!==null&&b.removeEventListener("click",o),a!==null&&a.addEventListener("click",o)})},[o,b]);return h.jsx(c("CometPlaceholder.react"),{fallback:null,children:m&&f!=null&&h.jsx(d("CometRelay").EntryPointContainer,{entryPointReference:f,props:{onRepeatEnd:function(){n(!1)}}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("getUpgradedCometEmojiComposerHandler",["CometLexicalEmojiNode","EmojiRenderer","FBEmojiResource","Lexical"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=a.registerNodeTransform(d("Lexical").TextNode,function(a){if(!a.isSimpleText())return;var e=a.getTextContent(),f=a,g=0;d("EmojiRenderer").parse(e).forEach(function(e){var h=e.emoji,i=e.length;e=e.offset;var j=h.join("");h=c("FBEmojiResource").fromCodepoints(h);if(h==null)return;h=h.getImageURL(b);if(h==null)return;var k=j;j=d("CometLexicalEmojiNode").$createEmojiNode(j,k,h,b);k=e-g;h=k+i;if(k===0){e=f.splitText(h);a=e[0];f=e[1]}else{i=f.splitText(k,h);a=i[1];f=i[2]}g+=h;a.replace(j);j})});return function(){e()}}g["default"]=a}),98);
__d("getHashtagRegexStringChars",[],(function(a,b,c,d,e,f){"use strict";function a(){var a="\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u024f\u0253-\u0254\u0256-\u0257\u0259\u025b\u0263\u0268\u026f\u0272\u0289\u028b\u02bb\u0300-\u036f\u1e00-\u1eff",b="\u0400-\u04ff\u0500-\u0527\u2de0-\u2dff\ua640-\ua69f\u0591-\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u05d0-\u05ea\u05f0-\u05f4\ufb12-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4f\u0610-\u061a\u0620-\u065f\u066e-\u06d3\u06d5-\u06dc\u06de-\u06e8\u06ea-\u06ef\u06fa-\u06fc\u06ff\u0750-\u077f\u08a0\u08a2-\u08ac\u08e4-\u08fe\ufb50-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\u200c-\u200c\u0e01-\u0e3a\u0e40-\u0e4e\u1100-\u11ff\u3130-\u3185\ua960-\ua97f\uac00-\ud7af\ud7b0-\ud7ff\uffa1-\uffdc",c=String.fromCharCode;c="\u30a1-\u30fa\u30fc-\u30fe\uff66-\uff9f\uff10-\uff19\uff21-\uff3a\uff41-\uff5a\u3041-\u3096\u3099-\u309e\u3400-\u4dbf\u4e00-\u9fff"+c(173824)+"-"+c(177983)+c(177984)+"-"+c(178207)+c(194560)+"-"+c(195103)+"\u3003\u3005\u303b";a=a+b+c;b="A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u0241\u0250-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ee\u037a\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03ce\u03d0-\u03f5\u03f7-\u0481\u048a-\u04ce\u04d0-\u04f9\u0500-\u050f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0621-\u063a\u0640-\u064a\u066e-\u066f\u0671-\u06d3\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u076d\u0780-\u07a5\u07b1\u0904-\u0939\u093d\u0950\u0958-\u0961\u097d\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc-\u09dd\u09df-\u09e1\u09f0-\u09f1\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0-\u0ae1\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b5c-\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c33\u0c35-\u0c39\u0c60-\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0-\u0ce1\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d28\u0d2a-\u0d39\u0d60-\u0d61\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e46\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edd\u0f00\u0f40-\u0f47\u0f49-\u0f6a\u0f88-\u0f8b\u1000-\u1021\u1023-\u1027\u1029-\u102a\u1050-\u1055\u10a0-\u10c5\u10d0-\u10fa\u10fc\u1100-\u1159\u115f-\u11a2\u11a8-\u11f9\u1200-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166f-\u1676\u1681-\u169a\u16a0-\u16ea\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u1900-\u191c\u1950-\u196d\u1970-\u1974\u1980-\u19a9\u19c1-\u19c7\u1a00-\u1a16\u1d00-\u1dbf\u1e00-\u1e9b\u1ea0-\u1ef9\u1f00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u2094\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2131\u2133-\u2139\u213c-\u213f\u2145-\u2149\u2c00-\u2c2e\u2c30-\u2c5e\u2c80-\u2ce4\u2d00-\u2d25\u2d30-\u2d65\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005-\u3006\u3031-\u3035\u303b-\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312c\u3131-\u318e\u31a0-\u31b7\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fbb\ua000-\ua48c\ua800-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\uac00-\ud7a3\uf900-\ufa2d\ufa30-\ufa6a\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc";c="\u0300-\u036f\u0483-\u0486\u0591-\u05b9\u05bb-\u05bd\u05bf\u05c1-\u05c2\u05c4-\u05c5\u05c7\u0610-\u0615\u064b-\u065e\u0670\u06d6-\u06dc\u06df-\u06e4\u06e7-\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u0901-\u0903\u093c\u093e-\u094d\u0951-\u0954\u0962-\u0963\u0981-\u0983\u09bc\u09be-\u09c4\u09c7-\u09c8\u09cb-\u09cd\u09d7\u09e2-\u09e3\u0a01-\u0a03\u0a3c\u0a3e-\u0a42\u0a47-\u0a48\u0a4b-\u0a4d\u0a70-\u0a71\u0a81-\u0a83\u0abc\u0abe-\u0ac5\u0ac7-\u0ac9\u0acb-\u0acd\u0ae2-\u0ae3\u0b01-\u0b03\u0b3c\u0b3e-\u0b43\u0b47-\u0b48\u0b4b-\u0b4d\u0b56-\u0b57\u0b82\u0bbe-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcd\u0bd7\u0c01-\u0c03\u0c3e-\u0c44\u0c46-\u0c48\u0c4a-\u0c4d\u0c55-\u0c56\u0c82-\u0c83\u0cbc\u0cbe-\u0cc4\u0cc6-\u0cc8\u0cca-\u0ccd\u0cd5-\u0cd6\u0d02-\u0d03\u0d3e-\u0d43\u0d46-\u0d48\u0d4a-\u0d4d\u0d57\u0d82-\u0d83\u0dca\u0dcf-\u0dd4\u0dd6\u0dd8-\u0ddf\u0df2-\u0df3\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb-\u0ebc\u0ec8-\u0ecd\u0f18-\u0f19\u0f35\u0f37\u0f39\u0f3e-\u0f3f\u0f71-\u0f84\u0f86-\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102c-\u1032\u1036-\u1039\u1056-\u1059\u135f\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17b6-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u192b\u1930-\u193b\u19b0-\u19c0\u19c8-\u19c9\u1a17-\u1a1b\u1dc0-\u1dc3\u20d0-\u20dc\u20e1\u20e5-\u20eb\u302a-\u302f\u3099-\u309a\ua802\ua806\ua80b\ua823-\ua827\ufb1e\ufe00-\ufe0f\ufe20-\ufe23";var d="0-9\u0660-\u0669\u06f0-\u06f9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\uff10-\uff19";b=b+c+a;c=d+"_";a=b+c;d="#\\uFF03";return{alpha:b,alphanumeric:a,hashChars:d}}f["default"]=a}),66);
__d("getHashtagRegexString",["getHashtagRegexStringChars"],(function(a,b,c,d,e,f){function a(){var a=b("getHashtagRegexStringChars")(),c=a.alpha,d=a.alphanumeric;a=a.hashChars;c="["+c+"]";var e="["+d+"]";d="^|$|[^&/"+d+"]";a="["+a+"]";d="("+d+")("+a+")("+e+"*"+c+e+"*)";return d}f["default"]=a}),66);
__d("getUpgradedCometHashtagComposerHandler",["FBLogger","LexicalHashtag","LexicalText","LexicalUtils","getHashtagRegexString"],(function(a,b,c,d,e,f,g){"use strict";var h=new RegExp(c("getHashtagRegexString")(),"i");function a(a){if(!a.hasNodes([d("LexicalHashtag").HashtagNode]))throw c("FBLogger")("outline_ufi").mustfixThrow("HashtagPlugin: HashtagNode not registered on editor");var b=function(a){return d("LexicalHashtag").$createHashtagNode(a.getTextContent())},e=function(a){a=h.exec(a);if(a===null)return null;var b=a[3].length+1;a=a.index+a[1].length;b=a+b;return{end:b,start:a}};return d("LexicalUtils").mergeRegister.apply(void 0,d("LexicalText").registerLexicalTextEntity(a,e,d("LexicalHashtag").HashtagNode,b))}g["default"]=a}),98);
__d("MLCHealthLoggerEvent",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({DAILY_INTERACTION_WITH_SURFACE:"daily_interaction_with_surface",COMMIT_CREATE:"commit_create",COMMIT_EDIT:"commit_edit"});c=a;f["default"]=c}),66);
__d("MlcHealthBizappEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2646");b=d("FalcoLoggerInternal").create("mlc_health_bizapp_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthCareerProfileEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3833");b=d("FalcoLoggerInternal").create("mlc_health_career_profile_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthFacebookAndWorkplaceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2647");b=d("FalcoLoggerInternal").create("mlc_health_facebook_and_workplace_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthFacebookEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2648");b=d("FalcoLoggerInternal").create("mlc_health_facebook_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthInstagramEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("3766");b=d("FalcoLoggerInternal").create("mlc_health_instagram_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthInternalToolsEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2649");b=d("FalcoLoggerInternal").create("mlc_health_internal_tools_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthMessagingLightswitchEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2650");b=d("FalcoLoggerInternal").create("mlc_health_messaging_lightswitch_event",a);e=b;g["default"]=e}),98);
__d("MlcHealthWorkplaceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2651");b=d("FalcoLoggerInternal").create("mlc_health_workplace_event",a);e=b;g["default"]=e}),98);
__d("MLCHealthInstrumentationPlugin__INTERNAL.react",["FBLogger","Lexical","LexicalComposerContext","LexicalUtils","MLCInstrumentationCommands","MlcHealthBizappEventFalcoEvent","MlcHealthCareerProfileEventFalcoEvent","MlcHealthFacebookAndWorkplaceEventFalcoEvent","MlcHealthFacebookEventFalcoEvent","MlcHealthInstagramEventFalcoEvent","MlcHealthInternalToolsEventFalcoEvent","MlcHealthMessagingLightswitchEventFalcoEvent","MlcHealthWorkplaceEventFalcoEvent","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect,i=new Set();function j(a){switch(a){case"facebook":return c("MlcHealthFacebookEventFalcoEvent");case"workplace":return c("MlcHealthWorkplaceEventFalcoEvent");case"facebook_and_workplace":return c("MlcHealthFacebookAndWorkplaceEventFalcoEvent");case"internal_tools":return c("MlcHealthInternalToolsEventFalcoEvent");case"messaging_lightswitch":return c("MlcHealthMessagingLightswitchEventFalcoEvent");case"bizapp":return c("MlcHealthBizappEventFalcoEvent");case"instagram":return c("MlcHealthInstagramEventFalcoEvent");case"career_profile":return c("MlcHealthCareerProfileEventFalcoEvent");default:a}throw c("FBLogger")("lexical").mustfixThrow("Policy product not handled by exhaustive switch-case?")}function k(a,b,c){j(a).log(function(){return{event:c,surface:b}})}function a(a){var b=a.editor__DEPRECATED,c=a.policyProduct,e=a.surface,f;if(b)f=b;else{a=d("LexicalComposerContext").useLexicalComposerContext();f=a[0]}h(function(){var a=function(){};i.has(e)||(a=f.registerUpdateListener(function(b){var d=b.dirtyLeaves;b=b.tags;if(i.has(e)){a();return}if(d.size===0||b.has("history-merge")||!f.isEditable())return;i.add(e);k(c,e,"daily_interaction_with_surface");a()}));return d("LexicalUtils").mergeRegister(a,f.registerCommand(d("MLCInstrumentationCommands").COMMIT_COMMAND,function(a){a==="create"?k(c,e,"commit_create"):k(c,e,"commit_edit");return!1},d("Lexical").COMMAND_PRIORITY_CRITICAL))},[f,c,e]);return null}g["default"]=a}),98);
__d("MLCInteractionInstrumentationPlugin__INTERNAL.react",["cr:3286","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return b("cr:3286")&&h.jsx(b("cr:3286"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MLCTypingPerformancePlugin__INTERNAL.react",["LexicalComposerContext","LexicalText","cr:2012305","cr:308","cr:3287","cr:5452","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useLayoutEffect,j=b("cr:2012305")||b("cr:308");e=(c=b("cr:5452"))!=null?c:{};var k=e.getTextLengthBucket;function a(a){if(j===null)return null;b("cr:3287")&&b("cr:3287")();return h.jsx(l,babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";function l(a){var b=a.editor__DEPRECATED,c=a.format__DEPRECATED,e=a.surface;a=a.typingPerformanceID;var f=a===void 0?"":a,g;if(b)g=b;else{a=d("LexicalComposerContext").useLexicalComposerContext();g=a[0]}i(function(){var a=babelHelpers["extends"]({},k==null?null:{textLengthBucket:k(g.getEditorState().read(d("LexicalText").$rootTextContent).length)}),b;h();function h(){b==null?void 0:b();if(j===null)return;var d=null,h=g.registerRootListener(function(b){if(b===d)return;d!==null&&j.unregisterTypingPerf(d);if(b!==null){var g;j.trackTypingPerf(b,e,d,babelHelpers["extends"]({},a,{editor:"LexicalEditor",format:(g=c)!=null?g:"",typingPerformanceID:f}))}d=b});b=function(){h(),d!==null&&j.unregisterTypingPerf(d)}}var i=k==null?null:g.registerTextContentListener(function(b){b=k(b.length);if(b===a.textLengthBucket)return;a.textLengthBucket=b;h()});return function(){b==null?void 0:b(),i==null?void 0:i()}},[f,g,c,e]);return null}g["default"]=a}),98);
__d("MLCInstrumentationPlugin__INTERNAL.react",["MLCHealthInstrumentationPlugin__INTERNAL.react","MLCInteractionInstrumentationPlugin__INTERNAL.react","MLCTypingPerformancePlugin__INTERNAL.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b="facebook";b;function a(a){return h.jsxs(h.Fragment,{children:[h.jsx(c("MLCTypingPerformancePlugin__INTERNAL.react"),babelHelpers["extends"]({},a)),h.jsx(c("MLCHealthInstrumentationPlugin__INTERNAL.react"),babelHelpers["extends"]({},a)),h.jsx(c("MLCInteractionInstrumentationPlugin__INTERNAL.react"),babelHelpers["extends"]({},a))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","FeedComposerCometMentionsViewItemResolver.react","cometMentionsLexicalCreateNodeStrategy","cr:5410","gkx","react","useCometMentionsViewListStrategy"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=c("gkx")("7372");var i=c("gkx")("7672");f=["USER","EVENT","GROUP","PAGE"];var j=e?[].concat(f,["WORKROOMS_USER"]):f;d=["user","event","group","page"];f=e?[].concat(d,["workrooms_user"]):d;var k=i?[].concat(f,["knowledge_hub_document"]):f;function a(){return function(a){var d=a.config.contextID;a=a.pluginProps.editor;d=b("cr:5410")({canUseSections:i,contextID:d,firstDegreeTypesForBootstrap:j,mentionTypesForNetwork:k,shouldBootstrapOnLayoutEffect:!1});var e=c("useCometMentionsViewListStrategy")({viewItemStrategyRenderer:c("FeedComposerCometMentionsViewItemResolver.react")});return h.jsx(c("CometMentionsForLexical.react"),{createNodeStrategy:c("cometMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:d,editor:a,layoutStrategyRenderer:c("CometMentionsLayoutStrategy.react"),viewStrategyRenderer:e})}}g["default"]=a}),98);
__d("createUpgradedUFI2MentionsComposerPluginForLexical",["upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical"],(function(a,b,c,d,e,f,g){"use strict";a=c("upgradedUFI2MentionsComposerPluginCreatorWithTypeaheadViewForLexical")();g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("ArmadilloDataTraceType.bs",["I64"],(function(a,b,c,d,e,f,g){"use strict";a=d("I64").of_string("13");g.armadilloMessageSend=a}),98);
__d("LsDataTraceFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743851");b=d("FalcoLoggerInternal").create("ls_data_trace",a);e=b;g["default"]=e}),98);
__d("LSDataTraceFlush.bs",["ArmadilloDataTraceType.bs","I64","LSDataTraceType","LSIntEnum","LsDataTraceFalcoEvent","ODS","Promise","ReQL","ReQL.bs","asyncToGeneratorRuntime","clearTimeout","gkx","promiseDone","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=d("I64").of_string("120000"),i=d("I64").of_string("600000"),j=new Set(["encrypted_backups_upload","encrypted_backups_media_backup"]);function k(a,b,c){var e=a.length;if(e===0)return[d("I64").neg_one,d("I64").neg_one,void 0,void 0,void 0];e=a.find(function(a){return a.errorMessage!=null});e=e==null?void 0:e.errorMessage;a=a[a.length-1|0];var f=d("I64").of_float(Date.now()),g=a.timestampMs,i=d("I64").compare(d("I64").sub(f,c),h)>=0;return!b&&i?[d("I64").sub(f,c),a.checkPointId,g,e,"trace expired"]:[d("I64").sub(g,c),a.checkPointId,g,e,e]}function l(a){return a.reduce(function(a,b,c){var e,f=d("I64").to_string(b.checkPointId),g=b.timestampMs;e=d("I64").to_string((e=b.syncChannel)!=null?e:d("I64").neg_one);b=b.tags;b=b!=null?","+b:"";if(c===0)a.pointsList="".concat("(",f,",",e,b,")");else{c=String(d("I64").to_int32(d("I64").sub(g,a.lastCheckPointTimestamp)));a.pointsList=a.pointsList.concat("-",c,"-(",f,",",e,b,")")}a.lastCheckPointTimestamp=g;return a},{lastCheckPointTimestamp:d("I64").zero,pointsList:""}).pointsList}var m=d("I64").of_string("2");function n(a){var b=a.traceType;b=d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").TASK))?"send":d("I64").equal(b,d("ArmadilloDataTraceType.bs").armadilloMessageSend)?"armadillo send":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_INIT))?"encrypted_backups_init":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_ADD_DEVICE))?"encrypted_backups_add_device":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_UPLOAD))?"encrypted_backups_upload":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_RESTORE))?"encrypted_backups_restore":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_MEDIA_BACKUP))?"encrypted_backups_media_backup":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SYNC_EPOCHS))?"encrypted_backups_sync_epochs":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").SAP_VESTA_LOGIN))?"sap_vesta_login":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").SAP_VESTA_REGISTRATION))?"sap_vesta_registration":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_OPT_OUT_OF_BACKUP))?"encrypted_backups_opt_out_of_backup":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_FETCH_BACKUPS_METADATA))?"encrypted_backups_fetch_backups_metadata":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_CREATE_EXTRA_VIRTUAL_DEVICE))?"encrypted_backups_create_extra_virtual_device":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_FETCH_BACKUP_STATUS))?"encrypted_backups_fetch_backup_status":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_THIRD_PARTY_ID_GENERATION))?"encrypted_backups_third_party_id_generation":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_MEDIA_RESTORE))?"encrypted_backups_media_restore":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_DELETE_BACKUP))?"encrypted_backups_delete_backup":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_INIT))?"shadow_encrypted_backups_init":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE))?"shadow_encrypted_backups_add_device":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_UPLOAD))?"shadow_encrypted_backups_upload":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_RESTORE))?"shadow_encrypted_backups_restore":d("I64").equal(b,d("LSIntEnum").ofNumber(c("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP))?"shadow_encrypted_backups_delete_backup":a.contextTwo;return b}function o(a,b){var e=b.traceId,f=b.shouldFlush,g=n(b),h=b.traceType,i=d("I64").equal(h,d("ArmadilloDataTraceType.bs").armadilloMessageSend)?"tam_message_send":b.contextOne,j=d("I64").equal(b.traceType,m)?void 0:b.predefinedId,o=b.initTimestampMs;return d("ReQL.bs").toArray(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(a.table("data_trace_addon").index("traceIdAddonId")),{hd:e,tl:0})).then(function(a){var b=k(a,f,o),h=b[0],m=b[1],n=b[3],p=b[4],q=a.length,r=l(a);c("LsDataTraceFalcoEvent").log(function(){var a;return{check_point_count:d("I64").to_string(d("I64").of_int32(q)),check_point_list:r,client_event_ts:d("I64").to_string(d("I64").of_float(Date.now())),cold_start_time:void 0,data_trace_id:e,database_id:i,delivered_messages:void 0,error_message:p,first_error_message:n,has_backgrounded:!1,last_check_point:d("I64").to_string(m),latency:d("I64").to_string(h),media_type:void 0,num_of_attachments:void 0,persisted_metadata:void 0,predefined_id:j,sent_rich_media_messages:void 0,sent_text_messages:void 0,start_time:d("I64").to_string(o),trace_flow:(a=g)!=null?a:""}})}).then(function(){return a.table("data_trace_meta")["delete"]({hd:e,tl:0})})}function a(a,c){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("data_trace_meta")),{hd:c,tl:0})).then(function(c){if(c!=null)return o(a,c);else return b("Promise").resolve()})}var p={contents:void 0};function q(a){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("data_trace_meta").index("shouldFlushInitTimestampMsTraceId")).getKeyRange(!1).bounds({lt:d("ReQL").key(d("I64").sub(d("I64").of_float(Date.now()),h))})).then(function(a){if(c("gkx")("7110")){var b=d("I64").of_float(Date.now());return a.filter(function(a){var c=n(a);if(c&&j.has(c)){c=d("I64").compare(d("I64").sub(b,a.initTimestampMs),i)>=0;return c}return!0})}return a})}function r(a){return s.apply(this,arguments)}function s(){s=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield q(a));if(c.length===0)return;return a.runInTransaction(function(a){return q(a).then(function(c){return b("Promise").all(c.map(function(b){return o(a,b)}))})},"readwrite")});return s.apply(this,arguments)}function t(){var a=p.contents;if(a!=null){c("clearTimeout")(a);return}}function u(a){c("promiseDone")(r(a),function(){t();var b=c("setTimeout")(function(){u(a)},6e4);p.contents=b},function(){t(),d("ODS").bumpEntityKey(3185,"mw_trace","error")});return t}e=a;f=u;g.flush=e;g.flushExpiredDataTraces=f}),98);
__d("MWPReplyLogging.bs",["I64","QPLUserFlow","deepEquals","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function i(a){var b=Date.now()|0;h.set(d("I64").to_string(a),b);return b}function j(a){var b=h.get(d("I64").to_string(a));if(b==null)return i(a);else return b}function a(a,b,e){if(e){a?c("QPLUserFlow").endCancel(c("qpl")._(25298086,"3996"),{instanceKey:j(b)}):c("QPLUserFlow").endSuccess(c("qpl")._(25298086,"3996"),{instanceKey:j(b)});h["delete"](d("I64").to_string(b));return}}function b(a,b,d){if(a!=null){if(c("deepEquals")(a,b)){c("QPLUserFlow").addPoint(c("qpl")._(25298086,"3996"),"same_message",{instanceKey:j(d)});return}if(!c("deepEquals")(a,b)){a=j(d);c("QPLUserFlow").addPoint(c("qpl")._(25298086,"3996"),"switch_message",{instanceKey:a});c("QPLUserFlow").endCancel(c("qpl")._(25298086,"3996"),{instanceKey:a});c("QPLUserFlow").start(c("qpl")._(25298086,"3996"),{cancelOnUnload:!0,instanceKey:i(d),timeoutInMs:6e4});return}}c("QPLUserFlow").start(c("qpl")._(25298086,"3996"),{cancelOnUnload:!0,instanceKey:i(d),timeoutInMs:6e4})}g.logClearReply=a;g.logSetReply=b}),98);
__d("ZenonSDESKeyDetector",[],(function(a,b,c,d,e,f){"use strict";var g=/inline:\s*[0-9a-zA-z+/]{40}(\b|\s|$)/;function a(a){return g.test(JSON.stringify(a))}f["default"]=a}),66);
__d("RtcWebUserActionsDebugFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744337");b=d("FalcoLoggerInternal").create("rtc_web_user_actions_debug",a);e=b;g["default"]=e}),98);
__d("RtcWebUserActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744338");b=d("FalcoLoggerInternal").create("rtc_web_user_actions",a);e=b;g["default"]=e}),98);
__d("ZenonAuditedCheckpointLogId",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["RP_ROOMS_INFRA_WWW__E2EE","RP_ROOMS_INFRA_WWW__WASM","RP_ROOMS_INFRA_WWW__LOGGER_INFRA","RP_ROOMS_INFRA_WWW__STATE_MACHINE","RP_ROOMS_INFRA_WWW__ERROR"]);c=a;f["default"]=c}),66);
__d("ZenonIceStatsParser",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=[];a=a.split("\r\n");a.forEach(function(a){g(a)&&b.push({gen:h(a),type:i(a)})});return b}function g(a){return a.indexOf("candidate:")>-1}function h(a){var b=0;a=a.match(/generation (\d+)/);a&&(b=parseInt(a[1],10));return b}function i(a){a=a.match(/typ (host|relay|srflx|prflx)/);if(a)return a[1];else return"unknown"}f.extractIceInfo=a}),66);
__d("RpWebInfraActionsLoggerEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744334");b=d("FalcoLoggerInternal").create("rp_web_infra_actions_logger_event",a);e=b;g["default"]=e}),98);
__d("ZenonInfraActionsLogger",["Log","RpWebInfraActionsLoggerEventFalcoEvent","ZenonAuditedCheckpointLogId","formatDate","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={callTrigger:void 0,conferenceName:void 0,deviceID:void 0,mediaPath:"sfu",peerID:void 0,serverInfoData:void 0,signalingID:void 0},this.$2=new Set(),this.$3=new Map(),this.$4=new Map()}var b=a.prototype;b.updateCachedValues=function(a){Object.assign(this.$1,a)};b.setE2eeIsMandatedForCall=function(a){this.$3.set(a,!0)};b.logCheckpointEmployeesTestUsersOnly=function(a){if(!c("gkx")("2890")&&!c("gkx")("6954"))return;this.logCheckpoint(a)};b.logCheckpoint=function(a){this.logEvent(babelHelpers["extends"]({},a))};b.logCheckpointOnceForDomain=function(a){var b=a.checkpoint;this.$2.has(b)||(this.$2.add(b),this.logCheckpoint(a))};b.logError=function(a){this.logEvent(babelHelpers["extends"]({},a))};b.startTimer=function(a){var b=Date.now();this.$4.set(a,b);this.logEvent({checkpoint:a+"_timerStart"})};b.stopTimer=function(a){var b=this.$4.get(a);this.$4["delete"](a);b=b!=null?Date.now()-b:null;this.logEvent({checkpoint:a+"_timerEnd",eventTimeElapsed:b});return parseInt(b,10)};b.logEvent=function(a){var b;if(c("justknobx")._("854"))return;b=(b=this.$3.get((b=this.$1.signalingID)!=null?b:""))!=null?b:!1;if(b&&!c("justknobx")._("1021"))return;if(b&&a.auditId==null){b="Encountered an unaudited log line, dropping it.";a.error!=null?this.logEvent({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__LOGGER_INFRA,error:b}):this.logEvent({auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__LOGGER_INFRA,checkpoint:b});return}if(((b=a.checkpoint)==null?void 0:b.length)!=null&&a.checkpoint.length>3e5)return;var d={call_id:(b=a.signalingID)!=null?b:this.$1.signalingID==null?void 0:String(this.$1.signalingID),call_trigger:this.$1.callTrigger,call_type:(b=a.callType)!=null?b:null,checkpoint:a.checkpoint,client_session_id:this.$1.signalingID,client_time:Date.now().toString(),conference_name:(b=a.conferenceName)!=null?b:this.$1.conferenceName,connection:(b=a.connectionState)!=null?b:this.$1.connectionState,device_id:this.$1.deviceID,error:a.error,error_domain:a.errorDomain,event_time_elapsed:(b=a.eventTimeElapsed)==null?void 0:b.toString(),is_caller:(b=a.isCaller)!=null?b:null,media_path:(b=a.mediaPath)!=null?b:this.$1.mediaPath,message_id:a.messageID,peer_connection:(b=a.peerConnectionState)!=null?b:this.$1.peerConnectionState,peer_id:this.$1.peerID,sdp_format:(b=a.sdpFormat)!=null?b:null,server_info_data:(b=a.serverInfoData)!=null?b:this.$1.serverInfoData,signaling:(b=a.signalingState)!=null?b:this.$1.signalingState,state_machine_id:a.stateMachineID};c("RpWebInfraActionsLoggerEventFalcoEvent").log(function(){return d})};return a}();b=new a();g["default"]=b}),98);
__d("fbwebrtc_ClientStack",[],(function(a,b,c,d,e,f){a=Object.freeze({OLD_CLIENT_PLATFORM_STACK:0,RSYS_X:1,IG_OLD_STACK:2,MLITE_OLD_STACK:3,SCOTCH:4,ZENON:5});f["default"]=a}),66);
__d("multiway_ApprovalStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({DENIED:0,APPROVED:1});f["default"]=a}),66);
__d("multiway_Capability",[],(function(a,b,c,d,e,f){a=Object.freeze({SUPPORT_AUDIO_DEPRECATED:0,SUPPORT_VIDEO_DEPRECATED:1,SUPPORT_EXPERIMENTS_IN_JOIN_RESPONSE:2,SUPPORT_NEW_PARTICIPANT_STATES:3,SUPPORT_SDP_RENEGOTIATION:4,SUPPORT_MWPP:5,REQUIRE_FULL_SDP_IN_SMU:6,SUPPORT_PRECONNECT:7,SUPPORT_MWPP_DEESCALATION:8,SUPPORT_PARTICIPANT_STATE_UNCALLABLE:9,SUPPORT_MULTIPLE_VIDEO_STREAMS:10,REQUIRE_FULL_SDP_IN_SMU_OPTIMIZED:11,SUPPORT_MULTISTREAM_FEC:12,SUPPORT_DELTA_SMU:13,REQUIRE_DEFAULT_CHANNEL_SCREENSHARE:14,SUPPORT_SCREENSHARE_FLAG_IN_JOIN_RESPONSE_AND_SMU:15,SUPPORT_TEMPORAL_LAYER_JBE:16,REQUIRES_P2P_RELAY_INFO_VIA_SIGNALING:17,SUPPORT_NUMERIC_TOPICS:18});f["default"]=a}),66);
__d("multiway_ClientEventType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,MEDIA_CONNECTED:1});f["default"]=a}),66);
__d("multiway_ConferenceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,GROUP:1,IGLIVE:8,IGVIDEOCALL:9,OCULUS:10,ROOM:15,DEBUGTOOL:16,DARWIN:19,CRUCIBLE:20,MBS_WA:21});f["default"]=a}),66);
__d("multiway_DeviceStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:0,NOT_SUPPORTED:1,IN_ANOTHER_CALL:10});f["default"]=a}),66);
__d("multiway_DismissReason",[],(function(a,b,c,d,e,f){a=Object.freeze({CALL_ENDED:0,ANSWERED_ON_ANOTHER_DEVICE:1,IN_ANOTHER_CALL:2,CONNECTION_DROPPED:3,REJECTED_ON_ANOTHER_DEVICE:4,REMOVED_BY_PARTICIPANT:5,REJECTED_BY_CALLEE:6,INTERNAL_ERROR:7,CALL_ENDED_BY_PRODUCT:9,JOIN_APPROVAL_DENIED:10,JOIN_APPROVAL_TIMEDOUT:11,UNSUPPORTED_VERSION:12,LIVE_NOT_ACKED:13,TX_ACK_TIMEDOUT:14,ANSWERED_BY_OTHER_USER:15,PARTICIPANT_SELF_TERMINATION:16,PARTICIPANT_REJOIN:17,LONG_LASTING_AUDIO_ISSUE:18,PRIMARY_ENDPOINT_HANGUP:19,RECONNECT_FAILED:20});f["default"]=a}),66);
__d("multiway_E2eeMode",[],(function(a,b,c,d,e,f){a=Object.freeze({E2EE_NOT_MANDATED:0,DEPRECATED_NO_REQUIREMENT:1,E2EE_MANDATED:2});f["default"]=a}),66);
__d("multiway_EndpointServiceType",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,COMPOSITING_SERVICE:1});f["default"]=a}),66);
__d("multiway_HangupReason",[],(function(a,b,c,d,e,f){a=Object.freeze({IGNORE_CALL:0,HANGUP_CALL:1,NO_ANSWER_TIMEOUT:2,CLIENT_ERROR:3,IN_ANOTHER_CALL:4,CLIENT_INTERRUPTED:5,SESSION_MIGRATED:6,E2EE_MANDATED_BUT_OFFER_DID_NOT_CONTAIN_E2EE:7,E2EE_MANDATED_BUT_ANSWER_DID_NOT_NEGOTIATE_E2EE:8,WEBRTC_ERROR:9,CONNECTION_DROPPED:10});f["default"]=a}),66);
__d("multiway_JoinMode",[],(function(a,b,c,d,e,f){a=Object.freeze({PRIMARY:0,SECONDARY:1});f["default"]=a}),66);
__d("multiway_MediaPath",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,SFU:1,P2P:2});f["default"]=a}),66);
__d("multiway_MediaPauseStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({NotPaused:0,Paused:1});f["default"]=a}),66);
__d("multiway_MessageTag",[],(function(a,b,c,d,e,f){a=Object.freeze({PRANSWER:1001,INITIAL_ANSWER_TO_P2P_CALLER:1002,DEESCALATE_OFFER_TO_P2P_CALLEE:1003,DEESCALATE_ANSWER_TO_P2P_CALLER:1004,REQUEST_DEESCALATE_TO_P2P_CALLER:1005,REQUEST_ESCALATE:1006,REQUEST_CLIENT_FULL_RENEGOTIATION_TO_ADMIT_FROM_WAITINGROOM:1007,REQUEST_CLIENT_FULL_RENEGOTIATION_AGAINST_MWS:1008,PARTICIPANT_ADDED:1009,PARTICIPANT_REMOVED:1010,FIRST_REMOTE_ALERTED_FOR_INITIATOR:2001,FIRST_REMOTE_ANSWERED_FOR_INITIATOR:2002,CONTAIN_PENDING_APPROVAL_PARTICIPANTS:2003,KEEP_ALIVE_PING:3001});f["default"]=a}),66);
__d("multiway_MessageType",[],(function(a,b,c,d,e,f){a=Object.freeze({JOIN:0,SERVER_MEDIA_UPDATE:1,HANGUP:2,ICE_CANDIDATE:3,RING:4,DISMISS:5,CONFERENCE_STATE:6,ADD_PARTICIPANTS:7,SUBSCRIPTION:8,CLIENT_MEDIA_UPDATE:9,DATA_MESSAGE:10,REMOVE_PARTICIPANTS:11,PING:18,P2P_PROTOCOL:19,UPDATE:20,NOTIFY:21,CONNECT:22,CLIENT_EVENT:23,UNSUBSCRIBE:25,APPROVAL:26,TRANSFER:27,WAKEUP:28});f["default"]=a}),66);
__d("multiway_ParticipantCallState",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:0,DISCONNECTED:1,NO_ANSWER:2,REJECTED:3,UNREACHABLE:4,CONNECTION_DROPPED:5,CONTACTING:6,RINGING:7,CONNECTING:8,CONNECTED:9,PARTICIPANT_LIMIT_REACHED:10,IN_ANOTHER_CALL:11,RING_TYPE_UNSUPPORTED:12,PENDING_APPROVAL:13,APPROVED:14,FAILED_APPROVAL:15,HANGUP_IN_WAITING_ROOM:16,UNCALLABLE:17});f["default"]=a}),66);
__d("multiway_RingType",[],(function(a,b,c,d,e,f){a=Object.freeze({GROUP_AUDIO_CALL:0,PEER_VIDEO_CALL:1,PEER_AUDIO_CALL:2,GROUP_VIDEO_CALL:3,LIVE_STREAM:4,PEER_ESCALATED_VIDEO_CALL:5,PEER_ESCALATED_AUDIO_CALL:6,LIVE_AUDIO_ROOM:7,LIVE_WITH_ROOM:8});f["default"]=a}),66);
__d("multiway_RtcResponseStatusCode",[],(function(a,b,c,d,e,f){a=Object.freeze({OK:200,BAD_REQUEST:400,UNAUTHORIZED:401,NOT_FOUND:404,METHOD_NOT_ALLOWED:406,CONFLICT:409,CONDITIONAL_REQUEST_FAILED:412,SERVER_INTERNAL_ERROR:500,SERVICE_UNAVAILABLE:503});f["default"]=a}),66);
__d("multiway_RtcResponseSubCode",[],(function(a,b,c,d,e,f){a=Object.freeze({UNKNOWN:1e3,EXCEEDED_MAX_ALLOWED_PARTICIPANTS:1001,MEMBERSHIP_CHECK_FAIL:1002,CONFERENCE_THROTTLED:1003,ENDPOINT_THROTTLED:1004,MWS_MESSAGE_SENT_TO_INCORRECT_REGION:1005,UNSUPPORTED_REQUEST_TYPE:2e3,CLIENT_REQUEST_UNACCEPTABLE:2001,CLIENT_RESPONSE_UNACCEPTABLE:2002,RING_RESPONSE_BODY_NOT_SET:2004,SERVER_MEDIA_UPDATE_RESPONSE_BODY_NOT_SET:2005,INVALID_SDP:2006,INVALID_CONFERENCE_NAME:2007,SERVER_INFO_CONFERENCE_NAME_MISMATCH:2008,INVALID_USER_ID:2009,INCORRECT_VERSION_RANGE:2010,SENDER_ID_MISMATCH:2011,RECIPIENT_NOT_SPECIFIED:2012,FIELD_NOT_ALLOWED:2013,USERS_NOT_SPECIFIED:2015,REQUEST_UNACCEPTABLE_FOR_ENDPOINT_STATE:2016,INVALID_CALL_ID:2017,SESSION_DESCRIPTION_ID_MISMATCH:2018,EMPTY_CLIENT_MEDIA_UPDATES:2019,INVALID_SERVER_INFO_DATA:2020,INCORRECT_STATE_VERSION:2021,MISMATCHED_STATE_FOR_VERSION:2022,INVALID_STATE_VERSION:2023,NO_RESOLVER_FOUND:2024,MISSING_APPROVERLIST:2025,FULL_SDP_REQUIRED_IN_APPROVED_STATE:2026,INVALID_BROADCAST_ID:2027,INVALID_ENDPOINT_CONFIG:2028,INVALID_E2EE_STATE:2029,SFU_MODE_PREVENTED:2030,INVALID_CONFERENCE_STATE:2031,JOIN_REQUEST_DENIED:2032,MISSING_BODY_ENDPOINT:2101,MISSING_BODY_HEADER:2102,MISSING_BODY_BODY:2103,MISSING_BODY_PARAMS:2104,MISSING_BODY_REMOVE_PARTICIPANTS_REQUEST:2105,MISSING_BODY_DATA_MESSAGE_REQUEST:2106,MISSING_BODY_CLIENT_MEDIA_UPDATE_REQUEST:2107,MISSING_BODY_ADD_PARTICIPANTS_REQUEST:2108,MISSING_BODY_SUBSCRIPTION_REQUEST:2110,MISSING_BODY_JOIN_REQUEST:2111,MISSING_BODY_HANGUP_REQUEST:2112,MISSING_BODY_ICE_CANDIDATE_REQUEST:2113,MISSING_BODY_P2P_MESSAGE_REQUEST:2114,MISSING_BODY_UPDATE_REQUEST:2115,MISSING_BODY_CLIENT_EVENT_REQUEST:2116,MISSING_BODY_CONNECT_REQUEST:2117,MISSING_BODY_UNSUBSCRIBE_REQUEST:2118,MISSING_BODY_APPROVAL_REQUEST:2119,MISSING_ENDPOINT_USER_ID:2120,EMPTY_ENDPOINT_USER_ID:2121,MISSING_BODY_TRANSFER_REQUEST:2122,MISSING_BODY_GENERIC:2199,REQUESTOR_NOT_MEMBER_CONFERENCE:3002,NOT_BROADCAST_OWNER:3003,GUEST_NOT_INVITED:3004,GUEST_DISCONNECTED:3005,GUEST_INVITATION_EXPIRED:3006,SHOULD_USE_NEW_SIGNALING_PATH:3007,PARTICIPANT_IN_PENDING_APPROVAL_STATE:3008,BROADCAST_ALREADY_STOPPED:4002,FAILED_TO_GENERATE_SDP_ANSWER:4003,FAILED_GENERATE_SESSION_DESCRIPTION:4004,SDP_SESSION_ID_MISMATCH:4005,MEDIA_ENDPOINT_GONE:4007,MEDIA_ENDPOINT_ALREADY_EXISTS:4008,MEDIA_ENDPOINT_EXISTS_DIFFERENT_SESSION_ID:4009,LEGACY_MESSENGER_SENDER_UNSET:4010,FAILED_TO_SET_TRANSPORT_INFO:4011,NON_PRIMARY_MULTIWAY_SERVER:4012,FAILED_TO_GET_REMOTE_DESCRIPTION:4013,LOCAL_DESCRIPTION_NOT_SET:4014,INVALID_SDP_TYPE:4015,CLIENT_MEDIA_UPDATE_WITHOUT_REMOTE_SDP_INFO:4016,SDP_UNSET_ON_P2P_ANSWER:4017,MISSING_ICE_CANDIDATE_PAYLOAD:4018,P2P_PROTOCOL_UNSET:4019,CREATE_ACK_FOR_INVALID_MESSAGE_TYPE:4020,LEGACY_CLIENT_CANNOT_JOIN_SFU_MODE:4021,CONNECT_UNSUPPORTED_IN_SFU_MODE:4022,CONNECT_UNSUPPORTED_FOR_JOINED_ENDPOINTS:4023,RESOLVE_STATE_API_ERROR:4024,EXTERNAL_RESOLUTION_ERROR:4025,INTERNAL_RESOLUTION_ERROR:4026,RESOLUTION_DISABLED:4027,BROADCAST_ID_MISSING:4028,SDP_UNSET_ON_P2P_OFFER:4029,LIVESTREAM_INPUT_DESERIALIZATION_FAILED:4030,LEGACY_OFFER_MISSING_REQUIRED_VALUE:4031,MEDIA_SERVER_STATE_SYNC_DESERIALIZATION_ERROR:4032,CONNECT_UNSUPPORTED_FOR_PRECONNECTED_USERS:4033,OTHER_USER_ANSWERED_THE_CALL:4034,MEDIA_SERVER_DESERIALIZATION_ERROR:4035,REMOTE_SDP_TRACKID_MISMATCH:4036,SIGNALING_MESSAGE_TO_CLIENT_DROPPED:4037,DATA_CHANNEL_ENDPOINT_GONE:4038,DATA_CHANNEL_ENDPOINT_ALREADY_EXISTS:4039,CONFERENCE_NOT_FOUND:5001,CONFERENCE_IS_TERMINATING:5002,CONFERENCE_IS_TERMINATED:5003,CONFERENCE_NAME_EMPTY:5004,NONCE_EMPTY:5005,NONCE_MISMATCH:5006,CONFERENCE_HAS_GONE:5007,PARTICIPANT_HAS_GONE:5008,MEDIA_SERVER_NOT_FOUND:5009,CLIENT_TERMINATED:5010,PRECONNECT_FROM_OLDSTACK_TO_UNIFIED_NOT_SUPPORTED:5011,MEDIA_CODECS_UNSUPPORTED_BY_CONFERENCE:6001,CONFERENCE_INCAPABLE_RENEGOTIATION:6002,REJECTING_CMU_WHEN_SMU_PENDING:6003,PARTICIPANT_NOT_SUBSCRIBED_TO_TOPIC:6004,PARTICIPANT_ALREADY_IN_WAITING_ROOM:6005,PARTICIPANT_NOT_IN_PENDING_APPROVAL:6006,USER_NOT_APPROVER_FOR_TARGET_USER:6007,UNSUPPORTED_CAPABILITIES:6008,PRODUCT_SERVER_DEFINED_END_REASON:6009,WWW_KILLSWITCHED_REQUEST:6010,CONFLICTING_MEDIA_PATH:6011,CONFLICTING_MEDIA_STATUS:6012,CONFLICTING_SESSION_DESCRIPTION:6013,OK:9e3});f["default"]=a}),66);
__d("multiway_SubscriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({CNAME:0,TRACK:1,DOMINANT_SPEAKER:2});f["default"]=a}),66);
__d("multiway_VideoQuality",[],(function(a,b,c,d,e,f){a=Object.freeze({LOW:0,MEDIUM:1,HIGH:2,HD:3,NUM_QUALITIES:4});f["default"]=a}),66);
__d("ZenonMWMessageTypes",["$InternalEnum","fbwebrtc_ClientStack","multiway_ApprovalStatus","multiway_Capability","multiway_ClientEventType","multiway_ConferenceType","multiway_DeviceStatus","multiway_DismissReason","multiway_E2eeMode","multiway_EndpointServiceType","multiway_HangupReason","multiway_JoinMode","multiway_MediaPath","multiway_MediaPauseStatus","multiway_MessageTag","multiway_MessageType","multiway_ParticipantCallState","multiway_RingType","multiway_RtcResponseStatusCode","multiway_RtcResponseSubCode","multiway_SubscriptionType","multiway_VideoQuality"],(function(a,b,c,d,e,f,g){"use strict";a=b("$InternalEnum")({DEFAULT_AUDIO:0,DEFAULT_VIDEO:1,SCREEN_AUDIO:2,SCREEN_VIDEO:3});g.ZenonMWClientStack=c("fbwebrtc_ClientStack");g.ZenonMWApprovalStatus=c("multiway_ApprovalStatus");g.ZenonMWCapability=c("multiway_Capability");g.ZenonMWClientEventType=c("multiway_ClientEventType");g.ZenonMWConferenceType=c("multiway_ConferenceType");g.ZenonMWDeviceStatus=c("multiway_DeviceStatus");g.ZenonMWDismissReason=c("multiway_DismissReason");g.ZenonMWE2eeMode=c("multiway_E2eeMode");g.ZenonMWEndpointServiceType=c("multiway_EndpointServiceType");g.ZenonMWHangupReason=c("multiway_HangupReason");g.ZenonMWMediaPath=c("multiway_MediaPath");g.ZenonMWJoinMode=c("multiway_JoinMode");g.ZenonMWMediaPauseStatus=c("multiway_MediaPauseStatus");g.ZenonMWMessageTag=c("multiway_MessageTag");g.ZenonMWSignalingPayloadType=c("multiway_MessageType");g.ZenonMWParticipantCallState=c("multiway_ParticipantCallState");g.ZenonMWRingType=c("multiway_RingType");g.ZenonMWResponseStatusCode=c("multiway_RtcResponseStatusCode");g.ZenonMWResponseSubCode=c("multiway_RtcResponseSubCode");g.ZenonMWSubscriptionType=c("multiway_SubscriptionType");g.ZenonMWVideoQuality=c("multiway_VideoQuality");g.ZenonMWTrackLabel=a}),98);
__d("ZenonMWMessageMap",["ZenonMWMessageTypes"],(function(a,b,c,d,e,f,g){"use strict";b=Object.freeze((a={},a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN]="JOIN",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE]="SERVER_MEDIA_UPDATE",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE]="ICE_CANDIDATE",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.HANGUP]="HANGUP",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.RING]="RING",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DISMISS]="DISMISS",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONFERENCE_STATE]="CONFERENCE_STATE",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ADD_PARTICIPANTS]="ADD_PARTICIPANTS",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SUBSCRIPTION]="SUBSCRIPTION",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE]="CLIENT_MEDIA_UPDATE",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE]="DATA_MESSAGE",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.REMOVE_PARTICIPANTS]="REMOVE_PARTICIPANTS",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.PING]="PING",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.P2P_PROTOCOL]="P2P_PROTOCOL",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.NOTIFY]="NOTIFY",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CONNECT]="CONNECT",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_EVENT]="CLIENT_EVENT",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UNSUBSCRIBE]="UNSUBSCRIBE",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.UPDATE]="UPDATE",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.APPROVAL]="APPROVAL",a[d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.WAKEUP]="WAKEUP",a));c=b;g["default"]=c}),98);
__d("OverlayConfigConstants",[],(function(a,b,c,d,e,f){"use strict";a={OverlayConfigNumParameters:3463,OverlayConfigNotPresentFlagValue:-1};e.exports=a}),null);
__d("OverlayConfigLayerSource",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze({UNKNOWN:0,DEFAULT:1,MOBILECONFIG:2,APP_CRUCIBLE:3,APP_JNI:4,UNITTEST_CONFIG:5,SERVER:6,PLACEHOLDER:7,LS_MOBILECONFIG:8,APP_LS:9,APP_JS:10,BROWSER:11,APP_OVRRTC:12,APP_IG:13,MLITE4A_LEGACY_QE:14,APP_MLITE4A:15,APP_PORTAL:16,IG_LAUNCHER:17,APP_ARCHON:18,APP_WS:19,APP_NOX:20,APP_WEARABLE_MSNGR:21,APP_WEARABLE_IG:22,APP_ORCA_RSYS:23,APP_WILDE:24,APP_MKIOS:25,APP_MK4A:26,DYNAMIC:27,SDK_DEFAULT:28,APP_FB4A:29,APP_RSYS_SDK_SAMPLE:30,APP_BIZAPP:31,APP_WORKCHAT:32,APP_ARCHON_LOCAL_OVERRIDES:33,APP_CATHODE:34,APP_WR4I:35,APP_WR4A:36});e.exports=a}),null);
__d("OverlayConfigServerLayer",["OverlayConfigConstants","OverlayConfigLayerSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){a.createFromHeader=function(b){try{b=b==null?void 0:(b=b.extensions)==null?void 0:b.oc1_json;if(b==null)return null;b=JSON.parse(b);b=b==null?void 0:b.values;return b==null?null:new a(b)}catch(a){return null}};function a(a){this.$1=a}var b=a.prototype;b.getLayerSource=function(){return c("OverlayConfigLayerSource").SERVER};b.getValue=function(a){a=this.$1[String(a)];return a!=null?a:d("OverlayConfigConstants").OverlayConfigNotPresentFlagValue};b.logExposure=function(a){};return a}();g["default"]=a}),98);
__d("ZenonEndCallReason",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({BREAKOUT_SESSION_SWITCH_ROOM:"BreakoutSessionSwitchRoom",CALL_END_ACCEPT_AFTER_HANG_UP:"CallEndAcceptAfterHangUp",CALLER_NOT_VISIBLE:"CallerNotVisible",CAMERA_PERMISSION_DENIED:"CameraPermissionDenied",CARRIER_BLOCKED:"CarrierBlocked",CLIENT_ENCRYPTION_ERROR:"ClientEncryptionError",CLIENT_ERROR:"ClientError",CLIENT_INTERRUPTED:"ClientInterrupted",CONNECTION_DROPPED:"ConnectionDropped",END_TO_END_ENCRYPTION_INVARIANT_VIOLATED:"EndToEndEncryptionInvariantViolated",HANGUP_CALL:"HangupCall",IGNORE_CALL:"IgnoreCall",IN_ANOTHER_CALL:"InAnotherCall",INACTIVE_TIMEOUT:"InactiveTimeout",INCOMING_TIMEOUT:"IncomingTimeout",MAX_ALLOWED_PARTICIPANTS_REACHED:"MaxAllowedParticipantsReached",MICROPHONE_PERMISSION_DENIED:"MicrophonePermissionDenied",NO_ANSWER_TIMEOUT:"NoAnswerTimeout",NO_PERMISSION:"NoPermission",NO_UI_SHOWN:"NoUIShown",OTHER_CARRIER_BLOCKED:"OtherCarrierBlocked",OTHER_INSTANCE_HANDLED:"OtherInstanceHandled",OTHER_NOT_CAPABLE:"OtherNotCapable",PRODUCT_SERVER_DEFINED_END_REASON:"ProductServerDefinedEndReason",RING_MUTED:"RingMuted",SESSION_MIGRATED:"SessionMigrated",SIGNALING_MESSAGE_FAILED:"SignalingMessageFailed",TX_ACK_TIMEOUT:"TxAckTimeout",UNEXPECTED_END_OF_CALL:"UnexpectedEndOfCall",UNKNOWN:"Unknown",VERSION_UNSUPPORTED:"VersionUnsupported",WEBRTC_ERROR:"WebRTCError"});c=a;f["default"]=c}),66);
__d("ZenonIncomingRingSDKTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Hangup","OtherDismiss"]);f.ZenonCancelReason=a}),66);
__d("ZenonMediaError",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ConnectionClosed","IceDisconnected","IceFailure","SetLocalSdpFailed","SetRemoteSdpFailed","RollbackSdpFailed","UnknownError"]);f.ZenonMediaError=a}),66);
__d("ZenonDismissReason",["$InternalEnum","FBLogger","ZenonIncomingRingSDKTypes","ZenonMWMessageTypes","ZenonMediaError"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({IgnoreCall:0,HangupCall:1,InAnotherCall:2,AcceptAfterHangUp:3,NoAnswerTimeout:4,IncomingTimeout:5,OtherInstanceHandled:6,SignalingMessageFailed:7,ConnectionDropped:8,ClientInterrupted:9,WebRTCError:10,ClientError:11,NoPermission:12,OtherNotCapable:13,NoUIShown:14,VersionUnsupported:15,CallerNotVisible:16,CarrierBlocked:17,OtherCarrierBlocked:18,ClientEncryptionError:19,MicrophonePermissionDenied:20,CameraPermissionDenied:21,SessionMigrated:22,RingMuted:23,JoinApprovalDenied:24,RejectedByCallee:25,CallEndedByProduct:26,CallEnded:27,AnsweredOnAnotherDevice:28,RejectedOnAnotherDevice:29,CallCollision:30,MaxAllowedParticipantsReached:31,UnexpectedEndOfCall:32,TxAckTimeout:33,EndToEndEncryptionInvariantViolated:34,ProductServerDefinedEndReason:35});function a(a){switch(a){case"BreakoutSessionSwitchRoom":return h.HangupCall;case"CallEndAcceptAfterHangUp":return h.AcceptAfterHangUp;case"CallerNotVisible":return h.CallerNotVisible;case"CarrierBlocked":return h.CarrierBlocked;case"ClientEncryptionError":return h.ClientEncryptionError;case"ClientError":return h.ClientError;case"ClientInterrupted":return h.ClientInterrupted;case"ConnectionDropped":return h.ConnectionDropped;case"HangupCall":return h.HangupCall;case"IgnoreCall":return h.IgnoreCall;case"InAnotherCall":return h.InAnotherCall;case"EndToEndEncryptionInvariantViolated":return h.EndToEndEncryptionInvariantViolated;case"InactiveTimeout":return h.CallEnded;case"IncomingTimeout":return h.IncomingTimeout;case"MaxAllowedParticipantsReached":return h.MaxAllowedParticipantsReached;case"NoAnswerTimeout":return h.NoAnswerTimeout;case"NoPermission":return h.NoPermission;case"NoUIShown":return h.NoUIShown;case"OtherCarrierBlocked":return h.OtherCarrierBlocked;case"OtherInstanceHandled":return h.OtherInstanceHandled;case"OtherNotCapable":return h.OtherNotCapable;case"SignalingMessageFailed":return h.SignalingMessageFailed;case"UnexpectedEndOfCall":return h.UnexpectedEndOfCall;case"Unknown":return h.CallEnded;case"VersionUnsupported":return h.VersionUnsupported;case"WebRTCError":return h.WebRTCError;case"MicrophonePermissionDenied":return h.MicrophonePermissionDenied;case"CameraPermissionDenied":return h.CameraPermissionDenied;case"SessionMigrated":return h.SessionMigrated;case"RingMuted":return h.RingMuted;case"TxAckTimeout":return h.TxAckTimeout;case"ProductServerDefinedEndReason":return h.ProductServerDefinedEndReason}}function e(a){switch(a){case h.CallEnded:case h.CallEndedByProduct:case h.HangupCall:return"HangupCall";case h.IgnoreCall:case h.JoinApprovalDenied:case h.RejectedByCallee:return"IgnoreCall";case h.InAnotherCall:return"InAnotherCall";case h.AcceptAfterHangUp:return"CallEndAcceptAfterHangUp";case h.NoAnswerTimeout:return"NoAnswerTimeout";case h.IncomingTimeout:return"IncomingTimeout";case h.AnsweredOnAnotherDevice:case h.CallCollision:case h.RejectedOnAnotherDevice:case h.OtherInstanceHandled:return"OtherInstanceHandled";case h.SignalingMessageFailed:return"SignalingMessageFailed";case h.ConnectionDropped:return"ConnectionDropped";case h.ClientInterrupted:return"ClientInterrupted";case h.WebRTCError:return"WebRTCError";case h.ClientError:return"ClientError";case h.NoPermission:return"NoPermission";case h.OtherNotCapable:return"OtherNotCapable";case h.NoUIShown:return"NoUIShown";case h.VersionUnsupported:return"VersionUnsupported";case h.CallerNotVisible:return"CallerNotVisible";case h.CarrierBlocked:return"CarrierBlocked";case h.OtherCarrierBlocked:return"OtherCarrierBlocked";case h.ClientEncryptionError:return"ClientEncryptionError";case h.UnexpectedEndOfCall:return"UnexpectedEndOfCall";case h.MaxAllowedParticipantsReached:return"MaxAllowedParticipantsReached";case h.MicrophonePermissionDenied:return"MicrophonePermissionDenied";case h.CameraPermissionDenied:return"CameraPermissionDenied";case h.SessionMigrated:return"SessionMigrated";case h.RingMuted:return"RingMuted";case h.TxAckTimeout:return"TxAckTimeout";case h.EndToEndEncryptionInvariantViolated:return"EndToEndEncryptionInvariantViolated";case h.ProductServerDefinedEndReason:return"ProductServerDefinedEndReason"}c("FBLogger")("rtc_www").mustfix("Unknown dismiss reason: %s",a);return"Unknown"}function f(a){switch(a){case h.OtherInstanceHandled:case h.AnsweredOnAnotherDevice:case h.RejectedOnAnotherDevice:return d("ZenonIncomingRingSDKTypes").ZenonCancelReason.OtherDismiss;default:return d("ZenonIncomingRingSDKTypes").ZenonCancelReason.Hangup}}function i(a){switch(a){case d("ZenonMediaError").ZenonMediaError.IceDisconnected:return h.ConnectionDropped;case d("ZenonMediaError").ZenonMediaError.ConnectionClosed:return h.HangupCall;case d("ZenonMediaError").ZenonMediaError.IceFailure:case d("ZenonMediaError").ZenonMediaError.SetLocalSdpFailed:case d("ZenonMediaError").ZenonMediaError.SetRemoteSdpFailed:case d("ZenonMediaError").ZenonMediaError.RollbackSdpFailed:return h.WebRTCError;case d("ZenonMediaError").ZenonMediaError.UnknownError:return h.UnexpectedEndOfCall}}function j(a){return k[a]}var k=Object.freeze((b={},b[d("ZenonMWMessageTypes").ZenonMWDismissReason.CALL_ENDED]=h.CallEnded,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.ANSWERED_ON_ANOTHER_DEVICE]=h.AnsweredOnAnotherDevice,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.IN_ANOTHER_CALL]=h.InAnotherCall,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.CONNECTION_DROPPED]=h.ConnectionDropped,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.REJECTED_ON_ANOTHER_DEVICE]=h.RejectedOnAnotherDevice,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.REJECTED_BY_CALLEE]=h.RejectedByCallee,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.CALL_ENDED_BY_PRODUCT]=h.CallEndedByProduct,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.INTERNAL_ERROR]=h.SignalingMessageFailed,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.REMOVED_BY_PARTICIPANT]=h.HangupCall,b[d("ZenonMWMessageTypes").ZenonMWDismissReason.TX_ACK_TIMEDOUT]=h.TxAckTimeout,b));g.ZenonDismissReason=h;g.endCallToDismissReason=a;g.dismissToEndCallReason=e;g.dismissReasonToCancelReason=f;g.mediaErrorToDismissReason=i;g.mwDismissToDmissReason=j}),98);
__d("ZenonCallsModelTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";c=(a=b("$InternalEnum")).Mirrored(["Disconnected","Precontacting","Contacting","Ringing","PendingApproval","Approved","FailedApproval","Connecting","Connected","Reconnecting","ProvisionalRinging"]);d=a.Mirrored(["Facebook","Instagram","Messenger","Guest","WhatsApp","Workplace"]);e=a.Mirrored(["New","Connecting","PendingApproval","Connected","Terminating","Terminated"]);b=a.Mirrored(["Unknown","CallsBlocked"]);a=a.Mirrored(["None","PendingPeerFeedback","Declined","RemoteDeclined","LocalDeclined","Cancelled","TimedOut","Accepted","InitiatedFromPeer"]);f.ZenonCallParticipantState=c;f.ZenonCallParticipantType=d;f.ZenonCallState=e;f.ZenonEndCallSubreason=b;f.ZenonVideoEscalationStatus=a}),66);
__d("ZenonParticipantState",["$InternalEnum","ZenonCallsModelTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=b("$InternalEnum")({UNKNOWN:0,ADDING:1,CONTACTING:2,RINGING:3,ACCEPTING:4,PRECONNECTING:5,CONNECTING:6,CONNECTED:7,REMOVING:8,DISCONNECTED:9,NO_ANSWER:10,REJECTED:11,UNREACHABLE:12,CONNECTION_DROPPED:13,PARTICIPANT_LIMIT_REACHED:14,IN_ANOTHER_CALL:15,RING_TYPE_UNSUPPORTED:16,PENDING_APPROVAL:17,APPROVING:18,DENYING:19,APPROVED:20,FAILED_APPROVAL:21,HANGUP_IN_WAITING_ROOM:22,RECONNECTING:23});function a(a){if(a==null)return d("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected;switch(a){case h.CONTACTING:case h.PRECONNECTING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Contacting;case h.RINGING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Ringing;case h.CONNECTING:case h.RECONNECTING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Connecting;case h.CONNECTED:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Connected;case h.PENDING_APPROVAL:case h.APPROVING:case h.DENYING:case h.ACCEPTING:case h.ADDING:case h.REMOVING:return d("ZenonCallsModelTypes").ZenonCallParticipantState.PendingApproval;case h.APPROVED:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Approved;case h.FAILED_APPROVAL:return d("ZenonCallsModelTypes").ZenonCallParticipantState.FailedApproval;case h.HANGUP_IN_WAITING_ROOM:case h.UNKNOWN:case h.DISCONNECTED:case h.NO_ANSWER:case h.REJECTED:case h.UNREACHABLE:case h.CONNECTION_DROPPED:case h.PARTICIPANT_LIMIT_REACHED:case h.IN_ANOTHER_CALL:case h.RING_TYPE_UNSUPPORTED:return d("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected}return d("ZenonCallsModelTypes").ZenonCallParticipantState.Disconnected}g.ZenonParticipantState=h;g.toCallParticipantState=a}),98);
__d("ZenonScreenShare",["UserAgent","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a.length===1&&((a=a[0])==null?void 0:a.contentType)==="screen"}function h(){return!c("UserAgent").isBrowser("Safari")}function b(){return!h()?!0:!c("gkx")("1667037")}g.isScreenSharingTrack=a;g.screenShareWithReplaceTrack=b}),98);
__d("ZenonSignalingTypes",[],(function(a,b,c,d,e,f){"use strict";a={OK:0,REJECTED_FROM_VERSION_DOES_NOT_MATCH:1,METHOD_NOT_ALLOWED:2};b={CLIENT_TERMINATED:0};f.ZenonSignalingStatusCode=a;f.ZenonSignalingStatusSubCode=b}),66);
__d("addDevTierOverridesToHeaderExtensions",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b={multiwayCoreTier:"",multiwayWwwTier:""};if(!c("gkx")("678350"))return b;b.multiwayWwwTier=h(a,"multiway_www_tier");b.multiwayCoreTier=h(a,"multiway_core_tier");return b}function h(a,b){b=b+"=";a=a.split(b);return a[1]?a.pop().split("&").shift():""}g["default"]=a}),98);
__d("ZenonMWTranslatorUtils",["ChannelClientID","CurrentUser","IGDWebUtils","OverlayConfigServerLayer","RpWebMqttEnabledAppIds","ZenonDismissReason","ZenonMWMessageTypes","ZenonParticipantState","ZenonScreenShare","ZenonSignalingProtocol","ZenonSignalingTypes","addDevTierOverridesToHeaderExtensions","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h,i="signalingDominantSpeakerUpdate",j="signalingVideoUploadUpdate",k=new Set(c("RpWebMqttEnabledAppIds").APP_IDS);function a(a,b,c){c===void 0&&(c=!1),a&&Object.keys(a).forEach(function(d){var e=a[d],f=e.data;e=e.version;if(f!=null){f={data:f,eventName:"stateSyncNotifyRequest",responseRequired:c,topic:d,version:e};b.push(f)}})}function b(a,b,d){var e={appId:p(),deviceId:c("ChannelClientID").getID(),userId:b.userInfo.userID};b=v(b,a);return{endpoint:e,jsonPayload:{body:d,header:b}}}function e(a,b,d,e,f){var g={appId:p(),deviceId:c("ChannelClientID").getID(),userId:b.userInfo.userID};b=w(b,a,e,f);return{endpoint:g,jsonPayload:{body:d,header:b}}}function f(a){a=d("ZenonDismissReason").mwDismissToDmissReason(a);return(a=a)!=null?a:d("ZenonDismissReason").ZenonDismissReason.CallEnded}function l(a){a=J[a];return(a=a)!=null?a:d("ZenonMWMessageTypes").ZenonMWParticipantCallState.UNKNOWN}function m(a){var b=null;a!=null&&a.forEach(function(a){a=(a=a.body)==null?void 0:a.genericMessage;if(a!=null&&a.topic==="collision_context_payload"){a=a.data;if(a!=null){var c;a=JSON.parse(a);b={groupThreadID:(c=a.group_thread_id)!=null?c:null,peerID:(c=a.peer_id)!=null?c:null,serverInfoData:(c=a.server_info_data)!=null?c:null}}}});return b}function n(a){a=(a=a.message.body)!=null?a:{};var b=a.dominantSpeakerSignalingInfo,c=a.genericMessage;a=a.videoUploadSignalingInfo;if(c)try{return atob(c.data)}catch(a){return c.data}else if(b)return JSON.stringify(b);else if(a)return JSON.stringify(a);return null}function o(a){a=(a=a.message.body)!=null?a:{};var b=a.dominantSpeakerSignalingInfo,c=a.genericMessage;a=a.videoUploadSignalingInfo;if(c)return c.topic;else if(b)return i;else if(a)return j;return null}function p(){var a=c("CurrentUser").getAppID();if(a!=null&&d("IGDWebUtils").isInstagramWebSupportedApp(Number(a)))return a;a=(a=a)!=null?a:219994525426954..toString();return k.has(Number(a))?a:219994525426954..toString()}function q(a){a=a&&a.length>0?a.find(function(a){return((a=a.body)==null?void 0:(a=a.genericMessage)==null?void 0:a.topic)==="room_metadata"}):null;if(a){var b;b=(b=a.body)==null?void 0:(b=b.genericMessage)==null?void 0:b.data;if(b!=null){b=JSON.parse(b);a=(a=a.header)==null?void 0:a.sender;if(b.link_hash!=null&&b.room_name!=null&&a!=null)return{linkHash:b.link_hash,profileURL:b.profile_url,ringSubtitle:b.ring_subtitle,roomName:b.room_name,sender:a}}}return null}function r(a,b){b=c("OverlayConfigServerLayer").createFromHeader(b);if(b){b={eventName:"overlayConfigServerUpdateRequest",serverLayer:b};a.push(b)}}function s(a){return a.reduce(function(a,b){var c;c=(c=b.body)==null?void 0:(c=c.genericMessage)==null?void 0:c.topic;b=(b=b.body)==null?void 0:(b=b.genericMessage)==null?void 0:b.data;c!=null&&b!=null&&(a[c]=b);return a},{})}function t(a){var b=a.clientSessionId,d=a.conferenceName,e=a.receiver,f=a.receiverUserId,g=a.sequenceNumber,h=a.serverInfoData,i=a.transactionId;if(c("gkx")("1877")&&f==null)throw c("err")("Incoming MW messages should have receiverUserId populated.");b=b;var j={userID:"2"};e={actorID:(e=e==null?void 0:e.actorId)!=null?e:null,messageID:i,messageTags:(e=a.messageTags)!=null?e:[],protocol:c("ZenonSignalingProtocol").MW,remoteInfo:j,retryCount:a.retryCount,roomInfo:{name:d},sequenceNumber:g,signalingID:b,userInfo:{userID:(i=f)!=null?i:"1"}};h!=null&&(e.remoteSignalingID=h);return e}function u(a,b){return Object.keys(a).map(function(c){var d=a[c];return{body:{genericMessage:{data:d,topic:c}},header:{recipients:b,topic_DEPRECATED:c}}})}function v(a,b){var e=a.messageID,f=a.messageTags,g=a.remoteSignalingID,h=a.roomInfo,i=a.signalingID,j=c("addDevTierOverridesToHeaderExtensions")(window.location.href);h={clientStack:d("ZenonMWMessageTypes").ZenonMWClientStack.ZENON,conferenceName:h.name,messageTags:f,retryCount:a.retryCount,sequenceNumber:a.sequenceNumber,transactionId:e,type:b};(j.multiwayCoreTier!==""||j.multiwayWwwTier!=="")&&(h.extensions=j);i!=null&&(h.clientSessionId=i);g!=null&&(h.serverInfoData=g);a.actorID!=null&&(h.sender={id:a.actorID});return h}function w(a,b,c,e){a=v(a,b);a.responseStatusCode=(b=c)!=null?b:d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK;e!=null&&(a.responseSubCode=e);return a}function x(a){var b={tracks:{}},c=!d("ZenonScreenShare").screenShareWithReplaceTrack();a.tracks.forEach(function(a){var d={enabled:a.enabled,name:a.name,owner:a.participantID},e=c?G(a.type):null;e!=null&&(d.label=e);b.tracks[a.trackID]=d});return b}function y(a){if(a==null)return null;switch(a){case d("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_AUDIO:return"audio";case d("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_VIDEO:return"video";case d("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_AUDIO:return"screen_audio";case d("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_VIDEO:return"screen"}}function z(a){a=I[a];return(a=a)!=null?a:d("ZenonMWMessageTypes").ZenonMWDeviceStatus.OK}function A(a){switch(a){case d("ZenonDismissReason").ZenonDismissReason.IgnoreCall:return d("ZenonMWMessageTypes").ZenonMWHangupReason.IGNORE_CALL;case d("ZenonDismissReason").ZenonDismissReason.HangupCall:return d("ZenonMWMessageTypes").ZenonMWHangupReason.HANGUP_CALL;case d("ZenonDismissReason").ZenonDismissReason.NoAnswerTimeout:return d("ZenonMWMessageTypes").ZenonMWHangupReason.NO_ANSWER_TIMEOUT;case d("ZenonDismissReason").ZenonDismissReason.ClientError:return d("ZenonMWMessageTypes").ZenonMWHangupReason.CLIENT_ERROR;case d("ZenonDismissReason").ZenonDismissReason.InAnotherCall:return d("ZenonMWMessageTypes").ZenonMWHangupReason.IN_ANOTHER_CALL;case d("ZenonDismissReason").ZenonDismissReason.ClientInterrupted:return d("ZenonMWMessageTypes").ZenonMWHangupReason.CLIENT_INTERRUPTED;case d("ZenonDismissReason").ZenonDismissReason.SessionMigrated:return d("ZenonMWMessageTypes").ZenonMWHangupReason.SESSION_MIGRATED;default:return d("ZenonMWMessageTypes").ZenonMWHangupReason.HANGUP_CALL}}function B(a){var b={};a.tracks.forEach(function(a){b[a.trackID]=a.enabled});return b}function C(a){var b={},c=!d("ZenonScreenShare").screenShareWithReplaceTrack();a.tracks.forEach(function(a){var d={enabled:a.enabled},e=c?G(a.type):null;e!=null&&(d.label=e);b[a.trackID]=d});return{tracks:b}}function D(a){return K[a]}function E(a){return a==null?null:L[a]}function F(a){var b={};a.forEach(function(a,c){b[c]=babelHelpers["extends"]({},a)});return b}function G(a){switch(a){case"audio":return d("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_AUDIO;case"video":return d("ZenonMWMessageTypes").ZenonMWTrackLabel.DEFAULT_VIDEO;case"screen":return d("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_VIDEO;case"screen_audio":return d("ZenonMWMessageTypes").ZenonMWTrackLabel.SCREEN_AUDIO;default:return null}}function H(a,b,c){c===void 0&&(c=0);var d={fromVersion:b,tracks:[],version:c};a!=null&&Object.keys(a.tracks).forEach(function(b){var c=a.tracks[b];b={enabled:c.enabled,name:c.name,participantID:c.owner,trackID:b,type:y(c.label)};d.tracks.push(b)});return d}var I={IN_ANOTHER_CALL:d("ZenonMWMessageTypes").ZenonMWDeviceStatus.IN_ANOTHER_CALL,NO_OP:null,NOT_SUPPORTED:d("ZenonMWMessageTypes").ZenonMWDeviceStatus.NOT_SUPPORTED,OK:d("ZenonMWMessageTypes").ZenonMWDeviceStatus.OK},J=Object.freeze((h={},h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.UNKNOWN]=d("ZenonParticipantState").ZenonParticipantState.UNKNOWN,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.DISCONNECTED]=d("ZenonParticipantState").ZenonParticipantState.DISCONNECTED,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.NO_ANSWER]=d("ZenonParticipantState").ZenonParticipantState.NO_ANSWER,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.REJECTED]=d("ZenonParticipantState").ZenonParticipantState.REJECTED,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.UNREACHABLE]=d("ZenonParticipantState").ZenonParticipantState.UNREACHABLE,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.CONNECTION_DROPPED]=d("ZenonParticipantState").ZenonParticipantState.CONNECTION_DROPPED,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.CONTACTING]=d("ZenonParticipantState").ZenonParticipantState.CONTACTING,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.RINGING]=d("ZenonParticipantState").ZenonParticipantState.RINGING,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.CONNECTING]=d("ZenonParticipantState").ZenonParticipantState.CONNECTING,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.CONNECTED]=d("ZenonParticipantState").ZenonParticipantState.CONNECTED,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.PARTICIPANT_LIMIT_REACHED]=d("ZenonParticipantState").ZenonParticipantState.PARTICIPANT_LIMIT_REACHED,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.IN_ANOTHER_CALL]=d("ZenonParticipantState").ZenonParticipantState.IN_ANOTHER_CALL,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.RING_TYPE_UNSUPPORTED]=d("ZenonParticipantState").ZenonParticipantState.RING_TYPE_UNSUPPORTED,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.PENDING_APPROVAL]=d("ZenonParticipantState").ZenonParticipantState.PENDING_APPROVAL,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.APPROVED]=d("ZenonParticipantState").ZenonParticipantState.APPROVED,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.FAILED_APPROVAL]=d("ZenonParticipantState").ZenonParticipantState.FAILED_APPROVAL,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.UNCALLABLE]=d("ZenonParticipantState").ZenonParticipantState.UNREACHABLE,h[d("ZenonMWMessageTypes").ZenonMWParticipantCallState.HANGUP_IN_WAITING_ROOM]=d("ZenonParticipantState").ZenonParticipantState.HANGUP_IN_WAITING_ROOM,h)),K=Object.freeze((h={},h[d("ZenonSignalingTypes").ZenonSignalingStatusCode.OK]=d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.OK,h[d("ZenonSignalingTypes").ZenonSignalingStatusCode.REJECTED_FROM_VERSION_DOES_NOT_MATCH]=d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.CONDITIONAL_REQUEST_FAILED,h[d("ZenonSignalingTypes").ZenonSignalingStatusCode.METHOD_NOT_ALLOWED]=d("ZenonMWMessageTypes").ZenonMWResponseStatusCode.METHOD_NOT_ALLOWED,h)),L=Object.freeze((h={},h[d("ZenonSignalingTypes").ZenonSignalingStatusSubCode.CLIENT_TERMINATED]=d("ZenonMWMessageTypes").ZenonMWResponseSubCode.CLIENT_TERMINATED,h));g.addStateStoreSignalingEvents=a;g.createMWRequest=b;g.createMWResponse=e;g.fromMWDismissReason=f;g.fromMWParticipantState=l;g.getCollisionContextFromAppMessages=m;g.getGenericDataMessageData=n;g.getGenericDataMessageTopic=o;g.getMWAppID=p;g.getRoomMetadataFromAppMessages=q;g.maybeAddOverlayConfigServerUpdateRequest=r;g.mwAppMessagesToSignalingAppMessages=s;g.mwMessageHeaderToSignalingMessageHeader=t;g.signalingMessageAppMessagesToMWAppMessages=u;g.toMWClientMediaStatus=x;g.toMWClientTrackContentType=y;g.toMWDeviceStatus=z;g.toMWHangupReason=A;g.toMWMediaStatus=B;g.toMWMediaStatusEx=C;g.toMWResponseStatusCode=D;g.toMWResponseStatusSubCode=E;g.toMWSyncStateStore=F;g.toMWTrackLabel=G;g.toZenonMediaStates=H}),98);
__d("ZenonMachineToQPLEvent",["qpl"],(function(a,b,c,d,e,f,g){"use strict";a={ConnectionStateMachine:c("qpl")._(64243854,"2452"),ParentSignalingClient:c("qpl")._(64234815,"1094"),PeerConnectionStateMachine:c("qpl")._(64239068,"6172"),SignalingStateMachine:c("qpl")._(64245348,"8823")};g["default"]=a}),98);
__d("ZenonODSLogger",["ODS"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.logCounter=function(a){d("ODS").bumpEntityKey(4083,"zenon_multiway",a),d("ODS").flush()};return a}();b=new a();g["default"]=b}),98);
__d("ZenonDebugLogger",["ChannelClientID","CurrentUser","FBLogger","IGDWebUtils","Log","LogHistory","ODS","QuickLogActionType","QuickPerformanceLogger","RpWebStateMachineLoggingBlocklist","UserAgentData","ZenonAuditedCheckpointLogId","ZenonIceStatsParser","ZenonInfraActionsLogger","ZenonMWMessageMap","ZenonMWMessageTypes","ZenonMWTranslatorUtils","ZenonMachineToQPLEvent","ZenonODSLogger","cr:6165","cr:6166","formatDate","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";e=(a=b("cr:6166"))!=null?a:{};var h=e.MessageType,i=null;f=function(){a.getInstance=function(){i||(i=new a());return i};a.getFBLogger=function(a){var b;a===void 0&&(a={});return c("FBLogger")("rpweb").addMetadata("RT_WEB","CALL_ID",""+((b=a.signalingID)!=null?b:"null")).addMetadata("RT_WEB","PEER_ID",""+((b=a.peerID)!=null?b:"null"))};function a(){this.$1=d("LogHistory").getInstance("webrtc");this.$2=d("ChannelClientID").getID();this.$3=JSON.stringify({browser:c("UserAgentData").browserName,browser_version:c("UserAgentData").browserFullVersion,device:c("UserAgentData").deviceName,msg_source:"web",os:c("UserAgentData").platformName,os_version:c("UserAgentData").platformFullVersion,version:2});var a=c("CurrentUser").getAppID();a!=null&&d("IGDWebUtils").isInstagramWebSupportedApp(Number(a))?this.$4=parseInt(a):this.$4=219994525426954;this.$5=new Set(c("RpWebStateMachineLoggingBlocklist").EVENT_TYPES);this.$6=new Set(c("RpWebStateMachineLoggingBlocklist").STATES);this.$7=new Set(c("RpWebStateMachineLoggingBlocklist").MESSAGE_TYPES)}var e=a.prototype;e.$8=function(a,b,d){b===void 0&&(b=!0);var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a);b&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] "+a,messageID:d})};e.$9=function(a,b,d){var e=c("formatDate")(new Date(),"[H:i:s:X]",{skipPatternLocalization:!0});this.$1.log("Console",e+" "+a+". StateMachineID:  "+((e=b)!=null?e:""));e={auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__STATE_MACHINE,checkpoint:"[ZP] "+a+".",stateMachineID:b};d!=null&&(e.messageID=d);c("ZenonInfraActionsLogger").logCheckpoint(e)};e.$10=function(a,b,d,e){e===void 0&&(e=0);a=c("ZenonMachineToQPLEvent")==null?void 0:c("ZenonMachineToQPLEvent")[a];if(!a||!c("QuickPerformanceLogger")||!c("QuickLogActionType"))return;d==="terminated"?c("QuickPerformanceLogger").markerEnd(a,2,e):c("QuickPerformanceLogger").markerPoint(a,b,{data:{string:{data:d}},instanceKey:e})};e.$11=function(a){return isNaN(+a)?0:+a};e.$12=function(a){a=a.jsonPayload.header;return a.responseStatusCode!=null};e.$13=function(a){a=a.messageHeader.responseStatusCode;return a!=null};e.$14=function(){return c("gkx")("2890")||c("gkx")("6954")};e.getLogHistory=function(){return this.$1};e.logStateMachine=function(a,b,d,e,f){if(!this.$14())return;if(this.$5.has(d))return;var g="["+a+"] [Current State: "+b+"] Processing event: "+d;g={auditId:c("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__STATE_MACHINE,checkpoint:""+g,stateMachineID:e};f!=null&&(g.messageID=f);c("ZenonInfraActionsLogger").logCheckpoint(g);this.$10(a,d,b,this.$11(e))};e.logStateMachineTransition=function(a,b,c,d,e,f,g,h){if(this.$6.has(c)||this.$5.has(e))return;if(!this.$14())return;var i="";f!=null&&f.length===1&&f[0].type==="defer"?i="["+a+"] [[DEFERRED] "+e+" did not trigger transition. Current state remains "+c:c!==d?i="["+a+"] [[PROCESSED] "+e+" caused transition from "+(d||"")+" to "+c+".":b?i="["+a+"] [[PROCESSED] "+e+" did not trigger transition. Current state remains "+c:(i="["+a+"] [[DROPPED] "+e+" did not trigger transition. Current state remains "+c,this.$15(a));this.$9(i,g,h)};e.logMWMessage=function(a,b,e){this.$16(a,b,e);var f=e.jsonPayload.header;if(f.type===d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN){if(!c("QuickPerformanceLogger")||!c("QuickLogActionType"))return;this.$12(e)?(c("QuickPerformanceLogger").markerPoint(c("qpl")._(41156609,"943"),"signaling_mw_join_response_recv",{instanceKey:this.$11(f.clientSessionId)}),c("QuickPerformanceLogger").markerEnd(c("qpl")._(41156609,"943"),2,this.$11(f.clientSessionId))):(c("QuickPerformanceLogger").markerStart(c("qpl")._(41156609,"943"),this.$11(f.clientSessionId)),c("QuickPerformanceLogger").markerPoint(c("qpl")._(41156609,"943"),"signaling_mw_join_req_sent",{instanceKey:this.$11(f.clientSessionId)}))}if(e.jsonPayload==null||!this.$14())return;var g=c("ZenonMWMessageMap")[f.type],h=this.$12(e)?"RESPONSE":"REQUEST";e=this.$17(e);a="[ms] "+a+" ["+b+"] "+g+" "+h+" [retryCount: "+f.retryCount+(e!=null?" details: "+e:"")+"]";this.$7.has(g)||this.$8(a,!0,f.transactionId)};e.logMWThriftMessage=function(a,c,d){if(!b("cr:6165")||!this.$14())return;var e=d.messageHeader,f=b("cr:6165").messageTypeToString(d.messageHeader.type),g=this.$13(d)?"RESPONSE":"REQUEST";d=this.$18(d);a="[ms] "+a+" ["+c+"] "+f+" "+g+" [retryCount: "+e.retryCount+(d!=null?" details: "+d:"")+"]";this.$7.has(f)||this.$8(a,!0,e.transactionId)};e.startQPL=function(a,b){b===void 0&&(b=0),c("QuickPerformanceLogger")&&c("QuickPerformanceLogger").markerStart(a,this.$11(b))};e.endQPL=function(a,b){b===void 0&&(b=0),c("QuickPerformanceLogger")&&c("QuickLogActionType")&&c("QuickPerformanceLogger").markerEnd(a,2,this.$11(b))};e.$16=function(a,b,c){a=this.$19(a,b,c);a!==null&&d("ODS").bumpEntityKey(4083,"zenon_signaling",a)};e.$19=function(a,b,e){if(e.jsonPayload==null)return null;var f=e.jsonPayload,g=f.body;f=f.header;var h="";switch(f.type){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE:if(g.dataMessageRequest){h=(g=d("ZenonMWTranslatorUtils").getGenericDataMessageTopic(g.dataMessageRequest))!=null?g:"undefined"}break}g=this.$12(e)?"response":"request";e=c("ZenonMWMessageMap")[f.type];if(h==="")return a+"-"+b+"-"+e+"-"+g;else return a+"-"+b+"-"+e+"-"+g+"-"+h};e.$17=function(a){if(a.jsonPayload==null)return null;var b=a.jsonPayload,c=b.body;b=b.header;switch(b.type){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:if(this.$12(a)){var e;return JSON.stringify({hasAnswer:((e=c.joinResponse)==null?void 0:e.answer)!=null,hasRenegotiationOffer:((e=c.joinResponse)==null?void 0:e.renegotiationOffer)!=null,isPendingApproval:(e=c.joinResponse)==null?void 0:e.isPendingApproval,multipleVideoStreamsAllowed:(e=c.joinResponse)==null?void 0:e.multipleVideoStreamsAllowed,statusCode:b.responseStatusCode,subCode:b.responseSubCode})}return JSON.stringify({deviceCapabilities:(e=c.joinRequest)==null?void 0:e.deviceCapabilities,sdpType:((e=c.joinRequest)==null?void 0:e.offer)!=null?"offer":((e=c.joinRequest)==null?void 0:e.answer)!=null?"answer":"null",userCapabilities:(e=c.joinRequest)==null?void 0:e.userCapabilities});case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:if(this.$12(a)){return JSON.stringify({currentVersion:(e=c.serverMediaUpdateResponse)==null?void 0:e.currentVersion,hasAnswer:((e=c.serverMediaUpdateResponse)==null?void 0:e.answer)!=null,statusCode:b.responseStatusCode,subCode:b.responseSubCode})}return JSON.stringify({fromVersion:(e=c.serverMediaUpdateRequest)==null?void 0:e.fromVersion,messageTags:b.messageTags,renegotiationRequested:(e=(e=c.serverMediaUpdateRequest)==null?void 0:e.renegotiationRequested)!=null?e:!1,sdpType:((e=c.serverMediaUpdateRequest)==null?void 0:e.offer)?"offer":((e=c.serverMediaUpdateRequest)==null?void 0:e.answer)?"answer":((e=c.serverMediaUpdateRequest)==null?void 0:e.update)?"delta":"empty",toVersion:(e=(e=c.serverMediaUpdateRequest)==null?void 0:e.toVersion)!=null?e:""});case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:if(this.$12(a)){return JSON.stringify({currentVersion:(e=(e=c.clientMediaUpdateResponse)==null?void 0:e.currentVersion)!=null?e:"",statusCode:b.responseStatusCode,subCode:b.responseSubCode})}return JSON.stringify({fromVersion:(b=(e=c.clientMediaUpdateRequest)==null?void 0:e.fromVersion)!=null?b:"",toVersion:(b=(e=c.clientMediaUpdateRequest)==null?void 0:e.toVersion)!=null?b:""});case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SUBSCRIPTION:return this.$12(a)?null:JSON.stringify({subscriptions:(b=(e=c.subscriptionRequest)==null?void 0:e.subscriptions)!=null?b:""});case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:if(this.$12(a))return null;b=(e=c.iceCandidateRequest)==null?void 0:e.iceCandidateSdps.map(function(a){a=a.candidateSdpString;if(a!=null)return d("ZenonIceStatsParser").extractIceInfo(a)});return JSON.stringify({iceCandidates:b});default:return null}};e.$18=function(a){var b=a.messageBody,c=a.messageHeader;if(h==null||c.type==null)return null;switch(c.type){case h.JOIN:if(this.$13(a)){var e;return JSON.stringify({hasAnswer:((e=b.joinResponse)==null?void 0:e.answer)!=null,hasRenegotiationOffer:((e=b.joinResponse)==null?void 0:e.renegotiationOffer)!=null,isPendingApproval:(e=b.joinResponse)==null?void 0:e.isPendingApproval,multipleVideoStreamsAllowed:(e=b.joinResponse)==null?void 0:e.multipleVideoStreamsAllowed,statusCode:c.responseStatusCode,subCode:c.responseSubCode})}return JSON.stringify({deviceCapabilities:(e=b.joinRequest)==null?void 0:e.deviceCapabilities,sdpType:((e=b.joinRequest)==null?void 0:e.offer)!=null?"offer":((e=b.joinRequest)==null?void 0:e.answer)!=null?"answer":"null",userCapabilities:(e=b.joinRequest)==null?void 0:e.userCapabilities});case h.SERVER_MEDIA_UPDATE:if(this.$13(a)){return JSON.stringify({currentVersion:(e=b.serverMediaUpdateResponse)==null?void 0:e.currentVersion,hasAnswer:((e=b.serverMediaUpdateResponse)==null?void 0:e.answer)!=null,statusCode:c.responseStatusCode,subCode:c.responseSubCode})}return JSON.stringify({fromVersion:(e=b.serverMediaUpdateRequest)==null?void 0:e.fromVersion,messageTags:c.messageTags,renegotiationRequested:(e=(e=b.serverMediaUpdateRequest)==null?void 0:e.renegotiationRequested)!=null?e:!1,sdpType:((e=b.serverMediaUpdateRequest)==null?void 0:e.offer)?"offer":((e=b.serverMediaUpdateRequest)==null?void 0:e.answer)?"answer":((e=b.serverMediaUpdateRequest)==null?void 0:e.update)?"delta":"empty",toVersion:(e=(e=b.serverMediaUpdateRequest)==null?void 0:e.toVersion)!=null?e:""});case h.CLIENT_MEDIA_UPDATE:if(this.$13(a)){return JSON.stringify({currentVersion:(e=(e=b.clientMediaUpdateResponse)==null?void 0:e.currentVersion)!=null?e:"",statusCode:c.responseStatusCode,subCode:c.responseSubCode})}return JSON.stringify({fromVersion:(c=(e=b.clientMediaUpdateRequest)==null?void 0:e.fromVersion)!=null?c:"",toVersion:(c=(e=b.clientMediaUpdateRequest)==null?void 0:e.toVersion)!=null?c:""});case h.SUBSCRIPTION:return this.$13(a)?null:JSON.stringify({subscriptions:(c=(e=b.subscriptionRequest)==null?void 0:e.subscriptions)!=null?c:""});case h.ICE_CANDIDATE:if(this.$13(a))return null;c=(e=b.iceCandidateRequest)==null?void 0:e.iceCandidateSdps.map(function(a){a=a.candidateSdpString;if(a!=null)return d("ZenonIceStatsParser").extractIceInfo(a)});return JSON.stringify({iceCandidates:c});default:return null}};e.logConsole=function(a){this.$8(a,!1)};e.logMQTTStateChange=function(a){var b="mqtt_client_state_"+a;c("ZenonODSLogger").logCounter(b);this.$14()&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] onMQTTStateChanged: "+a+", document.visibility: "+document.visibilityState+", document.hasFocus: "+String(document.hasFocus())+", navigator.onLine: "+String(navigator.onLine)})};e.logMQTTConnectStats=function(a,b){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] MQTT Connection time: "+String(a)+"ms, Retry Count: "+String(b)})};e.logSendMultiwayMessageFailure=function(a,b){d("ODS").bumpEntityKey(4083,"zenon_multiway","send_message_failure"),d("ODS").flush(),c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Failed to send MW message of type "+b+". Error msg: "+a+":"})};e.$15=function(a){d("ODS").bumpEntityKey(4083,"zenon_state_machine",a+"_event_dropped"),d("ODS").flush()};return a}();g["default"]=f}),98);
__d("ZenonUserActionLogger",["RtcWebUserActionsDebugFalcoEvent","RtcWebUserActionsFalcoEvent","ZenonDebugLogger","ZenonSDESKeyDetector","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=window.location.hostname.search("facebook")!==-1?"facebook":window.location.hostname.search("messenger")!==-1?"messenger_dot_com":null,j={logCheckpoint:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"checkpoint"}))},logClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logError:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"error"}))},logEvent:function(a){var b;if(c("ZenonSDESKeyDetector")(a))throw c("unrecoverableViolation")("ZenonUserActionLogger event contains SDES crypto key! This log entry must be removed!","rtc_www");b=babelHelpers["extends"]({},a,{page:(b=a.page)!=null?b:i});var d=babelHelpers["extends"]({},b,{client_time:Date.now().toString()});c("RtcWebUserActionsDebugFalcoEvent").log(function(){return d});c("RtcWebUserActionsFalcoEvent").log(function(){return d});c("ZenonDebugLogger").getInstance().getLogHistory().log((a=a.event)!=null?a:"null",JSON.stringify(b))},logImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},logPreCallClick:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"tap"}))},logPreCallImpression:function(a){j.logEvent(babelHelpers["extends"]({},a,{event:"impression"}))},startTimer:function(a){var b=Date.now();h=h.set(a,b);j.logCheckpoint({checkpoint:a+"_timerStart"})},stopTimer:function(a){var b=a.checkpointName===void 0?a.timerName:a.checkpointName,c=a.event||{},d=function(a){var b=h.get(a);if(b!=null){h["delete"](a);return parseInt(Date.now()-b,10)}return null};d=d(a.timerName);j.logCheckpoint(babelHelpers["extends"]({},c,{checkpoint:b+"_timerEnd",event_time_elapsed:d==null?void 0:d.toString()}));return parseInt(d,10)}};f.exports=j}),34);
__d("ZenonBrowsers",["UserAgent","UserAgentData","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){return c("UserAgent").isBrowser("Chrome")}function i(){return!!navigator.webkitGetUserMedia}function a(){return c("UserAgent").isBrowser("Edge (Chromium Based)")}function j(){return c("UserAgent").isBrowser("Safari")}function k(){return c("UserAgent").isBrowser("Firefox")}function b(){return c("UserAgent").isBrowser("Opera")}function l(){return c("UserAgent").isBrowser("Mobile Safari")}function m(){return c("UserAgent").isBrowser("Oculus Browser")}function n(){return c("UserAgent").isBrowser("Samsung Browser")}function d(){return l()||c("UserAgent").isPlatform("Android")||n()}function o(){return c("UserAgent").isPlatform("Android")||c("UserAgent").isPlatform("iOS")}function p(){if(k()){var a;return(a=c("UserAgentData").browserVersion)!=null?a:0}if(i()){a=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./);return a!=null?parseInt(a[2],10):999}return 0}function q(){return c("UserAgent").isBrowser("FBLite")||c("UserAgent").isBrowser("Facebook for Android")}function e(a){if(!q())return!1;var b=p();return b>=a}function r(){return c("gkx")("6893")}function s(){return!r()}function f(){return s()||r()}function t(){return k()}function u(){return k()||j()||c("UserAgent").isBrowser("Chrome >= 97")}function v(){return!o()&&(c("UserAgent").isBrowser("Chrome >= 51")||c("UserAgent").isBrowser("Opera >= 36"))}function w(){return c("UserAgent").isBrowser("Firefox < 60")||c("UserAgent").isBrowser("Edge")}function x(){return!m()}function y(){return!m()}function z(){return!l()&&!j()&&!((i()||h())&&p()<80)&&!(k()&&p()<70)}function A(){return(i()||h())&&p()>=77||c("UserAgent").isBrowser("Firefox >= 70")||c("UserAgent").isBrowser("Safari >= 14.1")}function B(){return c("UserAgent").isBrowser("Chrome >= 89")||c("UserAgent").isBrowser("Opera >= 75")||c("UserAgent").isBrowser("Edge (Chromium Based) >= 89")}g.isChrome=h;g.isChromium=i;g.isChromiumBasedEdge=a;g.isDesktopSafari=j;g.isFirefox=k;g.isOpera=b;g.isMobileSafari=l;g.isOculusBrowser=m;g.isSamsung=n;g.isSupportedMobileBrowser=d;g.isMobileDevice=o;g.webrtcVersion=p;g.isFBWebview=q;g.isFBWebviewWithChromeMinVersion=e;g.isDataChannelSupportedInSCTPPeerConnection=r;g.isDataChannelSupportedInMainPeerConnection=s;g.isDataChannelSupported=f;g.noTransceiverForNegotiations=t;g.onlySupportsUnifiedPlan=u;g.isVideoFilterEffectSupported=v;g.videoEscalationByUnmuteWorkaround=w;g.supportsMWAVEscalation=x;g.supportsVideoCalls=y;g.supportsRollback=z;g.supportsIceRestart=A;g.isVideoLayersAllocationSupported=B}),98);
__d("ZenonIGMediaUtil",["ZenonAppProvider","gkx"],(function(a,b,c,d,e,f,g){"use strict";a={shouldUseSFUOnly:function(){return d("ZenonAppProvider").isInstagramApp()&&c("gkx")("6662")}};b=a;g["default"]=b}),98);
__d("shouldUseSFUMediaPath",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a;return(a=c("qex")._("80"))!=null?a:!1}g["default"]=a}),98);
__d("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4148");b=d("FalcoLoggerInternal").create("messenger_discoverable_broadcast_chats_client_events",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("ManageConstituentBadgeDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4617159555055729"}),null);
__d("ManageConstituentBadgeDialogQuery$Parameters",["ManageConstituentBadgeDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("ManageConstituentBadgeDialogQuery_facebookRelayOperation"),metadata:{},name:"ManageConstituentBadgeDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometUFICommentActorConstituentBadge_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentActorConstituentBadge_comment",selections:[a,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[b,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[b],storageKey:null}],storageKey:null}],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFICommentErrorFooter_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentErrorFooter_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null}]}],type:"Comment",abstractKey:null};e.exports=a}),null);
__d("CometUFICommentInlineFollowCTA_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFICommentInlineFollowCTA_comment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null}],type:"User",abstractKey:null}],storageKey:null},a],type:"Comment",abstractKey:null}}();e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6625620750792791"}),null);
__d("CometUFIFeedbackReactSubscription.graphql",["CometUFIFeedbackReactSubscription_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e=[d],f=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[d,{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2TopReactions_feedback"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"liker",plural:!1,selections:e,storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:e,storageKey:null}],storageKey:null}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},i={alias:"i18n_reaction_count",args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},k=[j],l=[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null};e=[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"associated_video",plural:!1,selections:e,storageKey:null},{alias:null,args:[{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"TopReactionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_count",storageKey:null},{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"node",plural:!1,selections:[d,h,{alias:null,args:null,kind:"ScalarField",name:"localized_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null}],storageKey:null},i],storageKey:null},j],storageKey:'top_reactions(orderby:["COUNT_DESC","REACTION_TYPE"])'},{alias:null,args:[{kind:"Literal",name:"use_default_actor",value:!1}],concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"supported_reaction_infos",plural:!0,selections:e,storageKey:"supported_reaction_infos(use_default_actor:false)"},{alias:null,args:null,concreteType:"FeedbackUnifiedReactorsConnection",kind:"LinkedField",name:"unified_reactors",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:[j,{alias:null,args:null,kind:"ScalarField",name:"is_empty",storageKey:null}],storageKey:null},{alias:null,args:l,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"viewer_feedback_reaction_info",plural:!1,selections:[d,g,h],storageKey:null},i,{alias:null,args:[{kind:"Literal",name:"first",value:2}],concreteType:"ImportantReactorsConnection",kind:"LinkedField",name:"important_reactors",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[g,m,d],storageKey:null}],storageKey:"important_reactors(first:2)"},{alias:"reaction_count",args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"ReactionDisplayConfig",kind:"LinkedField",name:"reaction_display_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction_display_strategy",storageKey:null}],storageKey:null},{alias:null,args:l,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[g,d,m],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"liker",plural:!1,selections:[g,{kind:"TypeDiscriminator",abstractKey:"__isActor"},d],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[g,d],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"feedback_like_subscribe",plural:!1,selections:[{kind:"InlineFragment",selections:f,type:"FeedbackLikeResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:f,type:"FeedbackUnlikeResponsePayload",abstractKey:null}],storageKey:null}],type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"CometUFIFeedbackReactSubscription",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"feedback_like_subscribe",plural:!1,selections:[g,{kind:"InlineFragment",selections:e,type:"FeedbackLikeResponsePayload",abstractKey:null},{kind:"InlineFragment",selections:e,type:"FeedbackUnlikeResponsePayload",abstractKey:null}],storageKey:null}]},params:{id:b("CometUFIFeedbackReactSubscription_facebookRelayOperation"),metadata:{subscriptionName:"feedback_like_subscribe"},name:"CometUFIFeedbackReactSubscription",operationKind:"subscription",text:null}}}();e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_feedback",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometUFIFeedbackReactMutation_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2ReactionsCount_feedback"},{args:null,kind:"FragmentSpread",name:"UFI2TopReactions_feedback"}],type:"Feedback",abstractKey:null};e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_liker.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_liker",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Actor",abstractKey:"__isActor"};e.exports=a}),null);
__d("CometUFIFeedbackReactSubscription_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometUFIFeedbackReactSubscription_viewer",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometUFIVoteCountDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5905475139546788"}),null);
__d("CometUFIVoteCountDialogQuery$Parameters",["CometUFIVoteCountDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometUFIVoteCountDialogQuery_facebookRelayOperation"),metadata:{},name:"CometUFIVoteCountDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("useCometUFICreateCommentMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6435844016543123"}),null);
__d("useCometUFICreateCommentMutation.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","useCometUFICreateCommentMutation_facebookRelayOperation"],(function(a,aa,ba,ca,b,da){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},ba={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},ca={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},b={defaultValue:null,kind:"LocalArgument",name:"groupID"},da={defaultValue:null,kind:"LocalArgument",name:"input"},ea={defaultValue:null,kind:"LocalArgument",name:"inviteShortLinkKey"},fa={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},ga={defaultValue:null,kind:"LocalArgument",name:"scale"},ha={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},ia=[{kind:"Variable",name:"data",variableName:"input"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},e=[c],ja={alias:null,args:null,concreteType:"LivingRoomContentItem",kind:"LinkedField",name:"living_room_content_item",plural:!1,selections:e,storageKey:null},ka={alias:null,args:null,kind:"ScalarField",name:"fishbowl_comment_ordering_mode",storageKey:null},la={alias:"threading_depth",args:null,kind:"ScalarField",name:"depth",storageKey:null},ma={alias:null,args:null,kind:"ScalarField",name:"detection_analytics_enabled",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},h=[g],na={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:h,storageKey:null},i=[f,c],j={alias:null,args:null,kind:"ScalarField",name:"have_comments_been_disabled",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"are_live_video_comments_disabled",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"is_viewer_muted",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},n=[m],o={alias:"display_comments_count",args:null,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:n,storageKey:null},p={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comments_disabled_notice_renderer",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentDisabledNotice_feedback",fragmentName:"CometGenericCommentDisableNotice_commentDisableNotice",fragmentPropName:"commentDisableNotice",kind:"ModuleImport"}],type:"GeneralCommentDisableNotice",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentDisabledNotice_feedback",fragmentName:"CometGroupForumCommentDisableNotice_commentDisableNotice",fragmentPropName:"commentDisableNotice",kind:"ModuleImport"}],type:"GroupForumParticipantDisableNotice",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentDisabledNotice_feedback",fragmentName:"CometLiveVideoCommentDisableNotice_commentDisableNotice",fragmentPropName:"commentDisableNotice",kind:"ModuleImport"}],type:"LiveVideoCommentDisableNotice",abstractKey:null}],storageKey:null},q={alias:null,args:null,concreteType:"XFBCommunityCommentSignalRenderer",kind:"LinkedField",name:"community_comment_signal_renderer",plural:!1,selections:[{args:null,documentName:"CometCommunityCommentSignalRenderer_comment",fragmentName:"CometCommunityCommentSignalBubble_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],storageKey:null},oa={alias:null,args:[{kind:"Literal",name:"supported",value:"4lAgx2"}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAvatarAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerAvatarStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoAutoplayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommentPlaceInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPageInCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageInCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFISubscriptionGiftingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSubscriptionGiftStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFIFactsInCommentsUnavailableAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFactsInCommentsCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDataSnapshotAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDataSnapshotStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentCommunityAwardAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommunityAwardStyleRenderer",abstractKey:null}],storageKey:'style_type_renderer(supported:"4lAgx2")'},pa={alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null},r={kind:"Variable",name:"feed_location",variableName:"feedLocation"},s=[r],t={alias:null,args:s,kind:"ScalarField",name:"comment_menu_tooltip",storageKey:null},u={alias:null,args:s,kind:"ScalarField",name:"should_show_comment_menu",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},qa={kind:"TypeDiscriminator",abstractKey:"__isActor"},w={kind:"Variable",name:"scale",variableName:"scale"},x=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],ra={alias:"profile_picture_depth_0",args:[{kind:"Literal",name:"height",value:32},w,{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:x,storageKey:null};w={alias:"profile_picture_depth_1",args:[{kind:"Literal",name:"height",value:24},w,{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:x,storageKey:null};var y={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},sa={kind:"InlineFragment",selections:[y],type:"Entity",abstractKey:"__isEntity"},z={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},B={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},C={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]},ta={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},z,A,{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},B,C],type:"User",abstractKey:null};z={kind:"InlineFragment",selections:[z],type:"Page",abstractKey:null};var ua={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[f,c,v,qa,ra,w,sa,ta,z],storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},E={alias:null,args:s,concreteType:null,kind:"LinkedField",name:"comment_action_links",plural:!0,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentReactionActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentReactionActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentReplyActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentReplyActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentShareActionLinkExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentShareActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentTimeStampActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentTimeStampActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentHideActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentHideActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentUnhideActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentUnhideActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentLearnMoreAboutPendingCommentActionLinkExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentLearnMoreAboutPendingCommentActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentSeeDeclinedCommentFeedbackActionLinkExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentSeeDeclinedCommentFeedbackActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentPinActionLinkExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentPinActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentUnpinActionLinkExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentUnpinActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentViewCommentThreadActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentViewCommentThreadActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentGeminiQAActionLinksExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentGeminiQAActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentRemovePreviewActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentRemovePreviewActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentEditHistoryActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentEditHistoryActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentPageAdminActorInfoActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentPageAdminActorInfoActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentPagePrivateReplyActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentPageAdminPrivateReplyActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentPagePrivateReplyContextActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentPageAdminPrivateReplyContextActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:[{kind:"Literal",name:"CometUFICommentTranslationActionLink_commentActionLink$translationType",value:"ORIGINAL"}],documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentTranslationActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentTranslationActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentVoteActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentVoteActionLink",abstractKey:null}],storageKey:null},F={alias:"can_see_top_custom_reactions_on_comment",args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_render_group_custom_reactions",plural:!1,selections:[{args:null,documentName:"CometUFICommentTopReactions_feedback",fragmentName:"CometUFICommentCustomTopReactions_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},c],storageKey:null},G={alias:"cannot_see_top_custom_reactions_on_comment",args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_cannot_render_group_custom_reactions",plural:!1,selections:[{args:null,documentName:"CometUFICommentTopReactions_feedback__cannot_use_group_custom_reactions",fragmentName:"CometUFIClassicCommentTopReactions_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},c],storageKey:null},H={alias:"can_see_top_custom_reactions_on_comment_for_creators",args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_render_creator_custom_reactions",plural:!1,selections:[{args:null,documentName:"CometUFICommentTopReactions_feedback__can_see_top_custom_reactions_on_comment_for_creators",fragmentName:"CometUFICommentCustomTopReactions_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},c],storageKey:null};n={alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:n,storageKey:null};var va={alias:null,args:null,kind:"ScalarField",name:"should_show_top_reactions",storageKey:null},wa={kind:"Variable",name:"location",variableName:"feedLocation"},xa={alias:null,args:null,kind:"ScalarField",name:"filtering_footer_string",storageKey:null},ya={alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null},za={alias:null,args:null,concreteType:"XFBCommentExpansionInfo",kind:"LinkedField",name:"expansion_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expansion_token",storageKey:null}],storageKey:null},Aa={alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},Ba={alias:null,args:null,kind:"ScalarField",name:"depth",storageKey:null},I={kind:"InlineFragment",selections:e,type:"Node",abstractKey:"__isNode"},Ca={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[g,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[f,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[f,I],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null}],storageKey:null},Da={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[pa,oa],storageKey:null},Ea={alias:null,args:null,kind:"ScalarField",name:"is_markdown_enabled",storageKey:null},Fa={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},J=[Fa],Ga={alias:null,args:J,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},K=[{kind:"Literal",name:"translation_type",value:"ORIGINAL"}],Ha={args:null,fragment:aa("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"},Ia={alias:null,args:K,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[f,{kind:"InlineFragment",selections:[Ha,g],type:"TextWithEntities",abstractKey:null},Ha,{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};K={alias:"body_renderer",args:K,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentTextBodyRenderer_comment",fragmentName:"CometUFICommentBodyTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentTextBodyRenderer_comment",fragmentName:"CometUFICommentBodyComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};A={kind:"InlineFragment",selections:[A],type:"User",abstractKey:null};var Ja={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[f,v,A,c],storageKey:null},c],storageKey:null},Ka={alias:null,args:null,kind:"ScalarField",name:"is_declined_by_group_admin_assistant",storageKey:null},La={alias:null,args:null,kind:"ScalarField",name:"is_gaming_video_comment",storageKey:null},Ma={alias:null,args:null,kind:"ScalarField",name:"timestamp_in_video",storageKey:null},Na={alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect",storageKey:null}],storageKey:null},Oa={alias:null,args:null,kind:"ScalarField",name:"written_while_video_was_live",storageKey:null},Pa={alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{args:null,documentName:"CometUFICommentActorLink_comment_groups",fragmentName:"CometUFIGroupCommentActorLink_groupCommentInfo",fragmentPropName:"groupCommentInfo",kind:"ModuleImport"}],storageKey:null},Qa={alias:null,args:s,concreteType:"BizWebCommentInfo",kind:"LinkedField",name:"bizweb_comment_info",plural:!1,selections:[{args:null,documentName:"CometUFICommentActorLink_comment_bizweb",fragmentName:"BizWebFBCommentAuthorLink_bizWebCommentInfo",fragmentPropName:"bizWebCommentInfo",kind:"ModuleImport"}],storageKey:null},Ra={alias:null,args:null,kind:"ScalarField",name:"has_constituent_badge",storageKey:null},Sa={alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_subsribe_button",storageKey:null},Ta={alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},Ua={alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},Va={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[v,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null},c],storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[f,v,c],storageKey:null}],storageKey:null},Wa={alias:null,args:null,kind:"ScalarField",name:"question_and_answer_type",storageKey:null},Xa={alias:null,args:null,kind:"ScalarField",name:"is_author_original_poster",storageKey:null},Ya={alias:null,args:null,kind:"ScalarField",name:"is_viewer_comment_poster",storageKey:null},Za={alias:null,args:null,kind:"ScalarField",name:"is_author_bot",storageKey:null},$a={alias:null,args:null,kind:"ScalarField",name:"is_author_non_coworker",storageKey:null},ab={alias:null,args:s,concreteType:null,kind:"LinkedField",name:"author_user_signals_renderer",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null}],storageKey:null},bb={alias:null,args:[r,{kind:"Literal",name:"supported",value:"CSok3"}],concreteType:null,kind:"LinkedField",name:"author_badge_renderers",plural:!0,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorConstituentBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorConstituentBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorVerifiedBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorVerifiedBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorAMAQuestionAnswerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorAMAQuestionAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentInlineFollowCTARenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentInlineFollowCTARenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorDeactivatedAccountBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorDeactivatedAccountBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorBotBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorBotBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorNonCoworkerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorNonCoworkerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentPostAuthorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentPostAuthorBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentQAAnswerBadge_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentQAAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentQASocialAnswerBadge_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentQASocialAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentWorkplaceFileMarkerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentWorkplaceFileMarkerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentWorkKnowledgeEditorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentWorkKnowledgeEditorBadge",abstractKey:null}],storageKey:null},L={alias:"grey_badge_asset",args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},M={alias:"dark_mode_badge_asset",args:null,kind:"ScalarField",name:"information_asset_dark_mode_v2",storageKey:null},N={alias:"light_mode_badge_asset",args:null,kind:"ScalarField",name:"information_asset_v2",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"is_earned",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"information_title",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"information_description",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"is_enabled",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"is_manageable",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"serialized",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"identity_badge_type",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"information_button_enabled",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"information_button_uri",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"information_button_text",storageKey:null},Y={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tier_info",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"tier_name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stars_sent_this_week",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stars_threshold_for_next_tier",storageKey:null}],type:"TipperBadgeTierInfo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"supporter_age_for_progress_bar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supporter_threshold_for_next_tier",storageKey:null}],type:"WoodhengeBadgeTierInfo",abstractKey:null}],storageKey:null};g={alias:null,args:s,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple_badge_asset",storageKey:null},g,{alias:null,args:null,kind:"ScalarField",name:"text_gradient",storageKey:null},L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,{alias:null,args:null,kind:"ScalarField",name:"gaming_video_image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gaming_video_dark_mode_image_uri",storageKey:null}],storageKey:null};var cb={alias:null,args:s,kind:"ScalarField",name:"can_show_multiple_identity_badges",storageKey:null};L={alias:null,args:null,concreteType:"IdentityBadge",kind:"LinkedField",name:"discoverable_identity_badges_web",plural:!0,selections:[L,M,N,O,P,Q,R,S,T,U,V,W,X,Y],storageKey:null};M={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[v,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:x,storageKey:null},c],storageKey:null};N=[{alias:null,args:null,kind:"ScalarField",name:"video_channel_is_viewer_following",storageKey:null}];O={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"parent_post_story",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[f,{kind:"InlineFragment",selections:[c,{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_duration",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor_to_follow",plural:!1,selections:[f,c,{kind:"InlineFragment",selections:N,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:N,type:"User",abstractKey:null}],storageKey:null},v],type:"VideoOwner",abstractKey:"__isVideoOwner"},c],storageKey:null}],type:"Video",abstractKey:null},I,{kind:"InlineFragment",selections:e,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:e,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:e,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:e,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null},c],storageKey:null};P={alias:null,args:null,kind:"ScalarField",name:"work_ama_answer_status",storageKey:null};Q={alias:null,args:null,concreteType:"WorkKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"LinkedField",name:"work_knowledge_inline_annotation_comment_badge_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentBody_comment_work_knowledge_inline_annotation_comment_badge_renderer",fragmentName:"CometUFICommentBodyInlineAnnotationBadgeWrapper_workKnowledgeInlineAnnotationCommentBadgeRenderer",fragmentPropName:"workKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"ModuleImport"}],storageKey:null};R={alias:null,args:null,concreteType:"XFBBusinessCommentAttribute",kind:"LinkedField",name:"business_comment_attributes",plural:!0,selections:[{args:null,documentName:"CometUFICommentBody_comment_business_comment_attributes",fragmentName:"BizWebBusinessCommentBadge_businessCommentAttributes",fragmentPropName:"businessCommentAttributes",kind:"ModuleImport"},c],storageKey:null};S={alias:null,args:null,kind:"ScalarField",name:"is_live_video_comment",storageKey:null};T={alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null};U={alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null};V={alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[{args:null,documentName:"CometUFIComment_comment",fragmentName:"CometUFICommentQualitySurvey_inlineSurveyConfig",fragmentPropName:"inlineSurveyConfig",kind:"ModuleImport"}],storageKey:null};W={alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null};X={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:i,storageKey:null};Y={alias:null,args:null,concreteType:"HelpfulCommentsMatchedCommentEyebrowRenderer",kind:"LinkedField",name:"helpful_comments_comment_eyebrow_renderer",plural:!1,selections:[{args:null,documentName:"CometMisinfoHelpfulCommentsEyebrowRenderer_comment",fragmentName:"CometMisinfoHelpfulCommentsEyebrow_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],storageKey:null};x={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_direct_parent",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[f,v,{kind:"InlineFragment",selections:[B],type:"User",abstractKey:null},c],storageKey:null},c],storageKey:null};N={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_see_member_page_tooltip",plural:!1,selections:i,storageKey:null};I={alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null};var db={alias:null,args:null,concreteType:"WorkAMAUFIAnsweredEventCommentModuleRenderer",kind:"LinkedField",name:"work_answered_event_comment_renderer",plural:!1,selections:[{args:null,documentName:"CometUFIComment_comment_work_answered_event_comment_renderer",fragmentName:"CometUFIAMABroadcastAnswerEventRow_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null},eb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comment_upper_badge_renderer",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentPinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentPinnedBadgeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentUnpinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentUnpinnedBadgeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentAuthorsFavoriteBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentAuthorsFavoriteBadgeRenderer",abstractKey:null}],storageKey:null},fb={alias:null,args:[{kind:"Literal",name:"supported",value:"2SV7zW"}],concreteType:null,kind:"LinkedField",name:"elevated_comment_data",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"AwardElevatedCommentContent_awardElevatedCommentData",fragmentPropName:"awardElevatedCommentData",kind:"ModuleImport"}],type:"AwardElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIStarsElevatedCommentContent_starsElevatedCommentData",fragmentPropName:"starsElevatedCommentData",kind:"ModuleImport"}],type:"StarsElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIFubsElevatedCommentContent_fubsElevatedCommentData",fragmentPropName:"fubsElevatedCommentData",kind:"ModuleImport"}],type:"SupporterElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"SimpleElevatedCommentContent_simpleElevatedCommentData",fragmentPropName:"simpleElevatedCommentData",kind:"ModuleImport"}],type:"SimpleElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIClipElevatedCommentContent_clipElevatedCommentData",fragmentPropName:"clipElevatedCommentData",kind:"ModuleImport"}],type:"ClipElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIGiftedSubsElevatedCommentContent_giftedSubsElevatedCommentData",fragmentPropName:"giftedSubsElevatedCommentData",kind:"ModuleImport"}],type:"GiftedSubsElevatedCommentData",abstractKey:null}],storageKey:'elevated_comment_data(supported:"2SV7zW")'},gb={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},{alias:null,args:null,concreteType:"FBGComponentRoot",kind:"LinkedField",name:"fbg_component_root",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"interactive_plugin_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbg_component_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbg_component_source",storageKey:null}],storageKey:null}]},hb={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null},ib={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},jb={alias:null,args:null,filters:[],handle:"connection",key:"CometUFIDepth2CommentList_feedback_replies",kind:"LinkedHandle",name:"replies"};J={alias:null,args:J,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[f,c,qa,v,ra,w,{kind:"InlineFragment",selections:[B,C],type:"User",abstractKey:null}],storageKey:null};B={alias:null,args:null,kind:"ScalarField",name:"emoji_size",storageKey:null};C={alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null};var Z={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:i,storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"feedback_id",storageKey:null};r={alias:"plugins",args:[r,Fa],concreteType:null,kind:"LinkedField",name:"comment_composer_plugins",plural:!0,selections:[f,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"unidash_regex_link",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerUnidashWidgetPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerUnidashWidgetPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[c,{alias:"should_use_membership_questions_in_group",args:[{kind:"Literal",name:"gk_name",value:"participant_questionnaire_deprecation"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}],storageKey:'gk_check(gk_name:"participant_questionnaire_deprecation")'}],storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerParticipateQuestionPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerParticipationQuestionPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerCommentCharacterLimitPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerCommentCharacterLimitPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"candidate_info_share",plural:!1,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null},c],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recruiting_group_unencoded_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[f,A,c],storageKey:null},c],storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerCommentRecruitingGroupMotivateInterestPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerRecruitingGroupMotivateInterestPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"composer_tip",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerTipPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerTipPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"platform_tool",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"additional_profile_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_admin_type_v2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"additional_profile_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"platform_tool_uri",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerProfilePlusTipPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerProfilePlusTipPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerDelightsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerDelightsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[B,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerEmojiPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerEmojiPlugin",abstractKey:null},{kind:"InlineFragment",selections:[C,{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[C,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupRulesMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupRulesMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[C,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupRulesTaggingEntryMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupRulesTaggingEntryMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"context_id",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerHashtagPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerHashtagPlugin",abstractKey:null},{kind:"InlineFragment",selections:[Z,{alias:null,args:null,kind:"ScalarField",name:"should_condense_video_preview",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerMediaUploadPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerMediaUploadPlugin",abstractKey:null},{kind:"InlineFragment",selections:[B,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerEmoticonPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerEmoticonPlugin",abstractKey:null},{kind:"InlineFragment",selections:[$,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGIFPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGIFPlugin",abstractKey:null},{kind:"InlineFragment",selections:[$,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerStarsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerStarsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:e,storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerBotsComposerPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerBotsComposerPlugin",abstractKey:null},{kind:"InlineFragment",selections:[$,{alias:null,args:null,kind:"ScalarField",name:"owning_profile_id",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerStickersPlugin_next_plugin",fragmentPropName:"next_plugin",kind:"ModuleImport"}],type:"CometComposerCometizedStickersPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerPrefillMentionPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerPrefillMentionPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerAssociateReplyWithParentPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerAssociateReplyWithParentPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerSetReplyClickedPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerSetReplyClickedPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_avatar",storageKey:null},$,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerAvatarPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerAvatarPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerStateSnapshotPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerStateSnapshotPlugin",abstractKey:null},{kind:"InlineFragment",selections:[$,Z,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerLiveTypingBroadcastPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerLiveTypingBroadcastPlugin",abstractKey:null},{kind:"InlineFragment",selections:[$,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerMarkdownPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerMarkdownPlugin",abstractKey:null},{kind:"InlineFragment",selections:[Z,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_file",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerFileUploadPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerFileUploadPlugin",abstractKey:null},{kind:"InlineFragment",selections:[$,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerSmartComposePlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerSmartComposePlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_gif",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_sticker",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:i,storageKey:null},c],storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerUnifiedInputPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerUnifiedInputPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerSpellcheckPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"XFBCommentComposerSpellcheckPlugin",abstractKey:null},{kind:"InlineFragment",selections:[C,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupRulesPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupRulesPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_inline_vote_enabled",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerReputationSystemPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerReputationSystemPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"comment_slowdown_message",plural:!1,selections:[Ha],storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupCommentSlowdownPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupCommentSlowdownPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerWriteToComposerPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerWriteToComposerPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerIntlTranslationMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"XFBCommentComposerIntlTranslationMentionsPlugin",abstractKey:null}],storageKey:null};A={alias:null,args:[wa,Fa],kind:"ScalarField",name:"can_viewer_comment",storageKey:null};B={alias:null,args:null,concreteType:"ConstituentBadgeBannerRenderer",kind:"LinkedField",name:"constituent_badge_banner_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentListComposer_feedback_constituentBadgeBanner",fragmentName:"CometUFICommentingAsConstituentHeader_constituentBadgeBannerRenderer",fragmentPropName:"constituentBadgeBannerRenderer",kind:"ModuleImport"}],storageKey:null};e={alias:null,args:null,concreteType:"FeedbackRepliesConnection",kind:"LinkedField",name:"replies",plural:!1,selections:[xa,m,ya,{alias:null,args:null,concreteType:"FeedbackRepliesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"is_subreply_parent_deleted",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[f,qa,v,c,ra,w,sa,ta,z],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[za,{alias:null,args:null,concreteType:"FeedbackRepliesConnection",kind:"LinkedField",name:"replies",plural:!1,selections:[m,ya,{alias:null,args:null,concreteType:"FeedbackRepliesEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[c,Aa,Ba,Ca,Da,Ea,q,t,u,ua,D,E,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[F,G,H,c,n,va,Ga],storageKey:null},Ia,K,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,g,cb,L,M,O,P,Q,R,S,T,U,V,W,X,Y,x,N,I,db,eb,fb,f,gb],storageKey:null},d],storageKey:null},hb,ib],storageKey:null},jb,J,c,y,f,r,Ga,A,B,j,k,l,o,p,F,G,H,n,va],storageKey:null},Aa,Ba,Ca,Da,Ea,q,t,u,D,E,Ia,K,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,g,cb,L,M,O,P,Q,R,S,T,U,V,W,X,Y,x,N,I,db,eb,fb,f,gb],storageKey:null},d],storageKey:null},hb,ib],storageKey:null};Z={alias:null,args:null,filters:[],handle:"connection",key:"CometUFIDepth1CommentList_feedback_replies",kind:"LinkedHandle",name:"replies"};return{fragment:{argumentDefinitions:[a,ba,ca,b,da,ea,fa,ga,ha],kind:"Fragment",metadata:null,name:"useCometUFICreateCommentMutation",selections:[{alias:null,args:ia,concreteType:"CommentCreateResponsePayload",kind:"LinkedField",name:"comment_create",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometOnboardingRHCCard_group"},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_pending_content_card",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometPendingActions_group"},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_cannot_add_pending_participation_content_in_forum",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometInlineComposerRenderer_group"},{args:null,kind:"FragmentSpread",name:"CometGroupDiscussionRoot_rateLimitReachCard"}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometUFIDisabledNotice_feedback"},c],storageKey:null},{alias:null,args:null,concreteType:"CommentsEdge",kind:"LinkedField",name:"feedback_comment_edge",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[c,ja,ka,{args:null,kind:"FragmentSpread",name:"CometUFIComment_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentActionLinks_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentEditor_comment"},la,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometUFIDepth0CommentList_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFIDepth1CommentList_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFIDepth2CommentList_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFICommentListComposer_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFIInlineComposer_feedback"}],storageKey:null}],storageKey:null}],storageKey:null},ma],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,ba,b,da,ea,fa,ga,ha,ca],kind:"Operation",name:"useCometUFICreateCommentMutation",selections:[{alias:null,args:ia,concreteType:"CommentCreateResponsePayload",kind:"LinkedField",name:"comment_create",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[c,{alias:null,args:null,concreteType:"GroupOnboardingWizard",kind:"LinkedField",name:"onboarding_wizard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"wizard_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status_type",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"dismiss_card",plural:!1,selections:[f,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:h,storageKey:null},na],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"completed_card",plural:!1,selections:[f,na],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"wizard_title",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"wizard_subtitle",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"wizard_steps",plural:!0,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"is_completed",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingInviteMemberRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepInviteMember",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingChooseCoverPhotoRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepChooseCoverPhoto",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingWriteGroupDescriptionRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepWriteGroupDescription",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingChooseGoalTagsRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepSelectGroupGoalTags",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingWriteFirstPostRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepWriteFirstPost",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingCreateChatRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepCreateChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingCustomizeGroupProfileRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepCustomizeGroupProfile",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingWriteAPostRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepWriteAPost",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingAnswerMemberQuestionsRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepAnswerMemberQuestions",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingMonitorChatRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"XFBGroupOnboardingWizardStepMonitorChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingInviteMemberToChatRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"XFBGroupOnboardingWizardStepInviteMemberToChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingStartConversationRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"XFBGroupOnboardingWizardStepStartConversation",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_admin_left_hand_rail",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"GroupLeadersEngagementLoggingSettings",kind:"LinkedField",name:"leaders_engagement_logging_settings",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comet_surface_mappings",plural:!0,selections:[f,{alias:null,args:null,kind:"ScalarField",name:"surface",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"trace_policy",storageKey:null}],type:"GroupLeadersEngagementLoggingExactCometSurfaceMapping",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"prefixes",storageKey:null}],type:"GroupLeadersEngagementLoggingPrefixCometSurfaceMapping",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_pending_content_card",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"invite_short_link_key",variableName:"inviteShortLinkKey"},{kind:"Literal",name:"supported",value:"3lS6dC"}],concreteType:null,kind:"LinkedField",name:"group_pending_action_card_renderer",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsArchivedCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsArchivedCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsPausedCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsPausedCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsFrozenNoticeCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsFrozenNoticeCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsAdminInviteCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsAdminInviteCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsRequestCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsRequestCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsInvitationCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsInvitationCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsMutedCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsMutedCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsAdminPromotionCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsAdminPromotionCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsAppealCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometHeaderPendingActionsAppealCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsExpertInviteCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometHeaderPendingActionsExpertInviteCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsTaskSetInviteCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometHeaderPendingActionsTaskSetInviteCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsRequestCardTrustedParticipantRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsTrustedParticipantCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsPostRateLimitedCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsPostRateLimitedCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsInviteLinkCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBGroupsCometHeaderPendingActionsInviteLinkCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsRequestCardContentRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsContentCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsAdminInactivityNoticeCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsAdminInactivityNoticeCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsChatHostInviteCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCometGroupHeaderPendingActionsChatHostInviteCardRenderer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_cannot_add_pending_participation_content_in_forum",plural:!1,selections:[c,{alias:null,args:[{kind:"Literal",name:"feed_type",value:"DISCUSSION"}],concreteType:null,kind:"LinkedField",name:"comet_inline_composer_renderer",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometInlineComposerRenderer_group",fragmentName:"GroupsCometDefaultGroupInlineComposerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupInlineDefaultComposerRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometInlineComposerRenderer_group",fragmentName:"GroupsCometSaleInlineComposerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupInlineSalesComposerRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometInlineComposerRenderer_group",fragmentName:"CometGroupQAComposerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupInlineQAComposerRenderer",abstractKey:null}],storageKey:'comet_inline_composer_renderer(feed_type:"DISCUSSION")'},{alias:null,args:null,concreteType:"CometGroupForumPendingContentLimitReachCardRenderer",kind:"LinkedField",name:"pending_content_limit_reach_card",plural:!1,selections:[{args:null,documentName:"CometGroupDiscussionRoot_rateLimitReachCard",fragmentName:"GroupsCometForumPendingContentLimitReachCard_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],storageKey:null}],storageKey:null},c],storageKey:null}],storageKey:null},j,k,l,o,p,c],storageKey:null},{alias:null,args:null,concreteType:"CommentsEdge",kind:"LinkedField",name:"feedback_comment_edge",plural:!1,selections:[d,{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[c,ja,ka,q,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[oa,pa],storageKey:null},t,u,ua,D,E,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[F,G,H,c,n,va,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[f],storageKey:null},{alias:null,args:[{kind:"Variable",name:"focused_comment_id",variableName:"focusCommentID"},wa],concreteType:"XFBCommentRenderingInstance",kind:"LinkedField",name:"comment_rendering_instance_for_feed_location",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBCommentRenderingIntentInfo",kind:"LinkedField",name:"selected_intent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"intent",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBCommentRenderingInstanceCommentsConnection",kind:"LinkedField",name:"comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"created_comment_insertion_position",storageKey:null},xa,m,{alias:null,args:null,kind:"ScalarField",name:"page_size",storageKey:null},ya,{alias:null,args:null,concreteType:"XFBCommentRenderingInstanceCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[za,e,Z,J,c,y,f,r,Ga,A,B,j,k,l,o,p,F,G,H,n,va],storageKey:null},Aa,Ba,Ca,Da,Ea,q,t,u,ua,D,E,Ia,K,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,g,cb,L,M,O,P,Q,R,S,T,U,V,W,X,Y,x,N,I,db,eb,fb,f,gb],storageKey:null},d],storageKey:null},hb,ib],storageKey:null},{alias:null,args:null,filters:null,handle:"connection",key:"useCometUFITopLevelCommentListComponents_feedback_comments",kind:"LinkedHandle",name:"comments"}],storageKey:null},{alias:null,args:[{kind:"Variable",name:"feedback_source",variableName:"feedbackSource"}],concreteType:null,kind:"LinkedField",name:"typing_indicator_renderer",plural:!1,selections:[f,{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFITopLevelCommentListComponents_feedback",fragmentName:"CometUFIInlineTypingIndicator_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBFeedbackInlineTypingIndicatorRenderer",abstractKey:null}],storageKey:null},J,y,f,r,Ga,A,B,j,k,l,o,p,za,e,Z,jb,{alias:null,args:null,kind:"ScalarField",name:"default_comment_ordering_mode",storageKey:null},{alias:null,args:s,kind:"ScalarField",name:"inline_composer_visible_by_default",storageKey:null},{alias:"total_comment_count",args:null,kind:"ScalarField",name:"comment_count",storageKey:null}],storageKey:null},Ia,K,Ja,Ka,La,Ma,Na,Oa,Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,Xa,Ya,Za,$a,ab,bb,g,cb,L,M,O,P,Q,R,S,T,U,V,Aa,W,X,Y,x,N,I,db,eb,fb,Ba,Ca,Ea,la,gb],storageKey:null}],storageKey:null},ma],storageKey:null}]},params:{id:aa("useCometUFICreateCommentMutation_facebookRelayOperation"),metadata:{},name:"useCometUFICreateCommentMutation",operationKind:"mutation",text:null}}}();b.exports=a}),null);
__d("useCometUFICreateCommentMutation_feedback.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{kind:"RootArgument",name:"useDefaultActor"}],kind:"Fragment",metadata:null,name:"useCometUFICreateCommentMutation_feedback",selections:[a,{alias:null,args:[{kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"}],concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[a],storageKey:null}],type:"Feedback",abstractKey:null}}();e.exports=a}),null);
__d("ManageConstituentBadgeDialog.entrypoint",["JSResourceForInteraction","ManageConstituentBadgeDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.commentID;a=a.feedbackID;return{queries:{queryReference:{parameters:b("ManageConstituentBadgeDialogQuery$Parameters"),variables:{commentID:c,feedbackID:a}}}}},root:c("JSResourceForInteraction")("ManageConstituentBadgeDialog.react").__setRef("ManageConstituentBadgeDialog.entrypoint")};d=a;g["default"]=d}),98);
__d("ManageConstituentBadgeDialogTrigger.react",["fbt","ix","CometEntryPointDialogTrigger.react","ManageConstituentBadgeDialog.entrypoint","TetraIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onPress;return j.jsx(c("CometEntryPointDialogTrigger.react"),{dialogEntryPoint:c("ManageConstituentBadgeDialog.entrypoint"),otherProps:{},preloadParams:{commentID:a.commentID,feedbackID:a.feedbackID},children:function(a){return j.jsx(c("TetraIcon.react"),{alt:h._("__JHASH__WuBNNAgdH6G__JHASH__"),color:"secondary",icon:d("fbicon")._(i("506962"),12),onPress:function(){a(),b()}})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CivicActionLogEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743356");b=d("FalcoLoggerInternal").create("civic_action_log_event",a);e=b;g["default"]=e}),98);
__d("CometUFICommentActorConstituentBadge.react",["fbt","ix","Actor","CivicActionLogEventFalcoEvent","CometRelay","CometTooltip.react","CometUFICommentActorConstituentBadge_comment.graphql","ManageConstituentBadgeDialogTrigger.react","TetraIcon.react","fbicon","react","recoverableViolation","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react"),l=d("react").useRef;function a(a){var e;a=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFICommentActorConstituentBadge_comment.graphql"),a.comment);var g=a.legacy_token,m=a.parent_feedback,n=l(!1),o=c("useVisibilityObserver")({onVisible:function(){if(n.current)return;n.current=!0;c("CivicActionLogEventFalcoEvent").log(function(){var a;return{action:"view",extra_data:{comment_id:(a=g)!=null?a:""},post_id:s,product:"constituent_badge",subtype:"comment"}})}}),p=d("Actor").useActor();p=p[0];if(!a.author||((e=a.author)==null?void 0:e.id)==null)return c("recoverableViolation")("missing politician","civic_integrity");var q=a.author.short_name,r=m==null?void 0:(e=m.owning_profile)==null?void 0:e.name,s=m==null?void 0:m.share_fbid,t=p===a.author.id,u=m==null?void 0:(e=m.political_figure_data)==null?void 0:(e=e.political_office)==null?void 0:e.generic_title,v=m==null?void 0:(e=m.political_figure_data)==null?void 0:e.name;e=a.can_see_constituent_badge_upsell;function w(){var a=!0;if(q==null)return null;(u==null||v==null)&&(a=!1);if(t)if(a)return h._("__JHASH__ZNqnDhYYFpj__JHASH__",[h._param("representative_name",v),h._param("office_title",u)]);else return h._("__JHASH__uiMMQSqmolX__JHASH__",[h._param("page_name",r)]);if(a)return h._("__JHASH__khTmteQjAVE__JHASH__",[h._param("representative_name",v),h._param("comment_author_name",q),h._param("politician_office_title",u)]);else return h._("__JHASH__iHMGEL24DTI__JHASH__",[h._param("page_name",r),h._param("comment_author_name",q)])}function x(){return h._("__JHASH__vXzsLlLAUQJ__JHASH__",[h._param("comment_author_name",q),h._param("representative_name",v)])}x.displayName=x.name+" [from "+f.id+"]";function y(a){return k.jsx(c("TetraIcon.react"),{alt:x(),color:"secondary",icon:d("fbicon")._(i("506962"),12),onPress:a})}y.displayName=y.name+" [from "+f.id+"]";e=e===!0?k.jsx(c("ManageConstituentBadgeDialogTrigger.react"),{commentID:a.id,feedbackID:m==null?void 0:m.id,onPress:function(){c("CivicActionLogEventFalcoEvent").log(function(){var a;return{action:"click",click_location:"constituent_badge",extra_data:{comment_id:(a=g)!=null?a:""},post_id:s,product:"constituent_badge",subtype:"comment"}})}}):y();return k.jsx(d("Actor").ActorProvider,{initialActorID:p,children:k.jsx("span",{className:"xsgj6o6 x1n2onr6 x1e0gzzx",ref:o,children:k.jsx(c("CometTooltip.react"),{tooltip:w(),children:k.jsx("span",{className:"x1yrsyyn xsyo7zv x10b6aqq x16hj40l",children:e})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentActorVerifiedBadge.react",["CometProfileVerificationBadge.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=babelHelpers["extends"]({},a);return h.jsxs("span",{className:"x6s0dn4 x3nfvp2 x1k2j06m",children:[h.jsx(c("CometProfileVerificationBadge.react"),babelHelpers["extends"]({},a,{size:"small"}))," "]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentErrorFooterEditButton.react",["errorCode","fbt","CometLink.react","clearTimeout","react","setTimeout","useCometCallout"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useEffect,m=b.useState;function n(a){return a===1446011||a===1462002}function a(a){var b=a.onEdit;a=a.optimisticErrorCode;a=m(n(a));var d=a[0],e=a[1];a=m(!1);var f=a[0],g=a[1];a={arrowStyle:"inset",disableOutsideClick:!0,label:i._("__JHASH__2HLDP_tkVMz__JHASH__"),onShow:function(){g(!0)},position:"above",type:"accent"};a=c("useCometCallout")(a,d);l(function(){if(f){var a=c("setTimeout")(function(){e(!1)},6e3);return function(){return c("clearTimeout")(a)}}},[e,f]);d=k(function(a){e(!1),b&&b(a)},[b]);var h=k(function(){e(!1)},[e]);return j.jsx(c("CometLink.react"),{color:"highlight",onClick:d,onHoverEnd:h,ref:a,children:i._("__JHASH__10obC3Jnpvd__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentsAPIConnectionCountUpdater",["FBLogger","displayCommentsConnectionCountUpdater","forEachUFI2DisplayCommentsConnection","isStringNullOrEmpty"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b=a.feedbackId,d=a.modifier,e=a.store,f=a.topLevelFeedbackId;a=a.totalCommentCountModifier;var g=b;c("isStringNullOrEmpty")(f)||(g=f);var h=d;a!=null&&a!==0&&(h=a);function i(a){c("FBLogger")("ufi2").addMetadata("UFI","FEEDBACK_TARGET_ID",g||"UNKNOWN").addMetadata("UFI","RAW_DATA","comment_feedback_id;"+(b||"UNKNOWN")+", comments_count_modifier;"+h+", conn_count_modifier;"+d).warn(a)}a=e.get(b);if(a==null){i("could not find feedback record");return}var j=e.get(g);if(j==null){i("could not find top level feedback record");return}if(b!==g){var k=a.getValue("comment_count");typeof k==="number"&&a.setValue(k+d,"comment_count")}k=Number(j.getValue("comment_count"));var l=k+h;typeof k==="number"&&j.setValue(l,"comment_count");k=j.getValue("comment_count_reduced");Number(k).toString()===k&&j.setValue(l.toString(),"comment_count_reduced");c("forEachUFI2DisplayCommentsConnection")(e,a,function(a){var b=Math.max(0,Number(a.getValue("count"))+d);a.setValue(b,"count");a.setValue(b===0,"is_empty")});k=j.getLinkedRecord("top_level_comments");if(k==null){i("could not find top level comments");return}l=k.getValue("total_count");e=Math.max(0,Number(l)+h);k.setValue(e,"total_count");k.setValue(e===0,"is_empty");f==null&&c("displayCommentsConnectionCountUpdater").updateTopLevelCount(k,h)}h.decrement=function(a){return h(babelHelpers["extends"]({},a,{modifier:-1}))};h.increment=function(a){return h(babelHelpers["extends"]({},a,{modifier:1}))};a=h;g["default"]=a}),98);
__d("useCometUFICreateCommentMutation",["fbt","ChannelClientID","CometRelay","CometUFICommentsAPIConnectionCountUpdater","CometUFIModernCommentListContextProvider","FBLogger","FeedbackSourceType","JSEnumValueToGraphQLKey","RelayHooks","ServerTime","SiteData","emptyFunction","inlineCommentsDataSourceUpdater","react","unrecoverableViolation","useCometUFICreateCommentMutation.graphql","useCometUFICreateCommentMutation_feedback.graphql","useTriggerAccessibilityAlert","uuidv4"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=d("react").useCallback,l={};function m(a,b,d){a=a==null?[]:a.filter(Boolean);a=a.map(function(a){var e=b[a.entity.id];if(e){var f=e.type,g=e.uri;e=e.isWeak;var h=d.create(c("uuidv4")(),"EntityAtRange");h.setValue(!!e,"entity_is_weak_reference");h.setValue(a.length,"length");h.setValue(a.offset,"offset");f=d.create(c("uuidv4")(),(e=f)!=null?e:"Actor");f.setValue(null,"web_link");f.setValue(g,"url",{site:"comet"});f.setValue(g,"profile_url");f.setValue(g,"mobileUrl",{site:"mobile"});f.setValue(a.entity.id,"id");h.setLinkedRecord(f,"entity");return h}return null}).filter(Boolean);return a}var n=i!==void 0?i:i=b("useCometUFICreateCommentMutation.graphql"),o=function(a,b,e,f,g,h,i,j,k,l,n){return function(o){var p,q;p=(p=o.get(a))!=null?p:o.create(a,"Comment");if(p==null)return;var r=o.create(c("uuidv4")(),"TextWithEntities");r.setLinkedRecords([],"ranges");r.setValue((q=b.message)==null?void 0:q.text,"text");p.setLinkedRecord(r,"body");p.setValue(Math.round(d("ServerTime").getMillis()/1e3),"created_time");p.setValue(a,"id");p.setValue("ADD","optimistic_action");p.setValue("none","spam_display_mode");p.setValue(b.vod_video_timestamp,"timestamp_in_video");q=o.get(g);if(q==null)throw c("unrecoverableViolation")("useCometUFICreateCommentMutation: Could not find actor with ID "+g,"ufi2");p.setLinkedRecord(q,"author");r=o.get(h);if(r==null)throw c("unrecoverableViolation")("useCometUFICreateCommentMutation: Could not find feedback with ID "+h,"ufi2");c("CometUFICommentsAPIConnectionCountUpdater").increment({feedbackId:h,store:o,topLevelFeedbackId:k});q=o.create(c("uuidv4")(),"Feedback");p.setLinkedRecord(q,"feedback");if(l){p.setValue(l.toString(),"optimistic_error");r=l.code;typeof r==="number"&&p.setValue(r,"optimistic_error_code")}p.setValue(a,"client_id");p.setValue(b.reply_comment_parent_fbid,"reply_comment_parent_fbid");p.setValue(e,"depth");p.setLinkedRecords([],"attachments");q=o.create(c("uuidv4")(),"TextWithEntities");q.setLinkedRecords([],"aggregated_ranges");q.setLinkedRecords([],"color_ranges");q.setLinkedRecords([],"delight_ranges");q.setLinkedRecords([],"image_ranges");q.setLinkedRecords([],"inline_style_ranges");q.setValue("ORIGINAL","translation_type");q.setValue((r=b.message)==null?void 0:r.text,"text");r=m((r=b.message)==null?void 0:r.ranges,j,o);q.setLinkedRecords(r,"ranges");p.setLinkedRecord(q,"preferred_body",{translation_type:"ORIGINAL"});if(f!=null){r=o.get(f);if(r==null)return;q=d("CometRelay").ConnectionHandler.createEdge(o,r,p,"CommentsEdge");i?d("CometRelay").ConnectionHandler.insertEdgeBefore(r,q):d("CometRelay").ConnectionHandler.insertEdgeAfter(r,q)}r=n.feedLocation;q=n.inlineReplyParentID;var s=n.storyID;d("inlineCommentsDataSourceUpdater").addComment({comment:p,feedLocation:r,inlineReplyParentID:q,shouldDisplayInReverse:i,store:o,storyID:s})}},p=function(a,b,e,f,g,h){return function(i,j){j=i.get((j=j==null?void 0:(j=j.comment_create)==null?void 0:(j=j.feedback_comment_edge)==null?void 0:(j=j.node)==null?void 0:j.id)!=null?j:"");if(j==null)return;j.setValue(a,"client_id");if(b!=null){var k=i.get(b);if(k==null)return;var l=d("CometRelay").ConnectionHandler.createEdge(i,k,j,"CommentsEdge");e?d("CometRelay").ConnectionHandler.insertEdgeBefore(k,l):d("CometRelay").ConnectionHandler.insertEdgeAfter(k,l)}c("CometUFICommentsAPIConnectionCountUpdater").increment({feedbackId:g,store:i,topLevelFeedbackId:h});k=f.feedLocation;l=f.inlineReplyParentID;var m=f.storyID;d("inlineCommentsDataSourceUpdater").addComment({comment:j,feedLocation:k,inlineReplyParentID:l,shouldDisplayInReverse:e,store:i,storyID:m})}};function a(a){var e=a.callbacks,f=a.depth,g=a.feedbackRef,i=a.inlineComposerData,m=c("SiteData").pr;a=d("RelayHooks").useMutation(n);var q=a[0];a=d("CometUFIModernCommentListContextProvider").useCometUFIModernCommentListContext();var r=a.connectionID,s=a.feedbackSource,t=a.feedLocation,u=a.focusCommentID,v=a.shouldDisplayInReverse,w=a.topLevelFeedbackID,x=a.useDefaultActor;a=d("CometRelay").useFragment(j!==void 0?j:j=b("useCometUFICreateCommentMutation_feedback.graphql"),g);var y=d("CometRelay").useRelayEnvironment(),z=c("useTriggerAccessibilityAlert")(),A=a==null?void 0:(g=a.viewer_actor)==null?void 0:g.id,B=a==null?void 0:a.id;g=function a(b){var g=b.clientID,j=b.commentData,k=b.entitiesByID,C=b.getTrackingDataFn;if(A==null||B==null)return null;b=o(g,j,f,r,A,B,v,k,w,null,babelHelpers["extends"]({feedLocation:t},i));var D=p(g,r,v,babelHelpers["extends"]({feedLocation:t},i),B,w),E={feedbackSource:s,feedLocation:t,focusCommentID:u,scale:m,useDefaultActor:x},F=babelHelpers["extends"]({},j,{feedback_source:c("JSEnumValueToGraphQLKey")(c("FeedbackSourceType"),s),idempotence_token:g,session_id:c("ChannelClientID").getID()}),G=function(b){l[g]=function(b){if(!l[g]){c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",g).warn("Tried to call a create comment mutation retry handle that was already removed.");return}I&&I.dispose();I=null;a({clientID:g,commentData:(b=b)!=null?b:j,entitiesByID:k,getTrackingDataFn:C});delete l[g]},I=d("CometRelay").applyOptimisticMutation(y,{mutation:n,optimisticUpdater:o(g,j,f,r,A,B,v,k,w,b,babelHelpers["extends"]({feedLocation:t},i)),variables:babelHelpers["extends"]({},E,{input:F})}),e.onError&&b&&e.onError(b)},H=null,I=q({onCompleted:function(a){e.onCompleted&&e.onCompleted(a),z(h._("__JHASH__eK0An6Xw9Wm__JHASH__"))},onError:G,optimisticUpdater:b,updater:D,variables:babelHelpers["extends"]({},E,{input:F})});return{dispose:function(){H&&H.remove(),H=null,I&&I.dispose(),I=null,delete l[g]}}};a=k(g,[r,f,A,B,v,t,m,s,q,y,e,g]);return[a]}function e(a){var b=l[a];if(!b){c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",a).warn("No comment create mutation retry handler found for ufi modernization.");return c("emptyFunction")}return b}g.getNewRanges=m;g.useCometUFICreateCommentMutation=a;g.getRetryFnExperimental=e}),98);
__d("CometUFICommentErrorFooter.react",["errorCode","fbt","CometLink.react","CometRelay","CometRow.react","CometRowItem.react","CometUFICommentErrorFooterEditButton.react","CometUFICommentErrorFooter_comment.graphql","CometUFICreateCommentMutation","FBLogger","NewsRegulationErrorMessageData","TetraText.react","ifRequired","qex","react","recoverableViolation","useCometUFICreateCommentMutation"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=d("react"),l={footer:{display:"x1rg5ohu",$$css:!0}};function m(a){if(a===1446013||a===1446011||a===1462002)return!1;return a!=null&&c("NewsRegulationErrorMessageData").errorCodeToRegType[a]!=null?!1:!0}function a(a){var e=a.comment;a=a.onEdit;e=d("CometRelay").useFragment(j!==void 0?j:j=b("CometUFICommentErrorFooter_comment.graphql"),e);var f=e.id;if(f==null){c("recoverableViolation")("CometUFICommentErrorFooter tried to render without a comment ID","ufi2");return null}var g=i._("__JHASH__10b0S1Izmoe__JHASH__"),h=null;switch(e.optimistic_action){case"ADD":h=function(){c("qex")._("832")===!0?d("useCometUFICreateCommentMutation").getRetryFnExperimental(f)():d("CometUFICreateCommentMutation").getRetryFn(f)()};break;case"EDIT":g=i._("__JHASH__U3YP-2WFk_-__JHASH__");c("ifRequired")("CometUFIEditCommentMutation",function(a){h=a.getRetryFn(f)},function(){c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",f||"UNKNOWN").mustfix("Edit mutation not present on edit error")});c("ifRequired")("useCometUFIEditCommentMutation",function(a){h=a.getRetryFnExperimental(f)},function(){c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",f||"UNKNOWN").mustfix("Edit mutation experimental not present on edit error")});break;case"DELETE":g=i._("__JHASH___6naWuekn6M__JHASH__");break;default:g=i._("__JHASH__Q_5tGN8-YJC__JHASH__"),c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",f||"UNKNOWN").warn("CometUFICommentErrorFooter no specified behavior for action `%s`.",e.optimistic_action)}h||c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",f||"UNKNOWN").warn("No mutation retry handler for action `%s`.",e.optimistic_action);var n=h!=null,o=e.optimistic_action==="ADD"&&n;return k.jsxs(c("CometRow.react"),{paddingTop:4,paddingVertical:0,spacing:8,testid:void 0,xstyle:l.footer,children:[k.jsx(c("CometRowItem.react"),{xstyle:l.footer,children:k.jsx(c("TetraText.react"),{type:"meta4",children:g})}),n&&m(e.optimistic_error_code)&&k.jsx(c("CometRowItem.react"),{xstyle:l.footer,children:k.jsx(c("CometLink.react"),{color:"highlight",onClick:function(){h==null?void 0:h()},children:i._("__JHASH__dxM0X-fliVM__JHASH__")})}),o&&k.jsx(c("CometRowItem.react"),{xstyle:l.footer,children:k.jsx(c("CometUFICommentErrorFooterEditButton.react"),{onEdit:a,optimisticErrorCode:e.optimistic_error_code})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFICommentInlineFollowCTA.react",["fbt","CometFeedUnitQueryVariablesContext","CometMiddot.react","CometPressable.react","CometRelay","CometUFICommentInlineFollowCTA_comment.graphql","CometUserFollowMutation","CometUserUnfollowMutation","TetraText.react","react","requireDeferred","useMinifiedProductAttribution","useNullthrowsViolation","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");e=d("react");var k=e.useCallback,l=e.useContext,m=e.useState,n=c("requireDeferred")("InlineFollowCtaEventFalcoEvent").__setRef("CometUFICommentInlineFollowCTA.react"),o="following_clicked",p="unfollowing_clicked",q="follow_cta_impression";function a(a){var e;a=a.comment$key;var f=d("CometRelay").useFragment(i!==void 0?i:i=b("CometUFICommentInlineFollowCTA_comment.graphql"),a),g=(f==null?void 0:(a=f.author)==null?void 0:a.subscribe_status)==="IS_SUBSCRIBED",r=c("useNullthrowsViolation")(f==null?void 0:(a=f.author)==null?void 0:a.id),s=d("CometRelay").useRelayEnvironment();a=m(!1);var t=a[0],u=a[1],v=(a=(a=l(c("CometFeedUnitQueryVariablesContext")))==null?void 0:a.feedLocation)!=null?a:"",w=k(function(a){n.onReady(function(b){b.log(function(){var b;return{comment_author_id:r,comment_id:(b=f.id)!=null?b:"",comment_surface:v,event:a}})})},[r,f.id,v]),x=c("useMinifiedProductAttribution")();a=k(function(){var a={actionRenderLocation:"WWW_COMET_HOVERCARD",navigationChain:x,onError:function(){u(!1)},onSuccess:function(){u(!1)},subscribeLocation:v==="NEWSFEED"?"INLINE_COMMENT_HEADER":"COMMENT_HEADER",userID:r};u(!0);g?(d("CometUserUnfollowMutation").commit(s,a),w(p)):(d("CometUserFollowMutation").commit(s,a),w(o))},[r,s,v,g,w,x]);var y=k(function(){w(q)},[w]);y=c("useVisibilityObserver")({onVisible:y});if((f==null?void 0:(e=f.author)==null?void 0:e.subscribe_status)!=="CAN_SUBSCRIBE"&&(f==null?void 0:(e=f.author)==null?void 0:e.subscribe_status)!=="IS_SUBSCRIBED")return null;e=g?j.jsx(c("TetraText.react"),{color:"secondary",type:"bodyLink4",children:h._("__JHASH__gfzhCSGFVAQ__JHASH__")}):j.jsx(c("TetraText.react"),{color:"highlight",type:"bodyLink4",children:h._("__JHASH__bvajtjV6cwQ__JHASH__")});return j.jsxs("span",{ref:y,children:[j.jsx(c("CometMiddot.react"),{className:"xi81zsa"}),j.jsx(c("CometPressable.react"),{disabled:t,onPress:a,children:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIFeedbackReactSubscription",["CometRelay","CometUFIFeedbackReactSubscription.graphql","CometUFIFeedbackReactSubscription_feedback.graphql","CometUFIFeedbackReactSubscription_liker.graphql","CometUFIFeedbackReactSubscription_viewer.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;h!==void 0?h:h=b("CometUFIFeedbackReactSubscription_feedback.graphql");i!==void 0?i:i=b("CometUFIFeedbackReactSubscription_liker.graphql");j!==void 0?j:j=b("CometUFIFeedbackReactSubscription_viewer.graphql");var l=k!==void 0?k:k=b("CometUFIFeedbackReactSubscription.graphql");function a(a,b,c){return d("CometRelay").requestSubscription(a,{subscription:l,updater:function(a,b){var c,d;c=(c=b.feedback_like_subscribe)==null?void 0:(c=c.liker)==null?void 0:c.id;d=(d=b.feedback_like_subscribe)==null?void 0:(d=d.viewer)==null?void 0:(d=d.actor)==null?void 0:d.id;if(c!==d){b=(c=b.feedback_like_subscribe)==null?void 0:(d=c.feedback)==null?void 0:d.id;if(b!=null){c=a.get(b);c&&c.setValue(!0,"is_unseen")}}},variables:{input:b,useDefaultActor:c}})}g.subscribe=a}),98);
__d("CometUFIVoteCountDialog.entrypoint",["CometUFIVoteCountDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var c=a.actorID;a=a.questionID;return{queries:{cometUFIVoteCountDialogQueryRef:{environmentProviderOptions:{actorID:c},parameters:b("CometUFIVoteCountDialogQuery$Parameters"),variables:{questionID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometUFIVoteCountDialog.react").__setRef("CometUFIVoteCountDialog.entrypoint")};g["default"]=a}),98);
__d("CometUFIVotesText.react",["fbt","CometUFISummaryBarLabel.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){a=a.voteCount;var b=h._("__JHASH__iwbH0uMbUnu__JHASH__",[h._plural(a,"number")]);return i.jsx(c("CometUFISummaryBarLabel.react"),{count:a,icon:"ballot-box",label:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometUFIVoteCountButton.react",["fbt","Actor","CometPressable.react","CometUFIVoteCountDialog.entrypoint","CometUFIVotesText.react","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useRef,k={link:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",color:"x1heor9g",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",":hover_textDecoration":"xt0b8zv",$$css:!0}};function a(a){var b=a.questionID;a=a.voteCount;var e=d("Actor").useActor();e=e[0];var f=j(null);e=c("useCometEntryPointDialog")(c("CometUFIVoteCountDialog.entrypoint"),{actorID:e,questionID:b});var g=e[0];return i.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__BOvwuovk-V1__JHASH__"),display:"inline",onPress:function(){g({})},overlayDisabled:!0,ref:f,xstyle:k.link,children:i.jsx(c("CometUFIVotesText.react"),{voteCount:a})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("InlineFollowCtaEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1985969");b=d("FalcoLoggerInternal").create("inline_follow_cta_event",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("ZenonMWSendMessageMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5071220792985090"}),null);
__d("ZenonMWSendMessageMutation.graphql",["ZenonMWSendMessageMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"}],c=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"RtcWebSendMultiwaySignalingMessageResponsePayload",kind:"LinkedField",name:"rtc_web_send_multiway_signaling_message",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"header",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"ZenonMWSendMessageMutation",selections:c,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"ZenonMWSendMessageMutation",selections:c},params:{id:b("ZenonMWSendMessageMutation_facebookRelayOperation"),metadata:{},name:"ZenonMWSendMessageMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("RpWebMediaActionsEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1750245");b=d("FalcoLoggerInternal").create("rp_web_media_actions_event",a);e=b;g["default"]=e}),98);
__d("ZenonMediaLoggingUtils",["gkx"],(function(a,b,c,d,e,f,g){"use strict";var h=typeof ((a=window.MediaStreamTrack)==null?void 0:(b=a.prototype)==null?void 0:b.getSettings)==="function";d={serializeMediaStreamTrack:function(a){var b=h?a.getSettings():null;return JSON.stringify({contentHint:a.contentHint,enabled:a.enabled,id:a.id,kind:a.kind,label:a.label,muted:a.muted,readyState:a.readyState,remote:a.remote,settings:{deviceId:b==null?void 0:b.deviceId,groupId:b==null?void 0:b.groupId}})},shouldLogEmployeeOnly:function(){return c("gkx")("2951")||c("gkx")("6954")}};e=d;g["default"]=e}),98);
__d("ZenonMediaActionLogger",["FBLogger","RpWebMediaActionsEventFalcoEvent","ZenonMediaLoggingUtils"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1={conferenceName:void 0,deviceID:void 0,peerID:void 0,serverInfoData:void 0,signalingID:void 0},this.$2=!1}var b=a.prototype;b.updateCachedValues=function(a){var b=a.conferenceName,c=a.deviceID,d=a.peerID,e=a.serverInfoData;a=a.signalingID;this.$1.signalingID=(a=a)!=null?a:this.$1.signalingID;this.$1.conferenceName=(a=b)!=null?a:this.$1.conferenceName;this.$1.deviceID=(b=c)!=null?b:this.$1.deviceID;this.$1.peerID=(a=d)!=null?a:this.$1.peerID;this.$1.serverInfoData=(c=e)!=null?c:this.$1.serverInfoData};b.disable=function(){this.$2=!0};b.enable=function(){this.$2=!1};b.logCheckpointEmployeesTestUsersOnly=function(a){c("ZenonMediaLoggingUtils").shouldLogEmployeeOnly()&&this.logCheckpoint(a)};b.logEventEmployeesTestUsersOnly=function(a){c("ZenonMediaLoggingUtils").shouldLogEmployeeOnly()&&this.logEvent(a)};b.logCheckpoint=function(a){this.logEvent({checkpoint:a})};b.logEvent=function(a){if(this.$2)return;var b={call_id:this.$1.signalingID==null?void 0:String(this.$1.signalingID),checkpoint:a.checkpoint,client_timestamp_milliseconds:Date.now().toString(),conference_name:this.$1.conferenceName,error_domain:a.errorDomain,error_type:a.errorType,media_id:a.mediaID,peer_id:this.$1.peerID,server_info_data:this.$1.serverInfoData,web_device_id:this.$1.deviceID};c("RpWebMediaActionsEventFalcoEvent").log(function(){return b})};b.logErrorToFbLogger=function(a,b,d,e){if(this.$2)return;var f=c("FBLogger")("rtc_www");d instanceof Error&&(f=f.catching(d));switch(e){case"debug":f.debug(a);break;case"info":f.info(a);break;case"warn":f.warn(a);break;case"mustfix":f.mustfix(a);break}this.logEvent({checkpoint:a,errorDomain:b,errorType:d==null?void 0:d.toString()})};return a}();b=new a();g["default"]=b}),98);
__d("ZenonCallFalcoEventUtils",["performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return String(Math.trunc(a))};a=function(){return h(c("performanceNow")())};b=function(a){return h((a=a)!=null?a:0)};d=function(a){return a==null?null:h((a=a)!=null?a:0)};e=function(a){return(a=a)!=null?a:""};g.truncateNumber=h;g.performanceNowParsed=a;g.nonNullIntNumber=b;g.intNumberOrNull=d;g.nonNullString=e}),98);
__d("ZenonCallInfoManager",["ChannelClientID"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.callTrigger,c=a.conferenceName,e=a.isCaller,f=a.isVideo,g=a.localCallID,h=a.peerID,i=a.protocol,j=a.serverInfoData;a=a.signalingID;var k=d("ChannelClientID").getID();c={callTrigger:(b=b)!=null?b:"",conferenceName:(b=c)!=null?b:"",deviceID:k,isCaller:e,isVideo:f,localCallID:g,peerID:h,protocol:i,signalingID:a};this.$1=babelHelpers["extends"]({},c,{serverInfoData:j})}var b=a.prototype;b.setDeviceID=function(a){this.$1.deviceID=a};b.setSharedCallId=function(a){this.$1.serverInfoData=a};b.getCallInfo=function(){return this.$1};return a}();g["default"]=a}),98);
__d("ZenonLogPromiseRejection",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return a["catch"](function(a){return c("FBLogger")("rtc_www").catching(a).debug(a.message)})}g["default"]=a}),98);
__d("ZenonCallLogger",["Promise","ZenonInfraActionsLogger","ZenonLogPromiseRejection","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(["setMediaStats","updateE2EEStats","updateIceInfo","setRemoteSdpOffer"]),i=new Set(["atLeastOneParticipantAlerted","atLeastOneParticipantAnswered"]);a=function(){function a(a,b,c,d){var e=this;this.$1=[];this.$3=new Set();this.$2={clientSessionID:a.signalingID,localCallID:a.localCallID,peerID:a.peerID,sharedCallID:a.serverInfoData};b.forEach(function(b){if(d&&!b.approvedForMandatedE2ee())return;e.$1.push(new b.LogProcessor(a,c,function(a){Object.assign(e.$2,a)}))})}var d=a.prototype;d.log=function(a){this.$4(a),c("promiseDone")(this.logToProcessors(a))};d.logToProcessors=function(a){return c("ZenonLogPromiseRejection")(b("Promise").all(this.$1.map(function(b){return b.processEvent(a)})).then(function(){}))};d.$4=function(a){if(!c("gkx")("2890"))return;if(h.has(a.name))return;if(i.has(a.name)&&this.$3.has(a.name))return;this.$3.add(a.name);c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP] ZenonCallLogger event: "+a.name})};d.getLogIdentifiers=function(){return this.$2};return a}();g["default"]=a}),98);
__d("ZenonGenericLocalStorageStore",["CacheStorage","WebStorage","ZenonODSLogger","ZenonUserActionLogger","areEqual","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=2e3,i=3;a=function(){function a(a,b,d){this.$1=a,this.$2=new(c("CacheStorage"))(b,d)}var b=a.prototype;b.getLocalStorageObjects=function(){return this.$2.get(this.$1)||{}};b.removeLocalStorageObjects=function(a){this.mutateLocalStorageObjects(function(b){a.forEach(function(a){var c=a.peerID;a=a.signalingID;b[c]&&b[c][a]&&(delete b[c][a],Object.entries(b[c]).length===0&&delete b[c])});return b})};b.mutateLocalStorageObjects=function(a,b,d,e){var f=this;b===void 0&&(b=i);d===void 0&&(d=!1);e===void 0&&(e=null);var g=this.getLocalStorageObjects(),j=this.getLocalStorageObjects();g=a(g);var k=this.getLocalStorageObjects();c("areEqual")(j,k)?(this.$2.set(this.$1,g),this.logStorageError(this.$2.getLastSetException(),e)):b>0&&(d?c("setTimeout")(function(){f.mutateLocalStorageObjects(a,b-1,!0)},h):this.mutateLocalStorageObjects(a,b-1,!0))};b.logStorageError=function(a,b){a!=null&&(d("ZenonUserActionLogger").logError({call_id:b==null?void 0:b.signalingID,error_domain:"ZenonGenericLocalStorageStore_storeLocalStorageObjects",error_type:a.name,peer_id:b==null?void 0:b.peerID}),c("WebStorage").isLocalStorageQuotaExceeded()&&c("ZenonODSLogger").logCounter("local_storage_quota_exceeded"))};return a}();g["default"]=a}),98);
__d("ZenonLSCallStartEventManager",["ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonPeerID"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ZenonLSCallStartEventManager1={},c.$ZenonLSCallStartEventManager2=!1,c.$ZenonLSCallStartEventManager3=!1,b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateEventTimestamp=function(a){this.$ZenonLSCallStartEventManager1[a]==null&&(this.$ZenonLSCallStartEventManager1[a]=d("ZenonCallFalcoEventUtils").performanceNowParsed())};c.receivedFromInvite=function(){this.$ZenonLSCallStartEventManager2=!0};c.receivedFromServer=function(){this.$ZenonLSCallStartEventManager3=!0};c.getStartEventData=function(){var a=this.getCallInfo();a=a.signalingID;var b=babelHelpers["extends"]({},this.getTimestamps(),this.$ZenonLSCallStartEventManager4());a!==""&&(b.local_signaling_id=a);return b};c.$ZenonLSCallStartEventManager4=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.localCallID,e=a.peerID,f=a.serverInfoData;a=a.signalingID;return babelHelpers["extends"]({answer_sdp_received_from_server:this.$ZenonLSCallStartEventManager3,connection_logging_id:a,local_call_id:c,offer_sdp_received_from_invite:this.$ZenonLSCallStartEventManager2,peer_id:d("ZenonPeerID").convertPeerIDForLogging(e),protocol:"multiway"},f!=null&&{shared_call_id:f},{steady_time_ms:d("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:b})};c.getTimestamps=function(){return this.$ZenonLSCallStartEventManager1};c.save=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.storeCallStartEventManager(c,b,this)};c["delete"]=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.removeLocalStorageObjects([{peerID:c,signalingID:b}])};c.toJsonString=function(){var a=this.getCallInfo(),b=a.signalingID;a={callInfo:a,connectionLoggingId:b,receivedFromInvite:this.$ZenonLSCallStartEventManager2,receivedFromServer:this.$ZenonLSCallStartEventManager3,timestamps:this.getTimestamps()};return JSON.stringify(a)};b.fromJsonString=function(a){var c;try{c=JSON.parse(a)}catch(a){return null}a=c.callInfo;a.deviceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["deviceID"]);a=new b(a);a.$ZenonLSCallStartEventManager2=c.receivedFromInvite;a.$ZenonLSCallStartEventManager3=c.receivedFromServer;a.$ZenonLSCallStartEventManager1=c.timestamps;return a};return b}(c("ZenonCallInfoManager"));g["default"]=a}),98);
__d("ZenonLSCallStartEventStore",["ZenonGenericLocalStorageStore","ZenonLSCallStartEventManager"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_LS_CALL_START_",j="ls_call_start",k=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,j,h,i)||this}var d=b.prototype;d.retrieveCallStartEventManager=function(a,b){var d=this.getLocalStorageObjects();d=d[a]?d[a][b]:null;if(d)return c("ZenonLSCallStartEventManager").fromJsonString(d.__d);else return null};d.storeCallStartEventManager=function(a,b,c){this.mutateLocalStorageObjects(function(d){d[a]||(d[a]={});d[a][b]={__d:c.toJsonString(),__t:Date.now(),__z:!0};return d},k,!1,{peerID:a,signalingID:b})};return b}(c("ZenonGenericLocalStorageStore"));b=new a();g.ZenonLSCallStartEventStoreInstance=b}),98);
__d("ZenonDeviceInfoHelper",["asyncToGeneratorRuntime"],(function(a,b,c,d,e,f){"use strict";var g=-1,h=!1,i={getBatteryStats:function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield i.internalGetWindow().navigator.getBattery);if(typeof a!=="function")return{level:g,placeholder:!0,wasCharged:!1};a=(yield a.call(navigator));a.charging?h=!0:a.onchargingchange=function(a){a.target.charging&&(h=!0),a.target.onchargingchange=null};return{level:a.level*100,placeholder:!1,wasCharged:h}});function c(){return a.apply(this,arguments)}return c}(),internalGetWindow:function(){return window}};a=i;f["default"]=a}),66);
__d("ZenonLoggingEventTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["Send","Receive"]);c=b("$InternalEnum")({Primary:"primary",Secondary:"secondary"});d="rtc_www";f.ZenonUpdateIceInfoDirection=a;f.ZenonJoinMode=c;f.tslogSource=d}),66);
__d("ZenonLSCallSummary",["ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonDeviceInfoHelper","ZenonDismissReason","ZenonLoggingEventTypes","ZenonPeerID","asyncToGeneratorRuntime","performanceNow","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(e,a);function e(b){var e;e=a.call(this,b)||this;e.$ZenonLSCallSummary1={call_answered_time:"-1",call_connected_time:"-1",call_created_time:"-1",call_ended_time:"-1",last_updated_time:"-1"};e.$ZenonLSCallSummary2=!1;e.$ZenonLSCallSummary3=null;e.$ZenonLSCallSummary6=null;e.$ZenonLSCallSummary8=null;e.$ZenonLSCallSummary9=null;e.$ZenonLSCallSummary10=null;e.$ZenonLSCallSummary11=null;e.$ZenonLSCallSummary18=!1;e.$ZenonLSCallSummary12=b.callTrigger;e.$ZenonLSCallSummary7=b.isVideo;e.$ZenonLSCallSummary4=0;e.$ZenonLSCallSummary14=(b=b.joinMode)!=null?b:d("ZenonLoggingEventTypes").ZenonJoinMode.Primary;e.$ZenonLSCallSummary5=c("performanceNow")();e.setTimestamp("call_created_time");e.updateLastUpdatedTime();c("promiseDone")(e.updateBatteryStart());return e}var f=e.prototype;f.setTimestamp=function(a){if(this.$ZenonLSCallSummary1[a]!=="-1")return;this.$ZenonLSCallSummary1[a]=String(this.$ZenonLSCallSummary19())};f.getTimestamps=function(){return this.$ZenonLSCallSummary1};f.getExtraInfo=function(){var a={};this.$ZenonLSCallSummary9!=null&&!isNaN(this.$ZenonLSCallSummary9)&&(a.battery_end_level=String(this.$ZenonLSCallSummary9));this.$ZenonLSCallSummary8!=null&&!isNaN(this.$ZenonLSCallSummary8)&&(a.battery_start_level=String(this.$ZenonLSCallSummary8));this.$ZenonLSCallSummary10!=null&&(a.was_device_charged=this.$ZenonLSCallSummary10);this.$ZenonLSCallSummary11!=null&&(a.max_concurrent_connected_participant=this.$ZenonLSCallSummary11);return a};f.getVideoStats=function(){var a={};if(this.$ZenonLSCallSummary6!=null){var b;isNaN(this.$ZenonLSCallSummary6.ld)||(a.local_video_duration=String(this.$ZenonLSCallSummary6.ld));if(!isNaN((b=this.$ZenonLSCallSummary6)==null?void 0:b.rd)){a.remote_video_duration=String((b=(b=this.$ZenonLSCallSummary6)==null?void 0:b.rd)!=null?b:0)}}return a};f.getEndCallStats=function(){var a={};this.$ZenonLSCallSummary15!=null&&(a.end_call_reason=d("ZenonDismissReason").dismissToEndCallReason(this.$ZenonLSCallSummary15));this.$ZenonLSCallSummary16!=null&&(a.end_call_subreason=this.$ZenonLSCallSummary16);this.$ZenonLSCallSummary18!=null&&(a.remote_ended=this.$ZenonLSCallSummary18);this.$ZenonLSCallSummary3!=null&&(a.is_connected_end=this.$ZenonLSCallSummary3);return a};f.getLoggingArgs=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.peerID,e=a.serverInfoData;a=a.signalingID;return{call_id:a,conf_name:(a=this.$ZenonLSCallSummary13)!=null?a:"",peer_id:d("ZenonPeerID").convertPeerIDForLogging(c),serv_info:(a=e)!=null?a:"",web_device_id:b}};f.getSummaryLoggingInfo=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.isCaller,e=a.localCallID,f=a.peerID;a=a.serverInfoData;return babelHelpers["extends"]({},this.getTimestamps(),this.getExtraInfo(),this.getVideoStats(),this.getEndCallStats(),a!=null&&{shared_call_id:a},{call_trigger:(a=this.$ZenonLSCallSummary12)!=null?a:"",invite_requested_video:this.$ZenonLSCallSummary7,is_caller:c,join_mode:String(this.$ZenonLSCallSummary14),local_call_id:e,peer_id:d("ZenonPeerID").convertPeerIDForLogging(f),steady_time:d("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time:String(Date.now()),web_device_id:b})};f.onCallEscalated=function(){this.updateLastUpdatedTime()};f.onCallAccepted=function(a){this.$ZenonLSCallSummary12=a,this.setTimestamp("call_answered_time"),this.updateLastUpdatedTime()};f.onCallConnected=function(){this.setTimestamp("call_connected_time"),this.updateLastUpdatedTime()};f.setMediaStats=function(a){this.$ZenonLSCallSummary6=a.video,this.updateLastUpdatedTime()};f.setMaxConnectedParticipants=function(a){this.$ZenonLSCallSummary11=d("ZenonCallFalcoEventUtils").nonNullIntNumber(a),this.updateLastUpdatedTime()};f.unsetEndCallFields=function(){this.$ZenonLSCallSummary17===!0&&(this.$ZenonLSCallSummary15=null,this.$ZenonLSCallSummary16=null,this.$ZenonLSCallSummary18=null,this.$ZenonLSCallSummary3=null,this.$ZenonLSCallSummary1.call_ended_time="-1",this.$ZenonLSCallSummary5=0,this.$ZenonLSCallSummary17=null)};f.onCallEnded=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b,c,d){this.$ZenonLSCallSummary15=a,this.$ZenonLSCallSummary16=d,this.$ZenonLSCallSummary17=c,this.$ZenonLSCallSummary18=b,this.$ZenonLSCallSummary3==null&&(this.$ZenonLSCallSummary3=this.$ZenonLSCallSummary2),yield this.updateBatteryEnd(),this.setTimestamp("call_ended_time"),this.updateLastUpdatedTime()});function c(b,c,d,e){return a.apply(this,arguments)}return c}();f.onPCStateChange=function(a){this.$ZenonLSCallSummary2=a,this.updateLastUpdatedTime()};f.updateBatteryStart=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("ZenonDeviceInfoHelper").getBatteryStats()),b=a.level;a=a.placeholder;a!==!0&&(this.$ZenonLSCallSummary8=parseInt(b,10))});function d(){return a.apply(this,arguments)}return d}();f.updateBatteryEnd=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a=(yield c("ZenonDeviceInfoHelper").getBatteryStats()),b=a.level,d=a.placeholder;a=a.wasCharged;d!==!0&&(this.$ZenonLSCallSummary9=parseInt(b,10),this.setDeviceCharged(a))});function d(){return a.apply(this,arguments)}return d}();f.setDeviceCharged=function(a){this.$ZenonLSCallSummary10!==!0&&(this.$ZenonLSCallSummary10=a)};f.setConferenceName=function(a){this.$ZenonLSCallSummary13=a,this.updateLastUpdatedTime()};f.getDeviceCharged=function(){return this.$ZenonLSCallSummary10};e.fromJsonString=function(a){var b;try{b=JSON.parse(a)}catch(a){return null}a=b.callInfo;var c=a.deviceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["deviceID"]);a=new e(a);a.setDeviceID(c);a.$ZenonLSCallSummary1=b.timestamps;a.$ZenonLSCallSummary2=b.pcIsConnected;a.$ZenonLSCallSummary3=b.endIsConnected;a.$ZenonLSCallSummary15=b.endCallReason;a.$ZenonLSCallSummary16=b.endCallSubreason;a.$ZenonLSCallSummary18=b.isRemoteEnded;a.$ZenonLSCallSummary7=b.isVideo;a.$ZenonLSCallSummary6={ld:parseInt(b.videoStats.local_video_duration,10),rd:parseInt(b.videoStats.remote_video_duration,10)};a.$ZenonLSCallSummary8=parseInt(b.extraInfo.battery_start_level,10);a.$ZenonLSCallSummary9=parseInt(b.extraInfo.battery_end_level,10);b.extraInfo.was_device_charged!=null&&(a.$ZenonLSCallSummary10=b.extraInfo.was_device_charged);b.extraInfo.max_concurrent_connected_participant!=null&&(a.$ZenonLSCallSummary11=b.extraInfo.max_concurrent_connected_participant);b.unsetOnRetrieve!=null&&(a.$ZenonLSCallSummary17=b.unsetOnRetrieve);b.accumulatedCallTime!=null&&(a.$ZenonLSCallSummary4=b.accumulatedCallTime);b.conferenceName!=null&&(a.$ZenonLSCallSummary13=b.conferenceName);return a};f.toJsonString=function(){var a={accumulatedCallTime:this.$ZenonLSCallSummary19(),callInfo:this.getCallInfo(),conferenceName:this.$ZenonLSCallSummary13,endCallReason:this.$ZenonLSCallSummary15,endCallSubreason:this.$ZenonLSCallSummary16,endIsConnected:this.$ZenonLSCallSummary3,extraInfo:this.getExtraInfo(),isRemoteEnded:this.$ZenonLSCallSummary18,isVideo:this.$ZenonLSCallSummary7,joinMode:this.$ZenonLSCallSummary14,pcIsConnected:this.$ZenonLSCallSummary2,timestamps:this.getTimestamps(),unsetOnRetrieve:this.$ZenonLSCallSummary17,videoStats:this.getVideoStats()};return JSON.stringify(a)};f.$ZenonLSCallSummary19=function(){var a=c("performanceNow")()-this.$ZenonLSCallSummary5;return Math.floor(this.$ZenonLSCallSummary4+a)};f.updateLastUpdatedTime=function(){this.$ZenonLSCallSummary1.last_updated_time=String(this.$ZenonLSCallSummary19())};f.save=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.storeCallSummary(c,b,this)};f.remove=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.removeLocalStorageObjects([{peerID:c,signalingID:b}])};return e}(c("ZenonCallInfoManager"));g["default"]=a}),98);
__d("ZenonLSCallSummaryStore",["ZenonGenericLocalStorageStore","ZenonLSCallSummary"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_LS_CALL_SUMMARY_",j="ls_summary",k=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,j,h,i)||this}var d=b.prototype;d.retrieveCallSummary=function(a,b){var d=this.getLocalStorageObjects();d=d[a]?d[a][b]:null;if(d)return c("ZenonLSCallSummary").fromJsonString(d.__d);else return null};d.storeCallSummary=function(a,b,c){this.mutateLocalStorageObjects(function(d){d[a]||(d[a]={});d[a][b]={__d:c.toJsonString(),__t:Date.now(),__z:!0};return d},k,!1,{peerID:a,signalingID:b})};return b}(c("ZenonGenericLocalStorageStore"));b=new a();g.ZenonLSCallSummaryStoreInstance=b}),98);
__d("ZenonLSE2EEStatsManager",["E2eeMetricsSerializers","WebAssemblyMemorySingleton","ZenonCallFalcoEventUtils","ZenonCallInfoManager"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.$ZenonLSE2EEStatsManager1={error_count_decrypted:0,error_count_encrypted:0,frames_decrypted:0,frames_encrypted:0,group_e2ee_metrics:d("E2eeMetricsSerializers").GroupE2eeMetrics$DefaultConstructor(),total_decrypt_time:0,total_encrypt_time:0,wasm_metrics:d("WebAssemblyMemorySingleton").WebAssemblyMemorySingleton.getMetrics()},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateE2eeStats=function(a){this.$ZenonLSE2EEStatsManager1=a};c.getGroupE2eeMetricsInFalcoShape=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.localCallID;a=a.serverInfoData;return babelHelpers["extends"]({g_e2ee_web_wasm_final_memory_usage_kb:String(this.$ZenonLSE2EEStatsManager1.wasm_metrics.memory_size_kb),g_e2ee_web_wasm_memory_reallocation_count:String(this.$ZenonLSE2EEStatsManager1.wasm_metrics.memory_reallocation_count),local_call_id:c},a!=null&&{shared_call_id:a},{steady_time_ms:d("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:b},this.$ZenonLSE2EEStatsManager1.group_e2ee_metrics)};c.save=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.storeE2eeStats(c,b,this)};c["delete"]=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.removeLocalStorageObjects([{peerID:c,signalingID:b}])};c.toJsonString=function(){var a={callInfo:this.getCallInfo(),groupE2eeMetrics:this.$ZenonLSE2EEStatsManager1.group_e2ee_metrics,wasmMetrics:this.$ZenonLSE2EEStatsManager1.wasm_metrics};return JSON.stringify(a)};b.fromJsonString=function(a){var c;try{c=JSON.parse(a)}catch(a){return null}a=c.callInfo;a.deviceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["deviceID"]);a=new b(a);a.$ZenonLSE2EEStatsManager1={error_count_decrypted:0,error_count_encrypted:0,frames_decrypted:0,frames_encrypted:0,group_e2ee_metrics:c.groupE2eeMetrics,total_decrypt_time:0,total_encrypt_time:0,wasm_metrics:c.wasmMetrics};return a};return b}(c("ZenonCallInfoManager"));g["default"]=a}),98);
__d("ZenonLSE2EEStore",["ZenonGenericLocalStorageStore","ZenonLSE2EEStatsManager"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_LS_E2EE_STATS_",j="ls_e2ee_stats",k=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,j,h,i)||this}var d=b.prototype;d.retrieveE2eeStats=function(a,b){var d=this.getLocalStorageObjects();d=d[a]?d[a][b]:null;if(d)return c("ZenonLSE2EEStatsManager").fromJsonString(d.__d);else return null};d.storeE2eeStats=function(a,b,c){this.mutateLocalStorageObjects(function(d){d[a]||(d[a]={});d[a][b]={__d:c.toJsonString(),__t:Date.now(),__z:!0};return d},k,!1,{peerID:a,signalingID:b})};return b}(c("ZenonGenericLocalStorageStore"));b=new a();g.ZenonLSE2EEStoreInstance=b}),98);
__d("ZenonLSPeerConnectionSummary",["ZenonCallFalcoEventUtils","ZenonCallInfoManager","ZenonIceStatsParser","ZenonLoggingEventTypes","ZenonMWMessageTypes","ZenonPeerID","immutable","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){b=a.call(this,b)||this;b.$ZenonLSPeerConnectionSummary1={CoreAudioMetrics:{isstall:"0",voice_detect_pct:[]},CoreVideoMetrics:{screen:{capture_stall:{is_stall:"0"},encode_stall:{is_stall:"0"},sent_stall:{is_stall:"0"}},video:{capture_stall:{is_stall:"0"},encode_stall:{is_stall:"0"},sent_stall:{is_stall:"0"}}},DebugAudioMetrics:{NetworkReceive:{}},ecv:{},extraInfo:{},receiver:{},receiver_pct:{audio:{}},receiver_stalls:{screen_recv_stalls:{recv_decode_stall:{is_stall:"0"}},video_recv_stalls:{recv_decode_stall:{is_stall:"0"}}},sender:{},sender_pct:{screen:{},video:{}},video:{}};b.$ZenonLSPeerConnectionSummary2={};b.$ZenonLSPeerConnectionSummary3={};b.$ZenonLSPeerConnectionSummary5=-1;b.$ZenonLSPeerConnectionSummary8=null;b.$ZenonLSPeerConnectionSummary9=new Map();b.$ZenonLSPeerConnectionSummary11="unknown";b.$ZenonLSPeerConnectionSummary6=c("performanceNow")();b.$ZenonLSPeerConnectionSummary4=0;b.$ZenonLSPeerConnectionSummary7=null;return b}var e=b.prototype;e.$ZenonLSPeerConnectionSummary12=function(){var a=this.$ZenonLSPeerConnectionSummary1.sender,b=a.codec;b=b===void 0?{}:b;var c={gen0_ice_sent_host:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary2.host),gen0_ice_sent_relay:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary2.relay),gen0_ice_sent_srflx:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary2.srflx)};b=b.www;b!=null&&(c.audio_send_codec=String(b));this.$ZenonLSPeerConnectionSummary13(c,"audio_send_bytes_sent",a.bytes);this.$ZenonLSPeerConnectionSummary13(c,"audio_send_level_count",a.taulc);this.$ZenonLSPeerConnectionSummary13(c,"audio_send_level_sum",a.tx_sum_lvl);this.$ZenonLSPeerConnectionSummary13(c,"audio_send_packets_sent",a.psent);this.$ZenonLSPeerConnectionSummary13(c,"avg_video_uplink_bandwidth_estimate",a.ube_avg);this.$ZenonLSPeerConnectionSummary13(c,"transport_conn_rtt_avg",a.avgrtt);return c};e.$ZenonLSPeerConnectionSummary13=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary14=function(){var a,b,c;a=(a=this.$ZenonLSPeerConnectionSummary1.video.sender)==null?void 0:a.ss;b=(b=a==null?void 0:a.frames)!=null?b:0;c=(c=a==null?void 0:a.eqps)!=null?c:0;c=b>0&&c>0?c/b:null;b={};this.$ZenonLSPeerConnectionSummary15(b,"avg_video_actual_encode_bitrate_ss",a==null?void 0:a.avbr);this.$ZenonLSPeerConnectionSummary15(b,"avg_video_uplink_bandwidth_estimate_ss",a==null?void 0:a.avbw);this.$ZenonLSPeerConnectionSummary15(b,"video_send_duration_ss",a==null?void 0:a.dur);this.$ZenonLSPeerConnectionSummary15(b,"video_send_frames_send_to_encoder_ss",a==null?void 0:a.eiframes);this.$ZenonLSPeerConnectionSummary15(b,"video_send_total_input_pixel_ss",a==null?void 0:a.video_sum_capture_pixel);this.$ZenonLSPeerConnectionSummary15(b,"video_send_total_output_pixel_ss",a==null?void 0:a.video_sum_encoded_pixel);this.$ZenonLSPeerConnectionSummary15(b,"video_send_frames_encoded_ss",a==null?void 0:a.frames);this.$ZenonLSPeerConnectionSummary15(b,"video_send_qp_sum_ss",c);return b};e.$ZenonLSPeerConnectionSummary15=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary16=function(){var a=this.$ZenonLSPeerConnectionSummary1.video.bwe,b={};this.$ZenonLSPeerConnectionSummary17(b,"avg_video_actual_encode_bitrate",a==null?void 0:a.avg_enc_bitrate);this.$ZenonLSPeerConnectionSummary17(b,"avg_video_retransmit_bitrate",a==null?void 0:a.avg_retrans_bitrate);this.$ZenonLSPeerConnectionSummary17(b,"avg_video_transmit_bitrate",a==null?void 0:a.avg_trans_bitrate);this.$ZenonLSPeerConnectionSummary17(b,"avg_video_uplink_bandwidth_estimate",a==null?void 0:a.avg_send_bw);return b};e.$ZenonLSPeerConnectionSummary17=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary18=function(){var a;a=(a=this.$ZenonLSPeerConnectionSummary1.sender_pct.video)==null?void 0:a.vqs;var b={};(a==null?void 0:a.avg)!=null&&(b.video_send_quality_score=d("ZenonCallFalcoEventUtils").truncateNumber(a==null?void 0:a.avg));return b};e.$ZenonLSPeerConnectionSummary19=function(){var a=this.$ZenonLSPeerConnectionSummary1.video.sender,b={video_send_codec:a==null?void 0:a.ename};this.$ZenonLSPeerConnectionSummary20(b,"video_recv_firs_sent",a==null?void 0:a.fir);this.$ZenonLSPeerConnectionSummary20(b,"video_recv_nacks_sent",a==null?void 0:a.nack);this.$ZenonLSPeerConnectionSummary20(b,"video_recv_plis_sent",a==null?void 0:a.pli);this.$ZenonLSPeerConnectionSummary20(b,"video_send_frame_height",a==null?void 0:a.ah);this.$ZenonLSPeerConnectionSummary20(b,"video_send_frame_height_input",a==null?void 0:a.ch);this.$ZenonLSPeerConnectionSummary20(b,"video_send_frame_width",a==null?void 0:a.aw);this.$ZenonLSPeerConnectionSummary20(b,"video_send_frame_width_input",a==null?void 0:a.cw);this.$ZenonLSPeerConnectionSummary20(b,"video_send_frames_captured",a==null?void 0:a.fcap);this.$ZenonLSPeerConnectionSummary20(b,"video_send_frames_encoded",a==null?void 0:a.frames);this.$ZenonLSPeerConnectionSummary20(b,"video_send_frames_sent",a==null?void 0:a.fcsn);this.$ZenonLSPeerConnectionSummary20(b,"video_send_frames_send_to_encoder",a==null?void 0:a.eiframes);this.$ZenonLSPeerConnectionSummary20(b,"video_send_capture_duration_ms",this.$ZenonLSPeerConnectionSummary1.video.ld);this.$ZenonLSPeerConnectionSummary20(b,"video_send_duration_blur",a==null?void 0:a.video_blur_dur);this.$ZenonLSPeerConnectionSummary20(b,"video_send_key_frames_encoded",a==null?void 0:a.kframes);this.$ZenonLSPeerConnectionSummary20(b,"video_send_packets_sent",a==null?void 0:a.psent);this.$ZenonLSPeerConnectionSummary20(b,"video_send_qp_sum",a==null?void 0:a.eqps);this.$ZenonLSPeerConnectionSummary20(b,"video_send_total_input_pixel",a==null?void 0:a.video_sum_capture_pixel);this.$ZenonLSPeerConnectionSummary20(b,"video_send_total_output_pixel",a==null?void 0:a.video_sum_encoded_pixel);return b};e.$ZenonLSPeerConnectionSummary20=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary21=function(){var a,b=this.$ZenonLSPeerConnectionSummary1.video.receiver,c={video_recv_codec:b==null?void 0:b.dname};this.$ZenonLSPeerConnectionSummary22(c,"audio_recv_jitter_buffer_frames_assembled",b==null?void 0:b.jtasb);this.$ZenonLSPeerConnectionSummary22(c,"audio_recv_jitter_buffer_frames_out",b==null?void 0:b.jtfrm);this.$ZenonLSPeerConnectionSummary22(c,"audio_recv_jitter_buffer_keyframes_out",b==null?void 0:b.jtkey);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_agg_bytes_decoded",b==null?void 0:b.dec_bytes);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_agg_packets_lost",b==null?void 0:b.plost);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_agg_packets_recv",b==null?void 0:b.precv);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_av_sync_abs",b==null?void 0:b.avabs);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_avg_e2e_latency_ms",b==null?void 0:b.e2el);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_frame_height",b==null?void 0:b.rh);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_frame_width",b==null?void 0:b.rw);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_frames_decoded",b==null?void 0:b.frd);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_freeze_count",b==null?void 0:b.frcnt);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_freeze_duration",b==null?void 0:b.frdur);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_freeze_duration_above_500_ms",b==null?void 0:b.frdur500);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_pause_count",b==null?void 0:b.pact);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_pause_duration_ms",b==null?void 0:b.padur);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_qp_sum",b==null?void 0:b.qps);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_total_pixels_decoded",b==null?void 0:b.agg_video_sum_decoded_pixel);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_union_decode_time_ms",b==null?void 0:b.dec_time);this.$ZenonLSPeerConnectionSummary22(c,"video_send_firs_recv",b==null?void 0:b.fir);this.$ZenonLSPeerConnectionSummary22(c,"video_send_nacks_recv",b==null?void 0:b.nack);this.$ZenonLSPeerConnectionSummary22(c,"video_send_plis_recv",b==null?void 0:b.pli);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_weighted_vqs",b==null?void 0:(a=b.vqs)==null?void 0:a.avg);a=b==null?void 0:b.dec_time_all_streams;b=b==null?void 0:b.dec_frame;this.$ZenonLSPeerConnectionSummary22(c,"video_recv_agg_decode_time_ms",a);this.$ZenonLSPeerConnectionSummary22(c,"video_recv_agg_frames_decoded",b);a!=null&&a>0&&b!=null&&b>0&&this.$ZenonLSPeerConnectionSummary22(c,"video_recv_framerate_decoded",b*1e3/a);return c};e.$ZenonLSPeerConnectionSummary23=function(){var a;a=(a=this.$ZenonLSPeerConnectionSummary1.video.receiver)==null?void 0:a.ss_recv;var b={};this.$ZenonLSPeerConnectionSummary24(b,"video_recv_duration_ss",a==null?void 0:a.ss_recv_dur);return b};e.$ZenonLSPeerConnectionSummary24=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary25=function(){var a;a=(a=this.$ZenonLSPeerConnectionSummary1.receiver_stalls)==null?void 0:(a=a.video_recv_stalls)==null?void 0:a.recv_decode_stall;var b={};if(a){var c=a.is_stall,d=a.sdur;a=a.nstall;c!=null&&(b.receiver_ended_with_no_video=String(c));d!=null&&(b.receiver_total_no_video_duration_ms=String(d));a!=null&&(b.receiver_total_no_video=String(a))}return b};e.$ZenonLSPeerConnectionSummary26=function(){var a;a=(a=this.$ZenonLSPeerConnectionSummary1.receiver_stalls)==null?void 0:(a=a.screen_recv_stalls)==null?void 0:a.recv_decode_stall;var b={};if(a){var c=a.is_stall,d=a.sdur;a=a.nstall;c!=null&&(b.receiver_ended_with_no_screenshare=String(c));d!=null&&(b.receiver_total_no_screenshare_duration_ms=String(d));a!=null&&(b.receiver_total_no_screenshare=String(a))}return b};e.$ZenonLSPeerConnectionSummary22=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary27=function(){var a,b,c=this.$ZenonLSPeerConnectionSummary1.DebugAudioMetrics.NetworkReceive.jb_nm;a=c==null?void 0:(a=c.neteq)==null?void 0:a.meanWait;b=c==null?void 0:(b=c.speech_expand_rate)==null?void 0:b.avg;c=c==null?void 0:(c=c.speech_expand_rate)==null?void 0:c.M;var d={};a!=null&&(d.audio_recv_neteq_mean_wait_ms=String(a));b!=null&&(d.audio_recv_neteq_speech_expand_rate_avg=String(b));c!=null&&(d.audio_recv_neteq_speech_expand_rate_max=String(c));return d};e.$ZenonLSPeerConnectionSummary28=function(){var a=this.$ZenonLSPeerConnectionSummary1.CoreAudioMetrics,b=a.audio_device,c=a.isstall,d=a.sdur;a=a.astall;var e={};b!=null&&(e.audio_device=String(b));c!=null&&(e.audio_device_is_stalled=String(c));d!=null&&(e.audio_device_stall_duration=String(d));a!=null&&(e.audio_device_total_stall=String(a));return e};e.$ZenonLSPeerConnectionSummary29=function(){var a,b={};if(((a=this.$ZenonLSPeerConnectionSummary1.ecv)==null?void 0:a.ecv_neteq_wait_time_ms)!=null){b.ecv_neteq_wait_time_ms=d("ZenonCallFalcoEventUtils").truncateNumber(Number((a=this.$ZenonLSPeerConnectionSummary1.ecv)==null?void 0:a.ecv_neteq_wait_time_ms))}if(((a=this.$ZenonLSPeerConnectionSummary1.ecv)==null?void 0:a.ecv_rtt_ms)!=null){b.ecv_rtt_ms=d("ZenonCallFalcoEventUtils").truncateNumber(Number((a=this.$ZenonLSPeerConnectionSummary1.ecv)==null?void 0:a.ecv_rtt_ms))}if(((a=this.$ZenonLSPeerConnectionSummary1.ecv)==null?void 0:a.ecv_plccng)!=null){b.ecv_plccng=d("ZenonCallFalcoEventUtils").truncateNumber(Number((a=this.$ZenonLSPeerConnectionSummary1.ecv)==null?void 0:a.ecv_plccng))}if(((a=this.$ZenonLSPeerConnectionSummary1.ecv)==null?void 0:a.ecv_video_freeze_duration_above_500_ms)!=null){b.ecv_video_freeze_duration_above_500_ms=d("ZenonCallFalcoEventUtils").truncateNumber(Number((a=this.$ZenonLSPeerConnectionSummary1.ecv)==null?void 0:a.ecv_video_freeze_duration_above_500_ms))}if(((a=this.$ZenonLSPeerConnectionSummary1.ecv)==null?void 0:a.ecv_av_sync_above_1000_ms)!=null){b.ecv_av_sync_above_1000_ms=d("ZenonCallFalcoEventUtils").truncateNumber(Number((a=this.$ZenonLSPeerConnectionSummary1.ecv)==null?void 0:a.ecv_av_sync_above_1000_ms))}return b};e.$ZenonLSPeerConnectionSummary30=function(){var a=this.$ZenonLSPeerConnectionSummary1.CoreVideoMetrics.video.capture_stall,b=a.is_stall,c=a.sdur;a=a.nstall;var d=this.$ZenonLSPeerConnectionSummary1.CoreVideoMetrics.video.encode_stall,e=d.is_stall,f=d.sdur;d=d.nstall;var g=this.$ZenonLSPeerConnectionSummary1.CoreVideoMetrics.video.sent_stall,h=g.is_stall,i=g.sdur;g=g.nstall;var j={};b!=null&&(j.video_device_capture_is_stalled=String(b));c!=null&&(j.video_device_capture_total_stall_duration_ms=String(c));a!=null&&(j.video_device_capture_total_stalls=String(a));e!=null&&(j.video_encode_is_stalled=String(e));f!=null&&(j.video_encode_total_stall_duration_ms=String(f));d!=null&&(j.video_encode_total_stalls=String(d));h!=null&&(j.video_send_is_stalled=String(h));i!=null&&(j.video_send_total_stall_duration_ms=String(i));g!=null&&(j.video_send_total_stalls=String(g));return j};e.$ZenonLSPeerConnectionSummary31=function(){var a=this.$ZenonLSPeerConnectionSummary1,b=a.receiver;a=a.receiver_pct;var c=null;b.codec!=null&&(c=String(Object.values(b.codec).pop()));var e={gen0_ice_received_host:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary3.host),gen0_ice_received_relay:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary3.relay),gen0_ice_received_srflx:d("ZenonCallFalcoEventUtils").nonNullIntNumber(this.$ZenonLSPeerConnectionSummary3.srflx)};c!=null&&(e.audio_recv_codec=String(c));this.$ZenonLSPeerConnectionSummary32(e,"audio_ctp_latency_avg_us",(c=a.audio.jbd)==null?void 0:c.avg,(c=a.audio.rtt)==null?void 0:c.avg);this.$ZenonLSPeerConnectionSummary32(e,"audio_ctp_latency_p5_us",(c=a.audio.jbd)==null?void 0:c.p5,(c=a.audio.rtt)==null?void 0:c.p5);this.$ZenonLSPeerConnectionSummary32(e,"audio_ctp_latency_p50_us",(c=a.audio.jbd)==null?void 0:c.p50,(c=a.audio.rtt)==null?void 0:c.p50);this.$ZenonLSPeerConnectionSummary32(e,"audio_ctp_latency_p95_us",(c=a.audio.jbd)==null?void 0:c.p95,(c=a.audio.rtt)==null?void 0:c.p95);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_avg_e2e_latency_ms",b.e2el);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_bytes_recv",b.bytes);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_fec_packets_discarded",b.fecpd);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_fec_packets_received",b.fecpr);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_jitter",b.jitter);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_jitter_buffer_flushes",b.dec_pack_flush);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_level_count",b.taulc);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_level_sum",b.rx_sum_lvl);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_total_samples_duration",b.sp_dur);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_neteq_accelerate",b.dec_ar);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_neteq_cng",b.dec_cng);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_neteq_normal",b.dec_normal);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_neteq_operations",b.neteq_calls);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_neteq_plc",b.dec_plc);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_neteq_plccng",b.dec_plc_cng);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_neteq_preemptive_expand",b.dec_per);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_packets_lost",b.plost);this.$ZenonLSPeerConnectionSummary33(e,"audio_recv_packets_recv",b.precv);return e};e.$ZenonLSPeerConnectionSummary34=function(){var a,b={};a=(a=this.$ZenonLSPeerConnectionSummary1.video.sender)==null?void 0:a.ss;if((a==null?void 0:a.dur)!=null&&(a==null?void 0:a.dur)>0){a=this.$ZenonLSPeerConnectionSummary1.CoreVideoMetrics.screen.capture_stall;var c=a.is_stall,d=a.sdur;a=a.nstall;var e=this.$ZenonLSPeerConnectionSummary1.CoreVideoMetrics.screen.encode_stall,f=e.is_stall,g=e.sdur;e=e.nstall;var h=this.$ZenonLSPeerConnectionSummary1.CoreVideoMetrics.screen.sent_stall,i=h.is_stall,j=h.sdur;h=h.nstall;c!=null&&(b.screen_share_capture_is_stalled=String(c));d!=null&&(b.screen_share_capture_total_stall_duration_ms=String(d));a!=null&&(b.screen_share_capture_total_stalls=String(a));f!=null&&(b.screen_share_encode_is_stalled=String(f));g!=null&&(b.screen_share_encode_total_stall_duration_ms=String(g));e!=null&&(b.screen_share_encode_total_stalls=String(e));i!=null&&(b.screen_share_send_is_stalled=String(i));j!=null&&(b.screen_share_send_total_stall_duration_ms=String(j));h!=null&&(b.screen_share_send_total_stalls=String(h))}return b};e.$ZenonLSPeerConnectionSummary33=function(a,b,c){c!=null&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(c))};e.$ZenonLSPeerConnectionSummary35=function(){var a=c("immutable").OrderedMap(this.$ZenonLSPeerConnectionSummary9),b={};if(Object.keys(a).length===0)return b;var e=0,f=!1,g=0,h=0;a.forEach(function(a,b){f!==a&&(a?e>0&&(h++,g+=b-e,e=0):e=b,f=a)});if(e>0){a=this.$ZenonLSPeerConnectionSummary5;a>-1&&a>e&&(h++,g+=a-e)}b.transport_num_gaps=d("ZenonCallFalcoEventUtils").nonNullIntNumber(h);b.transport_total_gap_duration_ms=d("ZenonCallFalcoEventUtils").nonNullIntNumber(g);this.$ZenonLSPeerConnectionSummary8!=null&&(b.transport_connected=this.$ZenonLSPeerConnectionSummary8?"1":"0");return b};e.onCallEnded=function(){this.$ZenonLSPeerConnectionSummary5=this.$ZenonLSPeerConnectionSummary36(),this.$ZenonLSPeerConnectionSummary8==null&&(this.$ZenonLSPeerConnectionSummary8=this.$ZenonLSPeerConnectionSummary7)};e.$ZenonLSPeerConnectionSummary32=function(a,b,c,e){var f=0;c!=null&&(f+=c);e!=null&&(f+=e/2);f>0&&(a[b]=d("ZenonCallFalcoEventUtils").truncateNumber(f))};e.getPeerConnectionSummary=function(){var a=this.getCallInfo(),b=a.deviceID,c=a.localCallID,e=a.peerID;a=a.signalingID;return babelHelpers["extends"]({},this.$ZenonLSPeerConnectionSummary28(),this.$ZenonLSPeerConnectionSummary12(),this.$ZenonLSPeerConnectionSummary31(),this.$ZenonLSPeerConnectionSummary14(),this.$ZenonLSPeerConnectionSummary16(),this.$ZenonLSPeerConnectionSummary18(),this.$ZenonLSPeerConnectionSummary19(),this.$ZenonLSPeerConnectionSummary21(),this.$ZenonLSPeerConnectionSummary23(),this.$ZenonLSPeerConnectionSummary27(),this.$ZenonLSPeerConnectionSummary35(),this.$ZenonLSPeerConnectionSummary29(),this.$ZenonLSPeerConnectionSummary30(),this.$ZenonLSPeerConnectionSummary34(),this.$ZenonLSPeerConnectionSummary25(),this.$ZenonLSPeerConnectionSummary26(),this.$ZenonLSPeerConnectionSummary10!=null&&{shared_call_id:this.$ZenonLSPeerConnectionSummary10},{connection_logging_id:a,local_call_id:c,media_path:this.$ZenonLSPeerConnectionSummary11,peer_id:d("ZenonPeerID").convertPeerIDForLogging(e),protocol:"multiway",steady_time_ms:d("ZenonCallFalcoEventUtils").performanceNowParsed(),system_time_ms:String(Date.now()),web_device_id:b})};e.$ZenonLSPeerConnectionSummary36=function(){var a=c("performanceNow")()-this.$ZenonLSPeerConnectionSummary6;return Math.floor(this.$ZenonLSPeerConnectionSummary4+a)};e.updateIceInfo=function(a,b){var c=b===d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send?this.$ZenonLSPeerConnectionSummary2:this.$ZenonLSPeerConnectionSummary3;b=d("ZenonIceStatsParser").extractIceInfo(a);b.forEach(function(a){var b=a.gen;a=a.type;b===0&&(c[a]==null?c[a]=1:c[a]++)})};e.onPCStateChange=function(a){this.$ZenonLSPeerConnectionSummary7!==a&&(this.$ZenonLSPeerConnectionSummary7=a,this.$ZenonLSPeerConnectionSummary9.set(this.$ZenonLSPeerConnectionSummary36(),a))};e.$ZenonLSPeerConnectionSummary37=function(a){switch(a){case d("ZenonMWMessageTypes").ZenonMWMediaPath.SFU:return"sfu";case d("ZenonMWMessageTypes").ZenonMWMediaPath.P2P:return"p2p";case d("ZenonMWMessageTypes").ZenonMWMediaPath.UNKNOWN:default:return"unknown"}};e.setMediaPath=function(a){this.$ZenonLSPeerConnectionSummary11=this.$ZenonLSPeerConnectionSummary37(a)};e.setMediaStats=function(a){this.$ZenonLSPeerConnectionSummary1=a};e.setSharedCallId=function(a){this.$ZenonLSPeerConnectionSummary10=a};e.save=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.storePeerConnectionSummary(c,b,this)};e["delete"]=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.removeLocalStorageObjects([{peerID:c,signalingID:b}])};e.toJsonString=function(){var a=this.getCallInfo();a=a.signalingID;a={accumulatedCallTime:this.$ZenonLSPeerConnectionSummary36(),callInfo:this.getCallInfo(),connectionLoggingId:a,endIsConnected:this.$ZenonLSPeerConnectionSummary8,gen0IceReceivedCount:this.$ZenonLSPeerConnectionSummary3,gen0IceSentCount:this.$ZenonLSPeerConnectionSummary2,mediaPath:this.$ZenonLSPeerConnectionSummary11,mediaStats:this.$ZenonLSPeerConnectionSummary1,pcIsConnected:this.$ZenonLSPeerConnectionSummary7,sharedCallId:this.$ZenonLSPeerConnectionSummary10};return JSON.stringify(a)};b.fromJsonString=function(a){var c,d;try{d=JSON.parse(a)}catch(a){return null}a=d.callInfo;a.deviceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["deviceID"]);a=new b(a);a.$ZenonLSPeerConnectionSummary11=d.mediaPath;a.$ZenonLSPeerConnectionSummary1=d.mediaStats;a.$ZenonLSPeerConnectionSummary3=d.gen0IceReceivedCount;a.$ZenonLSPeerConnectionSummary2=d.gen0IceSentCount;a.$ZenonLSPeerConnectionSummary10=d.sharedCallId;a.$ZenonLSPeerConnectionSummary7=(c=d.pcIsConnected)!=null?c:null;a.$ZenonLSPeerConnectionSummary8=d.endIsConnected;d.accumulatedCallTime!=null&&(a.$ZenonLSPeerConnectionSummary4=d.accumulatedCallTime);return a};return b}(c("ZenonCallInfoManager"));g["default"]=a}),98);
__d("ZenonLSPeerConnectionSummaryStore",["ZenonGenericLocalStorageStore","ZenonLSPeerConnectionSummary"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_LS_PCS_",j="ls_pcs",k=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,j,h,i)||this}var d=b.prototype;d.retrievePeerConnectionSummary=function(a,b){var d=this.getLocalStorageObjects();d=d[a]?d[a][b]:null;if(d)return c("ZenonLSPeerConnectionSummary").fromJsonString(d.__d);else return null};d.storePeerConnectionSummary=function(a,b,c){this.mutateLocalStorageObjects(function(d){d[a]||(d[a]={});d[a][b]={__d:c.toJsonString(),__t:Date.now(),__z:!0};return d},k,!1,{peerID:a,signalingID:b})};return b}(c("ZenonGenericLocalStorageStore"));b=new a();g.ZenonLSPeerConnectionSummaryStoreInstance=b}),98);
__d("LsRtcEndCallSurveyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743882");b=d("FalcoLoggerInternal").create("ls_rtc_end_call_survey",a);e=b;g["default"]=e}),98);
__d("LsRtcStarRatingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743884");b=d("FalcoLoggerInternal").create("ls_rtc_star_rating",a);e=b;g["default"]=e}),98);
__d("ZenonLSStarRatingsManager",["LsRtcEndCallSurveyFalcoEvent","LsRtcStarRatingFalcoEvent","ZenonCallInfoManager","ZenonPeerID"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var e=b.prototype;e.setRating=function(a){var b=this.getCallInfo(),e=b.deviceID,f=b.localCallID,g=b.peerID;b=b.serverInfoData;var h={local_call_id:f,peer_id:d("ZenonPeerID").convertPeerIDForLogging(g),shared_call_id:b,web_device_id:e};c("LsRtcStarRatingFalcoEvent").logImmediately(function(){return babelHelpers["extends"]({star_rating:a.toString()},h)})};e.setSurvey=function(a,b,e){b===void 0&&(b=null);e===void 0&&(e=null);var f=this.getCallInfo(),g=f.deviceID,h=f.localCallID,i=f.peerID;f=f.serverInfoData;h={local_call_id:h,peer_id:d("ZenonPeerID").convertPeerIDForLogging(i),shared_call_id:f,web_device_id:g};i=Array.isArray(b)?b:b!=null?[b]:[];var j=babelHelpers["extends"]({rtc_end_call_survey_issue:(g=(f=e)==null?void 0:f.toLocaleLowerCase())!=null?g:"",rtc_end_call_survey_selected_options:i},h,a==null?{}:{rtc_end_call_survey_freeform:a});c("LsRtcEndCallSurveyFalcoEvent").log(function(){return j})};e.save=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.storeStarRatings(c,b,this)};e["delete"]=function(a){var b=this.getCallInfo(),c=b.peerID;b=b.signalingID;a.removeLocalStorageObjects([{peerID:c,signalingID:b}])};e.toJsonString=function(){var a={callInfo:this.getCallInfo()};return JSON.stringify(a)};b.fromJsonString=function(a){var c;try{c=JSON.parse(a)}catch(a){return null}a=c.callInfo;a.deviceID;a=babelHelpers.objectWithoutPropertiesLoose(a,["deviceID"]);return new b(a)};return b}(c("ZenonCallInfoManager"));g["default"]=a}),98);
__d("ZenonLSStarRatingsStore",["ZenonGenericLocalStorageStore","ZenonLSStarRatingsManager"],(function(a,b,c,d,e,f,g){"use strict";var h="localstorage",i="RTC_LS_STAR_RATINGS_",j="ls_star_ratings",k=3;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.call(this,j,h,i)||this}var d=b.prototype;d.retrieveStarRatings=function(a,b){var d=this.getLocalStorageObjects();d=d[a]?d[a][b]:null;if(d)return c("ZenonLSStarRatingsManager").fromJsonString(d.__d);else return null};d.storeStarRatings=function(a,b,c){this.mutateLocalStorageObjects(function(d){d[a]||(d[a]={});d[a][b]={__d:c.toJsonString(),__t:Date.now(),__z:!0};return d},k,!1,{peerID:a,signalingID:b})};return b}(c("ZenonGenericLocalStorageStore"));b=new a();g.ZenonLSStarRatingsStoreInstance=b}),98);
__d("RtcDoorCallingTags",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({OPEN:0,VANISHING:1,SECRET:2,THREADS_APP_HANGOUTS:4,REELS_TOGETHER:8,WALKIE_TALKIE:16,CANVAS:32,WORKROOMS:64,LEAD_GEN:128});c=a;f["default"]=c}),66);
__d("ZenonCollisionContext",["RtcDoorCallingTags"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=null;a.groupThreadID!=null?c={e2eeThreadID:a.groupThreadID,id:a.groupThreadID,type:b?16:2}:a.peerID!=null&&(c={id:a.peerID,secureOneToOneThreadPeerId:b?a.peerID:void 0,type:b?15:1});return c}function b(a){var b=a.call_trigger,d=a.callable_post_id,e=a.calling_tags,f=a.conference_name,g=a.group_thread_id,h=a.ig_thread_id,i=a.immersive_mode_door_id,j=a.link_url,k=a.live_broadcast_id,l=a.meeting_id,m=a.peer_id,n=a.rtc_door_id;a=a.server_info_data;return{callablePostID:d,callingTags:c("RtcDoorCallingTags").cast(e),callTrigger:b,conferenceName:f,groupThreadID:g,igThreadID:h,immersiveModeDoorID:i,linkUrl:j,liveBroadcastID:k,meetingID:l,peerID:m,rtcDoorID:n,serverInfoData:a}}function d(a){a===void 0&&(a={});return!Object.values(a).some(function(a){return a!=null})}g.getThreadIDAndTypeFromCollisionContext=a;g.fromRTCJoiningContext=b;g.isCollisionContextEmpty=d}),98);
__d("ZenonMWMessageLogger",["ZenonLoggingEventTypes","ZenonMWMessageTypes"],(function(a,b,c,d,e,f,g){"use strict";var h=new Set(),i=new Set();function a(a,b){a=a.jsonPayload;var c=a.body;a=a.header;if(h.has(a.transactionId))return;switch(a.type){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:c.joinRequest&&j(c.joinRequest,b);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:c.iceCandidateRequest&&l(c.iceCandidateRequest,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:c.clientMediaUpdateRequest&&m(c.clientMediaUpdateRequest,b);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:c.serverMediaUpdateResponse&&p(c.serverMediaUpdateResponse,b);break}h.add(a.transactionId)}function b(a,b){a=a.jsonPayload;var c=a.body;a=a.header;if(i.has(a.transactionId))return;switch(a.type){case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN:c.joinResponse&&k(c.joinResponse,b);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.ICE_CANDIDATE:c.iceCandidateRequest&&l(c.iceCandidateRequest,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.CLIENT_MEDIA_UPDATE:c.clientMediaUpdateResponse&&n(c.clientMediaUpdateResponse,b);break;case d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.SERVER_MEDIA_UPDATE:c.serverMediaUpdateRequest&&o(c.serverMediaUpdateRequest,b);break}i.add(a.transactionId)}function j(a,b){var c=a.answer;a=a.offer;b({name:"inviteSent"});q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send);c&&q(c,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send)}function k(a,b){a=a.answer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive)}function l(a,b,c){a=a.iceCandidateSdps;a.forEach(function(a){a.candidateSdpString!=null&&b({direction:c,name:"updateIceInfo",sdpString:a.candidateSdpString})})}function m(a,b){a=a.offer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send)}function n(a,b){a=a.answer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive)}function o(a,b){var c=a.answer;a=a.offer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive);c&&q(c,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Receive)}function p(a,b){a=a.answer;a&&q(a,b,d("ZenonLoggingEventTypes").ZenonUpdateIceInfoDirection.Send)}function q(a,b,c){a.sdpString!=null&&b({direction:c,name:"updateIceInfo",sdpString:a.sdpString})}g.logSentMessage=a;g.logReceivedMessage=b}),98);
__d("TokenBucketRateLimit",["DateConsts"],(function(a,b,c,d,e,f,g){"use strict";var h=1e3;a=function(){function a(a,b){this.$1=a*h,this.$2=a*h,this.$3=Date.now(),this.$4=b*h}var b=a.prototype;b.take=function(a){a===void 0&&(a=1);a=a*h;this.$5();if(this.$2<a)return!1;this.$2-=a;return!0};b.$5=function(){if(this.$2>=this.$1)return;var a=Date.now(),b=(a-this.$3)/d("DateConsts").MS_PER_SEC;b=Math.round(b*this.$4);if(b===0)return;this.$2=Math.min(this.$1,this.$2+b);this.$3=a};return a}();g["default"]=a}),98);
__d("ZenonSDKRateLimiter",["TokenBucketRateLimit","ZenonPlatformRateLimitSitevarConfig"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=new Map()}var b=a.prototype;b.take=function(a,b){b===void 0&&(b=1);a=this.$2(a);return a.take(b)};b.$2=function(a){var b,d=this.$1.get(a);if(d)return d;b=(b=c("ZenonPlatformRateLimitSitevarConfig").buckets.get(a))!=null?b:c("ZenonPlatformRateLimitSitevarConfig")["default"];d=new(c("TokenBucketRateLimit"))(b.bucket_size,b.refill_rate);this.$1.set(a,d);return d};return a}();g["default"]=a}),98);
__d("OverlayConfigDefaults",[],(function(a,b,c,d,e,f){"use strict";a=Object.freeze([1,0,0,20,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,0,0,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,0,1,-1,-1,-1,-1,-1,-1,1,1,0,2e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,1,16e3,2e4,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6e4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2e3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]);e.exports=a}),null);
__d("OverlayConfigDefaultsLayer",["OverlayConfigDefaults","OverlayConfigLayerSource"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){}var b=a.prototype;b.getLayerSource=function(){return c("OverlayConfigLayerSource").DEFAULT};b.getValue=function(a){return c("OverlayConfigDefaults")[a]};b.logExposure=function(a){};return a}();g["default"]=a}),98);
__d("OverlayConfigLayerManager",["OverlayConfigConstants","OverlayConfigDefaultsLayer","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=[new(c("OverlayConfigDefaultsLayer"))()]}var b=a.prototype;b.getValue=function(a){for(var b=this.$1.length-1;b>=0;b--){var e=this.$1[b].getValue(a);if(e>d("OverlayConfigConstants").OverlayConfigNotPresentFlagValue)return e}throw c("unrecoverableViolation")("OverlayConfigLayerManager: No value found for id "+String(a),"rtc_www")};b.addLayer=function(a){this.$1.push(a);return this.$1.length-1};b.replaceLayer=function(a,b){if(a===0)throw c("unrecoverableViolation")("OverlayConfigLayerManager: Tried to replace default layer!","rtc_www");else if(this.$1[a]==null)throw c("unrecoverableViolation")("OverlayConfigLayerManager: Layer does not exist at index "+String(a),"rtc_www");this.$1[a]=b};b.clone=function(){var b=new a();b.$1=this.$1.slice();return b};return a}();g["default"]=a}),98);
__d("StructuredConfigBase",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.getBool=function(a){return this.$1.getValue(a)>0};b.getInt=function(a){return this.$1.getValue(a)};return a}();f["default"]=a}),66);
__d("Configs",["StructuredConfigBase"],(function(a,b,c,d,e,f){"use strict";c=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ExampleConfig1=c.getBool(0),c.$ExampleConfig2=c.getBool(2),c.$ExampleConfig3=c.getBool(1724),c.$ExampleConfig4=c.getBool(2044),c.$ExampleConfig5=c.getInt(1),c.$ExampleConfig6=c.getInt(3),c.$ExampleConfig7=c.getInt(2011),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateParams=function(){this.$ExampleConfig1=this.getBool(0),this.$ExampleConfig2=this.getBool(2),this.$ExampleConfig3=this.getBool(1724),this.$ExampleConfig4=this.getBool(2044),this.$ExampleConfig5=this.getInt(1),this.$ExampleConfig6=this.getInt(3),this.$ExampleConfig7=this.getInt(2011)};c.isEnabled=function(){return this.$ExampleConfig1};c.isSomeBoolean=function(){return this.$ExampleConfig2};c.isSomeOtherIntegerHasValue=function(){return this.$ExampleConfig3};c.isSomeOtherBoolean=function(){return this.$ExampleConfig4};c.getSomeInteger=function(){return this.$ExampleConfig5};c.getSomeOtherInteger=function(){return this.$ExampleConfig6};c.getSomeDouble=function(){return this.$ExampleConfig7};return b}(a=b("StructuredConfigBase"));d=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$SimulcastOverSignalingConfig1=c.getBool(651),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateParams=function(){this.$SimulcastOverSignalingConfig1=this.getBool(651)};c.isSimulcastOverSignalingEnabled=function(){return this.$SimulcastOverSignalingConfig1};return b}(a);f=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ZenonSdpTransformConfig1=c.getBool(244),c.$ZenonSdpTransformConfig2=c.getBool(420),c.$ZenonSdpTransformConfig3=c.getBool(421),c.$ZenonSdpTransformConfig4=c.getBool(245),c.$ZenonSdpTransformConfig5=c.getBool(246),c.$ZenonSdpTransformConfig6=c.getBool(248),c.$ZenonSdpTransformConfig7=c.getBool(1448),c.$ZenonSdpTransformConfig8=c.getBool(1444),c.$ZenonSdpTransformConfig9=c.getBool(1445),c.$ZenonSdpTransformConfig10=c.getInt(1446),c.$ZenonSdpTransformConfig11=c.getInt(1447),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateParams=function(){this.$ZenonSdpTransformConfig1=this.getBool(244),this.$ZenonSdpTransformConfig2=this.getBool(420),this.$ZenonSdpTransformConfig3=this.getBool(421),this.$ZenonSdpTransformConfig4=this.getBool(245),this.$ZenonSdpTransformConfig5=this.getBool(246),this.$ZenonSdpTransformConfig6=this.getBool(248),this.$ZenonSdpTransformConfig7=this.getBool(1448),this.$ZenonSdpTransformConfig8=this.getBool(1444),this.$ZenonSdpTransformConfig9=this.getBool(1445),this.$ZenonSdpTransformConfig10=this.getInt(1446),this.$ZenonSdpTransformConfig11=this.getInt(1447)};c.isPreserveH264=function(){return this.$ZenonSdpTransformConfig1};c.isPreferH264ForMwCall=function(){return this.$ZenonSdpTransformConfig2};c.isPreferSwH264=function(){return this.$ZenonSdpTransformConfig3};c.isAddAudioNack=function(){return this.$ZenonSdpTransformConfig4};c.isDisableOpusStereo=function(){return this.$ZenonSdpTransformConfig5};c.isPreferIsacForGroupAudio=function(){return this.$ZenonSdpTransformConfig6};c.isEnableOpusFmtpMunging=function(){return this.$ZenonSdpTransformConfig7};c.isSetOpusUsedtx=function(){return this.$ZenonSdpTransformConfig8};c.isSetOpusUseinbandfec=function(){return this.$ZenonSdpTransformConfig9};c.getSetOpusMaxplaybackrate=function(){return this.$ZenonSdpTransformConfig10};c.getSetOpusMaxaveragebitrate=function(){return this.$ZenonSdpTransformConfig11};return b}(a);b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$ZenonPeerConnectionConfig1=c.getBool(302),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateParams=function(){this.$ZenonPeerConnectionConfig1=this.getBool(302)};c.isRtpDataChannels=function(){return this.$ZenonPeerConnectionConfig1};return b}(a);var g=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$ZenonStartCallImmediatelyConfig1=c.getBool(308),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$ZenonStartCallImmediatelyConfig1=this.getBool(308)};c.isEnabled=function(){return this.$ZenonStartCallImmediatelyConfig1};return a}(a),h=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$ZenonGeneralizedIdentityConfig1=c.getInt(1891),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$ZenonGeneralizedIdentityConfig1=this.getInt(1891)};c.getDuplicatedParticipantsProcessingMode=function(){return this.$ZenonGeneralizedIdentityConfig1};return a}(a),i=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$ZenonMultiCallSupportConfig1=c.getInt(309),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$ZenonMultiCallSupportConfig1=this.getInt(309)};c.getMaxConnectedCalls=function(){return this.$ZenonMultiCallSupportConfig1};return a}(a),j=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$ZenonPlatformSupportConfig1=c.getBool(316),c.$ZenonPlatformSupportConfig2=c.getBool(318),c.$ZenonPlatformSupportConfig3=c.getBool(2251),c.$ZenonPlatformSupportConfig4=c.getBool(1900),c.$ZenonPlatformSupportConfig5=c.getInt(317),c.$ZenonPlatformSupportConfig6=c.getInt(319),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$ZenonPlatformSupportConfig1=this.getBool(316),this.$ZenonPlatformSupportConfig2=this.getBool(318),this.$ZenonPlatformSupportConfig3=this.getBool(2251),this.$ZenonPlatformSupportConfig4=this.getBool(1900),this.$ZenonPlatformSupportConfig5=this.getInt(317),this.$ZenonPlatformSupportConfig6=this.getInt(319)};c.isSupportsZenonPlatform=function(){return this.$ZenonPlatformSupportConfig1};c.isStartImmediatelyEnabled=function(){return this.$ZenonPlatformSupportConfig2};c.isUploadSummaryOnCallEnded=function(){return this.$ZenonPlatformSupportConfig3};c.isMultiwayAvEscalationEnabled=function(){return this.$ZenonPlatformSupportConfig4};c.getMaxConnectedCalls=function(){return this.$ZenonPlatformSupportConfig5};c.getParentWindowConnectionTimeoutMs=function(){return this.$ZenonPlatformSupportConfig6};return a}(a),k=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$ZenonSimulcastConfig1=c.getBool(453),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$ZenonSimulcastConfig1=this.getBool(453)};c.isSimulcastEnabled=function(){return this.$ZenonSimulcastConfig1};return a}(a),l=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.$DynamicRuleConfig1=c.getBool(1342),c.$DynamicRuleConfig2=c.getBool(1597),c.$DynamicRuleConfig3=c.getBool(1821),c.$DynamicRuleConfig4=c.getBool(1820),c.$DynamicRuleConfig5=c.getInt(1359),c.$DynamicRuleConfig6=c.getInt(1510),c.$DynamicRuleConfig7=c.getInt(1612),a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.updateParams=function(){this.$DynamicRuleConfig1=this.getBool(1342),this.$DynamicRuleConfig2=this.getBool(1597),this.$DynamicRuleConfig3=this.getBool(1821),this.$DynamicRuleConfig4=this.getBool(1820),this.$DynamicRuleConfig5=this.getInt(1359),this.$DynamicRuleConfig6=this.getInt(1510),this.$DynamicRuleConfig7=this.getInt(1612)};c.isEnabled=function(){return this.$DynamicRuleConfig1};c.isDebugLoggingEnabled=function(){return this.$DynamicRuleConfig2};c.isDisableCallTypeConditional=function(){return this.$DynamicRuleConfig3};c.isDisableAbweSubscriber=function(){return this.$DynamicRuleConfig4};c.getProcessIntervalMs=function(){return this.$DynamicRuleConfig5};c.getNetworkProcessIntervalMs=function(){return this.$DynamicRuleConfig6};c.getDebugLoggingIntervalMs=function(){return this.$DynamicRuleConfig7};return a}(a);a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.$SignalingPingConfig1=c.getInt(1470),b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.updateParams=function(){this.$SignalingPingConfig1=this.getInt(1470)};c.getPingIntervalMs=function(){return this.$SignalingPingConfig1};return b}(a);e.exports={ExampleConfig:c,SimulcastOverSignalingConfig:d,ZenonSdpTransformConfig:f,ZenonPeerConnectionConfig:b,ZenonStartCallImmediatelyConfig:g,ZenonGeneralizedIdentityConfig:h,ZenonMultiCallSupportConfig:i,ZenonPlatformSupportConfig:j,ZenonSimulcastConfig:k,DynamicRuleConfig:l,SignalingPingConfig:a}}),null);
__d("OverlayConfigManager",["Configs","OverlayConfigLayerManager"],(function(a,b,c,d,e,f){"use strict";var g=(a=b("Configs")).ExampleConfig,h=a.SimulcastOverSignalingConfig,i=a.ZenonSdpTransformConfig,j=a.ZenonPeerConnectionConfig,k=a.ZenonStartCallImmediatelyConfig,l=a.ZenonGeneralizedIdentityConfig,m=a.ZenonMultiCallSupportConfig,n=a.ZenonPlatformSupportConfig,o=a.ZenonSimulcastConfig,p=a.DynamicRuleConfig,q=a.SignalingPingConfig;c=function(){function a(){this.layerManager=new(b("OverlayConfigLayerManager"))()}var c=a.prototype;c.getExampleConfig=function(){return new g(this.layerManager)};c.getSimulcastOverSignalingConfig=function(){return new h(this.layerManager)};c.getZenonSdpTransformConfig=function(){return new i(this.layerManager)};c.getZenonPeerConnectionConfig=function(){return new j(this.layerManager)};c.getZenonStartCallImmediatelyConfig=function(){return new k(this.layerManager)};c.getZenonGeneralizedIdentityConfig=function(){return new l(this.layerManager)};c.getZenonMultiCallSupportConfig=function(){return new m(this.layerManager)};c.getZenonPlatformSupportConfig=function(){return new n(this.layerManager)};c.getZenonSimulcastConfig=function(){return new o(this.layerManager)};c.getDynamicRuleConfig=function(){return new p(this.layerManager)};c.getSignalingPingConfig=function(){return new q(this.layerManager)};return a}();e.exports=c}),null);
__d("OverlayConfigManagerWithServerLayer",["OverlayConfigManager"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var c;c=a.call(this)||this;c.$OverlayConfigManagerWithServerLayer1=-1;b!=null&&(c.layerManager=b.layerManager.clone());return c}var c=b.prototype;c.setServerLayer=function(a){if(this.$OverlayConfigManagerWithServerLayer1>-1){this.layerManager.replaceLayer(this.$OverlayConfigManagerWithServerLayer1,a);return}this.$OverlayConfigManagerWithServerLayer1=this.layerManager.addLayer(a)};return b}(c("OverlayConfigManager"));g["default"]=a}),98);
__d("ZenonSignalingConstants",[],(function(a,b,c,d,e,f){"use strict";a="/rtc_multi";b="/t_rtc_multi";c="signaling_channel";d="media_server_failover";e="media_subscriptions";var g="config_engine",h="sctp_negotiation",i="simulcast",j="D3F4U1T_F8_TR4CK",k="sctp_emoji_reaction",l="sctp_raise_hand",m="sctp_polls",n="E2eeKeyMediaChannel";f.RTC_MULTI_MQTT_TOPIC=a;f.T_RTC_MULTI_MQTT_TOPIC=b;f.SCTP_SIGNALING_TOPIC=c;f.SCTP_FAILOVER_TOPIC=d;f.SCTP_MEDIA_SUBSCRIPTIONS=e;f.CONFIG_ENGINE_STATE_SYNC_TOPIC=g;f.SCTP_NEGOTIATION_STATE_SYNC_TOPIC=h;f.SIMULCAST_TOPIC=i;f.DEFAULT_TRACK=j;f.SCTP_EMOJI_REACTIONS=k;f.SCTP_RAISE_HAND=l;f.SCTP_ROOMS_POLLS=m;f.E2EE_DATA_MESSAGE_MEDIA_CHANNEL_TOPIC=n}),66);
__d("AggregateError",[],(function(a,b,c,d,e,f){"use strict";a=function(a){babelHelpers.inheritsLoose(b,a);function b(c,d){var e;d=(d=d)!=null?d:g(c);e=a.call(this,d)||this;e.name="AggregateError";e.errors=c;e.message=d;Error.captureStackTrace&&Error.captureStackTrace(babelHelpers.assertThisInitialized(e),b);return e}return b}(babelHelpers.wrapNativeSuper(Error));function g(a){if(a.length===0)return"No errors";return a.length===1?a[0].message:a.map(function(a){return"- "+a.message}).join("\n")}f["default"]=a}),66);
__d("promiseAny",["invariant","AggregateError","Promise"],(function(a,b,c,d,e,f,g,h){function i(a){return new(b("Promise"))(function(c,d){return b("Promise").resolve(a).then(d,c)})}function a(a){a.length!==0||h(0,14837);return b("Promise").all(a.map(i)).then(function(a){throw new(c("AggregateError"))(a)},function(a){return a})}g["default"]=a}),98);
__d("ZenonMessageSenderChain",["promiseAny"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a}var b=a.prototype;b.addMessageSender=function(a){this.$1.push(a)};b.sendMessage=function(a){var b=this.$1.map(function(b){return b.sendMessage(a)});return c("promiseAny")(b)};b.setMessageReceiver=function(a){this.$1.forEach(function(b){return b.setMessageReceiver(a)})};b.setLoggingEventHandler=function(a){this.$1.forEach(function(b){return b.setLoggingEventHandler(a)})};return a}();g["default"]=a}),98);
__d("ZenonValidateMWMessage",["FBLogger","ZenonInfraActionsLogger","ZenonMWMessageTypes"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.jsonPayload.header.type;if(a.jsonPayload.header.serverInfoData==null&&b!=null&&b!==d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.JOIN){c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"[ZP][DROP] No remoteSignalingID in message: "+b});c("FBLogger")("rtc_www").warn("[ZP][DROP] No remoteSignalingID in message: "+b);return!1}return!0}g["default"]=a}),98);
__d("ZenonMWSendMessageMutation",["CometRelayErrorHandling","Promise","ZenonMWSendMessageMutation.graphql","asyncToGeneratorRuntime","cr:1012418","gkx"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a,e){return new(b("Promise"))(function(f,g){b("cr:1012418").commitMutation(e,{mutation:h!==void 0?h:h=b("ZenonMWSendMessageMutation.graphql"),onCompleted:function(a){return f(a)},onError:function(a){c("gkx")("708253")&&d("CometRelayErrorHandling").markErrorAsHandled(a);return g(a)},variables:{input:{message:a}}})})}function j(a){a=a.rtc_web_send_multiway_signaling_message;var b=null,c=null;a!=null&&(a.header!=null&&(b=JSON.parse(a.header)),a.body!=null&&(c=JSON.parse(a.body)));return{body:c,header:b}}function a(a,b){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a=(yield i(a,b));return j(a)});return k.apply(this,arguments)}g.sendMessage=a}),98);
__d("ZenonGraphQLMWMessageSender",["ChannelClientID","Promise","ZenonActorHooks","ZenonDebugLogger","ZenonInfraActionsLogger","ZenonMWMessageLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","ZenonMWMessageTypes","ZenonMWSendMessageMutation","ZenonMWTranslatorUtils","ZenonValidateMWMessage","asyncToGeneratorRuntime","err","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$3=a}var e=a.prototype;e.handleResponse=function(a){var b=a.header||null;a=a.body||null;var e=c("ZenonDebugLogger").getInstance();if(b!=null&&a!=null){var f;f={endpoint:{appId:d("ZenonMWTranslatorUtils").getMWAppID(),deviceId:c("ChannelClientID").getID(),userId:(f=b.receiverUserId)!=null?f:d("ZenonActorHooks").ZenonActor.getID()},jsonPayload:{body:a,header:b}};e.logMWMessage("RECEIVED","GraphQL",f);d("ZenonMWMessageReliabilityLogger").logReceivedMessage(f);a=d("ZenonMWMessageTranslator").toSignalingMessage(f);if(this.$1!=null)this.$1(a),d("ZenonMWMessageReliabilityLogger").logProcessingMessage(f);else throw c("unrecoverableViolation")("Should never have null message receiver","rtc_www")}};e.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=c("ZenonDebugLogger").getInstance();d("ZenonMWMessageReliabilityLogger").logSendingMessage(a);b.logMWMessage("SENDING","GraphQL",a);this.$2&&d("ZenonMWMessageLogger").logSentMessage(a,this.$2);try{var e=(yield d("ZenonMWSendMessageMutation").sendMessage(JSON.stringify(a),this.$3));d("ZenonMWMessageReliabilityLogger").logSentMessage(a);this.handleResponse(e)}catch(f){e=f!=null?f.toString():"Message Send Error";d("ZenonMWMessageReliabilityLogger").logSendMessageFailed(a,"[GraphQL] "+e);b.logSendMultiwayMessageFailure(e,a.jsonPayload.header.type);f!=null&&c("ZenonInfraActionsLogger").logCheckpoint({checkpoint:"Failed to send MW message of type "+a.jsonPayload.header.type+". Stack Trace: "+f.stack+"."})}});function e(b){return a.apply(this,arguments)}return e}();e.sendMessage=function(a){a=d("ZenonMWMessageTranslator").toMWMessage(a);if(!a||!c("ZenonValidateMWMessage")(a))return b("Promise").reject(c("err")("Invalid MW message"));var e=a.jsonPayload.header.type;return a.endpoint.userId!==d("ZenonActorHooks").ZenonActor.getAccountID()||e!==d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType.DATA_MESSAGE?this.$4(a):b("Promise").reject(c("err")("GraphQL only sends DATA_MESSAGE for Page users"))};e.setMessageReceiver=function(a){this.$1=a};e.setLoggingEventHandler=function(a){this.$2=a};return a}();g["default"]=a}),98);
__d("ZenonMqttMWMessageSender",["Promise","RpZenonBinaryThriftSignalingSitevarConfig","ZenonActorHooks","ZenonDebugLogger","ZenonMWMessageLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","ZenonMWMessageTypes","ZenonMqttUtil","ZenonSignalingConstants","ZenonUserActionLogger","ZenonValidateMWMessage","asyncToGeneratorRuntime","err","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){var a=c("RpZenonBinaryThriftSignalingSitevarConfig").supported_message_types_mqtt.map(function(a){return d("ZenonMWMessageTypes").ZenonMWSignalingPayloadType[a]});this.$3=new Set(a)}var e=a.prototype;e.$4=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var b=this,e=!0;yield d("ZenonMqttUtil").waitForMqttConnected()["catch"](function(a){c("ZenonUserActionLogger").logCheckpoint({checkpoint:"Not sending MWS message through MQTT because MQTT could not connect. Error: "+a}),e=!1});if(!e)return;var f=c("ZenonDebugLogger").getInstance();d("ZenonMWMessageReliabilityLogger").logSendingMessage(a);f.logMWMessage("SENDING","MQTT",a);this.$2&&d("ZenonMWMessageLogger").logSentMessage(a,this.$2);f=d("ZenonMqttUtil").getMqttChannel();try{yield f.publish(d("ZenonSignalingConstants").RTC_MULTI_MQTT_TOPIC,JSON.stringify(a)).then(function(b){d("ZenonMWMessageReliabilityLogger").logSentMessage(a)},function(c){b.$5(a,c.toString())})}catch(b){this.$5(a,b.toString())}});function e(b){return a.apply(this,arguments)}return e}();e.$5=function(a,b){var e=c("ZenonDebugLogger").getInstance();b=b!=null?b:"MQTT Message Send Error";d("ZenonMWMessageReliabilityLogger").logSendMessageFailed(a,"[MQTT] "+b);e.logSendMultiwayMessageFailure(b,a.jsonPayload.header.type)};e.sendMessage=function(a){a=d("ZenonMWMessageTranslator").toMWMessage(a);if(!a||!c("ZenonValidateMWMessage")(a))return b("Promise").reject(c("err")("Invalid MW message"));if(c("gkx")("9068")&&this.$3.has(a.jsonPayload.header.type))return b("Promise").resolve();return a.endpoint.userId!==d("ZenonActorHooks").ZenonActor.getAccountID()&&!d("ZenonActorHooks").ZenonActor.isInstagramUser()&&!d("ZenonActorHooks").ZenonActor.isOculusUser()?b("Promise").reject(c("err")("MQTT doesn't work with Page users yet")):this.$4(a)};e.setMessageReceiver=function(a){this.$1=a};e.setLoggingEventHandler=function(a){this.$2=a};return a}();g["default"]=a}),98);
__d("RTWebSignalingListener",["FBLogger","ZenonDebugLogger","ZenonMWMessageReliabilityLogger","ZenonMWMessageTranslator","ZenonMqttUtil","cr:6135","cr:6136","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(){this.$1=d("ZenonMqttUtil").getMqttChannel()}var e=a.prototype;e.subscribe=function(a,e){var f=this;this.$1.subscribe("/rtc_multi",function(b){try{var g=JSON.parse(b),h=c("ZenonDebugLogger").getInstance();d("ZenonMWMessageReliabilityLogger").logReceivedMessage(g);h.logMWMessage("RECEIVED","MQTT",g);h=d("ZenonMWMessageTranslator").toSignalingMessage(g);a(h);e&&f.$2(b,e);d("ZenonMWMessageReliabilityLogger").logProcessingMessage(g)}catch(a){c("FBLogger")("rpweb").catching(a).warn("Error receiving MQTT message from /rtc_multi topic")}});b("cr:6136")&&b("cr:6135")&&this.$1.subscribeBinary("/t_rtc_multi",function(d){try{d=b("cr:6135").deserializeMWThriftMessage(d);var e=c("ZenonDebugLogger").getInstance();e.logMWThriftMessage("RECEIVED","MQTT Thrift",d);e=b("cr:6136").toSignalingMessage(d);a(e)}catch(a){c("FBLogger")("rpweb").catching(a).warn("Error receiving binary MQTT message from /t_rtc_multi topic")}})};e.unsubscribe=function(){this.$1.unsubscribeAll("/rtc_multi"),b("cr:6136")&&this.$1.unsubscribeAll("/t_rtc_multi")};e.$2=function(a,b){try{a=JSON.parse(a);b(a)}catch(a){c("recoverableViolation")("Signaling messages should be json parsable. error:"+a,"rtweb")}};return a}();g["default"]=a}),98);
__d("LsRtcCallSummaryFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743880");b=d("FalcoLoggerInternal").create("ls_rtc_call_summary",a);e=b;g["default"]=e}),98);
__d("LsRtcConnectionStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743881");b=d("FalcoLoggerInternal").create("ls_rtc_connection_start",a);e=b;g["default"]=e}),98);
__d("LsRtcGroupE2eeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1066");b=d("FalcoLoggerInternal").create("ls_rtc_group_e2ee",a);e=b;g["default"]=e}),98);
__d("LsRtcPeerConnectionSummaryFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743883");b=d("FalcoLoggerInternal").create("ls_rtc_peer_connection_summary",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("d3-selection",["d3-selection-1.3.0"],(function(a,b,c,d,e,f){e.exports=b("d3-selection-1.3.0")()}),null);
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("immutable-3.7.3",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():b.Immutable=c()})(this,function(){var a=Array.prototype.slice;function b(a,b){b&&(a.prototype=Object.create(b.prototype)),a.prototype.constructor=a}var c="delete",d=5,e=1<<d,f=e-1,g={},h={value:!1},i={value:!1};function j(a){a.value=!1;return a}function k(a){a&&(a.value=!0)}function l(){}function m(a,b){b=b||0;var c=Math.max(0,a.length-b),d=new Array(c);for(var e=0;e<c;e++)d[e]=a[e+b];return d}function n(a){a.size===void 0&&(a.size=a.__iterate(p));return a.size}function o(a,b){return b>=0?+b:n(a)+ +b}function p(){return!0}function q(a,b,c){return(a===0||c!==void 0&&a<=-c)&&(b===void 0||c!==void 0&&b>=c)}function r(a,b){return aa(a,b,0)}function s(a,b){return aa(a,b,b)}function aa(a,b,c){return a===void 0?c:a<0?Math.max(0,b+a):b===void 0?a:Math.min(b,a)}function t(a){return x(a)?a:F(a)}b(u,t);function u(a){return y(a)?a:G(a)}b(v,t);function v(a){return z(a)?a:H(a)}b(w,t);function w(a){return x(a)&&!ba(a)?a:I(a)}function x(a){return!!(a&&a[da])}function y(a){return!!(a&&a[ea])}function z(a){return!!(a&&a[fa])}function ba(a){return y(a)||z(a)}function ca(a){return!!(a&&a[ga])}t.isIterable=x;t.isKeyed=y;t.isIndexed=z;t.isAssociative=ba;t.isOrdered=ca;t.Keyed=u;t.Indexed=v;t.Set=w;var da="@@__IMMUTABLE_ITERABLE__@@",ea="@@__IMMUTABLE_KEYED__@@",fa="@@__IMMUTABLE_INDEXED__@@",ga="@@__IMMUTABLE_ORDERED__@@",ha=0,A=1,B=2,ia=typeof Symbol==="function"&&Symbol.iterator,ja="@@iterator",ka=ia||ja;function C(a){this.next=a}C.prototype.toString=function(){return"[Iterator]"};C.KEYS=ha;C.VALUES=A;C.ENTRIES=B;C.prototype.inspect=C.prototype.toSource=function(){return this.toString()};C.prototype[ka]=function(){return this};function D(a,b,c,d){a=a===0?b:a===1?c:[b,c];d?d.value=a:d={value:a,done:!1};return d}function E(){return{value:void 0,done:!0}}function la(a){return!!oa(a)}function ma(a){return a&&typeof a.next==="function"}function na(a){var b=oa(a);return b&&b.call(a)}function oa(a){a=a&&(ia&&a[ia]||a[ja]);if(typeof a==="function")return a}function pa(a){return a&&typeof a.length==="number"}b(F,t);function F(a){return a===null||a===void 0?xa():x(a)?a.toSeq():Aa(a)}F.of=function(){return F(arguments)};F.prototype.toSeq=function(){return this};F.prototype.toString=function(){return this.__toString("Seq {","}")};F.prototype.cacheResult=function(){!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length);return this};F.prototype.__iterate=function(a,b){return Ca(this,a,b,!0)};F.prototype.__iterator=function(a,b){return Da(this,a,b,!0)};b(G,F);function G(a){return a===null||a===void 0?xa().toKeyedSeq():x(a)?y(a)?a.toSeq():a.fromEntrySeq():ya(a)}G.prototype.toKeyedSeq=function(){return this};b(H,F);function H(a){return a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a.toIndexedSeq():za(a)}H.of=function(){return H(arguments)};H.prototype.toIndexedSeq=function(){return this};H.prototype.toString=function(){return this.__toString("Seq [","]")};H.prototype.__iterate=function(a,b){return Ca(this,a,b,!1)};H.prototype.__iterator=function(a,b){return Da(this,a,b,!1)};b(I,F);function I(a){return(a===null||a===void 0?xa():x(a)?y(a)?a.entrySeq():a:za(a)).toSetSeq()}I.of=function(){return I(arguments)};I.prototype.toSetSeq=function(){return this};F.isSeq=va;F.Keyed=G;F.Set=I;F.Indexed=H;var qa="@@__IMMUTABLE_SEQ__@@";F.prototype[qa]=!0;b(ra,H);function ra(a){this._array=a,this.size=a.length}ra.prototype.get=function(a,b){return this.has(a)?this._array[o(this,a)]:b};ra.prototype.__iterate=function(a,b){var c=this._array,d=c.length-1;for(var e=0;e<=d;e++)if(a(c[b?d-e:e],e,this)===!1)return e+1;return e};ra.prototype.__iterator=function(a,b){var c=this._array,d=c.length-1,e=0;return new C(function(){return e>d?E():D(a,e,c[b?d-e++:e++])})};b(sa,G);function sa(a){var b=Object.keys(a);this._object=a;this._keys=b;this.size=b.length}sa.prototype.get=function(a,b){return b!==void 0&&!this.has(a)?b:this._object[a]};sa.prototype.has=function(a){return this._object.hasOwnProperty(a)};sa.prototype.__iterate=function(a,b){var c=this._object,d=this._keys,e=d.length-1;for(var f=0;f<=e;f++){var g=d[b?e-f:f];if(a(c[g],g,this)===!1)return f+1}return f};sa.prototype.__iterator=function(a,b){var c=this._object,d=this._keys,e=d.length-1,f=0;return new C(function(){var g=d[b?e-f:f];return f++>e?E():D(a,g,c[g])})};sa.prototype[ga]=!0;b(ta,H);function ta(a){this._iterable=a,this.size=a.length||a.size}ta.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterable;b=na(b);var c=0;if(ma(b)){var d;while(!(d=b.next()).done)if(a(d.value,c++,this)===!1)break}return c};ta.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);b=this._iterable;var c=na(b);if(!ma(c))return new C(E);var d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value)})};b(ua,H);function ua(a){this._iterator=a,this._iteratorCache=[]}ua.prototype.__iterateUncached=function(a,b){if(b)return this.cacheResult().__iterate(a,b);b=this._iterator;var c=this._iteratorCache,d=0;while(d<c.length)if(a(c[d],d++,this)===!1)return d;var e;while(!(e=b.next()).done){e=e.value;c[d]=e;if(a(e,d++,this)===!1)break}return d};ua.prototype.__iteratorUncached=function(a,b){if(b)return this.cacheResult().__iterator(a,b);var c=this._iterator,d=this._iteratorCache,e=0;return new C(function(){if(e>=d.length){var b=c.next();if(b.done)return b;d[e]=b.value}return D(a,e,d[e++])})};function va(a){return!!(a&&a[qa])}var wa;function xa(){return wa||(wa=new ra([]))}function ya(a){var b=Array.isArray(a)?new ra(a).fromEntrySeq():ma(a)?new ua(a).fromEntrySeq():la(a)?new ta(a).fromEntrySeq():typeof a==="object"?new sa(a):void 0;if(!b)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+a);return b}function za(a){var b=Ba(a);if(!b)throw new TypeError("Expected Array or iterable object of values: "+a);return b}function Aa(a){var b=Ba(a)||typeof a==="object"&&new sa(a);if(!b)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+a);return b}function Ba(a){return pa(a)?new ra(a):ma(a)?new ua(a):la(a)?new ta(a):void 0}function Ca(a,b,c,d){var e=a._cache;if(e){var f=e.length-1;for(var g=0;g<=f;g++){var h=e[c?f-g:g];if(b(h[1],d?h[0]:g,a)===!1)return g+1}return g}return a.__iterateUncached(b,c)}function Da(a,b,c,d){var e=a._cache;if(e){var f=e.length-1,g=0;return new C(function(){var a=e[c?f-g:g];return g++>f?E():D(b,d?a[0]:g-1,a[1])})}return a.__iteratorUncached(b,c)}b(Ea,t);function Ea(){throw TypeError("Abstract")}b(Fa,Ea);function Fa(){}b(Ga,Ea);function Ga(){}b(Ha,Ea);function Ha(){}Ea.Keyed=Fa;Ea.Indexed=Ga;Ea.Set=Ha;function J(a,b){if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1;if(typeof a.valueOf==="function"&&typeof b.valueOf==="function"){a=a.valueOf();b=b.valueOf();if(a===b||a!==a&&b!==b)return!0;if(!a||!b)return!1}return typeof a.equals==="function"&&typeof b.equals==="function"&&a.equals(b)?!0:!1}function Ia(a,b){return b?Ja(b,a,"",{"":a}):Ka(a)}function Ja(a,b,c,d){if(Array.isArray(b))return a.call(d,c,H(b).map(function(c,d){return Ja(a,c,d,b)}));return La(b)?a.call(d,c,G(b).map(function(c,d){return Ja(a,c,d,b)})):b}function Ka(a){if(Array.isArray(a))return H(a).map(Ka).toList();return La(a)?G(a).map(Ka).toMap():a}function La(a){return a&&(a.constructor===Object||a.constructor===void 0)}var Ma=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(a,b){a=a|0;b=b|0;var c=a&65535,d=b&65535;return c*d+((a>>>16)*d+c*(b>>>16)<<16>>>0)|0};function Na(a){return a>>>1&1073741824|a&3221225471}function K(a){if(a===!1||a===null||a===void 0)return 0;if(typeof a.valueOf==="function"){a=a.valueOf();if(a===!1||a===null||a===void 0)return 0}if(a===!0)return 1;var b=typeof a;if(b==="number"){var c=a|0;c!==a&&(c^=a*4294967295);while(a>4294967295)a/=4294967295,c^=a;return Na(c)}if(b==="string")return a.length>Ya?Oa(a):Pa(a);return typeof a.hashCode==="function"?a.hashCode():Qa(a)}function Oa(b){var a=ab[b];a===void 0&&(a=Pa(b),$a===Za&&($a=0,ab={}),$a++,ab[b]=a);return a}function Pa(b){var a=0;for(var c=0;c<b.length;c++)a=31*a+b.charCodeAt(c)|0;return Na(a)}function Qa(b){var a;if(Ua){a=Va.get(b);if(a!==void 0)return a}a=b[Xa];if(a!==void 0)return a;if(!Sa){a=b.propertyIsEnumerable&&b.propertyIsEnumerable[Xa];if(a!==void 0)return a;a=Ta(b);if(a!==void 0)return a}a=++Wa;Wa&1073741824&&(Wa=0);if(Ua)Va.set(b,a);else if(Ra!==void 0&&Ra(b)===!1)throw new Error("Non-extensible objects are not allowed as keys.");else if(Sa)Object.defineProperty(b,Xa,{enumerable:!1,configurable:!1,writable:!1,value:a});else if(b.propertyIsEnumerable!==void 0&&b.propertyIsEnumerable===b.constructor.prototype.propertyIsEnumerable)b.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},b.propertyIsEnumerable[Xa]=a;else if(b.nodeType!==void 0)b[Xa]=a;else throw new Error("Unable to set a non-enumerable property on object.");return a}var Ra=Object.isExtensible,Sa=function(){try{Object.defineProperty({},"@",{});return!0}catch(a){return!1}}();function Ta(a){if(a&&a.nodeType>0)switch(a.nodeType){case 1:return a.uniqueID;case 9:return a.documentElement&&a.documentElement.uniqueID}}var Ua=typeof WeakMap==="function",Va;Ua&&(Va=new WeakMap());var Wa=0,Xa="__immutablehash__";typeof Symbol==="function"&&(Xa=Symbol(Xa));var Ya=16,Za=255,$a=0,ab={};function bb(a,b){if(!a)throw new Error(b)}function L(a){bb(a!==Infinity,"Cannot perform this action with an infinite size.")}b(M,G);function M(a,b){this._iter=a,this._useKeys=b,this.size=a.size}M.prototype.get=function(a,b){return this._iter.get(a,b)};M.prototype.has=function(a){return this._iter.has(a)};M.prototype.valueSeq=function(){return this._iter.valueSeq()};M.prototype.reverse=function(){var a=this,b=hb(this,!0);this._useKeys||(b.valueSeq=function(){return a._iter.toSeq().reverse()});return b};M.prototype.map=function(a,b){var c=this,d=gb(this,a,b);this._useKeys||(d.valueSeq=function(){return c._iter.toSeq().map(a,b)});return d};M.prototype.__iterate=function(a,b){var c=this,d;return this._iter.__iterate(this._useKeys?function(b,d){return a(b,d,c)}:(d=b?xb(this):0,function(e){return a(e,b?--d:d++,c)}),b)};M.prototype.__iterator=function(a,b){if(this._useKeys)return this._iter.__iterator(a,b);var c=this._iter.__iterator(A,b),d=b?xb(this):0;return new C(function(){var e=c.next();return e.done?e:D(a,b?--d:d++,e.value,e)})};M.prototype[ga]=!0;b(cb,H);function cb(a){this._iter=a,this.size=a.size}cb.prototype.includes=function(a){return this._iter.includes(a)};cb.prototype.__iterate=function(a,b){var c=this,d=0;return this._iter.__iterate(function(b){return a(b,d++,c)},b)};cb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b),d=0;return new C(function(){var b=c.next();return b.done?b:D(a,d++,b.value,b)})};b(db,I);function db(a){this._iter=a,this.size=a.size}db.prototype.has=function(a){return this._iter.includes(a)};db.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){return a(b,b,c)},b)};db.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){var b=c.next();return b.done?b:D(a,b.value,b.value,b)})};b(eb,G);function eb(a){this._iter=a,this.size=a.size}eb.prototype.entrySeq=function(){return this._iter.toSeq()};eb.prototype.__iterate=function(a,b){var c=this;return this._iter.__iterate(function(b){if(b){wb(b);var d=x(b);return a(d?b.get(1):b[1],d?b.get(0):b[0],c)}},b)};eb.prototype.__iterator=function(a,b){var c=this._iter.__iterator(A,b);return new C(function(){while(!0){var b=c.next();if(b.done)return b;var d=b.value;if(d){wb(d);var e=x(d);return D(a,e?d.get(0):d[0],e?d.get(1):d[1],b)}}})};cb.prototype.cacheResult=M.prototype.cacheResult=db.prototype.cacheResult=eb.prototype.cacheResult=Ab;function fb(a){var b=zb(a);b._iter=a;b.size=a.size;b.flip=function(){return a};b.reverse=function(){var b=a.reverse.apply(this);b.flip=function(){return a.reverse()};return b};b.has=function(b){return a.includes(b)};b.includes=function(b){return a.has(b)};b.cacheResult=Ab;b.__iterateUncached=function(b,c){var d=this;return a.__iterate(function(a,c){return b(c,a,d)!==!1},c)};b.__iteratorUncached=function(b,c){if(b===B){var d=a.__iterator(b,c);return new C(function(){var a=d.next();if(!a.done){var b=a.value[0];a.value[0]=a.value[1];a.value[1]=b}return a})}return a.__iterator(b===A?ha:A,c)};return b}function gb(a,b,c){var d=zb(a);d.size=a.size;d.has=function(b){return a.has(b)};d.get=function(d,e){var f=a.get(d,g);return f===g?e:b.call(c,f,d,a)};d.__iterateUncached=function(d,e){var f=this;return a.__iterate(function(a,e,g){return d(b.call(c,a,e,g),e,f)!==!1},e)};d.__iteratorUncached=function(d,e){var f=a.__iterator(B,e);return new C(function(){var e=f.next();if(e.done)return e;var g=e.value,h=g[0];return D(d,h,b.call(c,g[1],h,a),e)})};return d}function hb(a,b){var c=zb(a);c._iter=a;c.size=a.size;c.reverse=function(){return a};a.flip&&(c.flip=function(){var b=fb(a);b.reverse=function(){return a.flip()};return b});c.get=function(c,d){return a.get(b?c:-1-c,d)};c.has=function(c){return a.has(b?c:-1-c)};c.includes=function(b){return a.includes(b)};c.cacheResult=Ab;c.__iterate=function(b,c){var d=this;return a.__iterate(function(a,c){return b(a,c,d)},!c)};c.__iterator=function(b,c){return a.__iterator(b,!c)};return c}function ib(a,b,c,d){var e=zb(a);d&&(e.has=function(d){var e=a.get(d,g);return e!==g&&!!b.call(c,e,d,a)},e.get=function(d,e){var f=a.get(d,g);return f!==g&&b.call(c,f,d,a)?f:e});e.__iterateUncached=function(e,f){var g=this,h=0;a.__iterate(function(a,f,i){if(b.call(c,a,f,i)){h++;return e(a,d?f:h-1,g)}},f);return h};e.__iteratorUncached=function(e,f){var g=a.__iterator(B,f),h=0;return new C(function(){while(!0){var f=g.next();if(f.done)return f;var i=f.value,j=i[0];i=i[1];if(b.call(c,i,j,a))return D(e,d?j:h++,i,f)}})};return e}function jb(a,b,c){var d=O().asMutable();a.__iterate(function(e,f){d.update(b.call(c,e,f,a),0,function(a){return a+1})});return d.asImmutable()}function kb(a,b,c){var d=y(a),e=(ca(a)?S():O()).asMutable();a.__iterate(function(f,g){e.update(b.call(c,f,g,a),function(a){return a=a||[],a.push(d?[g,f]:f),a})});var f=yb(a);return e.map(function(b){return N(a,f(b))})}function lb(a,b,c,d){var e=a.size;if(q(b,c,e))return a;var f=r(b,e);e=s(c,e);if(f!==f||e!==e)return lb(a.toSeq().cacheResult(),b,c,d);b=e-f;var g;b===b&&(g=b<0?0:b);c=zb(a);c.size=g;!d&&va(a)&&g>=0&&(c.get=function(b,c){b=o(this,b);return b>=0&&b<g?a.get(b+f,c):c});c.__iterateUncached=function(b,c){var e=this;if(g===0)return 0;if(c)return this.cacheResult().__iterate(b,c);var h=0,i=!0,j=0;a.__iterate(function(a,c){if(!(i&&(i=h++<f))){j++;return b(a,d?c:j-1,e)!==!1&&j!==g}});return j};c.__iteratorUncached=function(b,c){if(g!==0&&c)return this.cacheResult().__iterator(b,c);var e=g!==0&&a.__iterator(b,c),h=0,i=0;return new C(function(){while(h++<f)e.next();if(++i>g)return E();var a=e.next();if(d||b===A)return a;else if(b===ha)return D(b,i-1,void 0,a);else return D(b,i-1,a.value[1],a)})};return c}function mb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterate(d,e);var g=0;a.__iterate(function(a,e,h){return b.call(c,a,e,h)&&++g&&d(a,e,f)});return g};d.__iteratorUncached=function(d,e){var f=this;if(e)return this.cacheResult().__iterator(d,e);var g=a.__iterator(B,e),h=!0;return new C(function(){if(!h)return E();var a=g.next();if(a.done)return a;var e=a.value,i=e[0];e=e[1];if(!b.call(c,e,i,f)){h=!1;return E()}return d===B?a:D(d,i,e,a)})};return d}function nb(a,b,c,d){var e=zb(a);e.__iterateUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterate(e,f);var h=!0,i=0;a.__iterate(function(a,f,j){if(!(h&&(h=b.call(c,a,f,j)))){i++;return e(a,d?f:i-1,g)}});return i};e.__iteratorUncached=function(e,f){var g=this;if(f)return this.cacheResult().__iterator(e,f);var h=a.__iterator(B,f),i=!0,j=0;return new C(function(){var a,f;do{a=h.next();if(a.done)if(d||e===A)return a;else if(e===ha)return D(e,j++,void 0,a);else return D(e,j++,a.value[1],a);var k=a.value;f=k[0];k=k[1];i&&(i=b.call(c,k,f,g))}while(i);return e===B?a:D(e,f,k,a)})};return e}function ob(a,b){var c=y(a);b=[a].concat(b).map(function(a){!x(a)?a=c?ya(a):za(Array.isArray(a)?a:[a]):c&&(a=u(a));return a}).filter(function(a){return a.size!==0});if(b.length===0)return a;if(b.length===1){var d=b[0];if(d===a||c&&y(d)||z(a)&&z(d))return d}d=new ra(b);c?d=d.toKeyedSeq():z(a)||(d=d.toSetSeq());d=d.flatten(!0);d.size=b.reduce(function(a,b){if(a!==void 0){b=b.size;if(b!==void 0)return a+b}},0);return d}function pb(a,b,c){var d=zb(a);d.__iterateUncached=function(d,e){var f=0,g=!1;function h(a,i){var j=this;a.__iterate(function(a,e){(!b||i<b)&&x(a)?h(a,i+1):d(a,c?e:f++,j)===!1&&(g=!0);return!g},e)}h(a,0);return f};d.__iteratorUncached=function(d,e){var f=a.__iterator(d,e),g=[],h=0;return new C(function(){while(f){var a=f.next();if(a.done!==!1){f=g.pop();continue}var i=a.value;d===B&&(i=i[1]);if((!b||g.length<b)&&x(i))g.push(f),f=i.__iterator(d,e);else return c?a:D(d,h++,i,a)}return E()})};return d}function qb(a,b,c){var d=yb(a);return a.toSeq().map(function(e,f){return d(b.call(c,e,f,a))}).flatten(!0)}function rb(a,b){var c=zb(a);c.size=a.size&&a.size*2-1;c.__iterateUncached=function(c,d){var e=this,f=0;a.__iterate(function(a,d){return(!f||c(b,f++,e)!==!1)&&c(a,f++,e)!==!1},d);return f};c.__iteratorUncached=function(c,d){var e=a.__iterator(A,d),f=0,g;return new C(function(){if(!g||f%2){g=e.next();if(g.done)return g}return f%2?D(c,f++,b):D(c,f++,g.value,g)})};return c}function sb(a,b,c){b||(b=Bb);var d=y(a),e=0,f=a.toSeq().map(function(b,d){return[d,b,e++,c?c(b,d,a):b]}).toArray();f.sort(function(a,c){return b(a[3],c[3])||a[2]-c[2]}).forEach(d?function(a,b){f[b].length=2}:function(a,b){f[b]=a[1]});return d?G(f):z(a)?H(f):I(f)}function tb(a,b,c){b||(b=Bb);if(c){var d=a.toSeq().map(function(b,d){return[b,c(b,d,a)]}).reduce(function(a,c){return ub(b,a[1],c[1])?c:a});return d&&d[0]}else return a.reduce(function(a,c){return ub(b,a,c)?c:a})}function ub(a,b,c){a=a(c,b);return a===0&&c!==b&&(c===void 0||c===null||c!==c)||a>0}function vb(a,b,c){a=zb(a);a.size=new ra(c).map(function(a){return a.size}).min();a.__iterate=function(a,b){b=this.__iterator(A,b);var c,d=0;while(!(c=b.next()).done)if(a(c.value,d++,this)===!1)break;return d};a.__iteratorUncached=function(a,d){var e=c.map(function(a){return a=t(a),na(d?a.reverse():a)}),f=0,g=!1;return new C(function(){var c;g||(c=e.map(function(a){return a.next()}),g=c.some(function(a){return a.done}));return g?E():D(a,f++,b.apply(null,c.map(function(a){return a.value})))})};return a}function N(a,b){return va(a)?b:a.constructor(b)}function wb(a){if(a!==Object(a))throw new TypeError("Expected [K, V] tuple: "+a)}function xb(a){L(a.size);return n(a)}function yb(a){return y(a)?u:z(a)?v:w}function zb(a){return Object.create((y(a)?G:z(a)?H:I).prototype)}function Ab(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}else return F.prototype.cacheResult.call(this)}function Bb(a,b){return a>b?1:a<b?-1:0}function Cb(a){var b=na(a);if(!b){if(!pa(a))throw new TypeError("Expected iterable or array-like: "+a);b=na(t(a))}return b}b(O,Fa);function O(a){return a===null||a===void 0?Pb():Db(a)?a:Pb().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}O.prototype.toString=function(){return this.__toString("Map {","}")};O.prototype.get=function(a,b){return this._root?this._root.get(0,void 0,a,b):b};O.prototype.set=function(a,b){return Qb(this,a,b)};O.prototype.setIn=function(a,b){return this.updateIn(a,g,function(){return b})};O.prototype.remove=function(a){return Qb(this,a,g)};O.prototype.deleteIn=function(a){return this.updateIn(a,function(){return g})};O.prototype.update=function(a,b,c){return arguments.length===1?a(this):this.updateIn([a],b,c)};O.prototype.updateIn=function(a,b,c){c||(c=b,b=void 0);a=$b(this,Cb(a),b,c);return a===g?void 0:a};O.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=void 0;this.__altered=!0;return this}return Pb()};O.prototype.merge=function(){return Xb(this,void 0,arguments)};O.prototype.mergeWith=function(b){var c=a.call(arguments,1);return Xb(this,b,c)};O.prototype.mergeIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.merge==="function"?a.merge.apply(a,c):c[c.length-1]})};O.prototype.mergeDeep=function(){return Xb(this,Yb(void 0),arguments)};O.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return Xb(this,Yb(b),c)};O.prototype.mergeDeepIn=function(b){var c=a.call(arguments,1);return this.updateIn(b,Pb(),function(a){return typeof a.mergeDeep==="function"?a.mergeDeep.apply(a,c):c[c.length-1]})};O.prototype.sort=function(a){return S(sb(this,a))};O.prototype.sortBy=function(a,b){return S(sb(this,b,a))};O.prototype.withMutations=function(a){var b=this.asMutable();a(b);return b.wasAltered()?b.__ensureOwner(this.__ownerID):this};O.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new l())};O.prototype.asImmutable=function(){return this.__ensureOwner()};O.prototype.wasAltered=function(){return this.__altered};O.prototype.__iterator=function(a,b){return new Kb(this,a,b)};O.prototype.__iterate=function(a,b){var c=this,d=0;this._root&&this._root.iterate(function(b){d++;return a(b[1],b[0],c)},b);return d};O.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Nb(this.size,this._root,a,this.__hash)};function Db(a){return!!(a&&a[Eb])}O.isMap=Db;var Eb="@@__IMMUTABLE_MAP__@@",P=O.prototype;P[Eb]=!0;P[c]=P.remove;P.removeIn=P.deleteIn;function Fb(a,b){this.ownerID=a,this.entries=b}Fb.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Fb.prototype.update=function(a,b,c,d,e,f,h){b=e===g;c=this.entries;var i=0;for(var j=c.length;i<j;i++)if(J(d,c[i][0]))break;var l=i<j;if(l?c[i][1]===e:b)return this;k(h);(b||!l)&&k(f);if(b&&c.length===1)return;if(!l&&!b&&c.length>=ec)return Ub(a,c,d,e);h=a&&a===this.ownerID;f=h?c:m(c);l?b?i===j-1?f.pop():f[i]=f.pop():f[i]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Fb(a,f)};function Gb(a,b,c){this.ownerID=a,this.bitmap=b,this.nodes=c}Gb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=1<<((a===0?b:b>>>a)&f),h=this.bitmap;return(h&g)===0?e:this.nodes[ac(h&g-1)].get(a+d,b,c,e)};Gb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=1<<k,m=this.bitmap,n=(m&l)!==0;if(!n&&h===g)return this;var o=ac(m&l-1),p=this.nodes,q=n?p[o]:void 0;b=Rb(q,a,b+d,c,e,h,i,j);if(b===q)return this;if(!n&&b&&p.length>=fc)return Wb(a,p,m,k,b);if(n&&!b&&p.length===2&&Sb(p[o^1]))return p[o^1];if(n&&b&&p.length===1&&Sb(b))return b;c=a&&a===this.ownerID;e=n?b?m:m^l:m|l;h=n?b?bc(p,o,b,c):dc(p,o,c):cc(p,o,b,c);if(c){this.bitmap=e;this.nodes=h;return this}return new Gb(a,e,h)};function Hb(a,b,c){this.ownerID=a,this.count=b,this.nodes=c}Hb.prototype.get=function(a,b,c,e){b===void 0&&(b=K(c));var g=(a===0?b:b>>>a)&f;g=this.nodes[g];return g?g.get(a+d,b,c,e):e};Hb.prototype.update=function(a,b,c,e,h,i,j){c===void 0&&(c=K(e));var k=(b===0?c:c>>>b)&f,l=h===g,m=this.nodes,n=m[k];if(l&&!n)return this;l=Rb(n,a,b+d,c,e,h,i,j);if(l===n)return this;b=this.count;if(!n)b++;else if(!l){b--;if(b<gc)return Vb(a,m,b,k)}c=a&&a===this.ownerID;e=bc(m,k,l,c);if(c){this.count=b;this.nodes=e;return this}return new Hb(a,b,e)};function Ib(a,b,c){this.ownerID=a,this.keyHash=b,this.entries=c}Ib.prototype.get=function(a,b,c,d){a=this.entries;for(var b=0,e=a.length;b<e;b++)if(J(c,a[b][0]))return a[b][1];return d};Ib.prototype.update=function(a,b,c,d,e,f,h){c===void 0&&(c=K(d));var i=e===g;if(c!==this.keyHash){if(i)return this;k(h);k(f);return Tb(this,a,b,c,[d,e])}b=this.entries;c=0;for(var j=b.length;c<j;c++)if(J(d,b[c][0]))break;var l=c<j;if(l?b[c][1]===e:i)return this;k(h);(i||!l)&&k(f);if(i&&j===2)return new Jb(a,this.keyHash,b[c^1]);h=a&&a===this.ownerID;f=h?b:m(b);l?i?c===j-1?f.pop():f[c]=f.pop():f[c]=[d,e]:f.push([d,e]);if(h){this.entries=f;return this}return new Ib(a,this.keyHash,f)};function Jb(a,b,c){this.ownerID=a,this.keyHash=b,this.entry=c}Jb.prototype.get=function(a,b,c,d){return J(c,this.entry[0])?this.entry[1]:d};Jb.prototype.update=function(a,b,c,d,e,f,h){c=e===g;var i=J(d,this.entry[0]);if(i?e===this.entry[1]:c)return this;k(h);if(c){k(f);return}if(i){if(a&&a===this.ownerID){this.entry[1]=e;return this}return new Jb(a,this.keyHash,[d,e])}k(f);return Tb(this,a,b,K(d),[d,e])};Fb.prototype.iterate=Ib.prototype.iterate=function(a,b){var c=this.entries;for(var d=0,e=c.length-1;d<=e;d++)if(a(c[b?e-d:d])===!1)return!1};Gb.prototype.iterate=Hb.prototype.iterate=function(a,b){var c=this.nodes;for(var d=0,e=c.length-1;d<=e;d++){var f=c[b?e-d:d];if(f&&f.iterate(a,b)===!1)return!1}};Jb.prototype.iterate=function(a,b){return a(this.entry)};b(Kb,C);function Kb(a,b,c){this._type=b,this._reverse=c,this._stack=a._root&&Mb(a._root)}Kb.prototype.next=function(){var a=this._type,b=this._stack;while(b){var c=b.node,d=b.index++,e;if(c.entry){if(d===0)return Lb(a,c.entry)}else if(c.entries){e=c.entries.length-1;if(d<=e)return Lb(a,c.entries[this._reverse?e-d:d])}else{e=c.nodes.length-1;if(d<=e){c=c.nodes[this._reverse?e-d:d];if(c){if(c.entry)return Lb(a,c.entry);b=this._stack=Mb(c,b)}continue}}b=this._stack=this._stack.__prev}return E()};function Lb(a,b){return D(a,b[0],b[1])}function Mb(a,b){return{node:a,index:0,__prev:b}}function Nb(b,c,d,a){var e=Object.create(P);e.size=b;e._root=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Ob;function Pb(){return Ob||(Ob=Nb(0))}function Qb(a,b,c){var d,e;if(!a._root){if(c===g)return a;e=1;d=new Fb(a.__ownerID,[[b,c]])}else{var f=j(h),k=j(i);d=Rb(a._root,a.__ownerID,0,void 0,b,c,f,k);if(!k.value)return a;e=a.size+(f.value?c===g?-1:1:0)}if(a.__ownerID){a.size=e;a._root=d;a.__hash=void 0;a.__altered=!0;return a}return d?Nb(e,d):Pb()}function Rb(a,b,c,d,e,f,h,i){if(!a){if(f===g)return a;k(i);k(h);return new Jb(b,d,[e,f])}return a.update(b,c,d,e,f,h,i)}function Sb(a){return a.constructor===Jb||a.constructor===Ib}function Tb(a,b,c,e,g){if(a.keyHash===e)return new Ib(b,e,[a.entry,g]);var h=(c===0?a.keyHash:a.keyHash>>>c)&f,i=(c===0?e:e>>>c)&f;e=h===i?[Tb(a,b,c+d,e,g)]:(c=new Jb(b,e,g),h<i?[a,c]:[c,a]);return new Gb(b,1<<h|1<<i,e)}function Ub(a,b,c,d){a||(a=new l());c=new Jb(a,K(c),[c,d]);for(d=0;d<b.length;d++){var e=b[d];c=c.update(a,0,void 0,e[0],e[1])}return c}function Vb(a,b,c,d){var e=0,f=0;c=new Array(c);for(var g=0,h=1,i=b.length;g<i;g++,h<<=1){var j=b[g];j!==void 0&&g!==d&&(e|=h,c[f++]=j)}return new Gb(a,e,c)}function Wb(a,b,c,d,f){var g=0,h=new Array(e);for(var i=0;c!==0;i++,c>>>=1)h[i]=c&1?b[g++]:void 0;h[d]=f;return new Hb(a,g+1,h)}function Xb(a,b,c){var d=[];for(var e=0;e<c.length;e++){var f=c[e],g=u(f);x(f)||(g=g.map(function(a){return Ia(a)}));d.push(g)}return Zb(a,b,d)}function Yb(a){return function(b,c,d){return b&&b.mergeDeepWith&&x(c)?b.mergeDeepWith(a,c):a?a(b,c,d):c}}function Zb(a,b,c){c=c.filter(function(a){return a.size!==0});if(c.length===0)return a;return a.size===0&&!a.__ownerID&&c.length===1?a.constructor(c[0]):a.withMutations(function(a){var d=b?function(c,d){a.update(d,g,function(a){return a===g?c:b(a,c,d)})}:function(b,c){a.set(c,b)};for(var e=0;e<c.length;e++)c[e].forEach(d)})}function $b(a,b,c,d){var e=a===g,f=b.next();if(f.done){var h=e?c:a,i=d(h);return i===h?a:i}bb(e||a&&a.set,"invalid keyPath");h=f.value;i=e?g:a.get(h,g);f=$b(i,b,c,d);return f===i?a:f===g?a.remove(h):(e?Pb():a).set(h,f)}function ac(a){a=a-(a>>1&1431655765);a=(a&858993459)+(a>>2&858993459);a=a+(a>>4)&252645135;a=a+(a>>8);a=a+(a>>16);return a&127}function bc(a,b,c,d){d=d?a:m(a);d[b]=c;return d}function cc(a,b,c,d){var e=a.length+1;if(d&&b+1===e){a[b]=c;return a}d=new Array(e);var f=0;for(var g=0;g<e;g++)g===b?(d[g]=c,f=-1):d[g]=a[g+f];return d}function dc(a,b,c){var d=a.length-1;if(c&&b===d){a.pop();return a}c=new Array(d);var e=0;for(var f=0;f<d;f++)f===b&&(e=1),c[f]=a[f+e];return c}var ec=e/4,fc=e/2,gc=e/4;b(Q,Ga);function Q(a){var b=oc();if(a===null||a===void 0)return b;if(hc(a))return a;var c=v(a),f=c.size;if(f===0)return b;L(f);return f>0&&f<e?mc(0,f,d,null,new jc(c.toArray())):b.withMutations(function(a){a.setSize(f),c.forEach(function(b,c){return a.set(c,b)})})}Q.of=function(){return this(arguments)};Q.prototype.toString=function(){return this.__toString("List [","]")};Q.prototype.get=function(a,b){a=o(this,a);if(a<0||a>=this.size)return b;a+=this._origin;b=sc(this,a);return b&&b.array[a&f]};Q.prototype.set=function(a,b){return pc(this,a,b)};Q.prototype.remove=function(a){return this.has(a)?a===0?this.shift():a===this.size-1?this.pop():this.splice(a,1):this};Q.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=d;this._root=this._tail=null;this.__hash=void 0;this.__altered=!0;return this}return oc()};Q.prototype.push=function(){var a=arguments,b=this.size;return this.withMutations(function(c){tc(c,0,b+a.length);for(var d=0;d<a.length;d++)c.set(b+d,a[d])})};Q.prototype.pop=function(){return tc(this,0,-1)};Q.prototype.unshift=function(){var a=arguments;return this.withMutations(function(b){tc(b,-a.length);for(var c=0;c<a.length;c++)b.set(c,a[c])})};Q.prototype.shift=function(){return tc(this,1)};Q.prototype.merge=function(){return uc(this,void 0,arguments)};Q.prototype.mergeWith=function(b){var c=a.call(arguments,1);return uc(this,b,c)};Q.prototype.mergeDeep=function(){return uc(this,Yb(void 0),arguments)};Q.prototype.mergeDeepWith=function(b){var c=a.call(arguments,1);return uc(this,Yb(b),c)};Q.prototype.setSize=function(a){return tc(this,0,a)};Q.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:tc(this,r(a,c),s(b,c))};Q.prototype.__iterator=function(a,b){var c=0,d=lc(this,b);return new C(function(){var b=d();return b===kc?E():D(a,c++,b)})};Q.prototype.__iterate=function(a,b){var c=0;b=lc(this,b);var d;while((d=b())!==kc)if(a(d,c++,this)===!1)break;return c};Q.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;return this}return mc(this._origin,this._capacity,this._level,this._root,this._tail,a,this.__hash)};function hc(a){return!!(a&&a[ic])}Q.isList=hc;var ic="@@__IMMUTABLE_LIST__@@",R=Q.prototype;R[ic]=!0;R[c]=R.remove;R.setIn=P.setIn;R.deleteIn=R.removeIn=P.removeIn;R.update=P.update;R.updateIn=P.updateIn;R.mergeIn=P.mergeIn;R.mergeDeepIn=P.mergeDeepIn;R.withMutations=P.withMutations;R.asMutable=P.asMutable;R.asImmutable=P.asImmutable;R.wasAltered=P.wasAltered;function jc(a,b){this.array=a,this.ownerID=b}jc.prototype.removeBefore=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c>>>b&f;if(e>=this.array.length)return new jc([],a);var g=e===0,h;if(b>0){var i=this.array[e];h=i&&i.removeBefore(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);if(!g)for(c=0;c<e;c++)b.array[c]=void 0;h&&(b.array[e]=h);return b};jc.prototype.removeAfter=function(a,b,c){if(c===b?1<<b:this.array.length===0)return this;var e=c-1>>>b&f;if(e>=this.array.length)return this;var g=e===this.array.length-1,h;if(b>0){var i=this.array[e];h=i&&i.removeAfter(a,b-d,c);if(h===i&&g)return this}if(g&&!h)return this;b=rc(this,a);g||b.array.pop();h&&(b.array[e]=h);return b};var kc={};function lc(a,b){var c=a._origin,f=a._capacity,g=vc(f),h=a._tail;return i(a._root,a._level,0);function i(a,b,c){return b===0?j(a,c):k(a,b,c)}function j(a,d){var i=d===g?h&&h.array:a&&a.array,j=d>c?0:c-d,k=f-d;k>e&&(k=e);return function(){if(j===k)return kc;var a=b?--k:j++;return i&&i[a]}}function k(a,g,h){var j,k=a&&a.array,l=h>c?0:c-h>>g,m=(f-h>>g)+1;m>e&&(m=e);return function(){do{if(j){var a=j();if(a!==kc)return a;j=null}if(l===m)return kc;a=b?--m:l++;j=i(k&&k[a],g-d,h+(a<<g))}while(!0)}}}function mc(b,c,d,e,f,g,a){var h=Object.create(R);h.size=c-b;h._origin=b;h._capacity=c;h._level=d;h._root=e;h._tail=f;h.__ownerID=g;h.__hash=a;h.__altered=!1;return h}var nc;function oc(){return nc||(nc=mc(0,0,d))}function pc(a,b,c){b=o(a,b);if(b>=a.size||b<0)return a.withMutations(function(a){b<0?tc(a,b).set(0,c):tc(a,0,b+1).set(b,c)});b+=a._origin;var d=a._tail,e=a._root,f=j(i);b>=vc(a._capacity)?d=qc(d,a.__ownerID,0,b,c,f):e=qc(e,a.__ownerID,a._level,b,c,f);if(!f.value)return a;if(a.__ownerID){a._root=e;a._tail=d;a.__hash=void 0;a.__altered=!0;return a}return mc(a._origin,a._capacity,a._level,e,d)}function qc(a,b,c,e,g,h){var i=e>>>c&f,j=a&&i<a.array.length;if(!j&&g===void 0)return a;if(c>0){var l=a&&a.array[i];c=qc(l,b,c-d,e,g,h);if(c===l)return a;e=rc(a,b);e.array[i]=c;return e}if(j&&a.array[i]===g)return a;k(h);e=rc(a,b);g===void 0&&i===e.array.length-1?e.array.pop():e.array[i]=g;return e}function rc(a,b){return b&&a&&b===a.ownerID?a:new jc(a?a.array.slice():[],b)}function sc(a,b){if(b>=vc(a._capacity))return a._tail;if(b<1<<a._level+d){var c=a._root;a=a._level;while(c&&a>0)c=c.array[b>>>a&f],a-=d;return c}}function tc(a,b,c){var e=a.__ownerID||new l(),g=a._origin,h=a._capacity;b=g+b;c=c===void 0?h:c<0?h+c:g+c;if(b===g&&c===h)return a;if(b>=c)return a.clear();var i=a._level,j=a._root,k=0;while(b+k<0)j=new jc(j&&j.array.length?[void 0,j]:[],e),i+=d,k+=1<<i;k&&(b+=k,g+=k,c+=k,h+=k);var m=vc(h),n=vc(c);while(n>=1<<i+d)j=new jc(j&&j.array.length?[j]:[],e),i+=d;var o=a._tail,p=n<m?sc(a,c-1):n>m?new jc([],e):o;if(o&&n>m&&b<h&&o.array.length){j=rc(j,e);var q=j;for(var r=i;r>d;r-=d){var s=m>>>r&f;q=q.array[s]=rc(q.array[s],e)}q.array[m>>>d&f]=o}c<h&&(p=p&&p.removeAfter(e,0,c));if(b>=n)b-=n,c-=n,i=d,j=null,p=p&&p.removeBefore(e,0,b);else if(b>g||n<m){k=0;while(j){s=b>>>i&f;if(s!==n>>>i&f)break;s&&(k+=(1<<i)*s);i-=d;j=j.array[s]}j&&b>g&&(j=j.removeBefore(e,i,b-k));j&&n<m&&(j=j.removeAfter(e,i,n-k));k&&(b-=k,c-=k)}if(a.__ownerID){a.size=c-b;a._origin=b;a._capacity=c;a._level=i;a._root=j;a._tail=p;a.__hash=void 0;a.__altered=!0;return a}return mc(b,c,i,j,p)}function uc(a,b,c){var d=[],e=0;for(var f=0;f<c.length;f++){var g=c[f],h=v(g);h.size>e&&(e=h.size);x(g)||(h=h.map(function(a){return Ia(a)}));d.push(h)}e>a.size&&(a=a.setSize(e));return Zb(a,b,d)}function vc(a){return a<e?0:a-1>>>d<<d}b(S,O);function S(a){return a===null||a===void 0?zc():wc(a)?a:zc().withMutations(function(b){var c=u(a);L(c.size);c.forEach(function(a,c){return b.set(c,a)})})}S.of=function(){return this(arguments)};S.prototype.toString=function(){return this.__toString("OrderedMap {","}")};S.prototype.get=function(a,b){a=this._map.get(a);return a!==void 0?this._list.get(a)[1]:b};S.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return zc()};S.prototype.set=function(a,b){return Ac(this,a,b)};S.prototype.remove=function(a){return Ac(this,a,g)};S.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};S.prototype.__iterate=function(a,b){var c=this;return this._list.__iterate(function(b){return b&&a(b[1],b[0],c)},b)};S.prototype.__iterator=function(a,b){return this._list.fromEntrySeq().__iterator(a,b)};S.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a),c=this._list.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;this._list=c;return this}return xc(b,c,a,this.__hash)};function wc(a){return Db(a)&&ca(a)}S.isOrderedMap=wc;S.prototype[ga]=!0;S.prototype[c]=S.prototype.remove;function xc(b,c,d,a){var e=Object.create(S.prototype);e.size=b?b.size:0;e._map=b;e._list=c;e.__ownerID=d;e.__hash=a;return e}var yc;function zc(){return yc||(yc=xc(Pb(),oc()))}function Ac(a,b,c){var d=a._map,f=a._list,h=d.get(b),i=h!==void 0,j,k;if(c===g){if(!i)return a;f.size>=e&&f.size>=d.size*2?(k=f.filter(function(a,b){return a!==void 0&&h!==b}),j=k.toKeyedSeq().map(function(a){return a[0]}).flip().toMap(),a.__ownerID&&(j.__ownerID=k.__ownerID=a.__ownerID)):(j=d.remove(b),k=h===f.size-1?f.pop():f.set(h,void 0))}else if(i){if(c===f.get(h)[1])return a;j=d;k=f.set(h,[b,c])}else j=d.set(b,f.size),k=f.set(f.size,[b,c]);if(a.__ownerID){a.size=j.size;a._map=j;a._list=k;a.__hash=void 0;return a}return xc(j,k)}b(T,Ga);function T(a){return a===null||a===void 0?Gc():Bc(a)?a:Gc().unshiftAll(a)}T.of=function(){return this(arguments)};T.prototype.toString=function(){return this.__toString("Stack [","]")};T.prototype.get=function(a,b){var c=this._head;a=o(this,a);while(c&&a--)c=c.next;return c?c.value:b};T.prototype.peek=function(){return this._head&&this._head.value};T.prototype.push=function(){if(arguments.length===0)return this;var a=this.size+arguments.length,b=this._head;for(var c=arguments.length-1;c>=0;c--)b={value:arguments[c],next:b};if(this.__ownerID){this.size=a;this._head=b;this.__hash=void 0;this.__altered=!0;return this}return Ec(a,b)};T.prototype.pushAll=function(a){a=v(a);if(a.size===0)return this;L(a.size);var b=this.size,c=this._head;a.reverse().forEach(function(a){b++,c={value:a,next:c}});if(this.__ownerID){this.size=b;this._head=c;this.__hash=void 0;this.__altered=!0;return this}return Ec(b,c)};T.prototype.pop=function(){return this.slice(1)};T.prototype.unshift=function(){return this.push.apply(this,arguments)};T.prototype.unshiftAll=function(a){return this.pushAll(a)};T.prototype.shift=function(){return this.pop.apply(this,arguments)};T.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=void 0;this.__hash=void 0;this.__altered=!0;return this}return Gc()};T.prototype.slice=function(a,b){if(q(a,b,this.size))return this;var c=r(a,this.size),d=s(b,this.size);if(d!==this.size)return Ga.prototype.slice.call(this,a,b);d=this.size-c;a=this._head;while(c--)a=a.next;if(this.__ownerID){this.size=d;this._head=a;this.__hash=void 0;this.__altered=!0;return this}return Ec(d,a)};T.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;if(!a){this.__ownerID=a;this.__altered=!1;return this}return Ec(this.size,this._head,a,this.__hash)};T.prototype.__iterate=function(a,b){if(b)return this.reverse().__iterate(a);b=0;var c=this._head;while(c){if(a(c.value,b++,this)===!1)break;c=c.next}return b};T.prototype.__iterator=function(a,b){if(b)return this.reverse().__iterator(a);var c=0,d=this._head;return new C(function(){if(d){var b=d.value;d=d.next;return D(a,c++,b)}return E()})};function Bc(a){return!!(a&&a[Cc])}T.isStack=Bc;var Cc="@@__IMMUTABLE_STACK__@@",Dc=T.prototype;Dc[Cc]=!0;Dc.withMutations=P.withMutations;Dc.asMutable=P.asMutable;Dc.asImmutable=P.asImmutable;Dc.wasAltered=P.wasAltered;function Ec(b,c,d,a){var e=Object.create(Dc);e.size=b;e._head=c;e.__ownerID=d;e.__hash=a;e.__altered=!1;return e}var Fc;function Gc(){return Fc||(Fc=Ec(0))}b(U,Ha);function U(a){return a===null||a===void 0?Mc():Hc(a)?a:Mc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}U.of=function(){return this(arguments)};U.fromKeys=function(a){return this(u(a).keySeq())};U.prototype.toString=function(){return this.__toString("Set {","}")};U.prototype.has=function(a){return this._map.has(a)};U.prototype.add=function(a){return Jc(this,this._map.set(a,!0))};U.prototype.remove=function(a){return Jc(this,this._map.remove(a))};U.prototype.clear=function(){return Jc(this,this._map.clear())};U.prototype.union=function(){var b=a.call(arguments,0);b=b.filter(function(a){return a.size!==0});if(b.length===0)return this;return this.size===0&&!this.__ownerID&&b.length===1?this.constructor(b[0]):this.withMutations(function(a){for(var c=0;c<b.length;c++)w(b[c]).forEach(function(b){return a.add(b)})})};U.prototype.intersect=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.every(function(a){return a.includes(c)})||a.remove(c)})})};U.prototype.subtract=function(){var b=a.call(arguments,0);if(b.length===0)return this;b=b.map(function(a){return w(a)});var c=this;return this.withMutations(function(a){c.forEach(function(c){b.some(function(a){return a.includes(c)})&&a.remove(c)})})};U.prototype.merge=function(){return this.union.apply(this,arguments)};U.prototype.mergeWith=function(b){var c=a.call(arguments,1);return this.union.apply(this,c)};U.prototype.sort=function(a){return Nc(sb(this,a))};U.prototype.sortBy=function(a,b){return Nc(sb(this,b,a))};U.prototype.wasAltered=function(){return this._map.wasAltered()};U.prototype.__iterate=function(a,b){var c=this;return this._map.__iterate(function(b,d){return a(d,d,c)},b)};U.prototype.__iterator=function(a,b){return this._map.map(function(a,b){return b}).__iterator(a,b)};U.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return this.__make(b,a)};function Hc(a){return!!(a&&a[Ic])}U.isSet=Hc;var Ic="@@__IMMUTABLE_SET__@@",V=U.prototype;V[Ic]=!0;V[c]=V.remove;V.mergeDeep=V.merge;V.mergeDeepWith=V.mergeWith;V.withMutations=P.withMutations;V.asMutable=P.asMutable;V.asImmutable=P.asImmutable;V.__empty=Mc;V.__make=Kc;function Jc(a,b){if(a.__ownerID){a.size=b.size;a._map=b;return a}return b===a._map?a:b.size===0?a.__empty():a.__make(b)}function Kc(a,b){var c=Object.create(V);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Lc;function Mc(){return Lc||(Lc=Kc(Pb()))}b(Nc,U);function Nc(a){return a===null||a===void 0?Sc():Oc(a)?a:Sc().withMutations(function(b){var c=w(a);L(c.size);c.forEach(function(a){return b.add(a)})})}Nc.of=function(){return this(arguments)};Nc.fromKeys=function(a){return this(u(a).keySeq())};Nc.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Oc(a){return Hc(a)&&ca(a)}Nc.isOrderedSet=Oc;var Pc=Nc.prototype;Pc[ga]=!0;Pc.__empty=Sc;Pc.__make=Qc;function Qc(a,b){var c=Object.create(Pc);c.size=a?a.size:0;c._map=a;c.__ownerID=b;return c}var Rc;function Sc(){return Rc||(Rc=Qc(zc()))}b(W,Fa);function W(a,b){var c,d=function(f){if(f instanceof d)return f;if(!(this instanceof d))return new d(f);if(!c){c=!0;var g=Object.keys(a);Vc(e,g);e.size=g.length;e._name=b;e._keys=g;e._defaultValues=a}this._map=O(f)},e=d.prototype=Object.create(X);e.constructor=d;return d}W.prototype.toString=function(){return this.__toString(Uc(this)+" {","}")};W.prototype.has=function(a){return this._defaultValues.hasOwnProperty(a)};W.prototype.get=function(a,b){if(!this.has(a))return b;b=this._defaultValues[a];return this._map?this._map.get(a,b):b};W.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var a=this.constructor;return a._empty||(a._empty=Tc(this,Pb()))};W.prototype.set=function(a,b){if(!this.has(a))throw new Error('Cannot set unknown key "'+a+'" on '+Uc(this));a=this._map&&this._map.set(a,b);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.remove=function(a){if(!this.has(a))return this;a=this._map&&this._map.remove(a);return this.__ownerID||a===this._map?this:Tc(this,a)};W.prototype.wasAltered=function(){return this._map.wasAltered()};W.prototype.__iterator=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterator(a,b)};W.prototype.__iterate=function(a,b){var c=this;return u(this._defaultValues).map(function(a,b){return c.get(b)}).__iterate(a,b)};W.prototype.__ensureOwner=function(a){if(a===this.__ownerID)return this;var b=this._map&&this._map.__ensureOwner(a);if(!a){this.__ownerID=a;this._map=b;return this}return Tc(this,b,a)};var X=W.prototype;X[c]=X.remove;X.deleteIn=X.removeIn=P.removeIn;X.merge=P.merge;X.mergeWith=P.mergeWith;X.mergeIn=P.mergeIn;X.mergeDeep=P.mergeDeep;X.mergeDeepWith=P.mergeDeepWith;X.mergeDeepIn=P.mergeDeepIn;X.setIn=P.setIn;X.update=P.update;X.updateIn=P.updateIn;X.withMutations=P.withMutations;X.asMutable=P.asMutable;X.asImmutable=P.asImmutable;function Tc(a,b,c){a=Object.create(Object.getPrototypeOf(a));a._map=b;a.__ownerID=c;return a}function Uc(a){return a._name||a.constructor.name||"Record"}function Vc(a,b){try{b.forEach(Wc.bind(void 0,a))}catch(a){}}function Wc(a,b){Object.defineProperty(a,b,{get:function(){return this.get(b)},set:function(a){bb(this.__ownerID,"Cannot set on an immutable record."),this.set(b,a)}})}function Xc(a,b){if(a===b)return!0;if(!x(b)||a.size!==void 0&&b.size!==void 0&&a.size!==b.size||a.__hash!==void 0&&b.__hash!==void 0&&a.__hash!==b.__hash||y(a)!==y(b)||z(a)!==z(b)||ca(a)!==ca(b))return!1;if(a.size===0&&b.size===0)return!0;var c=!ba(a);if(ca(a)){var d=a.entries();return b.every(function(a,b){var e=d.next().value;return e&&J(e[1],a)&&(c||J(e[0],b))})&&d.next().done}var e=!1;if(a.size===void 0)if(b.size===void 0)typeof a.cacheResult==="function"&&a.cacheResult();else{e=!0;var f=a;a=b;b=f}f=!0;b=b.__iterate(function(b,d){if(c?!a.has(b):e?!J(b,a.get(d,g)):!J(a.get(d,g),b)){f=!1;return!1}});return f&&a.size===b}b(Y,H);function Y(a,b,c){if(!(this instanceof Y))return new Y(a,b,c);bb(c!==0,"Cannot step a Range by 0");a=a||0;b===void 0&&(b=Infinity);c=c===void 0?1:Math.abs(c);b<a&&(c=-c);this._start=a;this._end=b;this._step=c;this.size=Math.max(0,Math.ceil((b-a)/c-1)+1);if(this.size===0){if(Yc)return Yc;Yc=this}}Y.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"};Y.prototype.get=function(a,b){return this.has(a)?this._start+o(this,a)*this._step:b};Y.prototype.includes=function(a){a=(a-this._start)/this._step;return a>=0&&a<this.size&&a===Math.floor(a)};Y.prototype.slice=function(a,b){if(q(a,b,this.size))return this;a=r(a,this.size);b=s(b,this.size);return b<=a?new Y(0,0):new Y(this.get(a,this._end),this.get(b,this._end),this._step)};Y.prototype.indexOf=function(a){a=a-this._start;if(a%this._step===0){a=a/this._step;if(a>=0&&a<this.size)return a}return-1};Y.prototype.lastIndexOf=function(a){return this.indexOf(a)};Y.prototype.__iterate=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start;for(var f=0;f<=c;f++){if(a(e,f,this)===!1)return f+1;e+=b?-d:d}return f};Y.prototype.__iterator=function(a,b){var c=this.size-1,d=this._step,e=b?this._start+c*d:this._start,f=0;return new C(function(){var g=e;e+=b?-d:d;return f>c?E():D(a,f++,g)})};Y.prototype.equals=function(a){return a instanceof Y?this._start===a._start&&this._end===a._end&&this._step===a._step:Xc(this,a)};var Yc;b(Z,H);function Z(a,b){if(!(this instanceof Z))return new Z(a,b);this._value=a;this.size=b===void 0?Infinity:Math.max(0,b);if(this.size===0){if(Zc)return Zc;Zc=this}}Z.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"};Z.prototype.get=function(a,b){return this.has(a)?this._value:b};Z.prototype.includes=function(a){return J(this._value,a)};Z.prototype.slice=function(a,b){var c=this.size;return q(a,b,c)?this:new Z(this._value,s(b,c)-r(a,c))};Z.prototype.reverse=function(){return this};Z.prototype.indexOf=function(a){return J(this._value,a)?0:-1};Z.prototype.lastIndexOf=function(a){return J(this._value,a)?this.size:-1};Z.prototype.__iterate=function(a,b){for(b=0;b<this.size;b++)if(a(this._value,b,this)===!1)return b+1;return b};Z.prototype.__iterator=function(a,b){var c=this,d=0;return new C(function(){return d<c.size?D(a,d++,c._value):E()})};Z.prototype.equals=function(a){return a instanceof Z?J(this._value,a._value):Xc(a)};var Zc;function $c(a,b){var c=function(c){a.prototype[c]=b[c]};Object.keys(b).forEach(c);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(b).forEach(c);return a}t.Iterator=C;$c(t,{toArray:function(){L(this.size);var a=new Array(this.size||0);this.valueSeq().__iterate(function(b,c){a[c]=b});return a},toIndexedSeq:function(){return new cb(this)},toJS:function(){return this.toSeq().map(function(a){return a&&typeof a.toJS==="function"?a.toJS():a}).__toJS()},toJSON:function(){return this.toSeq().map(function(a){return a&&typeof a.toJSON==="function"?a.toJSON():a}).__toJS()},toKeyedSeq:function(){return new M(this,!0)},toMap:function(){return O(this.toKeyedSeq())},toObject:function(){L(this.size);var a={};this.__iterate(function(b,c){a[c]=b});return a},toOrderedMap:function(){return S(this.toKeyedSeq())},toOrderedSet:function(){return Nc(y(this)?this.valueSeq():this)},toSet:function(){return U(y(this)?this.valueSeq():this)},toSetSeq:function(){return new db(this)},toSeq:function(){return z(this)?this.toIndexedSeq():y(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return T(y(this)?this.valueSeq():this)},toList:function(){return Q(y(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(a,b){return this.size===0?a+b:a+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+b},concat:function(){var b=a.call(arguments,0);return N(this,ob(this,b))},contains:function(a){return this.includes(a)},includes:function(a){return this.some(function(b){return J(b,a)})},entries:function(){return this.__iterator(B)},every:function(a,b){L(this.size);var c=!0;this.__iterate(function(d,e,f){if(!a.call(b,d,e,f)){c=!1;return!1}});return c},filter:function(a,b){return N(this,ib(this,a,b,!0))},find:function(a,b,c){a=this.findEntry(a,b);return a?a[1]:c},findEntry:function(a,b){var c;this.__iterate(function(d,e,f){if(a.call(b,d,e,f)){c=[e,d];return!1}});return c},findLastEntry:function(a,b){return this.toSeq().reverse().findEntry(a,b)},forEach:function(a,b){L(this.size);return this.__iterate(b?a.bind(b):a)},join:function(a){L(this.size);a=a!==void 0?""+a:",";var b="",c=!0;this.__iterate(function(d){c?c=!1:b+=a,b+=d!==null&&d!==void 0?d.toString():""});return b},keys:function(){return this.__iterator(ha)},map:function(a,b){return N(this,gb(this,a,b))},reduce:function(a,b,c){L(this.size);var d,e;arguments.length<2?e=!0:d=b;this.__iterate(function(b,f,g){e?(e=!1,d=b):d=a.call(c,d,b,f,g)});return d},reduceRight:function(a,b,c){var d=this.toKeyedSeq().reverse();return d.reduce.apply(d,arguments)},reverse:function(){return N(this,hb(this,!0))},slice:function(a,b){return N(this,lb(this,a,b,!0))},some:function(a,b){return!this.every(cd(a),b)},sort:function(a){return N(this,sb(this,a))},values:function(){return this.__iterator(A)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(a,b){return n(a?this.toSeq().filter(a,b):this)},countBy:function(a,b){return jb(this,a,b)},equals:function(a){return Xc(this,a)},entrySeq:function(){var a=this;if(a._cache)return new ra(a._cache);var b=a.toSeq().map(bd).toIndexedSeq();b.fromEntrySeq=function(){return a.toSeq()};return b},filterNot:function(a,b){return this.filter(cd(a),b)},findLast:function(a,b,c){return this.toKeyedSeq().reverse().find(a,b,c)},first:function(){return this.find(p)},flatMap:function(a,b){return N(this,qb(this,a,b))},flatten:function(a){return N(this,pb(this,a,!0))},fromEntrySeq:function(){return new eb(this)},get:function(a,b){return this.find(function(b,c){return J(c,a)},void 0,b)},getIn:function(a,b){var c=this;a=Cb(a);var d;while(!(d=a.next()).done){d=d.value;c=c&&c.get?c.get(d,g):g;if(c===g)return b}return c},groupBy:function(a,b){return kb(this,a,b)},has:function(a){return this.get(a,g)!==g},hasIn:function(a){return this.getIn(a,g)!==g},isSubset:function(a){a=typeof a.includes==="function"?a:t(a);return this.every(function(b){return a.includes(b)})},isSuperset:function(a){return a.isSubset(this)},keySeq:function(){return this.toSeq().map(ad).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(a){return tb(this,a)},maxBy:function(a,b){return tb(this,b,a)},min:function(a){return tb(this,a?dd(a):gd)},minBy:function(a,b){return tb(this,b?dd(b):gd,a)},rest:function(){return this.slice(1)},skip:function(a){return this.slice(Math.max(0,a))},skipLast:function(a){return N(this,this.toSeq().reverse().skip(a).reverse())},skipWhile:function(a,b){return N(this,nb(this,a,b,!0))},skipUntil:function(a,b){return this.skipWhile(cd(a),b)},sortBy:function(a,b){return N(this,sb(this,b,a))},take:function(a){return this.slice(0,Math.max(0,a))},takeLast:function(a){return N(this,this.toSeq().reverse().take(a).reverse())},takeWhile:function(a,b){return N(this,mb(this,a,b))},takeUntil:function(a,b){return this.takeWhile(cd(a),b)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=hd(this))}});var $=t.prototype;$[da]=!0;$[ka]=$.values;$.__toJS=$.toArray;$.__toStringMapper=ed;$.inspect=$.toSource=function(){return this.toString()};$.chain=$.flatMap;(function(){try{Object.defineProperty($,"length",{get:function(){if(!t.noLengthWarning){var a;try{throw new Error()}catch(b){a=b.stack}if(a.indexOf("_wrapObject")===-1){console&&emptyFunction&&!1;return this.size}}}})}catch(a){}})();$c(u,{flip:function(){return N(this,fb(this))},findKey:function(a,b){a=this.findEntry(a,b);return a&&a[0]},findLastKey:function(a,b){return this.toSeq().reverse().findKey(a,b)},keyOf:function(a){return this.findKey(function(b){return J(b,a)})},lastKeyOf:function(a){return this.findLastKey(function(b){return J(b,a)})},mapEntries:function(a,b){var c=this,d=0;return N(this,this.toSeq().map(function(e,f){return a.call(b,[f,e],d++,c)}).fromEntrySeq())},mapKeys:function(a,b){var c=this;return N(this,this.toSeq().flip().map(function(d,e){return a.call(b,d,e,c)}).flip())}});c=u.prototype;c[ea]=!0;c[ka]=$.entries;c.__toJS=$.toObject;c.__toStringMapper=function(a,b){return JSON.stringify(b)+": "+ed(a)};$c(v,{toKeyedSeq:function(){return new M(this,!1)},filter:function(a,b){return N(this,ib(this,a,b,!1))},findIndex:function(a,b){a=this.findEntry(a,b);return a?a[0]:-1},indexOf:function(a){a=this.toKeyedSeq().keyOf(a);return a===void 0?-1:a},lastIndexOf:function(a){return this.toSeq().reverse().indexOf(a)},reverse:function(){return N(this,hb(this,!1))},slice:function(a,b){return N(this,lb(this,a,b,!1))},splice:function(a,b){var c=arguments.length;b=Math.max(b|0,0);if(c===0||c===2&&!b)return this;a=r(a,this.size);var d=this.slice(0,a);return N(this,c===1?d:d.concat(m(arguments,2),this.slice(a+b)))},findLastIndex:function(a,b){a=this.toKeyedSeq().findLastKey(a,b);return a===void 0?-1:a},first:function(){return this.get(0)},flatten:function(a){return N(this,pb(this,a,!1))},get:function(a,b){a=o(this,a);return a<0||this.size===Infinity||this.size!==void 0&&a>this.size?b:this.find(function(b,c){return c===a},void 0,b)},has:function(a){a=o(this,a);return a>=0&&(this.size!==void 0?this.size===Infinity||a<this.size:this.indexOf(a)!==-1)},interpose:function(a){return N(this,rb(this,a))},interleave:function(){var a=[this].concat(m(arguments)),b=vb(this.toSeq(),H.of,a),c=b.flatten(!0);b.size&&(c.size=b.size*a.length);return N(this,c)},last:function(){return this.get(-1)},skipWhile:function(a,b){return N(this,nb(this,a,b,!1))},zip:function(){var a=[this].concat(m(arguments));return N(this,vb(this,fd,a))},zipWith:function(a){var b=m(arguments);b[0]=this;return N(this,vb(this,a,b))}});v.prototype[fa]=!0;v.prototype[ga]=!0;$c(w,{get:function(a,b){return this.has(a)?a:b},includes:function(a){return this.has(a)},keySeq:function(){return this.valueSeq()}});w.prototype.has=$.includes;$c(G,u.prototype);$c(H,v.prototype);$c(I,w.prototype);$c(Fa,u.prototype);$c(Ga,v.prototype);$c(Ha,w.prototype);function ad(a,b){return b}function bd(a,b){return[b,a]}function cd(a){return function(){return!a.apply(this,arguments)}}function dd(a){return function(){return-a.apply(this,arguments)}}function ed(a){return typeof a==="string"?JSON.stringify(a):a}function fd(){return m(arguments)}function gd(a,b){return a<b?1:a>b?-1:0}function hd(a){if(a.size===Infinity)return 0;var b=ca(a),c=y(a),d=b?1:0;a=a.__iterate(c?b?function(a,b){d=31*d+jd(K(a),K(b))|0}:function(a,b){d=d+jd(K(a),K(b))|0}:b?function(a){d=31*d+K(a)|0}:function(a){d=d+K(a)|0});return id(a,d)}function id(a,b){b=Ma(b,3432918353);b=Ma(b<<15|b>>>-15,461845907);b=Ma(b<<13|b>>>-13,5);b=(b+3864292196|0)^a;b=Ma(b^b>>>16,2246822507);b=Ma(b^b>>>13,3266489909);b=Na(b^b>>>16);return b}function jd(a,b){return a^b+2654435769+(a<<6)+(a>>2)|0}b={Iterable:t,Seq:F,Collection:Ea,Map:O,OrderedMap:S,List:Q,Stack:T,Set:U,OrderedSet:Nc,Record:W,Range:Y,Repeat:Z,is:J,fromJS:Ia};return b})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("immutable",["immutable-3.7.3"],(function(a,b,c,d,e,f){e.exports=b("immutable-3.7.3")()}),null);/*FB_PKG_DELIM*/
__d("LSIssueNewTaskWithExtraOperationsAndGetTaskID",["LSIssueNewTaskAndGetTaskID","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(f){return c.seq([function(e){return c.sp(b("LSIssueNewTaskAndGetTaskID"),a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9]).then(function(a){return a=a,d[0]=a[0],a})},function(a){return c.sp(b("LSMailboxTaskCompletionApiOnTaskInsertion"),d[0])},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSAddThreadToInbox",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.fe(c.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({secondaryParentThreadKey:c.i64.cast([0,0])})})},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),["add_thread_to_inbox","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,566]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSLocalOptimisticDeleteCommunityChannel",["LSDeleteThread","LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSDeleteThread"),a[0],!1)},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[1]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("actor_id",d[0]),d[3].set("sync_group",d[1]),d[4]=d[3].get("actor_id"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,366]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSLocalOptimisticDeleteDiscoverableChat",["LSDeleteThread","LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSDeleteThread"),a[0],!1)},function(a){return c.sp(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(e){return d[1]=new c.Map(),d[1].set("thread_key",a[0]),d[1].set("actor_id",d[0]),d[2]=c.toJSON(d[1]),c.sp(b("LSIssueNewTask"),"expr_delete_public_chat",c.i64.cast([0,110004]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSMarkBumpedThreadsSeen",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[];return c.seq([function(e){return c.islc(c.ftr(c.db.table(9).fetchDesc([[[a[0]]],"secondaryParentThreadKeyLastActivityTimestampMs"]),function(b){return c.i64.eq(b.secondaryParentThreadKey,a[0])&&[c.i64.cast([0,18]),c.i64.cast([0,23]),c.i64.cast([0,21])].some(function(a){return c.i64.eq(b.threadType,a)})}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,d[0]=f.lastActivityTimestampMs,c.i64.gt(d[0],c.i64.cast([0,0]))?c.db.table(35).fetch([[[a[0]]]]).next().then(function(f,h){var e=f.done;f=f.value;return e?c.seq([function(b){return c.db.table(35).add({parentThreadKey:a[0],lastSeenRequestTimestampMs:d[0]})},function(e){return d[2]=new c.Map(),d[2].set("parent_thread_key",a[0]),d[2].set("last_seen_time_ms",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewFireAndForgetTask"),"fire_forget",c.i64.cast([0,6]),d[3])}]):(h=f.item,c.i64.lt(h.lastSeenRequestTimestampMs,d[0])?c.seq([function(b){return c.db.table(35).add({parentThreadKey:a[0],lastSeenRequestTimestampMs:d[0]})},function(e){return d[2]=new c.Map(),d[2].set("parent_thread_key",a[0]),d[2].set("last_seen_time_ms",d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewFireAndForgetTask"),"fire_forget",c.i64.cast([0,6]),d[3])}]):c.resolve())}):c.resolve())})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSMarkThreadUnread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[],d=[],e;return b.seq([function(f){return b.seq([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(d,f){var g=d.done;d=d.value;return g?(c[2]=b.createArray(),c[3]=(c[2].push("markThreadUnread unable to find thread key in DB:"),c[2]),c[4]=(c[2].push(a[0]),c[2]),c[5]=b.toJSON(c[2]),function(a){b.logger(a).mustfix(a)}(c[5]),c[0]=e):(f=d.item,b.seq([function(a){return c[3]=f.lastActivityTimestampMs,c[5]=f.lastReadWatermarkTimestampMs,c[4]=f.threadKey,b.i64.neq(e,e)?b.seq([function(a){return c[7]=b.i64.sub(b.i64.lt(e,c[3])?e:c[3],b.i64.cast([0,1])),b.i64.lt(c[7],c[5])?b.seq([function(a){return b.fe(b.db.table(9).fetch([[[c[4]]]]),function(a){var b=a.update;a.item;return b({lastReadWatermarkTimestampMs:c[7]})})},function(a){return c[6]=c[7]}]):b.resolve(c[6]=e)},function(a){return c[2]=c[6]}]):b.seq([function(a){return b.db.table(12).fetchDesc([[[c[4]]]]).next().then(function(d,f){var a=d.done;d=d.value;return a?(c[8]=b.createArray(),c[9]=(c[8].push("markThreadUnread unable to find message with thread key in DB:"),c[8]),c[10]=(c[8].push(c[4]),c[8]),c[11]=b.toJSON(c[8]),function(a){b.logger(a).mustfix(a)}(c[11]),c[6]=e):(f=d.item,b.seq([function(a){return c[8]=f.timestampMs,c[10]=b.i64.sub(b.i64.lt(c[8],c[3])?c[8]:c[3],b.i64.cast([0,1])),b.i64.lt(c[10],c[5])?b.seq([function(a){return b.fe(b.db.table(9).fetch([[[c[4]]]]),function(a){var b=a.update;a.item;return b({lastReadWatermarkTimestampMs:c[10]})})},function(a){return c[9]=c[10]}]):b.resolve(c[9]=e)},function(a){return c[6]=c[9]}]))})},function(a){return c[2]=c[6]}])},function(a){return c[0]=c[2]}]))})},function(a){return d[0]=c[0]}])},function(a){return b.resolve(d)}])}b=a;f["default"]=b}),66);
__d("LSMuteCallsFromThread",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[6]=b.syncGroup,c.i64.neq(d[6],f)?d[5]=d[6]:d[5]=c.i64.cast([0,1]),d[0]=d[5])})},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("mailbox_type",a[1]),d[2].set("mute_calls_expire_time_ms",a[2]),d[2].set("request_id",a[3]),d[2].set("sync_group",d[0]),d[3]=d[2].get("thread_key"),d[2],d[4]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,229]),d[4],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticMarkThreadUnread",["LSIssueNewTask","LSMarkThreadUnread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return c.sp(b("LSMarkThreadUnread"),a[0]).then(function(a){return a=a,d[0]=a[0],a})},function(e){return c.i64.neq(d[0],f)?c.seq([function(b){return function(a){c.logger(a).info(a)}("optimisticMarkThreadUnread issuing task"),c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[1]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[1]=d[6])})},function(e){return d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("last_read_watermark_timestamp_ms",d[0]),d[3].set("sync_group",d[1]),d[4]=d[3].get("thread_key"),d[3],d[5]=c.toJSON(d[3]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,49]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}]):c.resolve()},function(a){return e[0]=d[0]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticMuteThread",["LSIssueNewTaskWithExtraOperationsAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.fe(c.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({muteExpireTimeMs:a[2]})})},function(e){return c.sp(b("LSIssueNewTaskWithExtraOperationsAndGetTaskID"),c.i64.to_string(a[0]),c.i64.cast([0,144]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,1]),f,c.i64.cast([0,0]),f).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.db.table(32).add({taskId:d[0],threadKey:a[0]})}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSRemoveThreadFromInbox",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.fe(c.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({secondaryParentThreadKey:f})})},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=d[0].get("thread_key"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),["unbump_bump_action","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,523]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSReportCommunityChannel",["LSIssueNewError","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),f).then(function(a){return d[5]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),f).then(function(a){return d[6]=a})},function(a){return c.sp(b("LSIssueNewError"),f,c.i64.cast([0,1545093]),d[5],d[6],f,f)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[3]=d[2].get("thread_key"),d[2],d[4]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),c.i64.to_string(d[3]),c.i64.cast([0,371]),d[4],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUpdateUnpinnedThreadsTag",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(c,d){d=c.done;c=c.value;return d?0:(c.item,b.fe(b.db.table(9).fetch([[[a[0]]]]),function(a){var c=a.update;a=a.item;return c({threadTags:b.i64.and_(a.threadTags==null?b.i64.cast([0,0]):a.threadTags,b.i64.cast([-1,4294950911]))})}))})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSRemovePinnedThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(82).fetch([[[a[0]]]]),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSOptimisticallyRemovePinnedThread",["LSIssueNewTaskWithExtraOperations","LSRemovePinnedThread","LSUpdateUnpinnedThreadsTag"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(d){return c.sp(b("LSRemovePinnedThread"),a[0])},function(d){return c.sp(b("LSUpdateUnpinnedThreadsTag"),a[0])},function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.sp(b("LSIssueNewTaskWithExtraOperations"),"pin_thread",c.i64.cast([0,158]),d[1],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),f)}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("GroupsCometChatsChannelInviteLinkQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5354048408027065"}),null);
__d("GroupsCometChatsChannelInviteLinkQuery$Parameters",["GroupsCometChatsChannelInviteLinkQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometChatsChannelInviteLinkQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatsChannelInviteLinkQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometChatsChannelInviteLink.entrypoint",["GroupsCometChatsChannelInviteLinkQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{parameters:c("GroupsCometChatsChannelInviteLinkQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometChatsChannelInviteLink.react").__setRef("GroupsCometChatsChannelInviteLink.entrypoint")};g["default"]=a}),98);
__d("GroupsCometChatsThreadNotificationSettingsDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("GroupsCometChatsThreadNotificationSettingsDialog.react").__setRef("GroupsCometChatsThreadNotificationSettingsDialog.entrypoint")};b=a;g["default"]=b}),98);
__d("useMWLSArchiveThread",["LSFactory","LSIntEnum","LSOptimisticRemoveThread","LSThreadRemoveType","emptyFunction","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.onSuccess,e=b===void 0?c("emptyFunction"):b;b=a.onFailure;var f=b===void 0?c("emptyFunction"):b,g=c("useReStore")();return h(function(a){c("promiseDone")(g.runInTransaction(function(b){return c("LSOptimisticRemoveThread")(a,d("LSIntEnum").ofNumber(c("LSThreadRemoveType").ARCHIVE_THREAD),c("LSFactory")(b))},"readwrite"),e,f)},[f,e,g])}g["default"]=a}),98);
__d("MWInboxInfoBlockMessages.react",["fbt","I64","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSIntEnum","ReQL","ReQLSuspense","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";d("react");var i=c("JSResourceForInteraction")("MWChatBlockActionDialog.react").__setRef("MWInboxInfoBlockMessages.react");function a(a){var b=a.children,e=a.contactId,g=a.loggingEntryPoint,j=a.loggingSource,k=a.loggingSourceOwner;a=a.thread;var l=c("useReStore")(),m=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(l.table("contacts")).getKeyRange(e)},[l,e],f.id+":53"),n={loggingData:{entryPoint:g,requestId:void 0,source:j,sourceOwner:k},targetFBID:d("I64").to_string(e),thread:a};g=c("useMWXLazyDialog")(i);var o=g[0];j=function(){return o(n,function(){})};if(m==null)return null;k=m!=null?d("I64").equal(m.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").MESSAGE_BLOCKED)):!1;a=m!=null?d("I64").equal(m.blockedByViewerStatus,d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").FULLY_BLOCKED)):!1;g=k||a?h._("__JHASH__gK8LyonAlSA__JHASH__"):h._("__JHASH__VwQDHTMs5Bj__JHASH__");return b(j,g,a||k)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSettingsDeleteConversation.react",["fbt","I64","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWThreadListHoverButtonDropdownMenuIcons","MWXMenuItem.react","MessageRequestsLog","MessengerWebUXLogger","ODS","ThreadStatus","gkx","react","useMWEntrypoint","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useRef,k=c("gkx")("571");function a(a){var b=a.disabled;b=b===void 0?!1:b;var e=a.entryPoint,f=a.onClick,g=a.onSelectItem,l=a.thread;a=j(null);var m=l!=null?d("LSMessagingThreadTypeUtil").isMessageRequest(l):!1,n=l!=null?d("LSMessagingThreadTypeUtil").isCMSubthread(l==null?void 0:l.threadType):!1,o=l!=null?d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(l.threadType):!1,p=l!=null?d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(l.threadType):!1,q=l!=null&&d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(154),l),r=(l==null?void 0:l.threadStatus)!=null&&d("I64").equal(l.threadStatus,d("I64").of_int32(c("ThreadStatus").PAUSED));o=o||p?h._("__JHASH__14sfvnRMjcT__JHASH__"):n?h._("__JHASH__D2I-wP7DitU__JHASH__"):h._("__JHASH__nb0oz9cfTdt__JHASH__");p=c("useMWEntrypoint")();var s=(e=e)!=null?e:p;e=c("JSResourceForInteraction")("MWChatDeleteConversationDialog.react").__setRef("MWChatSettingsDeleteConversation.react");p=c("JSResourceForInteraction")("MWCMDeleteOrPauseChatDialog.react").__setRef("MWChatSettingsDeleteConversation.react");var t=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();p=c("useMWXLazyDialog")(p);var u=p[0];p=c("useMWXLazyDialog")(e);var v=p[0],w=function(){if(l==null)return;var a={entryPoint:q&&!r?void 0:s,onConfirm:function(){l!=null&&m&&d("MessageRequestsLog").logActionConfirmed(l,8),f==null?void 0:f()},thread:l};q&&!r?u(a):v(a)};return l==null?null:i.jsx(c("MWXMenuItem.react"),{disabled:b,icon:n?c("MWThreadListHoverButtonDropdownMenuIcons").RemoveSidechat:c("MWThreadListHoverButtonDropdownMenuIcons").DeleteConversation,onClick:function(a){d("ODS").bumpEntityKey(3185,"mwchat_settings","delete_conv"),t==null?void 0:t({eventName:"open_delete_thread_dialog",threadKey:l==null?void 0:l.threadKey,threadType:l==null?void 0:l.threadType}),l!=null&&m&&d("MessageRequestsLog").logActionTapped(l,8),g==null?void 0:g(),w()},primaryColor:n&&k?"negative":void 0,primaryText:o,ref:a,testid:void 0})}g["default"]=a}),98);
__d("MWInboxInfoPrivacyAndSupportSectionIcons",["cr:3157"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:3157")}),98);
__d("useMWCMGetReportCommunityDialogTriggerHook",["fbt","I64","Int64Hooks","LSFactory","LSIntEnum","LSInternetConnectionState","LSReportCommunityChannel","ReQL","ReQLSuspense","cometPushToast","promiseDone","react","useCometConfirmationDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useCallback;function a(a){var b=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(b.table("connectivity_status"))},[b],f.id+":34"),g=h._("__JHASH__2FPFOBzzr76__JHASH__"),j=d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(b.runInTransaction(function(b){return c("LSReportCommunityChannel")(a.threadKey,c("LSFactory")(b))},"readwrite"),function(){(e==null||d("I64").equal(e.internetConnectionState,d("LSIntEnum").ofNumber(c("LSInternetConnectionState").CONNECTED)))&&d("cometPushToast").cometPushSimpleToast(g)})},[b,a.threadKey,e,g]),k=c("useCometConfirmationDialog")();return i(function(){return k({body:h._("__JHASH__rc4cvhQhzGs__JHASH__"),cancel:h._("__JHASH__ddF1YsNwDg4__JHASH__"),confirm:h._("__JHASH__m9ILY9EaLLQ__JHASH__"),title:h._("__JHASH__PAQ4W9lWvFK__JHASH__")},j)},[j,k])}g["default"]=a}),98);
__d("MWCMReportGroupToAdminMenuItem.react",["fbt","MWInboxInfoPrivacyAndSupportSectionIcons","MWPBumpEntityKey","MWXMenuItem.react","react","useMWCMGetReportCommunityDialogTriggerHook"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b=a.onSelectItem;a=a.thread;var e=h._("__JHASH__CHnyxuUNpic__JHASH__"),f=c("useMWCMGetReportCommunityDialogTriggerHook")(a);a=j(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","privacy_support_section_report_to_admin"),b==null?void 0:b(),f()},[b,f]);return i.jsx(c("MWXMenuItem.react"),{"aria-label":e,icon:c("MWInboxInfoPrivacyAndSupportSectionIcons").ReportMessages,onClick:a,primaryText:e})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BroadcastChannelQPL",["LSMessagingThreadTypeUtil","QuickPerformanceLogger","emptyFunction","qpl","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=h(function(){c("QuickPerformanceLogger").markerStart(c("qpl")._(975838536,"1760"))},[]);return a?b:c("emptyFunction")}function b(a){var b=h(function(){c("QuickPerformanceLogger").markerPoint(c("qpl")._(975838536,"1760"),"confirmation_dialog_rendered")},[]);return a?b:c("emptyFunction")}function e(a){var b=h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975838536,"1760"),3)},[]);return a?b:c("emptyFunction")}function f(a){var b=h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975838536,"1760"),2)},[]);return a?b:c("emptyFunction")}function i(a){var b=h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975838536,"1760"),4)},[]);return a?b:c("emptyFunction")}function j(a){var b=h(function(){c("QuickPerformanceLogger").markerPoint(c("qpl")._(975838536,"1760"),"confirm_click")},[]);return a?b:c("emptyFunction")}function k(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var b=h(function(){c("QuickPerformanceLogger").markerStart(c("qpl")._(975844490,"1761"))},[]);return a?b:c("emptyFunction")}function l(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var b=h(function(){c("QuickPerformanceLogger").markerPoint(c("qpl")._(975844490,"1761"),"confirmation_dialog_rendered")},[]);return a?b:c("emptyFunction")}function m(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var b=h(function(){c("QuickPerformanceLogger").markerPoint(c("qpl")._(975844490,"1761"),"confirm_click")},[]);return a?b:c("emptyFunction")}function n(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var b=h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975844490,"1761"),4)},[]);return a?b:c("emptyFunction")}function o(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var b=h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975844490,"1761"),2)},[]);return a?b:c("emptyFunction")}function p(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var b=h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975844490,"1761"),3)},[]);return a?b:c("emptyFunction")}function q(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var b=h(function(){c("QuickPerformanceLogger").markerStart(c("qpl")._(975834528,"1762"))},[]);return a?b:c("emptyFunction")}function r(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var b=h(function(){c("QuickPerformanceLogger").markerPoint(c("qpl")._(975834528,"1762"),"confirmation_dialog_rendered")},[]);return a?b:c("emptyFunction")}function s(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var b=h(function(){c("QuickPerformanceLogger").markerPoint(c("qpl")._(975834528,"1762"),"confirm_click")},[]);return a?b:c("emptyFunction")}function t(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var b=h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975834528,"1762"),2)},[]);return a?b:c("emptyFunction")}function u(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var b=h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975834528,"1762"),4)},[]);return a?b:c("emptyFunction")}function v(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var b=h(function(){c("QuickPerformanceLogger").markerStart(c("qpl")._(975837640,"1763"))},[]);return a?b:c("emptyFunction")}function w(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var b=h(function(){c("QuickPerformanceLogger").markerPoint(c("qpl")._(975837640,"1763"),"confirmation_dialog_rendered")},[]);return a?b:c("emptyFunction")}function x(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var b=h(function(){c("QuickPerformanceLogger").markerPoint(c("qpl")._(975837640,"1763"),"confirm_click")},[]);return a?b:c("emptyFunction")}function y(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var b=h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975837640,"1763"),2)},[]);return a?b:c("emptyFunction")}function z(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType);var b=h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975837640,"1763"),4)},[]);return a?b:c("emptyFunction")}function A(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a);var b=h(function(){c("QuickPerformanceLogger").markerStart(c("qpl")._(975847333,"1807"))},[]);return a?b:c("emptyFunction")}function B(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a);var b=h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975847333,"1807"),4)},[]);return a?b:c("emptyFunction")}function C(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a);var b=h(function(a){c("QuickPerformanceLogger").markerPoint(c("qpl")._(975847333,"1807"),"confirm_click",{data:a})},[]);return a?b:c("emptyFunction")}function D(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a);var b=h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975847333,"1807"),2)},[]);return a?b:c("emptyFunction")}function E(a){a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a);var b=h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975847333,"1807"),3)},[]);return a?b:c("emptyFunction")}function F(a){var b=String(a);return h(function(){c("QuickPerformanceLogger").markerStart(c("qpl")._(975842187,"1868")),c("QuickPerformanceLogger").markerAnnotate(c("qpl")._(975842187,"1868"),{string:{channel_type:b}})},[b])}function G(){return h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975842187,"1868"),4)},[])}function H(){return h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975842187,"1868"),2)},[])}function I(){return h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975842187,"1868"),3)},[])}function J(a){var b=String(a);return h(function(){c("QuickPerformanceLogger").markerStart(c("qpl")._(975837312,"1871")),c("QuickPerformanceLogger").markerAnnotate(c("qpl")._(975837312,"1871"),{string:{channel_type:b}})},[b])}function K(){return h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975837312,"1871"),2)},[])}function L(){return h(function(){c("QuickPerformanceLogger").markerEnd(c("qpl")._(975837312,"1871"),3)},[])}g.useLogLeaveChannelStart=a;g.useLogLeaveChannelDialogRendered=b;g.useLogLeaveChannelFailed=e;g.useLogLeaveChannelSuccess=f;g.useLogLeaveChannelCanceled=i;g.useLogLeaveChannelConfirmClick=j;g.useLogDeleteChannelStart=k;g.useLogDeleteChannelDialogRendered=l;g.useLogDeleteChannelConfirmClick=m;g.useLogDeleteChannelCanceled=n;g.useLogDeleteChannelSuccess=o;g.useLogDeleteChannelFailed=p;g.useLogMuteChannelStart=q;g.useLogMuteChannelDialogRendered=r;g.useLogMuteChannelConfirmClick=s;g.useLogMuteChannelSuccess=t;g.useLogMuteChannelCanceled=u;g.useLogRemoveMemberStart=v;g.useLogRemoveMemberDialogRendered=w;g.useLogRemoveMemberConfirmClick=x;g.useLogRemoveMemberSuccess=y;g.useLogRemoveMemberCanceled=z;g.useLogEditChannelStart=A;g.useLogEditChannelCancel=B;g.useLogEditChannelConfirmClick=C;g.useLogEditChannelSuccess=D;g.useLogEditChannelFail=E;g.useLogCreateChannelStart=F;g.useLogCreateChannelCancel=G;g.useLogCreateChannelSuccess=H;g.useLogCreateChannelFail=I;g.useLogJoinChannelStart=J;g.useLogJoinChannelSuccess=K;g.useLogJoinChannelFail=L}),98);
__d("useMWPRemoveFromGroup",["LSFactory","LSOptimisticRemoveParticipantsFromGroupThread","LSVec","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=c("useReStore")();return function(d){return b.runInTransaction(function(b){return c("LSOptimisticRemoveParticipantsFromGroupThread")(a.threadKey,c("LSVec").make([d]),c("LSFactory")(b))},"readwrite")}}g["default"]=a}),98);
__d("useMWXConfirmationDialog",["fbt","JSResourceForInteraction","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useCallback,j=c("JSResourceForInteraction")("MWXConfirmationDialog.react").__setRef("useMWXConfirmationDialog");function a(){var a=c("useMWXLazyDialog")(j),b=a[0];return i(function(a,c,d){var e=a.cancel;e=e===void 0?h._("__JHASH__ko1T7DvDF-J__JHASH__"):e;a=babelHelpers.objectWithoutPropertiesLoose(a,["cancel"]);b(babelHelpers["extends"]({cancel:e},a,{onCancel:d,onConfirm:c}),d)},[b])}g["default"]=a}),98);
__d("useMWLSConfirmRemoveFromGroup",["fbt","BroadcastChannelQPL","CommunityMessagingEnableState","GroupsCometChatsThreadNotificationSettingsDialog.entrypoint","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWChatStateV2.bs","MWChatStateV2Types","MWPActor.react","ReQL","ReQLSuspense","cr:2190","promiseDone","react","useCometTwoButtonDialog","useCommunityFolder","useMWPRemoveFromGroup","useMWXConfirmationDialog","useMWXEntryPointDialog","useReStore","useShouldShowMessagingEntrypointInCometRoot"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react").useCallback;function j(a){var b=d("MWChatStateV2.bs").useDispatch(),e=c("useShouldShowMessagingEntrypointInCometRoot")("CHAT");return d("Int64Hooks").useCallbackInt64(function(){if(e)return b([{tabConfig:{shouldFocus:!1},threadKey:a.threadKey,type:d("MWChatStateV2Types").MWChatStateActionsType.UpdateTabByThreadKey,updater:function(a){return{clientForcedMinimizeWatermark:a.clientForcedMinimizeWatermark,closeWatermark:Date.now(),minimizeWatermark:a.minimizeWatermark,openFlyoutWatermark:a.openFlyoutWatermark,openWatermark:a.openWatermark,tabId:a.tabId,tabType:a.tabType}}}])},[b,a.threadKey,e])}function a(a,e,g,k){var l=c("useReStore")(),m=c("useMWXConfirmationDialog")(),n=c("useCometTwoButtonDialog")(),o=n[0],p=c("useReStore")(),q=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),r=d("MWPActor.react").useActor(),s=c("useCommunityFolder")(a),t=j(a);n=c("useMWXEntryPointDialog")(c("GroupsCometChatsThreadNotificationSettingsDialog.entrypoint"),{});var u=n[0];n=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(p.table("participants")).getKeyRange(a.threadKey).filter(function(a){return a.isAdmin===!0})},[p,a.threadKey],f.id+":101");var v=d("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(a.threadType),w=d("BroadcastChannelQPL").useLogLeaveChannelFailed(v),x=d("BroadcastChannelQPL").useLogLeaveChannelSuccess(v),y=d("BroadcastChannelQPL").useLogLeaveChannelCanceled(v),z=d("BroadcastChannelQPL").useLogLeaveChannelConfirmClick(v),A;if(n.length!==1)A=!1;else{n=n[0];A=d("I64").equal(n.contactId,r)}var B=c("useMWPRemoveFromGroup")(a),C;b("cr:2190")==null||!q?C=function(){return B(r)["catch"](function(a){w()})}:C=b("cr:2190").createLeaveGroupCallback(p,a);var D=d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType),E=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType),F=E||v,G=(s==null?void 0:s.enableState)!=null?d("I64").equal(s.enableState,d("LSIntEnum").ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED)):!1,H=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(148),a);n=i(function(b){var f,i={body:h._("__JHASH__tYjECA-JMve__JHASH__"),primary:h._("__JHASH__84tRkBdswmn__JHASH__"),secondary:h._("__JHASH__MsiCQHzrwZ-__JHASH__"),title:h._("__JHASH__kdMIdWbI2GQ__JHASH__")};if(D)f=g&&!G?{body:h._("__JHASH__C7oYPNrxjXN__JHASH__"),cancel:h._("__JHASH__ddF1YsNwDg4__JHASH__"),confirm:h._("__JHASH__aLJ9G9O9Z-l__JHASH__"),title:h._("__JHASH__cv8FKTkYBi3__JHASH__")}:{body:h._("__JHASH__qDe6HOW_WCc__JHASH__"),cancel:h._("__JHASH__ddF1YsNwDg4__JHASH__"),confirm:h._("__JHASH__P-vH7rwBgCZ__JHASH__"),title:h._("__JHASH__kdMIdWbI2GQ__JHASH__")};else if(A){var j=q?h._("__JHASH__eZfGyNt11Cm__JHASH__"):E?h._("__JHASH__BEVIOvSF3ox__JHASH__"):h._("__JHASH__fW6fOUpu5tE__JHASH__");f={body:j,cancel:h._("__JHASH__ddF1YsNwDg4__JHASH__"),confirm:E?h._("__JHASH__WVOuan41UU8__JHASH__"):h._("__JHASH__bU3YKc9RZql__JHASH__"),title:h._("__JHASH__juCmaR5t1zN__JHASH__")}}else f={body:F?h._("__JHASH__JaySTHgWj1m__JHASH__"):h._("__JHASH__s2dfnMnu39S__JHASH__"),cancel:h._("__JHASH__ddF1YsNwDg4__JHASH__"),confirm:F?h._("__JHASH__pJ_FRSGu9We__JHASH__"):h._("__JHASH__bU3YKc9RZql__JHASH__"),title:F?h._("__JHASH__ndOH7hn2AZL__JHASH__"):h._("__JHASH__Bgt7Blf_rD3__JHASH__")};j=!0;var n=e&&j;return H&&D&&(!g||G)?o(i,function(d){if(d==="PRIMARY")return u({groupId:s==null?void 0:s.fbGroupId,threadKey:a.threadKey},function(a){return a});else if(d==="SECONDARY"){b();c("promiseDone")(C(r));t();if(n){k();return}else return}}):m(f,function(){b();z();c("promiseDone")(C(r));t();var e=d("ReQL").fromTableAscending(l.table("threads")).getKeyRange(a.threadKey).subscribe(function(a,b){b.operation==="delete"&&(x(),e())});if(n){k();return}else return},function(){y()})},[D,A,e,H,g,G,m,q,E,F,o,u,s==null?void 0:s.fbGroupId,a.threadKey,C,r,t,k,z,l,x,y]);v=D?h._("__JHASH__UR56yPCEkoE__JHASH__"):F?h._("__JHASH__d6-3HUAkz-W__JHASH__"):h._("__JHASH__tUW5klrDtLZ__JHASH__");return[n,v]}g["default"]=a}),98);
__d("MWLSLeaveGroupMenuItem.react",["I64","MWCMThreadTypes.react","MWThreadListHoverButtonDropdownMenuIcons","MWXMenuItem.react","MessengerWebUXLogger","ODS","react","useCommunityFolder","useMWLSConfirmRemoveFromGroup","useMWNavigateAfterLeavingGroup"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.icon,e=a.navigateAfterLeavingGroup,f=a.onSelectItem,g=a.shouldNavigate,i=a.thread;a=i.memberCount;a=a!=null?d("I64").to_int32(a)>1:!1;g=c("useMWLSConfirmRemoveFromGroup")(i,g,!a,e);var j=g[0];a=g[1];var k=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return h.jsx(c("MWXMenuItem.react"),{"aria-label":a,icon:b,onClick:function(){d("ODS").bumpEntityKey(3185,"mwchat_settings","leave_group");k==null?void 0:k({eventName:"leave_group",threadKey:i.threadKey,threadType:i.threadType});f==null?void 0:f();return j(function(){})},primaryText:a,testid:void 0})}i.displayName=i.name+" [from "+f.id+"]";function j(a){var b=a.icon,e=a.navigateAfterLeavingGroup,f=a.onSelectItem,g=a.shouldNavigate,i=a.thread;a=c("useMWLSConfirmRemoveFromGroup")(i,g,!1,e);var j=a[0];g=a[1];var k=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return h.jsx(c("MWXMenuItem.react"),{"aria-label":g,icon:b,onClick:function(){k==null?void 0:k({eventName:"leave_group",threadKey:i.threadKey,threadType:i.threadType});d("ODS").bumpEntityKey(3185,"mwchat_settings","leave_group");f==null?void 0:f();return j(function(){})},primaryText:g,testid:void 0})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.onSelectItem,e=a.shouldNavigate;e=e===void 0?!1:e;a=a.thread;var f=c("useMWNavigateAfterLeavingGroup")(a),g=c("useCommunityFolder")(a),k=d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType),l=c("MWThreadListHoverButtonDropdownMenuIcons").LeaveChat;return g!=null&&k?h.jsx(i,{icon:l,navigateAfterLeavingGroup:f,onSelectItem:b,shouldNavigate:e,thread:a}):h.jsx(j,{icon:l,navigateAfterLeavingGroup:f,onSelectItem:b,shouldNavigate:e,thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMChannelLinkShareTrigger.react",["GroupsCometChatsChannelInviteLink.entrypoint","I64","react","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";d("react");function a(a){var b=a.children;a=a.thread;a=c("useMWXEntryPointDialog")(c("GroupsCometChatsChannelInviteLink.entrypoint"),{threadID:d("I64").to_string(a.threadKey)});var e=a[0];return b(function(){return e({})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMLogMuteDuration.react",["C4gEngagementFalcoEvent","MessengerSurfaceType.bs"],(function(a,b,c,d,e,f,g){"use strict";function h(a){var b;return{"1_hour":(b=a.oneHour)!=null?b:"0","15_min":(b=a.fifteenMin)!=null?b:"0","24_hour":(b=a.twentyFourHour)!=null?b:"0","8_hour":(b=a.eightHour)!=null?b:"0",until_i_turn_it_back_on:(b=a.always)!=null?b:"0"}}function i(a){switch(a){case 9e5:return h({fifteenMin:"1"});case 36e5:return h({oneHour:"1"});case 288e5:return h({eightHour:"1"});case 864e5:return h({twentyFourHour:"1"});case-1:return h({always:"1"});default:return h({})}}function a(a,b,e,f,g,h){h===void 0&&(h={});var j=g===0?h:babelHelpers["extends"]({},h,i(g));return c("C4gEngagementFalcoEvent").log(function(){return{action:"tap",client_extras:j,event:e,group_id:a,source:f,surface:String(d("MessengerSurfaceType.bs").messenger),thread_id:b}})}g.log=a}),98);
__d("MWCMMarkBumpedThreadsSeen",["LSFactory","LSMarkBumpedThreadsSeen","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){a!=null&&(yield b.runInTransaction(function(b){return c("LSMarkBumpedThreadsSeen")(a,c("LSFactory")(b))},"readwrite"))});return h.apply(this,arguments)}g.MWCMMarkBumpedThreadsSeen=a}),98);
__d("MWCMPauseChatLogger",["$InternalEnum","I64","gkx","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("GroupsCometChatsEngagementLogger").__setRef("MWCMPauseChatLogger"),i=b("$InternalEnum")({INBOX:"messenger_dot_com",CHAT_TAB:"comet_www_chat",COMET_INBOX:"comet_www_inbox",FULLSCREEN_CHAT:"comet_www_fullscreen_chat"});function j(a){var b=c("gkx")("1968579"),d=null;a!=null&&(a==="Inbox"?d=b?i.INBOX:i.COMET_INBOX:a==="ChatTab"?d=i.CHAT_TAB:a==="FullscreenChat"&&(d=i.FULLSCREEN_CHAT));return d}function a(a){var b=a.action,c=a.clientExtras,e=a.displayContext,f=a.event,g=a.parentSurface,i=a.source,k=a.surface,l=a.threadId,m=j(e);h.onReady(function(a){return a.log({action:b,client_extras:m!=null?babelHelpers["extends"]({},c,{entry_point:m}):babelHelpers["extends"]({},c),event:f,parent_surface:g,source:i,surface:k,thread_id:d("I64").to_string(l)})})}g.getEntrypoint=j;g.logPauseEvent=a}),98);
__d("MWCMPauseChatMenuItem.react",["fbt","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWCMPauseChatLogger","MWLSThreadDisplayContext","MWThreadListHoverButtonDropdownMenuIcons","MWXMenuItem.react","ThreadStatus","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.thread,e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWCMPauseChatDialog.react").__setRef("MWCMPauseChatMenuItem.react"));var f=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWCMResumePausedChatDialog.react").__setRef("MWCMPauseChatMenuItem.react"));var g=a[0],j=b.threadStatus!=null&&d("I64").equal(b.threadStatus,d("I64").of_int32(c("ThreadStatus").PAUSED)),k=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(b.threadType);a=function(){d("MWCMPauseChatLogger").logPauseEvent({action:"tap",displayContext:e,event:"pause_chat_initiated",parentSurface:"thread_list",source:"pause_chat_button",surface:"chat_cell_menu",threadId:b.threadKey}),f({onClose:function(){},thread:b})};var l=function(){d("MWCMPauseChatLogger").logPauseEvent({action:"tap",displayContext:e,event:"resume_chat_initiated",parentSurface:"thread_list",source:"resume_chat_button",surface:"chat_cell_menu",threadId:b.threadKey}),g({onClose:function(){},shouldUseChannelTerminology:k,threadKey:b.threadKey})},m=function(){return k?j?h._("__JHASH__MTG9PJAasXF__JHASH__"):h._("__JHASH__kHldi0JhnpQ__JHASH__"):j?h._("__JHASH__QpKmIM5rjsV__JHASH__"):h._("__JHASH__zuRMhdc_WHY__JHASH__")};return i.jsx(c("MWXMenuItem.react"),{icon:j?c("MWThreadListHoverButtonDropdownMenuIcons").ResumeChat:c("MWThreadListHoverButtonDropdownMenuIcons").PauseChat,onClick:j?l:a,primaryText:m()})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWInboxInfoFRX",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWGetLSThreadReportingTokenFromThread","MWPThreadIsPage.react","MessengerWebUXLogger","cr:2580","qex","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var e=a.entryPoint,f=a.onPress,g=a.thread,h=g.threadKey,i=g.threadType;a=c("MWGetLSThreadReportingTokenFromThread")(g);var j=d("MWPThreadIsPage.react").useIsPage(),k=d("LSMessagingThreadTypeUtil").isOneToOne(i),l=d("LSMessagingThreadTypeUtil").isGroup(i),m=d("LSMessagingThreadTypeUtil").isSecure(i),n=d("LSMessagingThreadTypeUtil").isCMSubthread(i),o=d("MWCMThreadTypes.react").isJoinedCMThread(i),p=c("qex")._("1523")===!0,q=j?{entryPoint:"report_button",id:a,location:"messenger_p2b_direct_thread_details"}:k&&m&&p?{entryPoint:"report_button",id:a,location:"messenger_encrypted_direct_thread"}:k&&!m?{entryPoint:"report_button",id:a,location:"messenger_direct_thread_details"}:o?{entryPoint:"report_button",id:a,location:"messenger_community_messaging_group_thread_details"}:l&&m&&p?{entryPoint:"report_button",id:a,location:"messenger_encrypted_group_thread"}:l&&!m?{entryPoint:"report_button",id:a,location:"messenger_group_thread_details"}:n&&!m?{entryPoint:"report_button",id:a,location:"messenger_community_messaging_subthread_view"}:void 0;j=c("useMWXLazyDialog")(c("JSResourceForInteraction")("CometFRX_DEPRECATED.react").__setRef("useMWInboxInfoFRX"));var r=j[0],s=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return function(){q!=null&&(r(q),b("cr:2580")&&e!=null&&b("cr:2580")({threadKey:h,threadType:i},"report_thread",e),s==null?void 0:s({eventName:"report_thread",threadKey:g.threadKey,threadType:g.threadType})),f==null?void 0:f()}}g["default"]=a}),98);
__d("MWInboxInfoFRXMenuItem.react",["fbt","LSIntEnum","LSThreadBitOffset","MWXMenuItem.react","react","useMWInboxInfoFRX"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.entryPoint,e=a.icon,f=a.onPress,g=a.primaryText;g=g===void 0?h._("__JHASH__M165p0BvI51__JHASH__"):g;var j=a.secondaryText;a=a.thread;var k=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(17),a);b=c("useMWInboxInfoFRX")({entryPoint:b,onPress:f,thread:a});return k?i.jsx(c("MWXMenuItem.react"),{icon:e,onClick:b,primaryText:g,secondaryText:j}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWLSMarkThreadAsUnread",["LSFactory","LSOptimisticMarkThreadUnread","MWThreadKey.react","MessengerWebUXLogger","cr:2865","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=(e=b("cr:2865"))!=null?e:function(){return{}};function a(){var a=c("useReStore")(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),f=i(),g=f.setIsPassive;return h(function(){e==null?void 0:e({eventName:"mark_thread_as_unread"}),g!=null&&g(!0),c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticMarkThreadUnread")(b,c("LSFactory")(a))},"readwrite"))},[e,g,a,b])}g["default"]=a}),98);
__d("useMWLSThreadHasThread",["MWThreadKey.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useReStore")(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(a.table("messages_ranges_v2__generated")).getKeyRange(b)},[a,b],f.id+":21")!=null}g["default"]=a}),98);
__d("MWMuteLabel",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__eAj1-l7LtAU__JHASH__");g["default"]=a}),98);
__d("MWUnmuteLabel",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("__JHASH__vpk4cwy2c0D__JHASH__");g["default"]=a}),98);
__d("useMWChatUnmuteThread",["I64","LSFactory","LSIntEnum","LSMailboxType","LSMuteCallsFromThread","LSOptimisticMuteThread","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")(),b=d("I64").zero;return h(function(e){var f=d("I64").to_string(e.threadKey);d("I64").equal(e.muteExpireTimeMs,b)||c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticMuteThread")(d("I64").of_string(f),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),d("I64").zero,c("LSFactory")(a))},"readwrite"));if(!d("I64").equal(e.muteCallsExpireTimeMs,b)){c("promiseDone")(a.runInTransaction(function(a){return c("LSMuteCallsFromThread")(d("I64").of_string(f),d("LSIntEnum").ofNumber(c("LSMailboxType").MESSENGER),d("I64").zero,void 0,c("LSFactory")(a))},"readwrite"));return}},[a,b])}g["default"]=a}),98);
__d("useMWLSRTCDisplayStatus",["I64","Int64Hooks","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","MWChatIsMessageRequest.bs","MWLSFeatureLimitedStatus.bs","MWLSThread","MWLSThreadCapabilities.bs","MWPActor.react","MWThreadKey.react","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","gkx","react","useMWLSThreadFolder","useMWLSThreadHasThread","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo;function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),b=d("MWLSThread").useThread(a),e=c("useMWLSThreadFolder")(),g=c("useMWLSThreadHasThread")();e=d("MWChatIsMessageRequest.bs").fn((e=e)!=null?e:void 0);var i=d("MWPActor.react").useActor(),j=c("useReStore")(),k=d("ReQLSubscription.bs").useFirst(h(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(j.table("participants")),{hd:a,tl:{hd:i,tl:0}})},[j,a,i]),"o4kzhxm7",f.id+":53")!=null,l=d("ReQLSubscription.bs").useArray(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").take(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(j.table("participants")),{hd:a,tl:0}),2),function(a){return!d("I64").equal(a.contactId,i)}),function(a){return d("ReQLSuspense").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(j.table("contacts")),{hd:a.contactId,tl:0}),f.id+":85")})},[j,a,i]),"rxpegigt",f.id+":67"),m=l.every(function(a){var b;if(a!=null&&!((b=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(16),a))!=null?b:!0)){return(b=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(17),a))!=null?b:!0}else return!0}),n=d("MWLSThreadCapabilities.bs").useCapabilities();n=d("MWLSThreadCapabilities.bs").canRtcVideoCall(n)||d("MWLSThreadCapabilities.bs").canRtcVoiceCall(n);var o=d("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited();n=n&&g&&!o;g=b!=null?[d("LSMessagingThreadTypeUtil").isOneToOne(b.threadType),d("LSMessagingThreadTypeUtil").isGroup(b.threadType)]:[!1,!1];if(l.length!==1)o=!1;else{b=l[0];o=b!=null?d("I64").equal(b.contactType,d("LSIntEnum").ofNumber(c("LSContactType").PAGE)):!1}if(n)if(e)return{_0:void 0,TAG:1};else if(g[0]||g[1]&&k||o&&c("gkx")("1710932")&&m)return{_0:void 0,TAG:0};else return{_0:void 0,TAG:2};else return{_0:void 0,TAG:2}}g["default"]=a}),98);
__d("MWCMBumpUnbumpThreadMenuItem.react",["fbt","C4GFalcoLoggerDeferred","CurrentEnvironment","I64","Int64Hooks","LSAddThreadToInbox","LSFactory","LSPlatformWaitForTaskCompletion","LSRemoveThreadFromInbox","MWCMIsThreadBumped","MWCMJewelContext","MWPBumpEntityKey","MWThreadListHoverButtonDropdownMenuIcons","MWXMenuItem.react","cometPushToast","promiseDone","react","useReStore","useTopMostRouteCometEntityKey"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext;function k(a){var b=a.parentSurface,e=a.thread,f=c("useReStore")();a=d("Int64Hooks").useCallbackInt64(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mwchat_settings","unbump_chat"),d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"unbump_chat",group_id:d("I64").to_string(e.parentThreadKey),parent_surface:b,source:"unbump_chat_button",surface:"thread_settings",thread_id:d("I64").to_string(e.threadKey)}),c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(f,function(a){return c("LSRemoveThreadFromInbox")(e.threadKey,c("LSFactory")(a))},"readwrite").then(function(){d("cometPushToast").cometPushToast({message:c("CurrentEnvironment").messengerdotcom?h._("__JHASH__r4U-0y1iAab__JHASH__"):h._("__JHASH__d8Y_JGMH8RO__JHASH__")})}))},[f,b,e.parentThreadKey,e.threadKey]);return i.jsx(c("MWXMenuItem.react"),{icon:c("MWThreadListHoverButtonDropdownMenuIcons").UnbumpChat,onClick:a,primaryText:c("CurrentEnvironment").messengerdotcom?h._("__JHASH__rMTm3PH3-0s__JHASH__"):h._("__JHASH__rQq0DfbTG-b__JHASH__")})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.parentSurface,e=a.thread,f=c("useReStore")();a=d("Int64Hooks").useCallbackInt64(function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mwchat_settings","bump_chat"),d("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"bump_chat",group_id:d("I64").to_string(e.parentThreadKey),parent_surface:b,source:"bump_chat_button",surface:"thread_settings",thread_id:d("I64").to_string(e.threadKey)}),c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(f,function(a){return c("LSAddThreadToInbox")(e.threadKey,c("LSFactory")(a))},"readwrite").then(function(){d("cometPushToast").cometPushToast({message:c("CurrentEnvironment").messengerdotcom?h._("__JHASH__xGgxSjZ6jbh__JHASH__"):h._("__JHASH__MiN69ybE5ij__JHASH__")})}))},[f,b,e.parentThreadKey,e.threadKey]);return i.jsx(c("MWXMenuItem.react"),{icon:c("MWThreadListHoverButtonDropdownMenuIcons").BumpChat,onClick:a,primaryText:c("CurrentEnvironment").messengerdotcom?h._("__JHASH__PJIrmpBrWI0__JHASH__"):h._("__JHASH__N9btj4rzGf7__JHASH__")})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.entryPoint;a=a.thread;var d=j(c("MWCMJewelContext")),e=d.selectedFolderTab;d=(d=c("useTopMostRouteCometEntityKey")())!=null?d:{};var f=d.entity_type;d=function(){if(b==="jewel")return e===0?"jewel_inbox":"community_chat_hub";return b==="inbox"?c("CurrentEnvironment").messengerdotcom?f==="home"?"chats_inbox":"messenger_dot_com_categorized_inbox":e===0?"chats_inbox":"community_chat_hub":"chat_tab"};d=d();return c("MWCMIsThreadBumped")(a)?i.jsx(k,{parentSurface:d,thread:a}):i.jsx(l,{parentSurface:d,thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsMessengerThreadDamagingActionsSource",[],(function(a,b,c,d,e,f){a=Object.freeze({BLOCKED_PEOPLE:0,CANONICAL_THREAD:1,EMPTY_THREAD:2,GROUP_THREAD:3,INCOMING_CALL:4,PAGE:5,STORY:6,TINCAN_THREAD:7,USER:8,CARRIER_THREAD:9,MESSAGE_REQUEST:10,SUPPORT_INBOX:11,DISAPPEARING_THREAD:12,OFFLINE_RETRIES:13,ONGOING_CALL:14,POST_CALL:15,CONTACT_MANAGER:16,SECURE_OVER_WA_CANONICAL:17,SECURE_OVER_WA_GROUP:18,GROUP_COMMUNITY_MESSAGING_THREAD:19,GROUP_COMMUNITY_MEMBER_LIST:20,DISCOVERABLE_PUBLIC_CHAT:21,DISCOVERABLE_PUBLIC_BROADCAST_CHAT:22});f["default"]=a}),66);
__d("LsMessengerThreadDamagingActionsSourceOwner",[],(function(a,b,c,d,e,f){a=Object.freeze({MCI:0,MBI:1,RTC:2,HI:3});f["default"]=a}),66);
__d("MAWMarkThreadAsReadMenuItem.react",["fbt","LSMessagingThreadTypeUtil","MWPBumpEntityKey","MWThreadListHoverButtonDropdownMenuIcons","MWXMenuItem.react","cr:2580","cr:2873","cr:2996","emptyFunction","react","useMWLSMarkThreadAsRead","useMWLSMarkThreadAsUnread"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=(e=b("cr:2873"))!=null?e:c("emptyFunction"),k=(e=b("cr:2996"))!=null?e:c("emptyFunction");function a(a){var e=a.entryPoint,f=a.isUnread;a=a.thread;var g=a.threadKey,l=a.threadType,m=c("useMWLSMarkThreadAsRead")(e),n=c("useMWLSMarkThreadAsUnread")(),o=k(a,e),p=j(),q=d("LSMessagingThreadTypeUtil").isSecure(l);return i.jsx(c("MWXMenuItem.react"),{icon:c("MWThreadListHoverButtonDropdownMenuIcons").MarkAsReadOrUnread,onClick:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","group_thread_overflow_mark_as."+(f?"read":"unread")),f?o!=null&&q?o():m():(p!=null&&q?p():n(),b("cr:2580")&&e!=null&&b("cr:2580")({threadKey:g,threadType:l},"mark_thread_unread",e))},primaryText:f?h._("__JHASH__kxStFVEPa-2__JHASH__"):h._("__JHASH__R43jAshHA8i__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWDeleteThreadAndMaybeNavigate",["BroadcastChannelQPL","Int64Hooks","LSFactory","LSIntEnum","LSLocalOptimisticDeleteCommunityChannel","LSLocalOptimisticDeleteDiscoverableChat","LSMessagingThreadTypeUtil","LSOptimisticRemoveThread","LSThreadRemoveType","MWCMIsAnyCMThread","MWChatStateActions","MWChatStateV2.bs","Promise","promiseDone","useMWNavigateAfterLeavingGroup","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){var f=c("useReStore")(),g=c("useMWNavigateAfterLeavingGroup")(a),h=d("MWChatStateV2.bs").useDispatch(),i=c("MWCMIsAnyCMThread")(a.threadType),j=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType),k=d("BroadcastChannelQPL").useLogDeleteChannelFailed(a),l=d("LSMessagingThreadTypeUtil").isCMSubthread(a.threadType);return d("Int64Hooks").useCallbackInt64(function(){c("promiseDone")(f.runInTransaction(function(b){if(i||l)return c("LSLocalOptimisticDeleteCommunityChannel")(a.threadKey,c("LSFactory")(b));else if(j)return c("LSLocalOptimisticDeleteDiscoverableChat")(a.threadKey,c("LSFactory")(b));else return c("LSOptimisticRemoveThread")(a.threadKey,d("LSIntEnum").ofNumber(c("LSThreadRemoveType").DELETE_THREAD),c("LSFactory")(b))},"readwrite")["catch"](function(a){k()}).then(function(){e&&g();h(d("MWChatStateActions").closeTabByThreadKey(Date.now(),a.threadKey));return b("Promise").resolve()}))},[f,i,j,a.threadKey,k,e,h,g])}g["default"]=a}),98);
__d("MWThreadListHoverButtonDropdownMenuDeleteThreadButton.bs",["MWChatSettingsDeleteConversation.react","react","useMWDeleteThreadAndMaybeNavigate"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.entryPoint,d=a.onSelectItem,e=a.selected;a=a.thread;e=c("useMWDeleteThreadAndMaybeNavigate")(a,e);return h.jsx(c("MWChatSettingsDeleteConversation.react"),{disabled:!1,entryPoint:b,onClick:e,onSelectItem:d,thread:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWUseIsViewerThreadAdmin.react",["I64","MWPActor.react","ReQL","ReQLSuspense"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=d("MWPActor.react").useActor(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b),d("ReQL").fromTableAscending(a.table("contacts"))).filter(function(a){a[0];a=a[1];return d("I64").equal(a.id,c)}).map(function(a){var b=a[0];a[1];return b})},[a,d("I64").to_string(b),c],f.id+":25");return(e=e==null?void 0:e.isAdmin)!=null?e:!1}g["default"]=a}),98);
__d("useMWRemovePinnedThread",["LSFactory","LSOptimisticallyRemovePinnedThread","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=c("useReStore")();return h(function(){return b.runInTransaction(function(b){return c("LSOptimisticallyRemovePinnedThread")(a,c("LSFactory")(b))},"readwrite")},[b,a])}g["default"]=a}),98);
__d("MWV2ArchiveThreadMenuItem.react",["fbt","I64","LSMessagingThreadTypeUtil","MWChatStateActions","MWChatStateV2.bs","MWThreadListHoverButtonDropdownMenuIcons","MWXMenuItem.react","MessengerWebUXLogger","ODS","promiseDone","react","useMWLSArchiveThread","useMWLSThreadIsPinned","useMWLSUnarchiveThread","useMWRemovePinnedThread"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo;function a(a){var b=a.entryPoint,e=a.threadKey,f=a.threadType,g=c("useMWRemovePinnedThread")(e),k=c("useMWLSThreadIsPinned")();a=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(f);var l=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),m=d("I64").to_string(e),n=d("MWChatStateV2.bs").useDispatch(),o=j(function(){return{onSuccess:function(){return n(d("MWChatStateActions").closeTabByThreadKey(Date.now(),d("I64").of_string(m)))}}},[n,m]),p=c("useMWLSArchiveThread")(o);return i.jsx(c("MWXMenuItem.react"),{icon:c("MWThreadListHoverButtonDropdownMenuIcons").HideConversation,onClick:function(){l==null?void 0:l({entryPoint:b,eventName:"archive_thread",threadKey:e,threadType:f}),k&&c("promiseDone")(g()),p(e),d("LSMessagingThreadTypeUtil").isSecure(f)&&d("ODS").bumpEntityKey(3185,"armadillo_group_managememt","archive"),d("ODS").bumpEntityKey(3185,"mwchat_settings","archive")},primaryText:a?h._("__JHASH__EIhxT1Pd5dU__JHASH__"):h._("__JHASH__JVH8xm0YP-c__JHASH__")})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.entryPoint,e=a.threadKey,f=a.threadType;a=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(f);var g=c("useMWLSUnarchiveThread")(),j=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return i.jsx(c("MWXMenuItem.react"),{icon:c("MWThreadListHoverButtonDropdownMenuIcons").UnhideConversation,onClick:function(){j==null?void 0:j({entryPoint:b,eventName:"unarchive_thread",threadKey:e,threadType:f}),g(e),d("LSMessagingThreadTypeUtil").isSecure(f)&&d("ODS").bumpEntityKey(3185,"armadillo_group_managememt","unarchive"),d("ODS").bumpEntityKey(3185,"mwchat_settings","unarchive")},primaryText:a?h._("__JHASH__ChIQGD-bjnS__JHASH__"):h._("__JHASH__DnNd5f7ZeoA__JHASH__")})}b.displayName=b.name+" [from "+f.id+"]";g.MWV2ArchiveThreadMenuItemArchive=a;g.MWV2ArchiveThreadMenuItemUnarchive=b}),98);
__d("MWV2ChatSettingsMute.react",["JSResourceForInteraction","MWMuteLabel","MWXMenuItem.react","react","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.disabled;b=b===void 0?!1:b;var d=a.entryPoint,e=a.icon,f=a.onClick,g=a.threadKey;a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("LSMuteThreadDialog.react").__setRef("MWV2ChatSettingsMute.react"));var i=a[0];return h.jsx(c("MWXMenuItem.react"),{disabled:b,icon:e,onClick:function(){i({entryPoint:d,threadKey:g}),f==null?void 0:f()},primaryText:c("MWMuteLabel"),testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWV2OpenGroupHeaderMenuItem.bs",["fbt","ix","I64","MWXMenuItem.react","XCometGroupLandingControllerRouteBuilder","fbicon","react","useCommunityFolder"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.thread;a=c("useCommunityFolder")(a);if(a==null)return null;var b=c("XCometGroupLandingControllerRouteBuilder").buildURL({group_id:d("I64").to_string(a.fbGroupId)});return j.jsx(c("MWXMenuItem.react"),{href:b,icon:d("fbicon")._(i("510950"),20),primaryText:h._("__JHASH__p2rNShO6xow__JHASH__",[h._param("group name",a.name)])})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("RTWebJoinOngoingCallMenuItem.react",["fbt","ix","CometMenuItem.react","ZenonUserActionLogger","fbicon","react","useRTWebCometStartCallCallback"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.callData,e=a.fbid,f=c("useRTWebCometStartCallCallback")();a=(a=b==null?void 0:b.call_state)!=null?a:"NO_ONGOING_CALL";var g,k,l;switch(a){case"AUDIO_GROUP_CALL":g=d("fbicon")._(i("558161"),20);k=h._("__JHASH__XUqq2FSDccy__JHASH__");l="audio";break;case"VIDEO_GROUP_CALL":g=d("fbicon")._(i("493174"),20);k=h._("__JHASH__YagbsATrFfb__JHASH__");l="video";break;default:return null}return j.jsx(c("CometMenuItem.react"),{icon:g,onClick:function(){b!=null&&(c("ZenonUserActionLogger").logClick({component:"join_call_button",surface:"messages_jewel"}),f({existingCall:b,mediaType:l,thread:{id:e,type:2},trigger:"multiway_thread_list_join_call_button"}))},primaryText:k})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadListHoverButtonDropdownMenu.react",["fbt","ix","Actor","CometMenuSeparator.react","CommunityMessagingEnableState","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LsMessengerThreadDamagingActionsSource","LsMessengerThreadDamagingActionsSourceOwner","MAWGating","MAWMarkThreadAsReadMenuItem.react","MWCMChannelLinkShareTrigger.react","MWCMIsAnyCMThread","MWCMIsThreadBumped","MWCMLogMuteDuration.react","MWCMPauseChatMenuItem.react","MWCMReportGroupToAdminMenuItem.react","MWInboxCommunityThreadsRouteBuilder","MWInboxInfoBlockMessages.react","MWInboxInfoFRXMenuItem.react","MWJewelPopoverDialogContext.react","MWLSLeaveGroupMenuItem.react","MWLSStartPhoneCall.bs","MWPActor.react","MWPBumpEntityKey","MWPThreadIsPage.react","MWThreadKey.react","MWThreadListHoverButtonDropdownMenuDeleteThreadButton.bs","MWThreadListHoverButtonDropdownMenuIcons","MWUnmuteLabel","MWUseIsViewerThreadAdmin.react","MWV2ArchiveThreadMenuItem.react","MWV2ChatSettingsMute.react","MWV2OpenGroupHeaderMenuItem.bs","MWXMenu.react","MWXMenuItem.react","MessengerDesktopDeepLinkUtils","MessengerMuteUtils.bs","MessengerWebUXLogger","RTCCallState.bs","RTWebJoinOngoingCallMenuItem.react","ReQL","ReQLSuspense","cometPushToast","cr:1638","cr:1875067","cr:3071","cr:465","cr:4717","cr:5856","cr:6535","cr:6641","cr:77","emptyFunction","fbicon","getLSContactHref","gkx","queryMWLSOtherParticipantContact","react","useCommunityFolder","useMWChatUnmuteThread","useMWLSCanLeaveGroup","useMWLSRTCDisplayStatus","useMWPIsThreadMuted","useReStore","uuidv4"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useCallback,l=e.useContext,m=e.useMemo,n=e.useRef,o=b("cr:6641")||c("emptyFunction");function a(a){var e=a.groupId,g=a.isUnread,p=a.messagingEntrypoint,q=a.mutedUntil,r=a.onClose,s=a.onCloseJewel,t=a.selected,u=a.thread;a=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"thread_overflow_menu_impression",threadKey:u.threadKey,threadType:u.threadType});var v=c("useReStore")(),w=o(),x=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),y=m(function(){return d("I64").to_string(u.threadKey)},[u]),z=n(c("uuidv4")()).current,A=c("useCommunityFolder")(u),B=c("MWUseIsViewerThreadAdmin.react")(v,x),C=d("MWPThreadIsPage.react").useIsPage(),D=d("MWPActor.react").useActor(),E=d("Actor").useActor(),F=E[0],G=c("useMWChatUnmuteThread")();E=d("MWLSStartPhoneCall.bs").useMakeRTCCall();var H=E[0];E=E[1];var I=c("useMWLSRTCDisplayStatus")();I=I.TAG===0&&E==null;E=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(v.table("rtc_ongoing_calls_on_threads_v2")).getKeyRange(u.threadKey)},[v,u.threadKey],f.id+":149");var J=d("Int64Hooks").useMemoInt64(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(u.threadType)},[u.threadType]),K=d("ReQLSuspense").useFirst(function(){return c("queryMWLSOtherParticipantContact")(v,u.threadKey,u.threadType,D)},[u.threadKey,u.threadType,v,D],f.id+":161"),L=K!=null?c("getLSContactHref")(K):void 0,M=K==null?void 0:K.id,N=d("LSMessagingThreadTypeUtil").isSecure(u.threadType),O=c("useMWPIsThreadMuted")(u);K=J&&K==null;K=K&&!N&&d("MAWGating").isChatWithYourselfEnabled();var P=c("MWCMIsAnyCMThread")(u.threadType),Q=d("I64").equal(u.parentThreadKey,d("LSIntEnum").ofNumber(-2)),R=d("I64").equal(u.parentThreadKey,d("LSIntEnum").ofNumber(-1)),S=d("I64").equal(u.parentThreadKey,d("LSIntEnum").ofNumber(-10));Q=!Q&&!R&&!S;R=d("I64").equal(u.parentThreadKey,d("LSIntEnum").ofNumber(-18));var T=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(17),u),aa=u.folderName==="inbox"?12:u.folderName==="pending"?29:30,ba=c("useMWLSCanLeaveGroup")(u),ca=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(19),u),U=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(74),u),da=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(154),u),V=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(5),u);B=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(92),u)&&B;var ea=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(88),u),fa=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(64),u),ga=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(65),u),ha=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(10),u),W=m(function(){if(A!=null&&P)return A.enableState},[P,A]);W=(W!=null?d("I64").to_int32(W):c("CommunityMessagingEnableState").ENABLED)===c("CommunityMessagingEnableState").DISABLE_REQUESTED;var ia=P?!W&&U:U;U=d("I64").equal(u.threadType,d("LSIntEnum").ofNumber(15));var X=l(c("MWJewelPopoverDialogContext.react")),Y=X.setIsOpenForDialog,Z=k(function(){if(p==="jewel")return Y(!0)},[p,Y]);X=[I?j.jsx(c("MWXMenuItem.react"),{icon:c("MWThreadListHoverButtonDropdownMenuIcons").AudioCall,onClick:function(){$==null?void 0:$({eventName:"start_audio_call",threadKey:u.threadKey,threadType:u.threadType}),H(!1,y,"comet_chat_tab_call_option")},primaryText:h._("__JHASH__IXTcpWk89CI__JHASH__")},"rtc_audio_call"):null,I?j.jsx(c("MWXMenuItem.react"),{icon:c("MWThreadListHoverButtonDropdownMenuIcons").VideoChat,onClick:function(){$==null?void 0:$({eventName:"start_video_chat",threadKey:u.threadKey,threadType:u.threadType}),H(!0,y,"comet_chat_tab_call_option")},primaryText:h._("__JHASH__FPCh5SVoHDp__JHASH__")},"rtc_video_call"):null].filter(Boolean);I=m(function(){if(A==null)return d("MessengerDesktopDeepLinkUtils").getDeeplinkButtonURI({funnel_session_id:z,id:F,origin:"FB",thread:c("gkx")("2006753")?d("I64").to_string(u.threadKey):void 0});return c("gkx")("6975")?c("MWCMIsThreadBumped")(u)&&w!=null?w.getUrlFromThreadKey(u.threadKey,u.threadType):d("MWInboxCommunityThreadsRouteBuilder").buildURL({folder_id:d("I64").to_string(A.folderId),thread_key:d("I64").to_string(u.threadKey)}):void 0},[F,z,A,w,u]);var ja=A!=null?h._("__JHASH__AoEzAyipqOb__JHASH__"):d("MessengerDesktopDeepLinkUtils").getDeeplinkButtonLabel(),$=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),ka=function(){if(!ca)return null;if(O)return j.jsx(c("MWXMenuItem.react"),{icon:c("MWThreadListHoverButtonDropdownMenuIcons").MuteConversationOff,onClick:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","group_thread_overflow_unmute_notifications");$==null?void 0:$({eventName:"unmute_notifications",threadKey:u.threadKey,threadType:u.threadType});P&&d("MWCMLogMuteDuration.react").log(e,d("I64").to_string(u.threadKey),"channel_level_unmute_all_notif","chat_row",0,{is_bumped:c("MWCMIsThreadBumped")(u)?"true":"false"});d("cometPushToast").cometPushToast({message:h._("__JHASH__0DUAN4OT62t__JHASH__",[h._param("Name of chat",u.threadName)])});return G(u)},primaryText:c("MWUnmuteLabel"),secondaryText:d("MessengerMuteUtils.bs").mutedUntilLabel(q)});else return j.jsx(c("MWV2ChatSettingsMute.react"),{entryPoint:p,icon:c("MWThreadListHoverButtonDropdownMenuIcons").MuteConversationOn,onClick:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.sidebar","group_thread_overflow_mute_notifications"),$==null?void 0:$({eventName:"open_thread_notifications_dialog",threadKey:u.threadKey,threadType:u.threadType}),Z()},threadKey:u.threadKey})},la=function(){return!ia?null:b("cr:3071")!=null&&N?j.jsx(b("cr:3071"),{entryPoint:p,onSelectItem:Z,selected:t,thread:u}):j.jsx(c("MWThreadListHoverButtonDropdownMenuDeleteThreadButton.bs"),{entryPoint:p,onSelectItem:Z,selected:t,thread:u})};return j.jsxs(c("MWXMenu.react"),{ref:a,truncate:!0,withArrow:!0,children:[b("cr:1638")!=null&&P?j.jsx(b("cr:1638"),{entryPoint:p,thread:u}):null,S?null:j.jsx(c("MAWMarkThreadAsReadMenuItem.react"),{entryPoint:p,isUnread:g,thread:u}),P&&p==="group_tab"?j.jsx(c("MWV2OpenGroupHeaderMenuItem.bs"),{thread:u}):null,I!=null&&p==="jewel"?j.jsx(c("MWXMenuItem.react"),{href:I,icon:c("MWThreadListHoverButtonDropdownMenuIcons").AppMessenger,onClick:r,primaryText:ja}):null,b("cr:1875067")!=null&&!P?b("cr:1875067").get({icon:c("MWThreadListHoverButtonDropdownMenuIcons").AppMessenger,threadID:d("I64").to_string(x)}):null,ka(),L!=null?j.jsx(c("MWXMenuItem.react"),{href:L,icon:c("MWThreadListHoverButtonDropdownMenuIcons").ViewProfile,onClick:r,primaryText:h._("__JHASH__J6dPBvtGEtJ__JHASH__")}):null,b("cr:6535")!=null&&(K||V||B)?j.jsx(b("cr:6535"),{onPress:function(a){s==null?void 0:s(a),r==null?void 0:r(a)},thread:u}):null,b("cr:77")!=null&&(J||c("gkx")("544"))&&(K||V)?j.jsx(b("cr:77"),{onPress:function(a){s==null?void 0:s(a),r==null?void 0:r(a)},threadKey:x}):null,X.length!==0?j.jsxs(j.Fragment,{children:[j.jsx(c("CometMenuSeparator.react"),{}),X]}):null,j.jsx(c("RTWebJoinOngoingCallMenuItem.react"),{callData:{call_state:d("RTCCallState.bs").ofLsRtcCallState(u.ongoingCallState,u.threadType),initiator_fbid:null,server_info_data:(a=E==null?void 0:E.ongoingCallServerInfoData)!=null?a:null},fbid:y}),R?null:j.jsx(c("CometMenuSeparator.react"),{}),b("cr:4717")!=null?j.jsx(b("cr:4717"),{threadKey:x}):null,ha&&M!=null?j.jsx(c("MWInboxInfoBlockMessages.react"),{contactId:M,loggingEntryPoint:aa,loggingSource:C?c("LsMessengerThreadDamagingActionsSource")[5]:c("LsMessengerThreadDamagingActionsSource")[1],loggingSourceOwner:c("LsMessengerThreadDamagingActionsSourceOwner")[0],thread:u,children:function(a,b){return j.jsx(c("MWXMenuItem.react"),{icon:c("MWThreadListHoverButtonDropdownMenuIcons").BlockMessages,onClick:function(){$==null?void 0:$({eventName:"block_user",threadKey:u.threadKey,threadType:u.threadType}),a()},primaryText:b})}}):null,fa&&Q?j.jsx(d("MWV2ArchiveThreadMenuItem.react").MWV2ArchiveThreadMenuItemArchive,{entryPoint:p,threadKey:u.threadKey,threadType:u.threadType}):null,ga&&S?j.jsx(d("MWV2ArchiveThreadMenuItem.react").MWV2ArchiveThreadMenuItemUnarchive,{entryPoint:p,threadKey:u.threadKey,threadType:u.threadType}):null,da?j.jsx(c("MWCMPauseChatMenuItem.react"),{thread:u}):null,la(),P&&!W?j.jsx(c("MWCMChannelLinkShareTrigger.react"),{thread:u,children:function(a){return j.jsx(c("MWXMenuItem.react"),{icon:d("fbicon")._(i("481767"),20),onClick:function(){return a()},primaryText:h._("__JHASH__ooGPR9IJy9A__JHASH__")})}}):null,ea&&P?j.jsx(c("MWCMReportGroupToAdminMenuItem.react"),{onSelectItem:Z,thread:u}):null,p==="inbox"&&!R&&T?j.jsx(c("MWInboxInfoFRXMenuItem.react"),{entryPoint:p,icon:c("MWThreadListHoverButtonDropdownMenuIcons").SomethingIsWrong,thread:u}):null,ba?j.jsx(c("MWLSLeaveGroupMenuItem.react"),{onSelectItem:Z,shouldNavigate:t,thread:u}):null,(U&&b("cr:465")!=null||b("cr:5856")!=null)&&j.jsx(c("CometMenuSeparator.react"),{}),U&&b("cr:465")!=null?j.jsx(b("cr:465"),{onPress:function(a){s==null?void 0:s(a),r==null?void 0:r(a)},thread:u}):null,b("cr:5856")&&j.jsx(b("cr:5856"),{thread:u})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMAWDeleteSecureThreadFromThreadList",["useMAWDeleteSecureThread","useMWNavigateAfterLeavingGroup"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("useMWNavigateAfterLeavingGroup")(a);return c("useMAWDeleteSecureThread")(a,function(){b&&d()})}g["default"]=a}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("javascript-blowfish-1.0.5",[],(function(a,b,c,d,e,f){"use strict";b={};var g={exports:b};function h(){var a=function(b,c){this.key=b,(c==="ecb"||c==="cbc")&&(this.mode=c),this.sBox0=a.sBox0.slice(),this.sBox1=a.sBox1.slice(),this.sBox2=a.sBox2.slice(),this.sBox3=a.sBox3.slice(),this.pArray=a.pArray.slice(),this.generateSubkeys(b)};a.prototype={sBox0:null,sBox1:null,sBox2:null,sBox3:null,pArray:null,key:null,mode:"ecb",iv:"abc12345",keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encrypt:function(a,b){if(this.mode==="ecb")return this.encryptECB(a);if(this.mode==="cbc")return this.encryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},decrypt:function(a,b){if(this.mode==="ecb")return this.decryptECB(a);if(this.mode==="cbc")return this.decryptCBC(a,b);throw new Error("\u041d\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043d\u044b\u0439 \u0440\u0435\u0436\u0438\u043c \u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u0438\u044f.")},encryptECB:function(a){a=this.utf8Decode(a);var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8){var f=8-e.length;while(0<f--)e+="\0"}var g;f=this.split64by32(e);e=f[0];g=f[1];f=this.encipher(e,g);e=f[0];g=f[1];c+=this.num2block32(e)+this.num2block32(g)}return c},encryptCBC:function(a,b){a=this.utf8Decode(a);var c=Math.ceil(a.length/8),d;b=this.split64by32(b);d=b[0];b=b[1];var e="";for(var f=0;f<c;f++){var g=a.substr(f*8,8);if(g.length<8){var h=8-g.length;while(0<h--)g+="\0"}var i;h=this.split64by32(g);g=h[0];i=h[1];g=this.xor(g,d);i=this.xor(i,b);h=this.encipher(g,i);g=h[0];i=h[1];d=g;b=i;e+=this.num2block32(g)+this.num2block32(i)}return e},decryptECB:function(a){var b=Math.ceil(a.length/8),c="";for(var d=0;d<b;d++){var e=a.substr(d*8,8);if(e.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u044b\u0439\u0442\u0430\u043c.");var f,g;e=this.split64by32(e);f=e[0];g=e[1];e=this.decipher(f,g);f=e[0];g=e[1];c+=this.num2block32(f)+this.num2block32(g)}c=this.utf8Encode(c);return c},decryptCBC:function(a,b){var c=Math.ceil(a.length/8),d,e,f;b=this.split64by32(b);d=b[0];b=b[1];var g="";for(var h=0;h<c;h++){var i=a.substr(h*8,8);if(i.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430 \u043f\u043e\u0432\u0440\u0435\u0436\u0434\u0435\u043d\u0430: \u0434\u043b\u0438\u043d\u043d\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 8 \u0431\u0430\u0439\u0442\u0430\u043c.");var j,k;i=this.split64by32(i);j=i[0];k=i[1];e=j;f=k;i=this.decipher(j,k);j=i[0];k=i[1];j=this.xor(j,d);k=this.xor(k,b);d=e;b=f;g+=this.num2block32(j)+this.num2block32(k)}g=this.utf8Encode(g);return g},F:function(a){var b=a>>>24,c=a<<8>>>24,d=a<<16>>>24;a=a<<24>>>24;b=this.addMod32(this.sBox0[b],this.sBox1[c]);b=this.xor(b,this.sBox2[d]);b=this.addMod32(b,this.sBox3[a]);return b},encipher:function(a,b){var c;for(var d=0;d<16;d++)a=this.xor(a,this.pArray[d]),b=this.xor(this.F(a),b),c=a,a=b,b=c;c=a;a=b;b=c;b=this.xor(b,this.pArray[16]);a=this.xor(a,this.pArray[17]);return[a,b]},decipher:function(a,b){var c;a=this.xor(a,this.pArray[17]);b=this.xor(b,this.pArray[16]);c=a;a=b;b=c;for(var d=15;d>=0;d--)c=a,a=b,b=c,b=this.xor(this.F(a),b),a=this.xor(a,this.pArray[d]);return[a,b]},generateSubkeys:function(a){var b=0,c=0,d,e;for(d=0;d<18;d++){for(e=4;e>0;e--)b=this.fixNegative(b<<8|a.charCodeAt(c)),c=(c+1)%a.length;this.pArray[d]=this.xor(this.pArray[d],b);b=0}e=[0,0];for(d=0;d<18;d+=2)e=this.encipher(e[0],e[1]),this.pArray[d]=e[0],this.pArray[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox0[d]=e[0],this.sBox0[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox1[d]=e[0],this.sBox1[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox2[d]=e[0],this.sBox2[d+1]=e[1];for(d=0;d<256;d+=2)e=this.encipher(e[0],e[1]),this.sBox3[d]=e[0],this.sBox3[d+1]=e[1]},block32toNum:function(a){return this.fixNegative(a.charCodeAt(0)<<24|a.charCodeAt(1)<<16|a.charCodeAt(2)<<8|a.charCodeAt(3))},num2block32:function(a){return String.fromCharCode(a>>>24)+String.fromCharCode(a<<8>>>24)+String.fromCharCode(a<<16>>>24)+String.fromCharCode(a<<24>>>24)},xor:function(a,b){return this.fixNegative(a^b)},addMod32:function(a,b){return this.fixNegative(a+b|0)},fixNegative:function(a){return a>>>0},split64by32:function(a){var b=a.substring(0,4);a=a.substring(4,8);return[this.block32toNum(b),this.block32toNum(a)]},utf8Decode:function(a){var b="";for(var c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(d&63|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(d&63|128))}return b},utf8Encode:function(a){var b="",c=0,d=0,e=0,f;while(c<a.length)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(e=a.charCodeAt(c+1),b+=String.fromCharCode((d&31)<<6|e&63),c+=2):(e=a.charCodeAt(c+1),f=a.charCodeAt(c+2),b+=String.fromCharCode((d&15)<<12|(e&63)<<6|f&63),c+=3);return b},base64Encode:function(a){var b="",c,d,e,f,g,h,i=0;while(i<a.length)c=a.charCodeAt(i++),d=a.charCodeAt(i++),e=a.charCodeAt(i++),f=c>>2,c=(c&3)<<4|d>>4,g=(d&15)<<2|e>>6,h=e&63,isNaN(d)?g=h=64:isNaN(e)&&(h=64),b=b+this.keyStr.charAt(f)+this.keyStr.charAt(c)+this.keyStr.charAt(g)+this.keyStr.charAt(h);return b},base64Decode:function(a){var b="",c,d,e,f,g,h=0;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(h<a.length)d=this.keyStr.indexOf(a.charAt(h++)),e=this.keyStr.indexOf(a.charAt(h++)),f=this.keyStr.indexOf(a.charAt(h++)),g=this.keyStr.indexOf(a.charAt(h++)),d=d<<2|e>>4,e=(e&15)<<4|f>>2,c=(f&3)<<6|g,b=b+String.fromCharCode(d),f!=64&&(b=b+String.fromCharCode(e)),g!=64&&(b=b+String.fromCharCode(c));return b},trimZeros:function(a){return a.replace(/\0+$/g,"")}};a.pArray=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731];a.sBox0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946];a.sBox1=[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055];a.sBox2=[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504];a.sBox3=[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462];g.exports=a}var i=!1;function j(){i||(i=!0,h());return g.exports}function a(a){switch(a){case void 0:return j()}}e.exports=a}),null);
__d("javascript-blowfish",["javascript-blowfish-1.0.5"],(function(a,b,c,d,e,f){e.exports=b("javascript-blowfish-1.0.5")()}),null);
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("minisearch-3.0.2",[],(function(a,b,c,d,e,f){"use strict";var g={},h={exports:g};function i(){(function(b,c){typeof g==="object"&&typeof h!=="undefined"?h.exports=c():(b=typeof globalThis!=="undefined"?globalThis:b||self,b.MiniSearch=c())})(this,function(){var a=function(){a=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return a.apply(this,arguments)};function b(a){var b=typeof Symbol==="function"&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&typeof a.length==="number")return{next:function(){a&&d>=a.length&&(a=void 0);return{value:a&&a[d++],done:!a}}};throw new TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(a,b){var c=typeof Symbol==="function"&&a[Symbol.iterator];if(!c)return a;a=c.call(a);var d,e=[],f;try{while((b===void 0||b-->0)&&!(d=a.next()).done)e.push(d.value)}catch(a){f={error:a}}finally{try{d&&!d.done&&(c=a["return"])&&c.call(a)}finally{if(f)throw f.error}}return e}function d(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(c(arguments[b]));return a}var e="ENTRIES",f="KEYS",g="VALUES",h="",i=function(){function a(a,b){var c=a._tree,d=Object.keys(c);this.set=a;this._type=b;this._path=d.length>0?[{node:c,keys:d}]:[]}a.prototype.next=function(){var a=this.dive();this.backtrack();return a};a.prototype.dive=function(){if(this._path.length===0)return{done:!0,value:void 0};var a=j(this._path),b=a.node;a=a.keys;if(j(a)===h)return{done:!1,value:this.result()};this._path.push({node:b[j(a)],keys:Object.keys(b[j(a)])});return this.dive()};a.prototype.backtrack=function(){if(this._path.length===0)return;j(this._path).keys.pop();if(j(this._path).keys.length>0)return;this._path.pop();this.backtrack()};a.prototype.key=function(){return this.set._prefix+this._path.map(function(a){a=a.keys;return j(a)}).filter(function(a){return a!==h}).join("")};a.prototype.value=function(){return j(this._path).node[h]};a.prototype.result=function(){if(this._type===g)return this.value();return this._type===f?this.key():[this.key(),this.value()]};a.prototype[Symbol.iterator]=function(){return this};return a}(),j=function(a){return a[a.length-1]},k=0,l=1,m=2,n=3,o=function(a,b,d){var e=[{distance:0,i:0,key:"",node:a}],f={},g=[];a=function(){var a=e.pop(),i=a.node,j=a.distance,k=a.key,l=a.i,m=a.edit;Object.keys(i).forEach(function(n){if(n===h){var o=j+(b.length-l),a=c(f[k]||[null,Infinity],2);a=a[1];o<=d&&o<a&&(f[k]=[i[n],o])}else p(b,n,d-j,l,m,g).forEach(function(a){var c=a.distance,b=a.i;a=a.edit;e.push({node:i[n],distance:j+c,key:k+n,i:b,edit:a})})})};while(e.length>0)a();return f},p=function(a,b,c,d,e,f){f.push({distance:0,ia:d,ib:0,edit:e});d=[];while(f.length>0){e=f.pop();var g=e.distance,h=e.ia,i=e.ib;e=e.edit;if(i===b.length){d.push({distance:g,i:h,edit:e});continue}if(a[h]===b[i])f.push({distance:g,ia:h+1,ib:i+1,edit:k});else{if(g>=c)continue;e!==m&&f.push({distance:g+1,ia:h,ib:i+1,edit:n});h<a.length&&(e!==n&&f.push({distance:g+1,ia:h+1,ib:i,edit:m}),e!==n&&e!==m&&f.push({distance:g+1,ia:h+1,ib:i+1,edit:l}))}}return d},q=function(){function a(a,b){a===void 0&&(a={}),b===void 0&&(b=""),this._tree=a,this._prefix=b}a.prototype.atPrefix=function(d){var b;if(!d.startsWith(this._prefix))throw new Error("Mismatched prefix");var e=c(r(this._tree,d.slice(this._prefix.length)),2),f=e[0];e=e[1];if(f===void 0){e=c(y(e),2);var g=e[0],i=e[1];e=Object.keys(g).find(function(a){return a!==h&&a.startsWith(i)});if(e!==void 0)return new a((b={},b[e.slice(i.length)]=g[e],b),d)}return new a(f||{},d)};a.prototype.clear=function(){delete this._size,this._tree={}};a.prototype["delete"]=function(a){delete this._size;return v(this._tree,a)};a.prototype.entries=function(){return new i(this,e)};a.prototype.forEach=function(d){var e,a;try{for(var f=b(this),g=f.next();!g.done;g=f.next()){var h=c(g.value,2),i=h[0];h=h[1];d(i,h,this)}}catch(a){e={error:a}}finally{try{g&&!g.done&&(a=f["return"])&&a.call(f)}finally{if(e)throw e.error}}};a.prototype.fuzzyGet=function(a,b){return o(this._tree,a,b)};a.prototype.get=function(a){a=s(this._tree,a);return a!==void 0?a[h]:void 0};a.prototype.has=function(a){a=s(this._tree,a);return a!==void 0&&a.hasOwnProperty(h)};a.prototype.keys=function(){return new i(this,f)};a.prototype.set=function(a,b){if(typeof a!=="string")throw new Error("key must be a string");delete this._size;a=t(this._tree,a);a[h]=b;return this};Object.defineProperty(a.prototype,"size",{get:function(){var a=this;if(this._size)return this._size;this._size=0;this.forEach(function(){a._size+=1});return this._size},enumerable:!1,configurable:!0});a.prototype.update=function(a,b){if(typeof a!=="string")throw new Error("key must be a string");delete this._size;a=t(this._tree,a);a[h]=b(a[h]);return this};a.prototype.values=function(){return new i(this,g)};a.prototype[Symbol.iterator]=function(){return this.entries()};a.from=function(e){var f,d,g=new a();try{for(var h=b(e),i=h.next();!i.done;i=h.next()){e=c(i.value,2);var j=e[0];e=e[1];g.set(j,e)}}catch(a){f={error:a}}finally{try{i&&!i.done&&(d=h["return"])&&d.call(h)}finally{if(f)throw f.error}}return g};a.fromObject=function(b){return a.from(Object.entries(b))};return a}(),r=function(a,b,c){c===void 0&&(c=[]);if(b.length===0||a==null)return[a,c];var d=Object.keys(a).find(function(a){return a!==h&&b.startsWith(a)});if(d===void 0){c.push([a,b]);return r(void 0,"",c)}c.push([a,d]);return r(a[d],b.slice(d.length),c)},s=function(a,b){if(b.length===0||a==null)return a;var c=Object.keys(a).find(function(a){return a!==h&&b.startsWith(a)});return c===void 0?void 0:s(a[c],b.slice(c.length))},t=function(b,c){var a;if(c.length===0||b==null)return b;var d=Object.keys(b).find(function(a){return a!==h&&c.startsWith(a)});if(d===void 0){var e=Object.keys(b).find(function(a){return a!==h&&a.startsWith(c[0])});if(e===void 0)b[c]={};else{var f=u(c,e);b[f]=(a={},a[e.slice(f.length)]=b[e],a);delete b[e];return t(b[f],c.slice(f.length))}return b[c]}return t(b[d],c.slice(d.length))},u=function(a,b,c,d,e){c===void 0&&(c=0);d===void 0&&(d=Math.min(a.length,b.length));e===void 0&&(e="");if(c>=d)return e;return a[c]!==b[c]?e:u(a,b,c+1,d,e+a[c])},v=function(a,b){a=c(r(a,b),2);b=a[0];a=a[1];if(b===void 0)return;delete b[h];var d=Object.keys(b);d.length===0&&w(a);d.length===1&&x(a,d[0],b[d[0]])},w=function(b){if(b.length===0)return;var a=c(y(b),2),d=a[0];a=a[1];delete d[a];Object.keys(d).length===0&&w(b.slice(0,-1))},x=function(a,b,d){if(a.length===0)return;a=c(y(a),2);var e=a[0];a=a[1];e[a+b]=d;delete e[a]},y=function(a){return a[a.length-1]},z,A="or",B="and",C=function(){function b(b){if((b===null||b===void 0?void 0:b.fields)==null)throw new Error('MiniSearch: option "fields" must be provided');this._options=a(a(a({},J),b),{searchOptions:a(a({},K),b.searchOptions||{})});this._index=new q();this._documentCount=0;this._documentIds={};this._fieldIds={};this._fieldLength={};this._averageFieldLength={};this._nextId=0;this._storedFields={};this.addFields(this._options.fields)}b.prototype.add=function(b){var c=this,a=this._options,d=a.extractField,e=a.tokenize,f=a.processTerm,g=a.fields;a=a.idField;var h=d(b,a);if(h==null)throw new Error('MiniSearch: document does not have ID field "'+a+'"');var i=this.addDocumentId(h);this.saveStoredFields(i,b);g.forEach(function(a){var g=d(b,a);if(g==null)return;g=e(g.toString(),a);c.addFieldLength(i,c._fieldIds[a],c.documentCount-1,g.length);g.forEach(function(b){b=f(b,a);b&&c.addTerm(c._fieldIds[a],i,b)})})};b.prototype.addAll=function(a){var b=this;a.forEach(function(a){return b.add(a)})};b.prototype.addAllAsync=function(a,b){var c=this;b===void 0&&(b={});b=b.chunkSize;var d=b===void 0?10:b;b={chunk:[],promise:Promise.resolve()};a=a.reduce(function(a,e,f){var b=a.chunk;a=a.promise;b.push(e);if((f+1)%d===0)return{chunk:[],promise:a.then(function(){return new Promise(function(a){return setTimeout(a,0)})}).then(function(){return c.addAll(b)})};else return{chunk:b,promise:a}},b);var e=a.chunk;b=a.promise;return b.then(function(){return c.addAll(e)})};b.prototype.remove=function(b){var d=this,a=this._options,e=a.tokenize,f=a.processTerm,g=a.extractField,h=a.fields;a=a.idField;var i=g(b,a);if(i==null)throw new Error('MiniSearch: document does not have ID field "'+a+'"');a=c(Object.entries(this._documentIds).find(function(a){a=c(a,2);a[0];a=a[1];return i===a})||[],1);var j=a[0];if(j==null)throw new Error("MiniSearch: cannot remove document with ID "+i+": it is not in the index");h.forEach(function(a){var c=g(b,a);if(c==null)return;c=e(c.toString(),a);c.forEach(function(b){b=f(b,a);b&&d.removeTerm(d._fieldIds[a],j,b)})});delete this._storedFields[j];delete this._documentIds[j];this._documentCount-=1};b.prototype.removeAll=function(a){var b=this;if(a)a.forEach(function(a){return b.remove(a)});else if(arguments.length>0)throw new Error("Expected documents to be present. Omit the argument to remove all documents.");else this._index=new q(),this._documentCount=0,this._documentIds={},this._fieldLength={},this._averageFieldLength={},this._storedFields={},this._nextId=0};b.prototype.search=function(d,e){var f=this;e===void 0&&(e={});var b=this._options,g=b.tokenize,h=b.processTerm;b=b.searchOptions;var i=a(a({tokenize:g,processTerm:h},b),e);g=i.tokenize;var j=i.processTerm;h=g(d).map(function(a){return j(a)}).filter(function(a){return!!a});b=h.map(H(i));e=b.map(function(a){return f.executeQuery(a,i)});g=this.combineResults(e,i.combineWith);return Object.entries(g).reduce(function(d,a){a=c(a,2);var e=a[0];a=a[1];var b=a.score,g=a.match;a=a.terms;a={id:f._documentIds[e],terms:I(a),score:b,match:g};Object.assign(a,f._storedFields[e]);(i.filter==null||i.filter(a))&&d.push(a);return d},[]).sort(function(a,b){a=a.score;b=b.score;return a<b?1:-1})};b.prototype.autoSuggest=function(b,d){d===void 0&&(d={});d=a(a({},L),d);b=this.search(b,d).reduce(function(c,a){var b=a.score;a=a.terms;var d=a.join(" ");c[d]==null?c[d]={score:b,terms:a,count:1}:(c[d].score+=b,c[d].count+=1);return c},{});return Object.entries(b).map(function(a){a=c(a,2);var d=a[0];a=a[1];var b=a.score,e=a.terms;a=a.count;return{suggestion:d,terms:e,score:b/a}}).sort(function(a,b){a=a.score;b=b.score;return a<b?1:-1})};Object.defineProperty(b.prototype,"documentCount",{get:function(){return this._documentCount},enumerable:!1,configurable:!0});b.loadJSON=function(a,c){if(c==null)throw new Error("MiniSearch: loadJSON should be given the same options used when serializing the index");return b.loadJS(JSON.parse(a),c)};b.getDefault=function(a){if(J.hasOwnProperty(a))return D(J,a);else throw new Error('MiniSearch: unknown option "'+a+'"')};b.loadJS=function(a,c){var d=a.index,e=a.documentCount,f=a.nextId,g=a.documentIds,h=a.fieldIds,i=a.fieldLength,j=a.averageFieldLength;a=a.storedFields;c=new b(c);c._index=new q(d._tree,d._prefix);c._documentCount=e;c._nextId=f;c._documentIds=g;c._fieldIds=h;c._fieldLength=i;c._averageFieldLength=j;c._fieldIds=h;c._storedFields=a||{};return c};b.prototype.executeQuery=function(b,d){var e=this;d=a(a({},this._options.searchOptions),d);var f=(d.fields||this._options.fields).reduce(function(c,d){var b;return a(a({},c),(b={},b[d]=D(c,d)||1,b))},d.boost||{}),g=d.boostDocument;d=d.weights;d=a(a({},K.weights),d);var h=d.fuzzy,i=d.prefix;d=this.termResults(b.term,f,g,this._index.get(b.term));if(!b.fuzzy&&!b.prefix)return d;var j=[d];b.prefix&&this._index.atPrefix(b.term).forEach(function(a,c){var d=.3*(a.length-b.term.length)/a.length;j.push(e.termResults(a,f,g,c,i,d))});if(b.fuzzy){d=b.fuzzy===!0?.2:b.fuzzy;d=d<1?Math.round(b.term.length*d):d;Object.entries(this._index.fuzzyGet(b.term,d)).forEach(function(a){a=c(a,2);var b=a[0];a=c(a[1],2);var d=a[0];a=a[1];a=a/b.length;j.push(e.termResults(b,f,g,d,h,a))})}return j.reduce(E[A],{})};b.prototype.combineResults=function(a,b){b===void 0&&(b=A);if(a.length===0)return{};b=b.toLowerCase();return a.reduce(E[b],null)||{}};b.prototype.toJSON=function(){return{index:this._index,documentCount:this._documentCount,nextId:this._nextId,documentIds:this._documentIds,fieldIds:this._fieldIds,fieldLength:this._fieldLength,averageFieldLength:this._averageFieldLength,storedFields:this._storedFields}};b.prototype.termResults=function(a,b,d,e,f,g){var h=this;g===void 0&&(g=0);return e==null?{}:Object.entries(b).reduce(function(f,b){b=c(b,2);var i=b[0],j=b[1],k=h._fieldIds[i];b=e[k]||{ds:{}};var l=b.df;b=b.ds;Object.entries(b).forEach(function(b){b=c(b,2);var e=b[0];b=b[1];var m=d?d(h._documentIds[e],a):1;if(!m)return;var n=h._fieldLength[e][k]/h._averageFieldLength[k];f[e]=f[e]||{score:0,match:{},terms:[]};f[e].terms.push(a);f[e].match[a]=D(f[e].match,a)||[];f[e].score+=m*G(b,l,h._documentCount,n,j,g);f[e].match[a].push(i)});return f},{})};b.prototype.addTerm=function(b,c,d){this._index.update(d,function(d){d=d||{};var e=d[b]||{df:0,ds:{}};e.ds[c]==null&&(e.df+=1);e.ds[c]=(e.ds[c]||0)+1;return a(a({},d),(d={},d[b]=e,d))})};b.prototype.removeTerm=function(b,c,d){var e=this;if(!this._index.has(d)){this.warnDocumentChanged(c,b,d);return}this._index.update(d,function(f){var g=f[b];if(g==null||g.ds[c]==null){e.warnDocumentChanged(c,b,d);return f}if(g.ds[c]<=1){if(g.df<=1){delete f[b];return f}g.df-=1}if(g.ds[c]<=1){delete g.ds[c];return f}g.ds[c]-=1;return a(a({},f),(f={},f[b]=g,f))});Object.keys(this._index.get(d)).length===0&&this._index["delete"](d)};b.prototype.warnDocumentChanged=function(a,b,d){if(console==null||emptyFunction==null)return;a=Object.entries(this._fieldIds).find(function(a){a=c(a,2);a[0];a=a[1];return a===b})[0]};b.prototype.addDocumentId=function(a){var b=this._nextId.toString(36);this._documentIds[b]=a;this._documentCount+=1;this._nextId+=1;return b};b.prototype.addFields=function(a){var b=this;a.forEach(function(a,c){b._fieldIds[a]=c})};b.prototype.addFieldLength=function(a,b,c,d){this._averageFieldLength[b]=this._averageFieldLength[b]||0;var e=this._averageFieldLength[b]*c+d;this._fieldLength[a]=this._fieldLength[a]||{};this._fieldLength[a][b]=d;this._averageFieldLength[b]=e/(c+1)};b.prototype.saveStoredFields=function(b,c){var d=this,a=this._options,e=a.storeFields,f=a.extractField;if(e==null||e.length===0)return;this._storedFields[b]=this._storedFields[b]||{};e.forEach(function(a){var e=f(c,a);if(e===void 0)return;d._storedFields[b][a]=e})};return b}(),D=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:void 0},E=(z={},z[A]=function(a,b){return Object.entries(b).reduce(function(e,a){a=c(a,2);var f=a[0];a=a[1];var b=a.score,g=a.match;a=a.terms;e[f]==null?e[f]={score:b,match:g,terms:a}:(e[f].score+=b,e[f].score*=1.5,(b=e[f].terms).push.apply(b,d(a)),Object.assign(e[f].match,g));return e},a||{})},z[B]=function(b,e){return b==null?e:Object.entries(e).reduce(function(g,e){e=c(e,2);var h=e[0];e=e[1];var f=e.score,i=e.match;e=e.terms;if(b[h]===void 0)return g;g[h]=g[h]||{};g[h].score=b[h].score+f;g[h].match=a(a({},b[h].match),i);g[h].terms=d(b[h].terms,e);return g},{})},z),F=function(a,b,c){return a*Math.log(c/b)},G=function(a,b,c,d,e,f){e=e/(1+.333*e*f);return e*F(a,b,c)/d},H=function(a){return function(b,c,d){var e=typeof a.fuzzy==="function"?a.fuzzy(b,c,d):a.fuzzy||!1;c=typeof a.prefix==="function"?a.prefix(b,c,d):a.prefix===!0;return{term:b,fuzzy:e,prefix:c}}},I=function(a){return a.filter(function(b,c,a){return a.indexOf(b)===c})},J={idField:"id",extractField:function(a,b){return a[b]},tokenize:function(a,b){return a.split(M)},processTerm:function(a,b){return a.toLowerCase()},fields:void 0,searchOptions:void 0,storeFields:[]},K={combineWith:A,prefix:!1,fuzzy:!1,boost:{},weights:{fuzzy:.9,prefix:.75}},L={prefix:function(a,b,c){return b===c.length-1}},M=/[\n\r -#%-*,-/:;?@[-\]_{}\u00A0\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u1680\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2000-\u200A\u2010-\u2029\u202F-\u2043\u2045-\u2051\u2053-\u205F\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u3000-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]+/u;return C})}var j=!1;function k(){j||(j=!0,i());return h.exports}function a(a){switch(a){case void 0:return k()}}e.exports=a}),null);
__d("minisearch",["minisearch-3.0.2"],(function(a,b,c,d,e,f){e.exports=b("minisearch-3.0.2")()}),null);/*FB_PKG_DELIM*/
__d("LSMoveThreadToInboxAndUpdateParent",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.db.table(9).fetch([[[a[0]]]]),function(b){var c=b.update;b.item;return c({folderName:"inbox",parentThreadKey:a[1]})})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSRemoveParticipantFromThread",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.fe(b.ftr(b.db.table(14).fetch([[[a[0],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.contactId,a[1])}),function(a){return a["delete"]()})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSOptimisticRemoveParticipantsFromGroupThread",["LSArrayGetObjectAt","LSIssueNewError","LSIssueNewTaskWithExtraOperations","LSRemoveParticipantFromThread"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=c.i64.of_int32(a[1].length),c.i64.gt(d[0],c.i64.cast([0,0]))?c.loopAsync(d[0],function(e){return d[1]=e,c.seq([function(e){return c.ntop("Array",b("LSArrayGetObjectAt"),a[1],d[1]).then(function(a){return a=a,d[2]=a[0],d[3]=a[1],a})},function(e){return c.sp(b("LSRemoveParticipantFromThread"),a[0],d[2])},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[4]=!1:(b=a.item,d[4]=b.errorShouldBeShown)})},function(a){return d[4]===!0?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),f).then(function(a){return d[8]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),f).then(function(a){return d[9]=a})},function(a){return c.sp(b("LSIssueNewError"),f,c.i64.cast([0,1545093]),d[8],d[9],f,f)}]):c.resolve()},function(e){return d[6]=new c.Map(),d[6].set("thread_id",a[0]),d[6].set("contact_id",d[2]),d[7]=c.toJSON(d[6]),c.sp(b("LSIssueNewTaskWithExtraOperations"),"remove_participant_v2",c.i64.cast([0,140]),d[7],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]),f)}])}):c.resolve()},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSOptimisticUnarchiveThread",["LSIssueNewError","LSIssueNewTask","LSMoveThreadToInboxAndUpdateParent"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(e,g){g=e.done;e=e.value;return g?0:(e.item,c.seq([function(d){return c.sp(b("LSMoveThreadToInboxAndUpdateParent"),a[0],c.i64.cast([0,0]))},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],f)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[0]=d[6])})},function(a){return c.sb(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[2]=!1:(b=a.item,d[2]=b.errorShouldBeShown)})},function(a){return d[2]===!0?c.seq([function(a){return c.localizeV2Async(c.i64.cast([0,2285622730]),f).then(function(a){return d[6]=a})},function(a){return c.localizeV2Async(c.i64.cast([0,1919524925]),f).then(function(a){return d[7]=a})},function(a){return c.sp(b("LSIssueNewError"),f,c.i64.cast([0,1545093]),d[6],d[7],f,f)}]):c.resolve()},function(e){return d[4]=new c.Map(),d[4].set("thread_id",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.sp(b("LSIssueNewTask"),"unarchive_thread",c.i64.cast([0,242]),d[5],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}]))})},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("useLazyShouldShowMessagingEntrypointInCometRoot",["CometPassiveGetRouterStateContext","ShouldShowMessagingEntrypoint","react","useShouldRenderFullTopNav"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext;function a(a){var b=c("useShouldRenderFullTopNav")(),d=i(c("CometPassiveGetRouterStateContext"));return h(function(){var e=d==null?void 0:d(),f=e==null?void 0:e.main;e=e==null?void 0:e.pushViewStack;e=e&&e.length>0?e[e.length-1]:f;return c("ShouldShowMessagingEntrypoint")(e==null?void 0:e.route,a,b)},[a,d,b])}g["default"]=a}),98);
__d("FDSDialogPage.react",["CometProgressRingIndeterminate.react","CometRow.react","CometRowItem.react","TetraButton.react","TetraButtonGroup.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={content:{paddingTop:"xyamay9",paddingEnd:"x1pi30zi",paddingBottom:"x1l90r2v",paddingStart:"x1swvt13",position:"x1n2onr6",$$css:!0},footer:{display:"x78zum5",flexDirection:"x1q0g3np",justifyContent:"x13a6bvl",paddingBottom:"x1l90r2v",$$css:!0},noPaddingBottom:{paddingBottom:"x18d9i69",$$css:!0},textOnlyContent:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0}};function a(a,b){var d=a.callToActionGroupDirection;d=d===void 0?"backward":d;var e=a.callToActionGroupLayout;e=e===void 0?"default":e;var f=a.callToActionGroupWrap;f=f===void 0?"none":f;var g=a.children,j=a.hasTextOnlyContent,k=a.includeFDSContentPadding_REMOVE_THIS_AFTER_CONTENT_PADDING_MIGRATION;k=k===void 0?!0:k;var l=a.primaryCallToAction;a=a.secondaryCallToAction;d=l!=null?h.jsx(c("TetraButtonGroup.react"),{direction:d,expanding:e==="expanded"||a==null,paddingHorizontal:16,primary:{addOnPrimary:l.loading===!0?h.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:16}):void 0,disabled:l.disabled===!0||l.loading,label:l.label,linkProps:l.linkProps,onPress:l.onPress,testid:l.testid,type:(l==null?void 0:l.type)==="destructive"?"fdsOverride_negative":"primary"},secondary:a!=null?{disabled:a.disabled,label:a.label,linkProps:a.linkProps,onPress:a.onPress,reduceEmphasis:e==="default",testid:a.testid}:null,wrap:f}):a!=null?h.jsx(c("CometRow.react"),{expanding:!0,paddingHorizontal:16,paddingTop:16,children:h.jsx(c("CometRowItem.react"),{expanding:!0,children:h.jsx(c("TetraButton.react"),babelHelpers["extends"]({},a,{type:"secondary"}))})}):null;return h.jsxs("div",{ref:b,children:[h.jsx("div",{className:k===!0?c("stylex")([i.content,j===!0&&i.textOnlyContent,j!==!0&&d!=null&&i.noPaddingBottom]):void 0,children:g}),d!=null?h.jsx("div",{className:"x78zum5 x1q0g3np x13a6bvl x1l90r2v",children:d}):void 0]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("MessengerDesktopPresenceInfo",["FBLogger","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h="__fb_messenger_desktop_presence_info";function a(){var a=c("WebStorage").getLocalStorageForRead();return JSON.parse((a=a==null?void 0:a.getItem(h))!=null?a:"null")}function b(){var a=c("WebStorage").getLocalStorage();if(a==null){c("FBLogger")("desktop_messenger_deeplink_presence","local_storage_not_found").warn("Messenger Desktop Presence Token cannot be created if local storage doesn't exist");return null}var b={lastActiveTimestamp:Date.now()};a=c("WebStorage").setItemGuarded(a,h,JSON.stringify(b));a!=null&&c("FBLogger")("desktop_messenger_deeplink_presence","create_presence_info_error").warn(a.toString());return b}g.getPresenceInfo=a;g.createPresenceInfo=b}),98);
__d("MessengerDesktopLocalServerRequest",["ConstUriUtils","MessengerDesktopPresenceInfo"],(function(a,b,c,d,e,f,g){"use strict";var h=2e3;a=function(){function a(a,b){var c=this;this.$1=function(){c.request.status===200&&d("MessengerDesktopPresenceInfo").createPresenceInfo()};b="http://localhost:"+b+a;this.uri=(a=(a=d("ConstUriUtils").getUri(b))==null?void 0:a.toString())!=null?a:b;this.request=new XMLHttpRequest();this.request.timeout=h;this.request.onloadend=this.$1}var b=a.prototype;b.setOnLoadEndHandler=function(a){var b=this;this.request.onloadend=function(){b.$1(),a(b.request.status)};return this};b.setErrorHandler=function(a){var b=this;this.request.onerror=function(){b.request.status===500&&d("MessengerDesktopPresenceInfo").createPresenceInfo(),a(b.request.status)};return this};b.setTimeoutHandler=function(a){this.request.ontimeout=a;return this};b.send=function(){this.request.open("GET",this.uri),this.request.send()};return a}();g["default"]=a}),98);
__d("MessengerDesktopPromoFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1744027");b=d("FalcoLoggerInternal").create("messenger_desktop_promo",a);e=b;g["default"]=e}),98);
__d("MessengerDesktopPromoEventLogger",["MessengerDesktopPromoFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return c("MessengerDesktopPromoFalcoEvent").log(function(){return a})};g.log=a}),98);
__d("XMessengerDotComDesktopControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/",Object.freeze({start_download:!1,m:!1}),new Set(["m"]));b=a;g["default"]=b}),98);
__d("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/desktop/launch/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("MessengerDesktopDeepLinkUtils",["fbt","MessengerDesktopLocalServerRequest","MessengerDesktopPresenceInfo","MessengerDesktopPromoEventLogger","ODS","Promise","UserAgent","XMessengerDotComDesktopControllerRouteBuilder","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","gkx","promiseDone","qex","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=i.useCallback,k=i.useEffect,l=i.useRef,m=i.useState,n="messenger",o=3103,p=1e3*60*60*24*28,q="https://www.messenger.com/desktop/";function a(a){return n+"://room?joinurl="+a}function r(a){return new(b("Promise"))(function(b){new(c("MessengerDesktopLocalServerRequest"))("/ping",a).setOnLoadEndHandler(function(a){return b(a)}).setTimeoutHandler(function(a){return b(!1)}).setErrorHandler(function(a){return b(!1)}).send()})}function e(){var a=d("MessengerDesktopPresenceInfo").getPresenceInfo();return a==null?!1:Date.now()-a.lastActiveTimestamp<=p}function s(){var a=c("gkx")("655"),b=c("gkx")("4716");if(b){b=c("gkx")("4687");return a||b}else return a}function f(){return c("gkx")("5542")}function t(){if(c("gkx")("1987549")||!s())return!1;switch(w()){case"Windows":return c("qex")._("167")===!0;case"Mac":return c("gkx")("297");default:return!1}}function u(){var a=m(!1),b=a[0];a=a[1];var e=m(!1),f=e[0],g=e[1];if(w()!=="Windows")return!1;if(c("gkx")("1987549")||!s())return!1;if(c("qex")._("167")!==!0)return!1;if(b)return f;d("ODS").bumpEntityKey(3303,"dapp_non_calling_entrypoints","initiating_dapp_call");a(!0);c("promiseDone")(r(o).then(function(a){if(!a||a!==200){a||d("ODS").bumpEntityKey(3303,"dapp_non_calling_entrypoints","localhost_did_not_respond");a===500&&d("ODS").bumpEntityKey(3303,"dapp_non_calling_entrypoints","localhost_responded_but_crashed");return}g(!0)}));return f}var v={openMessengerForDesktop:h._("__JHASH__XxNs-oGUpT___JHASH__"),openMessengerForMac:h._("__JHASH__tlUlAHzvu6R__JHASH__"),openMessengerForWindows:h._("__JHASH__3NgfF3NHofM__JHASH__"),tryMessengerForDesktop:h._("__JHASH___P6bnngRU_E__JHASH__"),tryMessengerForMac:h._("__JHASH__3Fm9-zbx5PN__JHASH__"),tryMessengerForWindows:h._("__JHASH__56Y2Um9FCTk__JHASH__")};function w(){if(c("UserAgent").isPlatform("Windows"))return"Windows";else if(c("UserAgent").isPlatform("Mac OS X"))return"Mac";return"Desktop"}function x(a){return(a=c("XMessengerDotComDesktopControllerRouteBuilder").buildUri({funnel_session_id:a}).setDomain("www.messenger.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString()}function y(a){return(a=c("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri(a).setDomain("messenger.com"))==null?void 0:(a=a.setProtocol("https"))==null?void 0:a.toString()}function z(){var a=s()?"open":"try",b=w();return v[a+"MessengerFor"+b]}function A(a){var b;return s()?(b=y(a))!=null?b:q:(b=x(a.funnel_session_id))!=null?b:q}function B(a,b){var c=l(!1);k(function(){c.current||(c.current=!0,d("MessengerDesktopPromoEventLogger").log({event:"Impression",funnelSessionId:a,location:b}))},[a,b]);return j(function(){d("MessengerDesktopPromoEventLogger").log({event:"Click",funnelSessionId:a,location:b})},[a,b])}g.PORT=o;g.getRoomDeepLink=a;g.isMessengerDesktopRunning=r;g.isMessengerDesktopProbablyInstalled=e;g.isMessengerDesktopDeeplinkEligible=s;g.isMessengerDesktopPromoEligible=f;g.isMessengerDesktopDeeplinkEnabled=t;g.useMessengerDesktopWindowsDeeplinkSwitcher=u;g.getDeeplinkButtonLabel=z;g.getDeeplinkButtonURI=A;g.useMessengerDesktopPromoEventLogger=B}),98);
__d("useMWLSUnarchiveThread",["LSFactory","LSOptimisticUnarchiveThread","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")();return h(function(b){c("promiseDone")(a.runInTransaction(function(a){return c("LSOptimisticUnarchiveThread")(b,c("LSFactory")(a))},"readwrite"))},[a])}g["default"]=a}),98);
__d("LSFeatureLimitsType",[],(function(a,b,c,d,e,f){a=Object.freeze({READ_ONLY:1,GENERIC_READ_ONLY_BLOCK:2,MESSAGE_SEND:4,MESSENGER_ONLY_ACCOUNTS_READ_ONLY_BLOCK:8,MESSAGE_SEND_PRIVATE:16,MESSAGE_SEND_PUBLIC:32});f["default"]=a}),66);
__d("MWPFeatureLimitedData.bs",["I64","LSFeatureLimitsType","LSIntEnum","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("LSIntEnum").ofNumber(c("LSFeatureLimitsType").READ_ONLY),d("LSIntEnum").ofNumber(c("LSFeatureLimitsType").GENERIC_READ_ONLY_BLOCK),d("LSIntEnum").ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND)];function i(a){for(var b=0;b<h.length;b++){var c=h[b];if(d("I64").equal(c,a.type_))return!0}return!1}var j=function(a){var b=d("I64").of_float(Date.now()/1e3);return d("ReQL").fromTableAscending(a.table("feature_limits")).filter(function(a){return i(a)&&d("I64").gt(a.expirationTimestampSeconds,b)})};function a(){var a=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return j(a)},[a],f.id+":66")}g.readonlyFeatureLimitQuery=j;g.useReadOnlyFeatureLimitData=a}),98);
__d("MWLSFeatureLimitedStatus.bs",["MWPFeatureLimitedData.bs","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWPFeatureLimitedData.bs").useReadOnlyFeatureLimitData();if(a!=null)return c("gkx")("1908348");else return!1}g.useIsReadOnlyFeatureLimited=a}),98);
__d("MAWRemoveGroupParticipantsUtils",["fbt","I64","LSFactory","LSIntEnum","LSIssueNewError","LSOptimisticRemoveThread","LSThreadRemoveType","MAWJids","MAWJobDefinitions","MAWTimedJob","Promise","ReQL","WAJobOrchestratorTypes"],(function(a,b,c,d,e,f,g,h){"use strict";function i(a,e,f){return function(g){return a.runInTransaction(function(a){return d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("mi_act_mapping_table")).getKeyRange(e)).then(function(i){if(i==null)return b("Promise").resolve();i=d("I64").to_string(i.jid);i=d("MAWJids").toGroupJid(i);return d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.removeGroupParticipants(i,[d("I64").to_string(g)],{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION})).then(function(g){if(g.success)if(f)return c("LSOptimisticRemoveThread")(e,d("LSIntEnum").ofNumber(c("LSThreadRemoveType").ARCHIVE_THREAD),c("LSFactory")(a));else return b("Promise").resolve();g=h._("__JHASH__H24A_8JL2G4__JHASH__").toString();return c("LSIssueNewError")(void 0,void 0,g,g,void 0,void 0,c("LSFactory")(a))})})},"readwrite")}}function a(a,b){return i(a,b,!1)}function e(a,b){return i(a,b.threadKey,!1)}function f(a,b){return i(a,b.threadKey,!0)}g.createRemoveParticipantCallbackFromThreadKey=a;g.createRemoveParticipantCallback=e;g.createLeaveGroupCallback=f}),98);
__d("C4GFalcoLoggerDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("C4gEngagementFalcoEvent").__setRef("C4GFalcoLoggerDeferred");function a(a){var b=a.action,c=a.category_id,d=a.client_extras,e=a.community_id,f=a.event,g=a.field_value,i=a.group_id,j=a.parent_surface,k=a.source,l=a.surface,m=a.thread_id;h.onReady(function(a){return a.log(function(){return{action:b,category_id:c,client_extras:d,community_id:e,event:f,field_value:g,group_id:i,parent_surface:j,source:k,surface:l,thread_id:m}})})}g.logC4GEngagementFalcoEvent=a}),98);
__d("XCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/archived/t/{thread_key}/",Object.freeze({}),["/messages/archived/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometArchivedThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/archived/t/{thread_key}/",Object.freeze({}),["/archived/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxArchivedThreadsRouteBuilder",["CurrentEnvironment","XCometArchivedThreadsControllerRouteBuilder","XMessengerDotComCometArchivedThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){a=a.thread_key;return c("XCometArchivedThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/messages/archived/",{})}}:{buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometArchivedThreadsControllerRouteBuilder").buildExtraURL("/archived/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/support/t/{thread_key}/",Object.freeze({}),["/support/","/business_support/","/business_support/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxBusinessSupportThreadsRouteBuilder",["XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a={buildURL:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildURL(a)},buildURLWithoutThread:function(a){return c("XMessengerDotComCometBusinessSupportThreadsControllerRouteBuilder").buildExtraURL("/support/",a)}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/marketplace/t/{thread_key}/",Object.freeze({}),["/messages/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/marketplace/t/{thread_key}/",Object.freeze({}),["/marketplace/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMarketplaceThreadsRouteBuilder",["CurrentEnvironment","XCometMarketplaceThreadsControllerRouteBuilder","XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildURL:function(a){a=a.thread_key;return c("XCometMarketplaceThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/messages/marketplace/",{})}}:{buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(){return c("XMessengerDotComCometMarketplaceThreadsControllerRouteBuilder").buildExtraURL("/marketplace/",{})}};b=a.buildURL;d=a.buildURLWithoutThread;g.buildURL=b;g.buildURLWithoutThread=d}),98);
__d("XCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/messages/requests/t/{thread_key}/",Object.freeze({}),["/messages/requests/","/messages/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("XMessengerDotComCometMessageRequestsControllerRouteBuilder",["jsExtraRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsExtraRouteBuilder")("/requests/t/{thread_key}/",Object.freeze({}),["/requests/","/e2ee/requests/t/{thread_key}/"],void 0);b=a;g["default"]=b}),98);
__d("MWInboxMessageRequestsRouteBuilder",["CurrentEnvironment","XCometMessageRequestsControllerRouteBuilder","XMessengerDotComCometMessageRequestsControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=c("CurrentEnvironment").facebookdotcom?{buildE2EEThreadURL:function(a){a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/e2ee/requests/t/{thread_key}/",{thread_key:a})},buildURL:function(a){a=a.thread_key;return c("XCometMessageRequestsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(a){return c("XCometMessageRequestsControllerRouteBuilder").buildExtraURL("/messages/requests/",a)}}:{buildE2EEThreadURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/e2ee/requests/t/{thread_key}/",{thread_key:a})},buildURL:function(a){a=a.thread_key;return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildURL({thread_key:a})},buildURLWithoutThread:function(a){return c("XMessengerDotComCometMessageRequestsControllerRouteBuilder").buildExtraURL("/requests/",a)}};b=a.buildE2EEThreadURL;d=a.buildURL;e=a.buildURLWithoutThread;g.buildE2EEThreadURL=b;g.buildURL=d;g.buildURLWithoutThread=e}),98);
__d("useMWLSMarkThreadAsRead",["I64","LSFactory","LSOptimisticMarkThreadReadV2","MWThreadKey.react","MessengerWebUXLogger","ReQL","ServerTime","asyncToGeneratorRuntime","cr:2580","cr:2865","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=(e=b("cr:2865"))!=null?e:function(){return{}};function a(a){var e=c("useReStore")(),f=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=i(),j=g.setIsPassive,k=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return h(function(){k==null?void 0:k({eventName:"mark_thread_as_read"}),j!=null&&j(!1),c("promiseDone")(e.runInTransaction(function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(e){var g=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(f)));if(g==null)return;var h=g.lastActivityTimestampMs,i=g.lastReadWatermarkTimestampMs;g=g.threadType;if(d("I64").gt(h,i)){b("cr:2580")&&a!=null&&b("cr:2580")({threadKey:f,threadType:g},"seen_receipt",a);return c("LSOptimisticMarkThreadReadV2")(f,d("I64").of_float(d("ServerTime").getMillis()),c("LSFactory")(e))}});return function(a){return e.apply(this,arguments)}}(),"readwrite"))},[k,j,e,f,a])}g["default"]=a}),98);
__d("MWChatIsMessageRequest.bs",["CurrentUser"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a!=null)if(a==="pending")return!0;else if(a==="other")return!c("CurrentUser").isWorkUser();else return!1;else return!1}g.fn=a}),98);
__d("MWGetLSThreadReportingTokenFromThread",["I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(17),a);if(b)return d("LSMessagingThreadTypeUtil").isSecure(a.threadType)?window.btoa("message_thread:encrypted"):window.btoa("message_thread:"+d("I64").to_string(a.threadKey))}g["default"]=a}),98);
__d("MWLSThread",["FBLogger","Promise","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=function(a){return a};function a(a,b){b===void 0&&(b=h);var e=c("useReStore")();return d("ReQLSuspense").useFirst(function(){return a!=null?d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a).map(function(a){return b(a)}):d("ReQL").empty()},[e,a],f.id+":29")}function e(a,b){b===void 0&&(b=h);var e=c("useReStore")();return d("ReQLSuspense").useFirstExn(function(){return d("ReQL").fromTableAscending(e.table("threads")).getKeyRange(a).map(function(a){var c;return(c=b==null?void 0:b(a))!=null?c:a})},[e,a],f.id+":48")}function i(a,b,e){e===void 0&&(e=h);a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b),f.id+":65");if(!a)throw c("FBLogger")("messenger_web").mustfixThrow("thread is null/undefined");return e(a)}function j(a,c,e){e===void 0&&(e=h);return c!=null?d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(c)).then(function(a){return a?e(a):void 0}):b("Promise").resolve(void 0)}g.useThread=a;g.useThreadExn=e;g.getThreadExn=i;g.getThreadAsync=j}),98);
__d("MWLSThreadCapabilities.bs",["I64","LSBitOffset","LSIntEnum","MWThreadKey.react","ReQL","ReQLSubscription.bs","SortedAsyncIterable.bs","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useMemo,i=d("LSBitOffset").set(d("LSIntEnum").ofNumber(38),d("LSBitOffset").set(d("LSIntEnum").ofNumber(30),d("LSBitOffset").set(d("LSIntEnum").ofNumber(10),d("LSBitOffset").set(d("LSIntEnum").ofNumber(25),d("LSBitOffset").set(d("LSIntEnum").ofNumber(24),d("LSBitOffset").set(d("LSIntEnum").ofNumber(23),d("LSBitOffset").set(d("LSIntEnum").ofNumber(20),d("LSBitOffset").set(d("LSIntEnum").ofNumber(18),d("LSBitOffset").set(d("LSIntEnum").ofNumber(15),d("LSBitOffset").set(d("LSIntEnum").ofNumber(14),d("LSBitOffset").set(d("LSIntEnum").ofNumber(8),d("LSBitOffset").set(d("LSIntEnum").ofNumber(55),d("LSBitOffset").set(d("LSIntEnum").ofNumber(4),d("LSBitOffset").set(d("LSIntEnum").ofNumber(3),d("LSBitOffset").set(d("LSIntEnum").ofNumber(2),d("LSBitOffset").set(d("LSIntEnum").ofNumber(1),d("LSBitOffset").set(d("LSIntEnum").ofNumber(0),d("LSBitOffset").empty))))))))))))))))),j=[i,d("LSBitOffset").empty];function k(){var a=c("useReStore")(),b=d("MWThreadKey.react").useMWThreadKeyMemoized(),e=d("ReQLSubscription.bs").useFirst(h(function(){if(b!=null)return d("ReQL").fromTableAscending(a.table("threads")).getKeyRange(b);else return d("SortedAsyncIterable.bs").empty()},[b,a]),"zay5ye1x");e=e!=null?[e.capabilities,e.capabilities2]:void 0;if(e!=null)return e;else return j}function l(a,b){a=d("I64").ge(a,d("I64").of_string("64"))?d("I64").sub(a,d("I64").of_string("64")):a;a=d("I64").lsl_(d("I64").one,d("I64").to_int32(a));return d("I64").equal(d("I64").and_(b,a),a)}function a(a){return l(d("LSIntEnum").ofNumber(88),a[1])}function b(a){return l(d("LSIntEnum").ofNumber(172),a[1])}function e(a){return l(d("LSIntEnum").ofNumber(106),a[1])}function f(a){return l(d("LSIntEnum").ofNumber(7),a[0])}function m(a){return l(d("LSIntEnum").ofNumber(9),a[0])}function n(a){return l(d("LSIntEnum").ofNumber(6),a[0])}function o(a){return l(d("LSIntEnum").ofNumber(35),a[0])}function p(a){return l(d("LSIntEnum").ofNumber(24),a[0])}function q(a){return l(d("LSIntEnum").ofNumber(25),a[0])}function r(a){return l(d("LSIntEnum").ofNumber(27),a[0])}function s(a){return l(d("LSIntEnum").ofNumber(60),a[0])}function t(a){return l(d("LSIntEnum").ofNumber(32),a[0])}function u(a){return l(d("LSIntEnum").ofNumber(95),a[1])}function v(a){return l(d("LSIntEnum").ofNumber(19),a[0])}function w(a){return l(d("LSIntEnum").ofNumber(85),a[1])}function x(a){return l(d("LSIntEnum").ofNumber(108),a[1])}function y(a){return l(d("LSIntEnum").ofNumber(74),a[1])}function z(){return s(k())}g.useCapabilities=k;g.canReportChatToAdmin=a;g.canPinMessage=b;g.canViewPinnedMessages=e;g.canCustomizeEmoji=f;g.canCustomizeNicknames=m;g.canCustomizeTheme=n;g.canCreateGroup=o;g.canRtcVideoCall=p;g.canRtcVoiceCall=q;g.canAddMember=r;g.canCustomizeThreadName=s;g.canIgnoreMessages=t;g.canSeeSharedLinks=u;g.canMuteThread=v;g.canRestrict=w;g.canCopyInviteLink=x;g.canDeleteThread=y;g.useCanCustomizeThreadNameCapability=z}),98);
__d("queryMWLSOtherParticipantContact",["I64","LSMessagingThreadTypeUtil","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){c=d("LSMessagingThreadTypeUtil").isOneToOne(c);return c?d("ReQL").leftJoin(d("ReQL").fromTableAscending(a.table("participants")).getKeyRange(b).filter(function(a){return!d("I64").equal(a.contactId,e)}).take(1),d("ReQL").fromTableAscending(a.table("contacts"))).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()}g["default"]=a}),98);
__d("useMWLSThreadIsPinned",["MWThreadKey.react","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useReStore")(),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(a.table("pinned_threads")).getKeyRange(b)},[a,b],f.id+":20");return e!=null}g["default"]=a}),98);
__d("ChatMuteStore.bs",[],(function(a,b,c,d,e,f){"use strict";b={FifteenMinutes:9e5,OneHour:36e5,EightHours:288e5,OneDay:864e5,Indefinitely:-1};c={Message:"messageMuteScope",Call:"callMuteScope",Both:"bothMuteScope"};var g={Duration:"setMuteDuration",Scope:"setMuteScope"};d={type:c.Message};e={type:c.Call};var h={type:c.Both},i={duration:b.FifteenMinutes,scope:d};function a(a,b){return b.type===g.Scope?{duration:a.duration,scope:b.scope}:{duration:b.duration,scope:a.scope}}f.ChatMuteOptions=b;f.ChatMuteScopeTypes=c;f.SetMuteActionTypes=g;f.message=d;f.call=e;f.both=h;f.initialState=i;f.reducer=a}),66);
__d("MessengerMuteUtils.bs",["fbt","ChatMuteStore.bs","DateStrings","I64","MWCMThreadTypes.react","formatDate"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){if(a<=0){if(a===d("ChatMuteStore.bs").ChatMuteOptions.Indefinitely)return h._("__JHASH__Qqz4BaNxhpZ__JHASH__");return}if(a<86401)return;var b=new Date(a*1e3).getDay(),e=b===new Date().getDay(),f=b===new Date().getDay()+1;if(f)return h._("__JHASH__oudW1xi6NTV__JHASH__",[h._param("time",c("formatDate")(a,"g:ia"))]);return e?h._("__JHASH__so9VkYDJtTA__JHASH__",[h._param("time",c("formatDate")(a,"g:ia"))]):h._("__JHASH__8p1YQCn8sSf__JHASH__",[h._param("time",c("formatDate")(a,"g:ia")),h._param("weekday name",d("DateStrings").getWeekdayName(b))])}f=h._("__JHASH__mE99UrtEjlr__JHASH__");function b(a,b){if(a==null)return h._("__JHASH__f_P00nfKfsd__JHASH__");switch(a.type){case"messageMuteScope":return h._("__JHASH__wGzDdDLdmM0__JHASH__");case"callMuteScope":return h._("__JHASH__aevOqU7QNLm__JHASH__");case"bothMuteScope":return h._("__JHASH__e9DezvV_scv__JHASH__")}}function e(a){var b=a.muteCallsExpireTimeMs,c=a.muteExpireTimeMs;a=a.threadType;if(d("MWCMThreadTypes.react").isUnjoinedCMThread(a))return 0;a=Math.min(d("I64").to_float(c),d("I64").to_float(b));c=Math.max(d("I64").to_float(c),d("I64").to_float(b));return a===-1?-1:c}g.mutedUntilLabel=a;g.chatNotificationActionLabel=f;g.muteDialogTitle=b;g.calcMuteUntilMs=e}),98);
__d("MWNavigationContext",["react"],(function(a,b,c,d,e,f,g){"use strict";d("react");b=d("react");c=b.createContext;var h=b.createElement,i=c();function a(a){var b=a.children;a=a.value;return h(i.Provider,{children:b,value:a})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.context=i;g.Provider=e}),98);
__d("useMWNavigation",["CometPassiveGetRouterStateContext","I64","LSMessagingThreadTypeUtil","LSThreadAttributionStore.bs","MWChatInteraction.bs","MWChatStateActions","MWChatStateV2.bs","MWChatStateV2Types","MWInboxArchivedThreadsRouteBuilder","MWInboxBusinessSupportThreadsRouteBuilder","MWInboxMarketplaceThreadsRouteBuilder","MWInboxMessageRequestsRouteBuilder","MWInboxRouteBuilder","MWNavigationContext","MessengerWebEntryPointsUtil.bs","XCometGroupDiscussionControllerRouteBuilder","cr:6418","getGroupThreadViewParams","getTopMostRouteCometEntityKey","react","useCometFeedNoRoutingNavigationEventLogger","useCometRouterDispatcher","useLazyShouldShowMessagingEntrypointInCometRoot","useMWChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useContext,j=e.useMemo;function k(){var a=d("MWChatStateV2.bs").useDispatch(),b=c("useCometFeedNoRoutingNavigationEventLogger")(),e=c("useMWChatOpenTabTraceProvider")();return h(function(c,f){b(Date.now(),"","messenger");return e(function(b){d("MWChatInteraction.bs").set(d("I64").to_string(c.threadKey),b);return a(d("MWChatStateActions").openTab(Date.now(),{shouldFocus:!0},{threadKeyDescriptor:c,type:d("MWChatStateV2Types").MWChatStateTabType.ChatTab}))},d("I64").to_int32(c.threadType),f,d("I64").to_string(c.threadKey),c.isUnread)},[a,b,e])}function a(){var a=c("useLazyShouldShowMessagingEntrypointInCometRoot")("CHAT"),e=c("useCometRouterDispatcher")(),f=i(d("MWNavigationContext").context),g=i(c("CometPassiveGetRouterStateContext")),h=k();return j(function(){var i=function(a,e){var h=c("getTopMostRouteCometEntityKey")(g==null?void 0:g()),i=h==null?void 0:h.entity_type,j=c("getGroupThreadViewParams")(h,g==null?void 0:g());h=(h=f)!=null?h:function(a){a=d("I64").to_string(a);if(b("cr:6418")!=null&&d("LSMessagingThreadTypeUtil").isSecure(e))return i==="message_requests"?d("MWInboxMessageRequestsRouteBuilder").buildE2EEThreadURL({thread_key:a}):d("MWInboxRouteBuilder").buildE2EEThreadURL({thread_key:a});if(j!=null)return c("XCometGroupDiscussionControllerRouteBuilder").buildURL({chats_to_open:[j.threadKey,a],idorvanity:j.groupId});if(i==null)return d("MWInboxRouteBuilder").buildURL({thread_key:a});switch(i){case"archived":return d("MWInboxArchivedThreadsRouteBuilder").buildURL({thread_key:a});case"business_support":return d("MWInboxBusinessSupportThreadsRouteBuilder").buildURL({thread_key:a});case"marketplace":return d("MWInboxMarketplaceThreadsRouteBuilder").buildURL({thread_key:a});case"message_requests":return d("MWInboxMessageRequestsRouteBuilder").buildURL({thread_key:a});default:return d("MWInboxRouteBuilder").buildURL({thread_key:a})}};return h(a)},j=function(a,b){var c=a.isUnread,f=a.threadKey;a=a.threadType;if(e!=null){var g=d("MessengerWebEntryPointsUtil.bs").cast(b);e.go(i(f,a),{traceParams:{TLTV:"true",entrypoint:g,hasBadge:c!=null?c.toString():"",inboxEntrypoint:b,isSecure:d("LSMessagingThreadTypeUtil").isSecure(a)?"true":"false",thread_id:d("I64").to_string(f),thread_type:d("I64").to_string(a)}})}},k=function(a,b){a=a.threadKey;return d("LSThreadAttributionStore.bs").setSource(d("I64").to_string(a),b)};return{getUrlFromThreadKey:i,openInbox:function(a,b){k(a,b);return j(a,b)},openTabOrInbox:function(b,c){k(b,c);if(a())return h(b,c);else return j(b,c)}}},[g,f,e,a,h])}g["default"]=a}),98);
__d("LSRtcCallState",[],(function(a,b,c,d,e,f){a=Object.freeze({NO_ONGOING_CALL:0,AUDIO_GROUP_CALL:1,VIDEO_GROUP_CALL:2,VIDEO_1TO1_CALL:3,AUDIO_1TO1_CALL:4});f["default"]=a}),66);
__d("RTCCallState.bs",["I64","LSIntEnum","LSRtcCallState","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(d("I64").equal(a,d("LSIntEnum").ofNumber(2)))return!0;else return d("I64").equal(a,d("LSIntEnum").ofNumber(8))}function a(a,b){if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSRtcCallState").NO_ONGOING_CALL)))return"NO_ONGOING_CALL";else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSRtcCallState").AUDIO_GROUP_CALL)))if(h(b))return"AUDIO_GROUP_CALL";else return"AUDIO_1TO1_CALL";else if(d("I64").equal(a,d("LSIntEnum").ofNumber(c("LSRtcCallState").VIDEO_GROUP_CALL)))if(h(b))return"VIDEO_GROUP_CALL";else return"VIDEO_1TO1_CALL";else{c("recoverableViolation")("Unknown RTCCallState: "+(d("I64").to_string(a)+("L and threadType combination: "+(d("I64").to_string(b)+"L"))),"messenger_web_product");return"NO_ONGOING_CALL"}}g.ofLsRtcCallState=a}),98);
__d("getMWLSOngoingCallServerInfoData",["ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("ReQL").fromTableAscending(a.table("rtc_ongoing_calls_on_threads_v2")).getKeyRange(b).map(function(a){return a.ongoingCallServerInfoData})}g["default"]=a}),98);
__d("useMWLSGetOngoingCallState",["MWLSThread","MWThreadKey.react"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("MWThreadKey.react").useMWThreadKeyMemoizedExn();return d("MWLSThread").useThread(a,function(a){return a.ongoingCallState})}g["default"]=a}),98);
__d("useZenonCallInvite",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useState;function a(a){var b=i(function(){return a?a.getCurrentInvite():null}),c=b[0],d=b[1];h(function(){if(a){var b=a.addListener("callInvite",d);return function(){b.remove()}}else d(null)},[a]);return c}g["default"]=a}),98);
__d("ZenonPreCallHookBuilder",["CometRelay","FBLogger","Promise","ZenonPreCallHookBuilderHelper","err","gkx","promiseDone","react","useZenonCallInvite"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.useCallback,j=h.useContext,k=h.useDebugValue,l=h.useEffect,m=6e4;function a(a){return function(){var b=j(a);return i(function(){return d("ZenonPreCallHookBuilderHelper").acceptCall(b)},[b])}}function e(a){return function(){var b=j(a);b=c("useZenonCallInvite")(b?b.callInviteModel:null);k(b);return b}}function f(a,b){return function(d,e){return function(){var f=j(a),g=d(),h=e(),k=b();return i(function(a){if(!c("gkx")("1811099"))return;var b=a.existingCall,d=a.thread;if(!f||!f.incomingRingSDK.isCallSupported({threadType:d.type,type:"thread"}))h(a);else switch(d.type){case 1:c("promiseDone")(k(babelHelpers["extends"]({},a,{invitees:[d.id]})));break;case 15:if(d.secureOneToOneThreadPeerId==null)throw c("err")("secureOneToOneThreadPeerId should be defined when starting a call from a secure 1:1 thread");c("promiseDone")(k(babelHelpers["extends"]({},a,{invitees:[d.secureOneToOneThreadPeerId]})));break;case 2:case 16:b===null||b.call_state==="NO_ONGOING_CALL"?g(a,function(b){c("promiseDone")(k(babelHelpers["extends"]({},a,{invitees:b})))}):c("promiseDone")(k(babelHelpers["extends"]({},a,{invitees:[]})));break;default:c("FBLogger")("rtc_www").blameToPreviousFrame().mustfix("Attempted to start RTC call for unsupported thread type %d",d.type)}},[f,g,h,k])}}}function n(a,b){return function(){var c=j(a),d=b();l(function(){if(c&&d&&d.type==="ringing"){var a=window.setTimeout(function(){c.callInviteModel.decline("NoAnswerTimeout")},m);return function(){window.clearTimeout(a)}}},[c,d])}}function o(a){return function(){var e=j(a);return i(function(a){var f=a.existingCall,g=a.extra,h=a.invitees,i=a.isE2eeMandated,j=a.mediaType,k=a.thread;a=a.trigger;return!c("gkx")("1811099")?b("Promise").resolve():d("ZenonPreCallHookBuilderHelper").startCall(e,{existingCall:f,extra:g,invitees:h,isE2eeMandated:i,mediaType:j,thread:k,trigger:a})},[e])}}function p(a){return function(){var e=j(a),f=d("CometRelay").useRelayEnvironment();return i(function(a,g,h,i){return!c("gkx")("1811099")?b("Promise").resolve(null):d("ZenonPreCallHookBuilderHelper").createMeetup(e,f,a,g,h,i)},[e,f])}}function q(a){return function(){var e=j(a);return i(function(a,f){f===void 0&&(f={});if(!c("gkx")("1811099"))return b("Promise").resolve();f=(f=f)!=null?f:{};var g=f.actorID,h=f.callbackUsers,i=f.mediaType,j=f.referrerContext,k=f.startCallImmediately;f=f.trigger;return d("ZenonPreCallHookBuilderHelper").joinMeetup({actorID:g,callback_users:h,context:e,forceSkipChildLobby:!1,hasVideo:i!=null?i==="video":!0,linkUrl:a,referrerContext:j,startCallImmediately:k,trigger:f})},[e])}}g.createAcceptCallCallbackHook=a;g.createCallInviteHook=e;g.createInviteAndStartCallCallbackHookFactory=f;g.createNoAnswerTimeoutHook=n;g.createStartCallCallbackHook=o;g.createCreateMeetupCallbackHook=p;g.createJoinMeetupCallbackHook=q}),98);
__d("RTWebPreCallHooks",["RTWebPreCallContext","ZenonPreCallHookBuilder"],(function(a,b,c,d,e,f,g){"use strict";a=d("ZenonPreCallHookBuilder").createAcceptCallCallbackHook(c("RTWebPreCallContext"));b=d("ZenonPreCallHookBuilder").createCallInviteHook(c("RTWebPreCallContext"));e=d("ZenonPreCallHookBuilder").createNoAnswerTimeoutHook(c("RTWebPreCallContext"),b);f=d("ZenonPreCallHookBuilder").createStartCallCallbackHook(c("RTWebPreCallContext"));var h=d("ZenonPreCallHookBuilder").createCreateMeetupCallbackHook(c("RTWebPreCallContext")),i=d("ZenonPreCallHookBuilder").createJoinMeetupCallbackHook(c("RTWebPreCallContext"));d=d("ZenonPreCallHookBuilder").createInviteAndStartCallCallbackHookFactory(c("RTWebPreCallContext"),f);g.useAcceptCallCallback=a;g.useCallInvite=b;g.useNoAnswerTimeout=e;g.useStartCallCallback=f;g.useCreateMeetupCallback=h;g.useJoinMeetupCallback=i;g.createInviteAndStartCallCallbackHook=d}),98);
__d("useRTWebOutgoingGroupCallDialog",["JSResourceForInteraction","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useRef,j=c("JSResourceForInteraction")("RTWebCometOutgoingGroupCallContentLS.react").__setRef("useRTWebOutgoingGroupCallDialog");function a(){var a=i(!1),b=c("useCometLazyDialog")(j),d=b[0];return h(function(b){a.current||(a.current=!0,d(b,function(){a.current=!1}))},[a,d])}g["default"]=a}),98);
__d("useRTWebOutgoingUnsupportedBrowserDialog",["JSResourceForInteraction","react","useCometLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=c("JSResourceForInteraction")("RTWebOutgoingUnsupportedBrowserDialogWrapper.react").__setRef("useRTWebOutgoingUnsupportedBrowserDialog");function a(){var a=c("useCometLazyDialog")(i),b=a[0];return h(function(a){b(a)},[b])}g["default"]=a}),98);
__d("useRTWebCometStartCallCallback",["Actor","RTWebPreCallHooks","react","useRTWebOutgoingGroupCallDialog","useRTWebOutgoingUnsupportedBrowserDialog"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;e=d("RTWebPreCallHooks").createInviteAndStartCallCallbackHook(a,b);function a(){var a=d("Actor").useActor(),b=a[0],e=c("useRTWebOutgoingGroupCallDialog")();return h(function(a,c){var d=a.thread.id;a=a.trigger;e({onCall:c,threadID:d,trigger:a,viewer:b})},[e,b])}function b(){var a=d("Actor").useActor(),b=a[0],e=c("useRTWebOutgoingUnsupportedBrowserDialog")();return h(function(a){a=a.thread;var c=a.id;a=a.type;e({actorID:b,threadID:c,threadType:a})},[b,e])}g["default"]=e}),98);
__d("MWLSStartPhoneCall.bs",["I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","MWThreadKey.react","Promise","RTCCallState.bs","ReQL","ReQL.bs","getMWLSOngoingCallServerInfoData","promiseDone","recoverableViolation","useMWLSGetOngoingCallState","useRTWebCometStartCallCallback","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useReStore")(),e=c("useRTWebCometStartCallCallback")(),f=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useMWLSGetOngoingCallState")(),h=d("MWPActor.react").useActor(),i=d("Int64Hooks").useCallbackInt64(function(i,j,k){var l=i?"video":"audio";c("promiseDone")(b("Promise").all([d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:f,tl:0})),d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("participants")),{hd:f,tl:0}),function(a){return!d("I64").equal(a.contactId,h)}),function(a){return d("I64").to_string(a.contactId)})),d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("mi_act_mapping_table")),{hd:f,tl:0}),function(a){return a.jid}))]).then(function(h){var i=h[0],m=h[1],n=h[2];if(i==null){c("recoverableViolation")("Cannot find thread when trying to call someone","messenger_web_product");return}return d("ReQL").firstAsync(c("getMWLSOngoingCallServerInfoData")(a,f)).then(function(a){return b("Promise").resolve(e({existingCall:g!=null&&a!=null?{call_state:d("RTCCallState.bs").ofLsRtcCallState(g,i.threadType),initiator_fbid:null,server_info_data:a}:null,isE2eeMandated:d("LSMessagingThreadTypeUtil").isSecure(i.threadType),mediaType:l,thread:{e2eeThreadID:n==null?void 0:d("I64").to_string(n),id:j,secureOneToOneThreadPeerId:m!=null&&d("I64").equal(i.threadType,d("LSIntEnum").ofNumber(15))?m:void 0,type:d("I64").to_int32(i.threadType)},trigger:k}))})}),void 0,function(a){c("recoverableViolation")("Error making a phone call","rtc_www",{error:a.Error})})},[h,e,f,a,g]),j=g!=null?d("I64").equal(g,d("I64").one)?{_0:void 0,TAG:1}:d("I64").equal(g,d("I64").of_string("2"))?{_0:void 0,TAG:0}:void 0:void 0;return[i,j]}g.useMakeRTCCall=a}),98);
__d("getLSContactHref",["CurrentEnvironment","I64","LSContactBlockedByViewerStatus","MWLSContactTypeExactUtils","XCometVanityURLControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.blockedByViewerStatus,e=a.id,f=a.secondaryName;if(d("I64").to_int32(b)===c("LSContactBlockedByViewerStatus").FULLY_BLOCKED)return;b=d("MWLSContactTypeExactUtils").isIgContact(a);return f!=null&&b?"https://www.instagram.com/"+f:(c("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+c("XCometVanityURLControllerRouteBuilder").buildUri({vanity:d("I64").to_string(e)}).toString()}g["default"]=a}),98);
__d("MWPThreadIsPageContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext();g["default"]=b}),98);
__d("MWPThreadIsPage.react",["I64","LSContactType","LSIntEnum","MWPActor.react","MWPThreadIsPageContext","ReQL","ReQLSuspense","react","recoverableViolation","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var b=a.children,e=a.threadKey,g=c("useReStore")(),i=d("MWPActor.react").useActor();a=d("ReQLSuspense").useFirst(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(g.table("participants")).getKeyRange(e).filter(function(a){return!d("I64").equal(a.contactId,i)}),d("ReQL").fromTableAscending(g.table("contacts")))},[e],f.id+":32");a=a!=null?a[1]:null;a=a!=null?d("I64").equal(a.contactType,d("LSIntEnum").ofNumber(c("LSContactType").PAGE)):!1;return h.jsx(c("MWPThreadIsPageContext").Provider,{value:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(){var a=i(c("MWPThreadIsPageContext"));if(a!=null)return a;else{c("recoverableViolation")("Using hook useIsPage in a place where we didn't include the context","messenger_web_product");return!1}}g.Provider=a;g.useIsPage=b}),98);
__d("useMAWMarkThreadAsRead",["I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWTimedJob","WAJobOrchestratorTypes","promiseDone","useMWLSMarkThreadAsRead","useReStore"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var e=c("useReStore")(),f=c("useMWLSMarkThreadAsRead")(b);return d("Int64Hooks").useCallbackInt64(function(){if(d("I64").ge(a.authorityLevel,d("LSIntEnum").ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))){f();c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(e,a.threadKey,"useMAWMarkThreadAsRead",function(a,b,c){return d("MAWTimedJob").TimedUIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.markThreadAsRead(c,void 0,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.HIGH}))}));return}},[a.authorityLevel,a.threadKey,e])}g["default"]=a}),98);
__d("LSPlatformWaitForTaskCompletion",["I64","Promise","ReQL","asyncToGeneratorRuntime","emptyFunction","err","promiseDone","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f){var g=new Set(),h=[],i=0,j=!0,k,l,m=new(b("Promise"))(function(a,b){k=a,l=b}),n=c("uuidv4")(),o=!0,p=(yield a.runInTransaction(function(){var m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(m){yield m.table("mailbox_task_completion_notification_context").add({notificationName:f,notificationScopeKey:n});var q=a.table("pending_tasks").subscribe(function(a,b){a=d("I64").to_string(a.hd);b.operation==="add"||b.operation==="put"?g.add(a):g["delete"](a)}),r=c("emptyFunction"),s=a.table("mailbox_task_completion_api_tasks").subscribe(function(a,b){if(b.operation==="add"||b.operation==="put"&&b.value.notificationScopeKey===n){a=d("I64").to_string(b.value.taskId);g["delete"](a);b=b.value.success;b==null?o&&(h.push(a),i+=1):(j=b&&j,i-=1)}});r=a.subscribeToCommit(function(){i===0&&g.size===0&&(s(),q(),r(),c("promiseDone")(a.runInTransaction(function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){for(var b of h)yield a.table("mailbox_task_completion_api_tasks")["delete"](d("ReQL").key(d("I64").of_string(b)))});return function(b){return a.apply(this,arguments)}}(),"readwrite","background")),j?k(p):l(c("err")("Not all tasks for "+f+" succeeded")))});try{var t=(yield e(m));yield m.table("mailbox_task_completion_notification_context")["delete"]({hd:n,tl:0});return t}catch(a){r();s();q();throw a}});return function(a){return m.apply(this,arguments)}}(),"readwrite"));o=!1;return m});return h.apply(this,arguments)}g["default"]=a}),98);
__d("MDSSvgIcon.react",["CometSVGIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,d=a.color,e=a.dataTestId;e=a.inline;e=e===void 0?!1:e;var f=a.size;f=f===void 0?24:f;a=a.viewBox;a=a===void 0?"0 0 36 36":a;return h.jsx(c("CometSVGIcon.react"),{color:d,"data-testid":void 0,inline:e,size:f,viewBox:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWPThreadsForThreadList.bs",["I64","ReQL.bs","SortedAsyncIterable.bs"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){if(c!=null){a=d("ReQL.bs").bounds(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexDescending(a.table("threads").index("parentThreadKeyLastActivityTimestampMs")),{hd:b,tl:0}),{NAME:"greaterThan",VAL:{hd:d("I64").zero,tl:0}});b=c.minLastActivityTimestampMs;c=c.maxLastActivityTimestampMs;b=!d("I64").equal(b,d("I64").zero)&&!d("I64").equal(b,d("I64").one)?b:void 0;c=!d("I64").equal(c,d("I64").zero)&&!d("I64").equal(c,d("I64").one)?c:void 0;if(b!=null)if(c!=null)return d("ReQL.bs").bounds(a,{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:b,tl:0}},{NAME:"lessThanOrEqual",VAL:{hd:c,tl:0}}]});else return d("ReQL.bs").bounds(a,{NAME:"greaterThanOrEqual",VAL:{hd:b,tl:0}});else if(c!=null)return d("ReQL.bs").bounds(a,{NAME:"lessThanOrEqual",VAL:{hd:c,tl:0}});else return a}else return d("SortedAsyncIterable.bs").empty()}g.createIterable=a}),98);
__d("MessengerSurfaceType.bs",[],(function(a,b,c,d,e,f){"use strict";a="MESSENGER";b="WORK_QUIKCHAT";c="WORK_CHAT";d="WORKROOMS";e="WORKROOMS_IN_CALL";var g="OTHER";f.messenger=a;f.workQuickchat=b;f.workChat=c;f.workrooms=d;f.workroomsInCall=e;f.other=g}),66);
__d("CommunityMessagingEnableState",[],(function(a,b,c,d,e,f){a=Object.freeze({ENABLED:1,DISABLE_REQUESTED:2,DISABLING:3,DISABLED:4,DISABLE_FAILED:5});f["default"]=a}),66);
__d("LSRestrictionType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,DATA_PRIVACY:1,ENCRYPTED_THREAD:2});f["default"]=a}),66);
__d("MWIsArmadillo",["qex"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("qex")._("135")===!0}g["default"]=a}),98);
__d("MWThreadListSupportedThreadTypes.bs",["LSIntEnum","MWIsArmadillo","MetaConfig"],(function(a,b,c,d,e,f,g){"use strict";a=[d("LSIntEnum").ofNumber(1),d("LSIntEnum").ofNumber(201),d("LSIntEnum").ofNumber(2),d("LSIntEnum").ofNumber(5),d("LSIntEnum").ofNumber(6),d("LSIntEnum").ofNumber(3)].concat(c("MWIsArmadillo")()?[d("LSIntEnum").ofNumber(15),d("LSIntEnum").ofNumber(16)]:[],c("MetaConfig")._("40")||c("MetaConfig")._("41")?[d("LSIntEnum").ofNumber(18),d("LSIntEnum").ofNumber(19),d("LSIntEnum").ofNumber(23)]:[],c("MetaConfig")._("42")?[d("LSIntEnum").ofNumber(150)]:[],c("MetaConfig")._("36")?[d("LSIntEnum").ofNumber(154)]:[],c("MetaConfig")._("32")?[d("LSIntEnum").ofNumber(152)]:[]);g.supportedThreadTypes=a}),98);/*FB_PKG_DELIM*/
__d("CometUFICreateCommentMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6382455688497791"}),null);
__d("CometUFICreateCommentMutation.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","CometUFICreateCommentMutation_facebookRelayOperation"],(function(a,aa,b,c,d,e){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"UFI2CommentsProvider_commentsKey"},b={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextEnableComment"},c={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAdPreview"},d={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsAggregatedShare"},e={defaultValue:null,kind:"LocalArgument",name:"displayCommentsContextIsStorySet"},ba={defaultValue:null,kind:"LocalArgument",name:"displayCommentsFeedbackContext"},ca={defaultValue:null,kind:"LocalArgument",name:"feedLocation"},da={defaultValue:null,kind:"LocalArgument",name:"feedbackSource"},ea={defaultValue:null,kind:"LocalArgument",name:"focusCommentID"},fa={defaultValue:null,kind:"LocalArgument",name:"groupID"},ga={defaultValue:!1,kind:"LocalArgument",name:"includeNestedComments"},ha={defaultValue:null,kind:"LocalArgument",name:"input"},ia={defaultValue:null,kind:"LocalArgument",name:"inviteShortLinkKey"},ja={defaultValue:null,kind:"LocalArgument",name:"renderLocation"},ka={defaultValue:null,kind:"LocalArgument",name:"scale"},la={defaultValue:null,kind:"LocalArgument",name:"useDefaultActor"},ma=[{kind:"Variable",name:"data",variableName:"input"}],f={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},g=[f],na={alias:null,args:[{kind:"Literal",name:"orderby",value:"flattened_chronological"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:g,storageKey:'top_level_comments(orderby:"flattened_chronological")'},h={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},j=[i],oa={alias:null,args:null,concreteType:"LivingRoomContentItem",kind:"LinkedField",name:"living_room_content_item",plural:!1,selections:j,storageKey:null},pa={alias:null,args:null,kind:"ScalarField",name:"fishbowl_comment_ordering_mode",storageKey:null},k={alias:"threading_depth",args:null,kind:"ScalarField",name:"depth",storageKey:null},qa={alias:null,args:null,kind:"ScalarField",name:"detection_analytics_enabled",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},n=[m],ra={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:n,storageKey:null},o=[l,i],sa={alias:null,args:null,kind:"ScalarField",name:"have_comments_been_disabled",storageKey:null},ta={alias:null,args:null,concreteType:"XFBCommunityCommentSignalRenderer",kind:"LinkedField",name:"community_comment_signal_renderer",plural:!1,selections:[{args:null,documentName:"CometCommunityCommentSignalRenderer_comment",fragmentName:"CometCommunityCommentSignalBubble_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],storageKey:null},ua={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"4lAgx2"}],concreteType:null,kind:"LinkedField",name:"style_type_renderer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentAnimatedImageShareAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentAnimatedImageShareStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDonationAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDonationStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentFallbackAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFallbackStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentImageAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPhotoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentStickerAvatarAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentStickerAvatarStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAutoplayAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoAutoplayStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentVideoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentVideoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentTipJarPaymentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentTipJarPaymentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPlaceInfoAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommentPlaceInfoStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentChatCommandAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentChatCommandStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentPageInCommentAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentPageInCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentInstantGamesTournamentActivityAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentInstantGamesTournamentActivityStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFISubscriptionGiftingAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentSubscriptionGiftStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFIFactsInCommentsUnavailableAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentFactsInCommentsCommentStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentDataSnapshotAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentDataSnapshotStyleRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometFeedStoryUFICommentAttachment_attachment",fragmentName:"CometUFICommentCommunityAwardAttachmentStyle_styleTypeRenderer",fragmentPropName:"styleTypeRenderer",kind:"ModuleImport"}],type:"StoryAttachmentCommunityAwardStyleRenderer",abstractKey:null}],storageKey:'style_type_renderer(supported:"4lAgx2")'},{alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null}],storageKey:null},va={kind:"Variable",name:"feed_location",variableName:"feedLocation"},p=[va],wa={alias:null,args:p,kind:"ScalarField",name:"comment_menu_tooltip",storageKey:null},xa={alias:null,args:p,kind:"ScalarField",name:"should_show_comment_menu",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},r={kind:"TypeDiscriminator",abstractKey:"__isActor"},s={kind:"Variable",name:"scale",variableName:"scale"},t={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},u=[t],v={alias:"profile_picture_depth_0",args:[{kind:"Literal",name:"height",value:32},s,{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:u,storageKey:null},ya=[{kind:"Literal",name:"height",value:24},s,{kind:"Literal",name:"width",value:24}],w={alias:"profile_picture_depth_1",args:ya,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:u,storageKey:null},za={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},z={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},A={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]};x={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[l,i,q,r,v,w,{kind:"InlineFragment",selections:[za],type:"Entity",abstractKey:"__isEntity"},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},x,y,{alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},z,A],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[x],type:"Page",abstractKey:null}],storageKey:null};var Aa={alias:null,args:null,kind:"ScalarField",name:"is_author_weak_reference",storageKey:null},Ba={alias:null,args:p,concreteType:null,kind:"LinkedField",name:"comment_action_links",plural:!0,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentReactionActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentReactionActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentReplyActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentReplyActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentShareActionLinkExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentShareActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentTimeStampActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentTimeStampActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentHideActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentHideActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentUnhideActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentUnhideActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentLearnMoreAboutPendingCommentActionLinkExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentLearnMoreAboutPendingCommentActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentSeeDeclinedCommentFeedbackActionLinkExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentSeeDeclinedCommentFeedbackActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentPinActionLinkExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentPinActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentUnpinActionLinkExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentUnpinActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentViewCommentThreadActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentViewCommentThreadActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentGeminiQAActionLinksExperimental_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentGeminiQAActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentRemovePreviewActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentRemovePreviewActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentEditHistoryActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentEditHistoryActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentPageAdminActorInfoActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentPageAdminActorInfoActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentPagePrivateReplyActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentPageAdminPrivateReplyActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentPagePrivateReplyContextActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentPageAdminPrivateReplyContextActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:[{kind:"Literal",name:"CometUFICommentTranslationActionLink_commentActionLink$translationType",value:"ORIGINAL"}],documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentTranslationActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentTranslationActionLink",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActionLinks_comment",fragmentName:"CometUFICommentVoteActionLink_commentActionLink",fragmentPropName:"commentActionLink",kind:"ModuleImport"}],type:"XFBCommentVoteActionLink",abstractKey:null}],storageKey:null},Ca={alias:"can_see_top_custom_reactions_on_comment",args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_render_group_custom_reactions",plural:!1,selections:[{args:null,documentName:"CometUFICommentTopReactions_feedback",fragmentName:"CometUFICommentCustomTopReactions_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},i],storageKey:null},Da={alias:"cannot_see_top_custom_reactions_on_comment",args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_cannot_render_group_custom_reactions",plural:!1,selections:[{args:null,documentName:"CometUFICommentTopReactions_feedback__cannot_use_group_custom_reactions",fragmentName:"CometUFIClassicCommentTopReactions_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},i],storageKey:null},Ea={alias:"can_see_top_custom_reactions_on_comment_for_creators",args:null,concreteType:"Feedback",kind:"LinkedField",name:"if_viewer_can_render_creator_custom_reactions",plural:!1,selections:[{args:null,documentName:"CometUFICommentTopReactions_feedback__can_see_top_custom_reactions_on_comment_for_creators",fragmentName:"CometUFICommentCustomTopReactions_feedback",fragmentPropName:"feedback",kind:"ModuleImport"},i],storageKey:null},Fa={alias:null,args:null,concreteType:"ReactorsOfContentConnection",kind:"LinkedField",name:"reactors",plural:!1,selections:g,storageKey:null},Ga={alias:null,args:null,kind:"ScalarField",name:"should_show_top_reactions",storageKey:null},Ha={alias:null,args:null,concreteType:"AskMeAnythingFeedbackMetadata",kind:"LinkedField",name:"ask_me_anything_feedback_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_viewer_host",storageKey:null}],storageKey:null},Ia={kind:"Variable",name:"use_default_actor",variableName:"useDefaultActor"},Ja={alias:null,args:[{kind:"Variable",name:"location",variableName:"feedLocation"},Ia],kind:"ScalarField",name:"can_viewer_comment",storageKey:null},B=[Ia],Ka={alias:null,args:B,kind:"ScalarField",name:"comment_composer_placeholder",storageKey:null},La={alias:"comment_count",args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},Ma={alias:"toplevel_comment_count",args:[{kind:"Literal",name:"orderby",value:"toplevel"}],concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:g,storageKey:'top_level_comments(orderby:"toplevel")'},Na={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"threading_config",plural:!1,selections:[l],storageKey:null};A={kind:"InlineFragment",selections:[z,A],type:"User",abstractKey:null};B={alias:null,args:B,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:[l,i,r,q,v,w,A],storageKey:null};r={alias:null,args:null,kind:"ScalarField",name:"is_vc_acting_as_page_or_profile_plus",storageKey:null};v={alias:null,args:null,kind:"ScalarField",name:"subscription_target_id",storageKey:null};w={kind:"Variable",name:"feed_context_enable_comment",variableName:"displayCommentsContextEnableComment"};var C={kind:"Variable",name:"feed_context_fb_feed_location",variableName:"feedLocation"},D={kind:"Variable",name:"feed_context_is_ad_preview",variableName:"displayCommentsContextIsAdPreview"},E={kind:"Variable",name:"feed_context_is_aggregated_share",variableName:"displayCommentsContextIsAggregatedShare"},F={kind:"Variable",name:"feed_context_is_story_set",variableName:"displayCommentsContextIsStorySet"},G={kind:"Variable",name:"feedback_context",variableName:"displayCommentsFeedbackContext"},H={kind:"Variable",name:"feedback_source",variableName:"feedbackSource"},I={kind:"Variable",name:"focus_comment_id",variableName:"focusCommentID"},J={kind:"Literal",name:"is_initial_fetch",value:!0},Oa=[w,C,D,E,F,G,H,I,J,{kind:"Variable",name:"is_top_level",variableName:"includeNestedComments"}],Pa={alias:null,args:null,kind:"ScalarField",name:"comment_order",storageKey:null},Qa={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"expanded_sub_reply_parents",plural:!0,selections:j,storageKey:null},Ra={alias:null,args:null,kind:"ScalarField",name:"is_initially_expanded",storageKey:null},Sa={alias:null,args:null,kind:"ScalarField",name:"page_size",storageKey:null},Ta={alias:null,args:null,kind:"ScalarField",name:"reply_comment_order",storageKey:null},Ua={alias:null,args:null,kind:"ScalarField",name:"should_render_composer_preemptively",storageKey:null},Va={alias:null,args:null,kind:"ScalarField",name:"after_count",storageKey:null},Wa={alias:null,args:null,kind:"ScalarField",name:"before_count",storageKey:null},Xa={alias:null,args:null,kind:"ScalarField",name:"legacy_fbid",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"created_time",storageKey:null},Ya={alias:null,args:null,kind:"ScalarField",name:"spam_display_mode",storageKey:null};w=[w,C,D,E,F,G,H,I,J,{kind:"Literal",name:"is_top_level",value:!1}];C={alias:"sub_replies_count",args:null,kind:"ScalarField",name:"comment_count",storageKey:null};D={alias:null,args:null,kind:"ScalarField",name:"is_hide_transparency_enabled_for_actor",storageKey:null};E=[{kind:"Literal",name:"translation_type",value:"ORIGINAL"}];F={args:null,fragment:aa("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"};G={alias:null,args:E,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[l,{kind:"InlineFragment",selections:[F,m],type:"TextWithEntities",abstractKey:null},F,{alias:null,args:null,kind:"ScalarField",name:"translation_type",storageKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};H={alias:"body_renderer",args:E,concreteType:null,kind:"LinkedField",name:"preferred_body",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentTextBodyRenderer_comment",fragmentName:"CometUFICommentBodyTextWithEntities_textWithEntities",fragmentPropName:"textWithEntities",kind:"ModuleImport"}],type:"TextWithEntities",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentTextBodyRenderer_comment",fragmentName:"CometUFICommentBodyComposedTextWithEntities_composedTextWithEntities",fragmentPropName:"composedTextWithEntities",kind:"ModuleImport"}],type:"FBMarkdownCommentBody",abstractKey:null}],storageKey:'preferred_body(translation_type:"ORIGINAL")'};I={kind:"InlineFragment",selections:[y],type:"User",abstractKey:null};J={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_parent",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[l,q,I,i],storageKey:null},i],storageKey:null};E={alias:null,args:null,kind:"ScalarField",name:"is_declined_by_group_admin_assistant",storageKey:null};y={alias:null,args:null,kind:"ScalarField",name:"is_gaming_video_comment",storageKey:null};var Za={alias:null,args:null,kind:"ScalarField",name:"timestamp_in_video",storageKey:null},$a={alias:null,args:null,concreteType:"PostTranslatability",kind:"LinkedField",name:"translatability_for_viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"source_dialect",storageKey:null}],storageKey:null},ab={alias:null,args:null,kind:"ScalarField",name:"written_while_video_was_live",storageKey:null},bb={alias:null,args:null,concreteType:"GroupCommentInfo",kind:"LinkedField",name:"group_comment_info",plural:!1,selections:[{args:null,documentName:"CometUFICommentActorLink_comment_groups",fragmentName:"CometUFIGroupCommentActorLink_groupCommentInfo",fragmentPropName:"groupCommentInfo",kind:"ModuleImport"}],storageKey:null},cb={alias:null,args:p,concreteType:"BizWebCommentInfo",kind:"LinkedField",name:"bizweb_comment_info",plural:!1,selections:[{args:null,documentName:"CometUFICommentActorLink_comment_bizweb",fragmentName:"BizWebFBCommentAuthorLink_bizWebCommentInfo",fragmentPropName:"bizWebCommentInfo",kind:"ModuleImport"}],storageKey:null},db={alias:null,args:null,kind:"ScalarField",name:"has_constituent_badge",storageKey:null},eb={alias:null,args:null,kind:"ScalarField",name:"can_viewer_see_subsribe_button",storageKey:null},fb={alias:null,args:null,kind:"ScalarField",name:"can_see_constituent_badge_upsell",storageKey:null},gb={alias:null,args:null,kind:"ScalarField",name:"legacy_token",storageKey:null},hb={alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"parent_feedback",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"share_fbid",storageKey:null},{alias:null,args:null,concreteType:"PoliticalFigureData",kind:"LinkedField",name:"political_figure_data",plural:!1,selections:[q,{alias:null,args:null,concreteType:"PoliticalOffice",kind:"LinkedField",name:"political_office",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"generic_title",storageKey:null},i],storageKey:null},i],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[l,q,i],storageKey:null}],storageKey:null},ib={alias:null,args:null,kind:"ScalarField",name:"question_and_answer_type",storageKey:null},jb={alias:null,args:null,kind:"ScalarField",name:"is_author_original_poster",storageKey:null},kb={alias:null,args:null,kind:"ScalarField",name:"is_viewer_comment_poster",storageKey:null},lb={alias:null,args:null,kind:"ScalarField",name:"is_author_bot",storageKey:null},mb={alias:null,args:null,kind:"ScalarField",name:"is_author_non_coworker",storageKey:null},nb={alias:null,args:p,concreteType:null,kind:"LinkedField",name:"author_user_signals_renderer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null}],storageKey:null},ob={alias:null,args:[va,{kind:"Literal",name:"supported",value:"CSok3"}],concreteType:null,kind:"LinkedField",name:"author_badge_renderers",plural:!0,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorConstituentBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorConstituentBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorVerifiedBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorVerifiedBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorUserSignalsRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentActorUserSignalsRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentActorAMAQuestionAnswerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentActorAMAQuestionAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentInlineFollowCTARenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometUFICommentInlineFollowCTARenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorDeactivatedAccountBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorDeactivatedAccountBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorBotBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorBotBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentActorNonCoworkerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentActorNonCoworkerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentPostAuthorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentPostAuthorBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentQAAnswerBadge_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentQAAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"GeminiUFICommentQASocialAnswerBadge_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"GeminiUFICommentQASocialAnswerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentWorkplaceFileMarkerBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentWorkplaceFileMarkerBadge",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFICommentActorLinkBadges_comment",fragmentName:"CometUFICommentWorkKnowledgeEditorBadge3DWrapper_badge",fragmentPropName:"badge",kind:"ModuleImport"}],type:"CometUFICommentWorkKnowledgeEditorBadge",abstractKey:null}],storageKey:null},L={alias:"grey_badge_asset",args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},M={alias:"dark_mode_badge_asset",args:null,kind:"ScalarField",name:"information_asset_dark_mode_v2",storageKey:null},N={alias:"light_mode_badge_asset",args:null,kind:"ScalarField",name:"information_asset_v2",storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"is_earned",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"information_title",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"information_description",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"is_enabled",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"is_manageable",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"serialized",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"identity_badge_type",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"information_button_enabled",storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"information_button_uri",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"information_button_text",storageKey:null},Y={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"tier_info",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"tier_name",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stars_sent_this_week",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stars_threshold_for_next_tier",storageKey:null}],type:"TipperBadgeTierInfo",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"supporter_age_for_progress_bar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"supporter_threshold_for_next_tier",storageKey:null}],type:"WoodhengeBadgeTierInfo",abstractKey:null}],storageKey:null},pb={alias:null,args:p,concreteType:"IdentityBadge",kind:"LinkedField",name:"identity_badges_web",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"badge_asset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"multiple_badge_asset",storageKey:null},m,{alias:null,args:null,kind:"ScalarField",name:"text_gradient",storageKey:null},L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,{alias:null,args:null,kind:"ScalarField",name:"gaming_video_image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gaming_video_dark_mode_image_uri",storageKey:null}],storageKey:null},qb={alias:null,args:p,kind:"ScalarField",name:"can_show_multiple_identity_badges",storageKey:null};L={alias:null,args:null,concreteType:"IdentityBadge",kind:"LinkedField",name:"discoverable_identity_badges_web",plural:!0,selections:[L,M,N,O,P,Q,R,S,T,U,V,W,X,Y],storageKey:null};M={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[q,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:u,storageKey:null},i],storageKey:null};N=[{alias:null,args:null,kind:"ScalarField",name:"video_channel_is_viewer_following",storageKey:null}];O={kind:"InlineFragment",selections:j,type:"Node",abstractKey:"__isNode"};P={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"parent_post_story",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[l,{kind:"InlineFragment",selections:[i,{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"broadcast_duration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_duration",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owner",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor_to_follow",plural:!1,selections:[l,i,{kind:"InlineFragment",selections:N,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:N,type:"User",abstractKey:null}],storageKey:null},q],type:"VideoOwner",abstractKey:"__isVideoOwner"},i],storageKey:null}],type:"Video",abstractKey:null},O,{kind:"InlineFragment",selections:j,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:j,type:"GenericAttachmentMedia",abstractKey:null},{kind:"InlineFragment",selections:j,type:"MontageImage",abstractKey:null},{kind:"InlineFragment",selections:j,type:"MontageVideo",abstractKey:null}],storageKey:null}],storageKey:null},i],storageKey:null};Q={alias:null,args:null,kind:"ScalarField",name:"work_ama_answer_status",storageKey:null};R={alias:null,args:null,concreteType:"WorkKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"LinkedField",name:"work_knowledge_inline_annotation_comment_badge_renderer",plural:!1,selections:[{args:null,documentName:"CometUFICommentBody_comment_work_knowledge_inline_annotation_comment_badge_renderer",fragmentName:"CometUFICommentBodyInlineAnnotationBadgeWrapper_workKnowledgeInlineAnnotationCommentBadgeRenderer",fragmentPropName:"workKnowledgeInlineAnnotationCommentBadgeRenderer",kind:"ModuleImport"}],storageKey:null};S={alias:null,args:null,concreteType:"XFBBusinessCommentAttribute",kind:"LinkedField",name:"business_comment_attributes",plural:!0,selections:[{args:null,documentName:"CometUFICommentBody_comment_business_comment_attributes",fragmentName:"BizWebBusinessCommentBadge_businessCommentAttributes",fragmentPropName:"businessCommentAttributes",kind:"ModuleImport"},i],storageKey:null};T={alias:null,args:null,kind:"ScalarField",name:"is_live_video_comment",storageKey:null};U={alias:null,args:null,kind:"ScalarField",name:"translation_available_for_viewer",storageKey:null};V={args:null,documentName:"CometUFIComment_comment",fragmentName:"CometUFICommentQualitySurvey_inlineSurveyConfig",fragmentPropName:"inlineSurveyConfig",kind:"ModuleImport"};W={alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[V,{alias:null,args:[s],concreteType:"Image",kind:"LinkedField",name:"favicon",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followup_choices",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"followup_question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_choices",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"main_question",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"session_blob",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thankyou_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tessa_survey_config_id",storageKey:null}],storageKey:null};X={alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:o,storageKey:null};Y={alias:null,args:null,concreteType:"HelpfulCommentsMatchedCommentEyebrowRenderer",kind:"LinkedField",name:"helpful_comments_comment_eyebrow_renderer",plural:!1,selections:[{args:null,documentName:"CometMisinfoHelpfulCommentsEyebrowRenderer_comment",fragmentName:"CometMisinfoHelpfulCommentsEyebrow_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],storageKey:null};N={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"comment_direct_parent",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[l,q,{kind:"InlineFragment",selections:[z],type:"User",abstractKey:null},i],storageKey:null},i],storageKey:null};s={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"if_viewer_can_see_member_page_tooltip",plural:!1,selections:o,storageKey:null};t={alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null};z={alias:null,args:null,concreteType:"WorkAMAUFIAnsweredEventCommentModuleRenderer",kind:"LinkedField",name:"work_answered_event_comment_renderer",plural:!1,selections:[{args:null,documentName:"CometUFIComment_comment_work_answered_event_comment_renderer",fragmentName:"CometUFIAMABroadcastAnswerEventRow_data",fragmentPropName:"data",kind:"ModuleImport"}],storageKey:null};var rb={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comment_upper_badge_renderer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentPinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentPinnedBadgeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentUnpinnedBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentUnpinnedBadgeRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_upper_badge_renderer",fragmentName:"GroupsCometCommentAuthorsFavoriteBadgeRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometCommentAuthorsFavoriteBadgeRenderer",abstractKey:null}],storageKey:null},sb={alias:null,args:[{kind:"Literal",name:"supported",value:"2SV7zW"}],concreteType:null,kind:"LinkedField",name:"elevated_comment_data",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"AwardElevatedCommentContent_awardElevatedCommentData",fragmentPropName:"awardElevatedCommentData",kind:"ModuleImport"}],type:"AwardElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIStarsElevatedCommentContent_starsElevatedCommentData",fragmentPropName:"starsElevatedCommentData",kind:"ModuleImport"}],type:"StarsElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIFubsElevatedCommentContent_fubsElevatedCommentData",fragmentPropName:"fubsElevatedCommentData",kind:"ModuleImport"}],type:"SupporterElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"SimpleElevatedCommentContent_simpleElevatedCommentData",fragmentPropName:"simpleElevatedCommentData",kind:"ModuleImport"}],type:"SimpleElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIClipElevatedCommentContent_clipElevatedCommentData",fragmentPropName:"clipElevatedCommentData",kind:"ModuleImport"}],type:"ClipElevatedCommentData",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFIComment_comment_elevated_comment_data",fragmentName:"GFIGiftedSubsElevatedCommentContent_giftedSubsElevatedCommentData",fragmentPropName:"giftedSubsElevatedCommentData",kind:"ModuleImport"}],type:"GiftedSubsElevatedCommentData",abstractKey:null}],storageKey:'elevated_comment_data(supported:"2SV7zW")'},tb={alias:null,args:null,kind:"ScalarField",name:"depth",storageKey:null};m={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:[m,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[l,O],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null}],storageKey:null};O={alias:null,args:null,kind:"ScalarField",name:"is_markdown_enabled",storageKey:null};var ub={alias:null,args:null,kind:"ScalarField",name:"is_subreply_parent_deleted",storageKey:null},vb={alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"reply_parent_comment",plural:!1,selections:j,storageKey:null},wb={alias:null,args:null,kind:"ScalarField",name:"optimistic_action",storageKey:null},xb={alias:null,args:null,kind:"ScalarField",name:"optimistic_error_code",storageKey:null},yb={alias:null,args:null,kind:"ScalarField",name:"optimistic_error",storageKey:null},zb={alias:null,args:null,kind:"ScalarField",name:"client_id",storageKey:null},Ab={alias:null,args:null,concreteType:"FBGComponentRoot",kind:"LinkedField",name:"fbg_component_root",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"interactive_plugin_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbg_component_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fbg_component_source",storageKey:null}],storageKey:null},Bb={kind:"ClientExtension",selections:[wb,xb,yb,zb,Ab,{alias:null,args:null,kind:"ScalarField",name:"reply_comment_parent_fbid",storageKey:null}]},Cb={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_cursor",storageKey:null}],storageKey:null},Db={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"ufi2_connection_generation",storageKey:null}]},Eb=["feedback_source","focus_comment_id","comment_order"],Fb={kind:"Variable",name:"__dynamicKey",variableName:"UFI2CommentsProvider_commentsKey"},Gb={alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_comment_api",storageKey:null},Hb={alias:null,args:null,kind:"ScalarField",name:"emoji_size",storageKey:null},Z={alias:null,args:null,kind:"ScalarField",name:"group_id",storageKey:null},Ib={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"viewer_actor",plural:!1,selections:o,storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"feedback_id",storageKey:null};return{fragment:{argumentDefinitions:[a,b,c,d,e,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la],kind:"Fragment",metadata:null,name:"CometUFICreateCommentMutation",selections:[{alias:null,args:ma,concreteType:"CommentCreateResponsePayload",kind:"LinkedField",name:"comment_create",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometOnboardingRHCCard_group"},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_pending_content_card",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometPendingActions_group"},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_cannot_add_pending_participation_content_in_forum",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"GroupsCometInlineComposerRenderer_group"},{args:null,kind:"FragmentSpread",name:"CometGroupDiscussionRoot_rateLimitReachCard"}],storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useCometUFIDisabledNotice_feedback"},na],storageKey:null},{alias:null,args:null,concreteType:"CommentsEdge",kind:"LinkedField",name:"feedback_comment_edge",plural:!1,selections:[h,{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[i,oa,pa,{args:null,kind:"FragmentSpread",name:"CometUFIComment_comment"},{args:null,kind:"FragmentSpread",name:"CometUFICommentEditor_comment"},k,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{args:[{kind:"Variable",name:"includeNestedComments",variableName:"includeNestedComments"}],kind:"FragmentSpread",name:"CometUFICommentList_feedback"},{args:null,kind:"FragmentSpread",name:"CometUFIInlineComposer_feedback"}],storageKey:null}],storageKey:null}],storageKey:null},qa],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[ba,b,c,d,e,ca,da,ea,fa,ga,ha,ia,ja,ka,la,a],kind:"Operation",name:"CometUFICreateCommentMutation",selections:[{alias:null,args:ma,concreteType:"CommentCreateResponsePayload",kind:"LinkedField",name:"comment_create",plural:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[i,{alias:null,args:null,concreteType:"GroupOnboardingWizard",kind:"LinkedField",name:"onboarding_wizard",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"wizard_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"status_type",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"dismiss_card",plural:!1,selections:[l,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:n,storageKey:null},ra],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"completed_card",plural:!1,selections:[l,ra],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"wizard_title",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"wizard_subtitle",plural:!1,selections:n,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"wizard_steps",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"is_completed",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingInviteMemberRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepInviteMember",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingChooseCoverPhotoRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepChooseCoverPhoto",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingWriteGroupDescriptionRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepWriteGroupDescription",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingChooseGoalTagsRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepSelectGroupGoalTags",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingWriteFirstPostRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepWriteFirstPost",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingCreateChatRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepCreateChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingCustomizeGroupProfileRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepCustomizeGroupProfile",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingWriteAPostRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepWriteAPost",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingAnswerMemberQuestionsRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"GroupOnboardingWizardStepAnswerMemberQuestions",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingMonitorChatRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"XFBGroupOnboardingWizardStepMonitorChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingInviteMemberToChatRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"XFBGroupOnboardingWizardStepInviteMemberToChat",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometOnboardingCardContent_group",fragmentName:"GroupsCometOnboardingStartConversationRHCItem_wizardStep",fragmentPropName:"wizardStep",kind:"ModuleImport"}],type:"XFBGroupOnboardingWizardStepStartConversation",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_admin_left_hand_rail",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"GroupLeadersEngagementLoggingSettings",kind:"LinkedField",name:"leaders_engagement_logging_settings",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comet_surface_mappings",plural:!0,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"surface",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"trace_policy",storageKey:null}],type:"GroupLeadersEngagementLoggingExactCometSurfaceMapping",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"prefixes",storageKey:null}],type:"GroupLeadersEngagementLoggingPrefixCometSurfaceMapping",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_see_pending_content_card",plural:!1,selections:[{alias:null,args:[{kind:"Variable",name:"invite_short_link_key",variableName:"inviteShortLinkKey"},{kind:"Literal",name:"supported",value:"3lS6dC"}],concreteType:null,kind:"LinkedField",name:"group_pending_action_card_renderer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsArchivedCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsArchivedCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsPausedCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsPausedCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsFrozenNoticeCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsFrozenNoticeCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsAdminInviteCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsAdminInviteCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsRequestCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsRequestCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsInvitationCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsInvitationCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsMutedCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsMutedCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsAdminPromotionCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsAdminPromotionCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsAppealCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometHeaderPendingActionsAppealCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsExpertInviteCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometHeaderPendingActionsExpertInviteCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsTaskSetInviteCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"GroupsCometHeaderPendingActionsTaskSetInviteCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsRequestCardTrustedParticipantRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsTrustedParticipantCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"CometGroupHeaderPendingActionsPostRateLimitedCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsPostRateLimitedCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsInviteLinkCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBGroupsCometHeaderPendingActionsInviteLinkCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsRequestCardContentRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsContentCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsAdminInactivityNoticeCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupHeaderPendingActionsAdminInactivityNoticeCardRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometPendingActions_group",fragmentName:"GroupsCometHeaderPendingActionsChatHostInviteCardRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"XFBCometGroupHeaderPendingActionsChatHostInviteCardRenderer",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_cannot_add_pending_participation_content_in_forum",plural:!1,selections:[i,{alias:null,args:[{kind:"Literal",name:"feed_type",value:"DISCUSSION"}],concreteType:null,kind:"LinkedField",name:"comet_inline_composer_renderer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometInlineComposerRenderer_group",fragmentName:"GroupsCometDefaultGroupInlineComposerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupInlineDefaultComposerRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometInlineComposerRenderer_group",fragmentName:"GroupsCometSaleInlineComposerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupInlineSalesComposerRenderer",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"GroupsCometInlineComposerRenderer_group",fragmentName:"CometGroupQAComposerRenderer_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],type:"CometGroupInlineQAComposerRenderer",abstractKey:null}],storageKey:'comet_inline_composer_renderer(feed_type:"DISCUSSION")'},{alias:null,args:null,concreteType:"CometGroupForumPendingContentLimitReachCardRenderer",kind:"LinkedField",name:"pending_content_limit_reach_card",plural:!1,selections:[{args:null,documentName:"CometGroupDiscussionRoot_rateLimitReachCard",fragmentName:"GroupsCometForumPendingContentLimitReachCard_renderer",fragmentPropName:"renderer",kind:"ModuleImport"}],storageKey:null}],storageKey:null},i],storageKey:null}],storageKey:null},sa,{alias:null,args:null,kind:"ScalarField",name:"are_live_video_comments_disabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_viewer_muted",storageKey:null},{alias:"display_comments_count",args:null,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:g,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"comments_disabled_notice_renderer",plural:!1,selections:[l,{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentDisabledNotice_feedback",fragmentName:"CometGenericCommentDisableNotice_commentDisableNotice",fragmentPropName:"commentDisableNotice",kind:"ModuleImport"}],type:"GeneralCommentDisableNotice",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentDisabledNotice_feedback",fragmentName:"CometGroupForumCommentDisableNotice_commentDisableNotice",fragmentPropName:"commentDisableNotice",kind:"ModuleImport"}],type:"GroupForumParticipantDisableNotice",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometUFICommentDisabledNotice_feedback",fragmentName:"CometLiveVideoCommentDisableNotice_commentDisableNotice",fragmentPropName:"commentDisableNotice",kind:"ModuleImport"}],type:"LiveVideoCommentDisableNotice",abstractKey:null}],storageKey:null},na,i],storageKey:null},{alias:null,args:null,concreteType:"CommentsEdge",kind:"LinkedField",name:"feedback_comment_edge",plural:!1,selections:[h,{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[i,oa,pa,ta,ua,wa,xa,x,Aa,Ba,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[Ca,Da,Ea,i,Fa,Ga,Ha,Ja,Ka,La,Ma,Na,B,r,v,{alias:null,args:Oa,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,f,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[i,Xa,x,Aa,K,Ya,ta,ua,wa,xa,Ba,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[Ca,Da,Ea,i,Fa,Ga,Ja,Ka,{condition:"includeNestedComments",kind:"Condition",passingValue:!0,selections:[Ha,La,Ma,Na,B,r,v,{alias:null,args:w,concreteType:"DisplayCommentsConnection",kind:"LinkedField",name:"display_comments",plural:!1,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"highlighted_comments",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"author",plural:!1,selections:[l,q,{alias:"profilePictureForReplyExpander",args:ya,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:u,storageKey:null},A,i],storageKey:null},K,i],storageKey:null},Pa,Qa,Ra,Sa,Ta,Ua,Va,Wa,f,{alias:null,args:null,concreteType:"DisplayCommentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"Comment",kind:"LinkedField",name:"node",plural:!1,selections:[i,Xa,x,Aa,K,Ya,ta,ua,wa,xa,Ba,{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[Ca,Da,Ea,i,Fa,Ga,C,D,Ja,Ka],storageKey:null},G,H,J,E,y,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,L,M,P,Q,R,S,T,U,W,X,Y,N,s,t,z,rb,sb,tb,m,O,ub,vb,k,l,Bb],storageKey:null},h],storageKey:null},Cb,Db],storageKey:null},{alias:null,args:w,filters:Eb,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:Fb},za,l,Gb]}],storageKey:null},G,H,J,E,y,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,L,M,P,Q,R,S,T,U,W,X,Y,N,s,t,z,rb,sb,tb,m,O,vb,k,l,Bb,{condition:"includeNestedComments",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[C,D],storageKey:null},ub]}],storageKey:null},h],storageKey:null},Cb,Db],storageKey:null},{alias:null,args:Oa,filters:Eb,handle:"ufi2_comments",key:"UFI2CommentsProvider_feedback_display_comments",kind:"LinkedHandle",name:"display_comments",dynamicKey:Fb},za,l,Gb,sa,{alias:null,args:null,kind:"ScalarField",name:"default_comment_ordering_mode",storageKey:null},{alias:null,args:p,kind:"ScalarField",name:"inline_composer_visible_by_default",storageKey:null},{alias:"total_comment_count",args:null,kind:"ScalarField",name:"comment_count",storageKey:null},{alias:"plugins",args:[va,Ia],concreteType:null,kind:"LinkedField",name:"comment_composer_plugins",plural:!0,selections:[l,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"unidash_regex_link",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerUnidashWidgetPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerUnidashWidgetPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[i,{alias:"should_use_membership_questions_in_group",args:[{kind:"Literal",name:"gk_name",value:"participant_questionnaire_deprecation"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}],storageKey:'gk_check(gk_name:"participant_questionnaire_deprecation")'}],storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerParticipateQuestionPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerParticipationQuestionPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerCommentCharacterLimitPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerCommentCharacterLimitPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"candidate_info_share",plural:!1,selections:[l,{alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null},i],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recruiting_group_unencoded_id",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:[l,I,i],storageKey:null},i],storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerCommentRecruitingGroupMotivateInterestPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerRecruitingGroupMotivateInterestPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"composer_tip",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerTipPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerTipPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"platform_tool",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"additional_profile_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"viewer_admin_type_v2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"additional_profile_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"platform_tool_uri",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerProfilePlusTipPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerProfilePlusTipPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerDelightsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerDelightsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[Hb,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerEmojiPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerEmojiPlugin",abstractKey:null},{kind:"InlineFragment",selections:[Z,{alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[Z,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupRulesMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupRulesMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[Z,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupRulesTaggingEntryMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupRulesTaggingEntryMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"context_id",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerMentionsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerHashtagPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerHashtagPlugin",abstractKey:null},{kind:"InlineFragment",selections:[Ib,{alias:null,args:null,kind:"ScalarField",name:"should_condense_video_preview",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerMediaUploadPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerMediaUploadPlugin",abstractKey:null},{kind:"InlineFragment",selections:[Hb,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerEmoticonPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerEmoticonPlugin",abstractKey:null},{kind:"InlineFragment",selections:[$,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGIFPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGIFPlugin",abstractKey:null},{kind:"InlineFragment",selections:[$,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerStarsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerStarsPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:j,storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerBotsComposerPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerBotsComposerPlugin",abstractKey:null},{kind:"InlineFragment",selections:[$,{alias:null,args:null,kind:"ScalarField",name:"owning_profile_id",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerStickersPlugin_next_plugin",fragmentPropName:"next_plugin",kind:"ModuleImport"}],type:"CometComposerCometizedStickersPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerPrefillMentionPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerPrefillMentionPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerAssociateReplyWithParentPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerAssociateReplyWithParentPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerSetReplyClickedPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerSetReplyClickedPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"has_avatar",storageKey:null},$,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerAvatarPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerAvatarPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerStateSnapshotPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerStateSnapshotPlugin",abstractKey:null},{kind:"InlineFragment",selections:[$,Ib,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerLiveTypingBroadcastPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerLiveTypingBroadcastPlugin",abstractKey:null},{kind:"InlineFragment",selections:[$,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerMarkdownPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerMarkdownPlugin",abstractKey:null},{kind:"InlineFragment",selections:[Ib,{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_file",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerFileUploadPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerFileUploadPlugin",abstractKey:null},{kind:"InlineFragment",selections:[$,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerSmartComposePlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerSmartComposePlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_gif",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_comment_with_sticker",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"owning_profile",plural:!1,selections:o,storageKey:null},i],storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerUnifiedInputPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerUnifiedInputPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerSpellcheckPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"XFBCommentComposerSpellcheckPlugin",abstractKey:null},{kind:"InlineFragment",selections:[Z,{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupRulesPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupRulesPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_inline_vote_enabled",storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerReputationSystemPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerReputationSystemPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"comment_slowdown_message",plural:!1,selections:[F],storageKey:null},{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerGroupCommentSlowdownPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerGroupCommentSlowdownPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerWriteToComposerPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"CommentComposerWriteToComposerPlugin",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"useCometUFIComposerPlugins_feedback",fragmentName:"cometUFIComposerIntlTranslationMentionsPlugin_plugin",fragmentPropName:"plugin",kind:"ModuleImport"}],type:"XFBCommentComposerIntlTranslationMentionsPlugin",abstractKey:null}],storageKey:null}],storageKey:null},G,H,J,E,y,Za,$a,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,L,M,P,Q,R,S,T,K,U,{alias:null,args:null,concreteType:"InlineSurveyStoryActionLink",kind:"LinkedField",name:"inline_survey_config",plural:!1,selections:[V],storageKey:null},Xa,Ya,X,Y,N,s,t,z,rb,sb,tb,m,O,k,{kind:"ClientExtension",selections:[wb,xb,yb,zb,Ab]}],storageKey:null}],storageKey:null},qa],storageKey:null}]},params:{id:aa("CometUFICreateCommentMutation_facebookRelayOperation"),metadata:{},name:"CometUFICreateCommentMutation",operationKind:"mutation",text:null}}}();d.exports=a}),null);
__d("getBodyRendererFromCommentMessage",["JSResource","RelayRuntime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=c("JSResource")("CometUFICommentBodyTextWithEntities.react").__setRef("getBodyRendererFromCommentMessage"),i=c("JSResource")("CometUFICommentBodyTextWithEntities_textWithEntities$normalization.graphql").__setRef("getBodyRendererFromCommentMessage");function a(a,b){if(a==null)return a;a=j(a,b);return c("RelayRuntime").createPayloadFor3DField("CometUFICommentTextBodyRenderer_comment",i,h,babelHelpers["extends"]({__typename:"TextWithEntities"},a))}function j(a,b){var d=a.ranges==null?[]:a.ranges.filter(Boolean);return{aggregated_ranges:[],color_ranges:[],delight_ranges:[],image_ranges:[],inline_style_ranges:[],ranges:d.map(function(a){var d=b[a.entity.id];if(d==null)return null;var e,f;if(d.__UFI__===!0)e=d.type,f=d.uri;else{c("recoverableViolation")("CometUFIComposerEntity expected, got DraftEntityInstance instead.","ufi2");var g=d.getData();e=g.type;f=d.uri}return e==null?null:{entity:{__isActor:!1,__isEntity:!0,__isNode:!0,__isWebLinkable:!0,__typename:e,id:a.entity.id,mobileUrl:f,profile_url:f,url:f,web_link:null},entity_is_weak_reference:!1,length:a.length,offset:a.offset}}).filter(Boolean),text:a.text}}g["default"]=a}),98);
__d("getCometUFICommentRenderableBodyFromCommentMessage",["recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){if(a==null)return a;var d=a.ranges==null?[]:a.ranges.filter(Boolean);return{__typename:"TextWithEntities",aggregated_ranges:[],color_ranges:[],delight_ranges:[],image_ranges:[],inline_style_ranges:[],ranges:d.map(function(a){var d=b[a.entity.id];if(d){var e,f;if(d.__UFI__===!0)e=d.type,f=d.uri,d=d.isWeak;else{throw c("recoverableViolation")("CometUFIComposerEntity expected, got DraftEntityInstance instead.","ufi2");var g;d.getData();e=g.type;f=d.uri;isWeak=d.isWeak}return{entity:babelHelpers["extends"]({},a.entity,{__typename:e==null?"Actor":e.replace(/([A-Z])/g," $1").replace(/(\s+\w)/g,function(a,b){return b.toUpperCase()}).replace(/^./,function(a){return a.toUpperCase()}),mobileUrl:f,profile_url:f,url:f,web_link:null}),entity_is_weak_reference:!!d,length:a.length,offset:a.offset}}return null}).filter(Boolean),text:a.text,translation_type:"ORIGINAL"}}g["default"]=a}),98);
__d("cometUFIOptimisticCommentResponse",["getBodyRendererFromCommentMessage","getCometUFICommentRenderableBodyFromCommentMessage"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.createdTime,d=a.entitiesByID,e=a.id,f=a.optimisticAction,g=a.textWithEntities;a=a.timestampInVideo;return{attached_story:null,attachments:[],author:null,author_badge_renderers:[],author_user_signals_renderer:null,bizweb_comment_info:null,body:{ranges:[],text:g==null?void 0:g.text},body_renderer:c("getBodyRendererFromCommentMessage")(g,d),business_comment_attributes:[],can_see_constituent_badge_upsell:null,can_show_multiple_identity_badges:!1,can_viewer_see_subsribe_button:null,client_id:null,comment_action_links:[],comment_menu_tooltip:null,comment_parent:null,comment_upper_badge_renderer:null,community_comment_signal_renderer:null,created_time:b,depth:null,discoverable_identity_badges_web:[],elevated_comment_data:null,fbg_component_root:null,feedback:{can_see_top_custom_reactions_on_comment:null,can_see_top_custom_reactions_on_comment_for_creators:null,cannot_see_top_custom_reactions_on_comment:null,id:null,reactors:null,should_show_top_reactions:null},group_comment_info:null,has_constituent_badge:null,id:e,identity_badges_web:[],if_viewer_can_see_member_page_tooltip:null,inline_survey_config:null,is_author_bot:null,is_author_non_coworker:null,is_author_original_poster:null,is_author_weak_reference:null,is_declined_by_group_admin_assistant:null,is_disabled:!1,is_gaming_video_comment:null,is_live_video_comment:null,is_markdown_enabled:null,is_viewer_comment_poster:null,legacy_fbid:null,legacy_token:null,optimistic_action:f,optimistic_error:null,optimistic_error_code:null,parent_feedback:null,preferred_body:c("getCometUFICommentRenderableBodyFromCommentMessage")(g,d),question_and_answer_type:null,should_show_comment_menu:!1,spam_display_mode:"none",timestamp_in_video:a,translatability_for_viewer:null,translation_available_for_viewer:null,work_ama_answer_status:null,work_answered_event_comment_renderer:null,work_knowledge_inline_annotation_comment_badge_renderer:null,written_while_video_was_live:null}}g["default"]=a}),98);
__d("forEachCometUFIReplies",["UFI2CommentsConnectionHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c){var e=!1;a=d("UFI2CommentsConnectionHandler").unstable_getAllConnectionsWithKey(a,b,"CometUFICommentsProvider_feedback_replies");a!=null&&a.length>0&&(a.forEach(c),e=!0);return e}g["default"]=a}),98);
__d("forEachCommentRenderingInstanceComments",["invariant","UFI2CommentsConnectionHandler","relay-runtime","relay-runtime/mutations/RelayRecordProxy","relay-runtime/mutations/RelayRecordSourceProxy","relay-runtime/mutations/RelayRecordSourceSelectorProxy"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b,c){var e=!1;b=i(a,b);b.forEach(function(b){b=d("UFI2CommentsConnectionHandler").unstable_getAllConnectionsWithKey(a,b,"CometUFICommentsProvider_feedback_comment_rendering_instance_comments");b!=null&&b.length>0&&(b==null?void 0:b.forEach(c),e=!0)});return e}function i(a,b){var e=[],f="comment_rendering_instance",g=a;a instanceof c("relay-runtime/mutations/RelayRecordSourceSelectorProxy")&&(g=a.__recordSource);b instanceof c("relay-runtime/mutations/RelayRecordProxy")&&g instanceof c("relay-runtime/mutations/RelayRecordSourceProxy")||h(0,14424);a=g.__mutator.unstable_getRawRecordWithChanges(b.getDataID());if(a==null)return e;d("relay-runtime").Record.getFields(a).forEach(function(a){if(a!==f&&a.indexOf(f+"(")!==0)return;a=b.getLinkedRecord(a);a!=null&&e.push(a)});return e}g["default"]=a}),98);
__d("CometUFICreateCommentMutation",["fbt","ChannelClientID","CometRelay","CometUFICreateCommentMutation.graphql","FBLogger","FeedbackSourceType","JSEnumValueToGraphQLKey","RelayRuntime","ServerTime","SiteData","UFI2ViewOption","cometUFIOptimisticCommentResponse","cr:2757","cr:2810","displayCommentsConnectionCountUpdater","emptyFunction","forEachCometUFIReplies","forEachCommentRenderingInstanceComments","forEachUFI2DisplayCommentsConnection","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i!==void 0?i:i=b("CometUFICreateCommentMutation.graphql"),k={};function l(a){var e,f=a.UFI2CommentsProvider_commentsKey,g=a.actorID,i=a.clientID,n=a.entitiesByID,o=a.environment,p=a.feedbackSource,q=a.feedLocation,r=a.focusCommentID,s=a.inlineReplyParentID,t=a.input,u=a.onCompleted,v=a.onError,w=a.optimisticResponse,x=a.referringFeedLocation,y=a.storyID,z=a.topLevelFeedbackId,A=a.triggerAccessibilityAlert,B=a.updater,C=a.useDefaultActor,D=a.usedWritingHelpToCompose,E=a.viewOption,F=(e=a==null?void 0:a.retryID)!=null?e:i;e={UFI2CommentsProvider_commentsKey:f,feedbackSource:p,feedLocation:q,focusCommentID:r,input:babelHelpers["extends"]({},t,{feedback_source:c("JSEnumValueToGraphQLKey")(c("FeedbackSourceType"),p),idempotence_token:F,session_id:d("ChannelClientID").getID()}),scale:c("SiteData").pr,useDefaultActor:C};var G=b("cr:2757")==null?void 0:b("cr:2757").createLogger(),H=d("UFI2ViewOption").shouldDisplayInReverse(E),I=function(a){return function(d){var e=d.getRootField("comment_create");if(e){var f=e.getLinkedRecord("feedback_comment_edge");if(f){e=d.get(t.feedback_id);if(e!=null){E!=="LIVE_STREAMING"&&(c("forEachUFI2DisplayCommentsConnection")(d,e,function(a){c("RelayRuntime").ConnectionHandler.insertEdgeBefore(a,f)}),c("forEachCommentRenderingInstanceComments")(d,e,function(a){c("RelayRuntime").ConnectionHandler.insertEdgeBefore(a,f)}),c("forEachCometUFIReplies")(d,e,function(a){c("RelayRuntime").ConnectionHandler.insertEdgeBefore(a,f)}));if(B){var h=z==null||z===e.getDataID()?null:d.get(z);B(e,f,h,d)}}}}e=d.get(g);if(e==null)throw c("unrecoverableViolation")("UFI2CreateCommentMutation: Could not find actor with ID "+g,"ufi2");h=d.get(F);if(h==null)throw c("unrecoverableViolation")("CometUFICreateCommentMutation: Could not find comment with ID "+F,"ufi2");h.setLinkedRecord(e,"author");if(a&&a.toString){h.setValue(a.toString(),"optimistic_error");e=a.code;typeof e==="number"&&h.setValue(e,"optimistic_error_code")}h.setValue(i,"client_id");h.setValue(t.reply_comment_parent_fbid,"reply_comment_parent_fbid");e=t.reply_comment_parent_fbid!=null?d.get(t.reply_comment_parent_fbid):null;e=e!=null?e.getValue("depth"):null;e=Math.min(typeof e==="number"?e+1:0,2);h.setValue(e,"depth");b("cr:2810")==null?void 0:b("cr:2810").addComment({comment:h,feedLocation:q,inlineReplyParentID:s,shouldDisplayInReverse:H,store:d,storyID:y});c("displayCommentsConnectionCountUpdater").increment({feedbackId:t.feedback_id,store:d,topLevelFeedbackId:z});G==null?void 0:G.addData({depth:e.toString(),fb_feed_location_name:q,feedback_id:t.feedback_id,referring_fb_feed_location_name:(h=x)!=null?h:q});G==null?void 0:G.logRequest()}},J={mutation:j,optimisticResponse:w||m(t,F,n),optimisticUpdater:I(),variables:e},K=null,L=d("CometRelay").commitMutation(o,babelHelpers["extends"]({},J,{onCompleted:function(a){u&&u(a),A&&A(h._("__JHASH__eK0An6Xw9Wm__JHASH__")),G==null?void 0:G.logSuccess()},onError:function(b){k[F]=function(b){if(!k[F]){c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",F).warn("Tried to call a create comment mutation retry handle that was already removed.");return}L&&L.dispose();L=null;l(babelHelpers["extends"]({},a,{input:b||a.input,retryID:F}));delete k[F]},L=c("RelayRuntime").applyOptimisticMutation(o,babelHelpers["extends"]({},J,{optimisticResponse:m(t,F,n),optimisticUpdater:I(b)})),v&&v(b),G==null?void 0:G.logError()},updater:function(a){var d=a.getRootField("comment_create");if(d==null)throw c("unrecoverableViolation")("could not find comment create payload","ufi2");var e=d.getLinkedRecord("feedback_comment_edge");if(e==null)throw c("unrecoverableViolation")("could not find comment edge","ufi2");d=e.getLinkedRecord("node");if(d==null)throw c("unrecoverableViolation")("could not find comment node","ufi2");d.setValue(i,"client_id");d.setValue(D===!0,"used_writing_help_to_compose");c("displayCommentsConnectionCountUpdater").increment({feedbackId:t.feedback_id,store:a,topLevelFeedbackId:z});b("cr:2810")==null?void 0:b("cr:2810").addComment({comment:d,feedLocation:q,inlineReplyParentID:s,shouldDisplayInReverse:H,store:a,storyID:y});d=a.get(t.feedback_id);if(d!=null){E!=="LIVE_STREAMING"&&(c("forEachUFI2DisplayCommentsConnection")(a,d,function(a){c("RelayRuntime").ConnectionHandler.insertEdgeBefore(a,e)}),c("forEachCommentRenderingInstanceComments")(a,d,function(a){c("RelayRuntime").ConnectionHandler.insertEdgeBefore(a,e)}),c("forEachCometUFIReplies")(a,d,function(a){c("RelayRuntime").ConnectionHandler.insertEdgeBefore(a,e)}));if(B){var f=z==null||z===d.getDataID()?null:a.get(z);B(d,e,f,a)}}}}));return{dispose:function(){K&&K.remove(),K=null,L&&L.dispose(),L=null,delete k[F]}}}function m(a,b,e){var f=a.living_room_content_item_id;e=c("cometUFIOptimisticCommentResponse")({createdTime:Math.round(d("ServerTime").getMillis()/1e3),entitiesByID:e,id:b,optimisticAction:"ADD",shouldDisableReactionsOnOptimisticComment:a.is_inline_vote_enabled_for_qna,textWithEntities:a.message,timestampInVideo:a.vod_video_timestamp});return{comment_create:{detection_analytics_enabled:null,feedback:{are_live_video_comments_disabled:null,associated_group:null,comments_disabled_notice_renderer:null,display_comments_count:null,have_comments_been_disabled:null,id:null,is_viewer_muted:null,top_level_comments:null},feedback_comment_edge:{cursor:null,node:babelHelpers["extends"]({},e,{bizweb_comment_info:null,business_comment_attributes:[],comment_direct_parent:null,community_comment_signal_renderer:null,fbg_component_root:null,feedback:babelHelpers["extends"]({__typename:"Feedback"},e.feedback,{ask_me_anything_feedback_metadata:null,can_see_top_custom_reactions_on_comment:null,can_viewer_comment:null,cannot_see_top_custom_reactions_on_comment:null,comment_composer_placeholder:null,comment_count:null,default_comment_ordering_mode:null,display_comments:null,have_comments_been_disabled:null,inline_composer_visible_by_default:null,is_eligible_for_comment_api:null,is_vc_acting_as_page_or_profile_plus:null,plugins:[],subscription_target_id:null,threading_config:null,toplevel_comment_count:null,total_comment_count:null,url:null,viewer_actor:null}),fishbowl_comment_ordering_mode:null,helpful_comments_comment_eyebrow_renderer:null,if_viewer_can_see_member_page_tooltip:null,living_room_content_item:f!=null?{id:f}:null,parent_post_story:null,threading_depth:null,user:null})}}}}function a(a){var b=k[a];if(!b){c("FBLogger")("ufi2").addMetadata("UFI","COMMENT_ID",a).warn("No comment create mutation retry handler found.");return c("emptyFunction")}return b}g.commit=l;g.generateOptimisticResponse=m;g.getRetryFn=a}),98);
__d("inlineCommentsDataSourceUpdater",["uuidv4"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.comment,d=a.feedLocation,e=a.inlineReplyParentID,f=a.shouldDisplayInReverse,g=a.store;a=a.storyID;if(a!=null){a=g.get(a);a=a==null?void 0:a.getLinkedRecord("feedback_context",{feed_rendering_context:{fb_feed_location:d,focused_comment_id:null}});d=(d=a==null?void 0:a.getLinkedRecords("interesting_top_level_comments",{comment_with_attachment_included:!0}))!=null?d:[];var h=g.create("client:"+c("uuidv4")(),"comment").setLinkedRecord(b,"comment");e!=null?d.find(function(a){var b=a==null?void 0:a.getLinkedRecord("comment");b=b==null?void 0:b.getDataID();if(b===e){b=a==null?void 0:a.getOrCreateLinkedRecord("relevant_contextual_replies","ContextualCommentRelevantContextualRepliesConnection");a=(a=b==null?void 0:b.getLinkedRecords("nodes"))!=null?a:[];b==null?void 0:b.setLinkedRecords([].concat(a,[h]),"nodes");return!0}}):a==null?void 0:a.setLinkedRecords(f?[].concat(d,[h]):[h].concat(d),"interesting_top_level_comments",{comment_with_attachment_included:!0})}}g.addComment=a}),98);/*FB_PKG_DELIM*/
__d("LSWriteToPendingBackupsContext",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1];b.n;var c=[];return b.seq([function(c){return b.db.table(177).add({pk:void 0,pendingBackupTaskId:a[0],persistentId:a[1],actionType:a[2],contentType:a[3],backupStatus:a[4],listKey:a[5],uniqueKey:a[6],sortKey:a[7],echoContent:a[8],lsTraceId:a[9],error:a[13],echoEncodingLatencyNs:a[14]})},function(a){return b.resolve(c)}])}b=a;f["default"]=b}),66);
__d("LSIssueMessageBackup",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop","LSWriteToPendingBackupsContext","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1];d.n;var e=[],f=[],g;return d.seq([function(h){return d.seq([function(f){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][issueMessageBackup] Beginning execution."),e[1]=d.i64.of_float(Date.now()),d.islc(d.ftr(d.db.table(168).fetch(),function(a){return d.i64.eq(a.authorityLevel,d.i64.cast([0,80]))||!1}),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(f,i){var j=f.done;f=f.value;return j?(e[12]=d.createArray(),e[15]=(e[12].push("Skipping the message upload since EB is disabled. act thread id = "),e[12]),e[15]=(e[12].push(a[0]),e[12]),e[15]=(e[12].push(", otid = "),e[12]),e[15]=(e[12].push(a[1]),e[12]),e[13]=e[12].join(g||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[13]].join("")),e[14]=new d.Map(),e[14].set("error_code",d.i64.cast([0,1])),e[14].set("stored_procedure","LSEncryptedBackupsIssueMessageBackupStoredProcedure"),e[14].set("error_message",""),j=[g,e[14]],e[2]=j[0],e[3]=j[1],j):(i=f.item,d.seq([function(a){return e[18]=i.backupTenancy,e[17]=i.encryptionVersion,d.i64.neq(g,g)?d.resolve(e[12]=g):d.seq([function(a){return e[19]=d.createArray(),d.sp(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[20]=a[0],a})},function(a){return e[20]?e[29]=(e[19].push(d.i64.cast([0,0])),e[19]):0,d.sp(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[21]=a[0],a})},function(a){return e[21]?e[29]=(e[19].push(d.i64.cast([0,2])),e[19]):0,d.sp(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[22]=a[0],a})},function(a){return e[22]?e[29]=(e[19].push(d.i64.cast([0,3])),e[19]):0,d.sp(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[23]=a[0],a})},function(a){return e[23]?e[29]=(e[19].push(d.i64.cast([0,4])),e[19]):0,e[24]=d.createArray(),e[25]=d.i64.of_int32(e[19].length),d.i64.gt(e[25],d.i64.cast([0,0]))?d.loopAsync(e[25],function(a){return e[29]=a,d.seq([function(a){return d.ntop("Array",b("LSArrayGetObjectAt"),e[19],e[29]).then(function(a){return a=a,e[30]=a[0],e[31]=a[1],a})},function(a){return e[32]=(e[24].push(e[30]),e[24])}])}):d.resolve()},function(a){return d.seq([function(a){return e[29]=d.createArray(),e[30]=d.i64.of_int32(e[24].length),d.i64.gt(e[30],d.i64.cast([0,0]))?d.loopAsync(e[30],function(a){return e[32]=a,d.seq([function(a){return d.ntop("Array",b("LSArrayGetObjectAt"),e[24],e[32]).then(function(a){return a=a,e[33]=a[0],e[34]=a[1],a})},function(a){return e[35]=(e[29].push(d.i64.to_string(e[33])),e[29])}])}):d.resolve()},function(a){return e[31]=e[29].join(","),e[26]=e[31]}])},function(a){return e[24].some(function(a){return d.i64.eq(e[17],a)})?e[27]=e[17]:e[27]=g,d.i64.neq(e[27],g)?e[28]=e[27]:e[28]=g,e[12]=e[28]}])},function(f){return d.i64.neq(e[12],g)?e[13]=e[12]:e[13]=d.i64.cast([0,0]),d.i64.neq(e[18],g)?e[14]=e[18]:e[14]=d.i64.cast([0,1]),d.i64.neq(i.deviceId,g)?d.seq([function(f){var i;return function(a){d.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssueMessageBackupStoredProcedure] Skip processing attachments as not enabled."),f=[g,g],e[19]=f[0],e[20]=f[1],f,d.i64.eq(e[14],d.i64.cast([0,3]))?e[21]=d.i64.cast([0,4]):e[21]=d.i64.cast([0,0]),c("gkx")("8959")||c("gkx")("5604")?e[22]=d.i64.cast([0,1e3]):e[22]=d.i64.cast([0,0]),e[23]=d.i64.of_float(Date.now()),d.sp(b("LSIssueNewTaskAndGetTaskID"),["eb_upload",":",a[0]].join(""),d.i64.cast([0,50026]),"",g,g,d.i64.cast([0,0]),d.i64.cast([0,0]),d.i64.cast([0,93]),g,d.i64.le(e[22],d.i64.cast([0,0]))?d.i64.cast([0,0]):d.i64.add(e[23],d.i64.sub(e[22],d.i64.mod_(e[23],e[22])))).then(function(a){return a=a,e[24]=a[0],a})},function(c){return d.sp(b("LSWriteToPendingBackupsContext"),e[24],"",d.i64.cast([0,1]),d.i64.cast([0,1]),d.i64.cast([0,1]),a[0],a[1],d.i64.to_string(d.i64.add(d.i64.mul(d.i64.div(a[2],d.i64.cast([0,1e3])),d.i64.cast([0,1e3])),d.i64.div(d.i64.mod_(d.i64.and_(d.i64.asr_(d.i64.from_string(a[1]),d.i64.to_int32(d.i64.cast([0,22]))),d.i64.cast([511,4294967295])),d.i64.cast([0,1e5])),d.i64.cast([0,100])))),a[4],a[5],g,g,a[3],a[6],a[7],a[8],g,e[19],e[20],e[21])},function(b){return d.i64.eq(d.i64.cast([0,1]),d.i64.cast([0,1]))?d.i64.eq(d.i64.cast([0,1]),d.i64.cast([0,1]))?(e[26]=d.createArray(),e[28]=(e[26].push("Successfully issued message backup task. act thread id = "),e[26]),e[28]=(e[26].push(a[0]),e[26]),e[28]=(e[26].push(", otid = "),e[26]),e[28]=(e[26].push(a[1]),e[26]),e[27]=e[26].join(g||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[27]].join(""))):(e[26]=d.createArray(),e[28]=(e[26].push("Successfully issued message remove task. act thread id = "),e[26]),e[28]=(e[26].push(a[0]),e[26]),e[28]=(e[26].push(", otid = "),e[26]),e[28]=(e[26].push(a[1]),e[26]),e[27]=e[26].join(g||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[27]].join(""))):(e[26]=d.createArray(),e[28]=(e[26].push("Successfully issued thread remove task. act thread id = "),e[26]),e[28]=(e[26].push(a[0]),e[26]),e[27]=e[26].join(g||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[27]].join(""))),e[25]=new d.Map(),e[25].set("task_id",e[24]),b=[e[25],g],e[15]=b[0],e[16]=b[1],b}]):d.resolve((e[19]=d.createArray(),e[22]=(e[19].push("Skipping the message upload since EB is disabled. act thread id = "),e[19]),e[22]=(e[19].push(a[0]),e[19]),e[22]=(e[19].push(", otid = "),e[19]),e[22]=(e[19].push(a[1]),e[19]),e[20]=e[19].join(g||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ","",e[20]].join("")),e[21]=new d.Map(),e[21].set("error_code",d.i64.cast([0,24])),e[21].set("stored_procedure","LSEncryptedBackupsIssueMessageBackupStoredProcedure"),e[21].set("error_message",""),f=[g,e[21]],e[15]=f[0],e[16]=f[1],f))},function(a){return a=[e[15],e[16]],e[2]=a[0],e[3]=a[1],a}]))})},function(a){return e[5]=d.i64.of_float(Date.now()),e[7]="Finishing execution. Execution time: ",e[8]=d.i64.to_string(d.i64.sub(e[5],e[0])),e[10]=" ms",e[6]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageBackup] ",e[6],e[7],e[6],e[8],e[6],e[10]].join("")),e[9]=",",e[11]=d.createArray(),g!==g?e[12]=(e[11].push(g),e[11]):0,d.nop(b("LSLogMebClientEvent.nop"),"issueMessageBackup",[e[7],e[9],e[8],e[9],e[10]].join(""),e[11],d.i64.cast([0,4]))},function(a){return a=[e[2],e[3]],f[0]=a[0],f[1]=a[1],a}])},function(a){return d.resolve(f)}])}d=a;g["default"]=d}),98);
__d("LSIssueMessageRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop","LSWriteToPendingBackupsContext","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1];d.n;var e=[],f=[],g;return d.seq([function(h){return d.seq([function(f){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][issueMessageRemove] Beginning execution."),e[1]=d.i64.of_float(Date.now()),d.islc(d.ftr(d.db.table(168).fetch(),function(a){return d.i64.eq(a.authorityLevel,d.i64.cast([0,80]))||!1}),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(f,i){var j=f.done;f=f.value;return j?(e[12]=d.createArray(),e[15]=(e[12].push("Skipping message upload since EB is disabled. act thread id = "),e[12]),e[15]=(e[12].push(a[0]),e[12]),e[15]=(e[12].push(", otid = "),e[12]),e[15]=(e[12].push(a[1]),e[12]),e[13]=e[12].join(g||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",e[13]].join("")),e[14]=new d.Map(),e[14].set("error_code",d.i64.cast([0,1])),e[14].set("stored_procedure","LSEncryptedBackupsIssueMessageRemoveStoredProcedure"),e[14].set("error_message",""),j=[g,e[14]],e[2]=j[0],e[3]=j[1],j):(i=f.item,d.seq([function(a){return e[18]=i.backupTenancy,e[17]=i.encryptionVersion,d.i64.neq(g,g)?d.resolve(e[12]=g):d.seq([function(a){return e[19]=d.createArray(),d.sp(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[20]=a[0],a})},function(a){return e[20]?e[29]=(e[19].push(d.i64.cast([0,0])),e[19]):0,d.sp(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[21]=a[0],a})},function(a){return e[21]?e[29]=(e[19].push(d.i64.cast([0,2])),e[19]):0,d.sp(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[22]=a[0],a})},function(a){return e[22]?e[29]=(e[19].push(d.i64.cast([0,3])),e[19]):0,d.sp(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[23]=a[0],a})},function(a){return e[23]?e[29]=(e[19].push(d.i64.cast([0,4])),e[19]):0,e[24]=d.createArray(),e[25]=d.i64.of_int32(e[19].length),d.i64.gt(e[25],d.i64.cast([0,0]))?d.loopAsync(e[25],function(a){return e[29]=a,d.seq([function(a){return d.ntop("Array",b("LSArrayGetObjectAt"),e[19],e[29]).then(function(a){return a=a,e[30]=a[0],e[31]=a[1],a})},function(a){return e[32]=(e[24].push(e[30]),e[24])}])}):d.resolve()},function(a){return d.seq([function(a){return e[29]=d.createArray(),e[30]=d.i64.of_int32(e[24].length),d.i64.gt(e[30],d.i64.cast([0,0]))?d.loopAsync(e[30],function(a){return e[32]=a,d.seq([function(a){return d.ntop("Array",b("LSArrayGetObjectAt"),e[24],e[32]).then(function(a){return a=a,e[33]=a[0],e[34]=a[1],a})},function(a){return e[35]=(e[29].push(d.i64.to_string(e[33])),e[29])}])}):d.resolve()},function(a){return e[31]=e[29].join(","),e[26]=e[31]}])},function(a){return e[24].some(function(a){return d.i64.eq(e[17],a)})?e[27]=e[17]:e[27]=g,d.i64.neq(e[27],g)?e[28]=e[27]:e[28]=g,e[12]=e[28]}])},function(f){return d.i64.neq(e[12],g)?e[13]=e[12]:e[13]=d.i64.cast([0,0]),d.i64.neq(e[18],g)?e[14]=e[18]:e[14]=d.i64.cast([0,1]),d.i64.neq(i.deviceId,g)?d.seq([function(f){return d.i64.eq(e[14],d.i64.cast([0,3]))?e[19]=d.i64.cast([0,4]):e[19]=d.i64.cast([0,0]),c("gkx")("8959")||c("gkx")("5604")?e[20]=d.i64.cast([0,1e3]):e[20]=d.i64.cast([0,0]),e[21]=d.i64.of_float(Date.now()),d.sp(b("LSIssueNewTaskAndGetTaskID"),["eb_upload",":",a[0]].join(""),d.i64.cast([0,50026]),"",g,g,d.i64.cast([0,0]),d.i64.cast([0,0]),d.i64.cast([0,93]),g,d.i64.le(e[20],d.i64.cast([0,0]))?d.i64.cast([0,0]):d.i64.add(e[21],d.i64.sub(e[20],d.i64.mod_(e[21],e[20])))).then(function(a){return a=a,e[22]=a[0],a})},function(c){return d.sp(b("LSWriteToPendingBackupsContext"),e[22],"",d.i64.cast([0,2]),d.i64.cast([0,1]),d.i64.cast([0,1]),a[0],a[1],d.i64.to_string(d.i64.add(d.i64.mul(d.i64.div(a[2],d.i64.cast([0,1e3])),d.i64.cast([0,1e3])),d.i64.div(d.i64.mod_(d.i64.and_(d.i64.asr_(d.i64.from_string(a[1]),d.i64.to_int32(d.i64.cast([0,22]))),d.i64.cast([511,4294967295])),d.i64.cast([0,1e5])),d.i64.cast([0,100])))),g,a[4],g,g,a[3],a[5],g,g,g,g,g,e[19])},function(b){return d.i64.eq(d.i64.cast([0,1]),d.i64.cast([0,1]))?d.i64.eq(d.i64.cast([0,2]),d.i64.cast([0,1]))?(e[24]=d.createArray(),e[26]=(e[24].push("Successfully issued message backup task. act thread id = "),e[24]),e[26]=(e[24].push(a[0]),e[24]),e[26]=(e[24].push(", otid = "),e[24]),e[26]=(e[24].push(a[1]),e[24]),e[25]=e[24].join(g||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",e[25]].join(""))):(e[24]=d.createArray(),e[26]=(e[24].push("Successfully issued message remove task. act thread id = "),e[24]),e[26]=(e[24].push(a[0]),e[24]),e[26]=(e[24].push(", otid = "),e[24]),e[26]=(e[24].push(a[1]),e[24]),e[25]=e[24].join(g||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",e[25]].join(""))):(e[24]=d.createArray(),e[26]=(e[24].push("Successfully issued thread remove task. act thread id = "),e[24]),e[26]=(e[24].push(a[0]),e[24]),e[25]=e[24].join(g||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",e[25]].join(""))),e[23]=new d.Map(),e[23].set("task_id",e[22]),b=[e[23],g],e[15]=b[0],e[16]=b[1],b}]):d.resolve((e[19]=d.createArray(),e[22]=(e[19].push("Skipping message upload since EB is disabled. act thread id = "),e[19]),e[22]=(e[19].push(a[0]),e[19]),e[22]=(e[19].push(", otid = "),e[19]),e[22]=(e[19].push(a[1]),e[19]),e[20]=e[19].join(g||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ","",e[20]].join("")),e[21]=new d.Map(),e[21].set("error_code",d.i64.cast([0,24])),e[21].set("stored_procedure","LSEncryptedBackupsIssueMessageRemoveStoredProcedure"),e[21].set("error_message",""),f=[g,e[21]],e[15]=f[0],e[16]=f[1],f))},function(a){return a=[e[15],e[16]],e[2]=a[0],e[3]=a[1],a}]))})},function(a){return e[5]=d.i64.of_float(Date.now()),e[7]="Finishing execution. Execution time: ",e[8]=d.i64.to_string(d.i64.sub(e[5],e[0])),e[10]=" ms",e[6]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueMessageRemove] ",e[6],e[7],e[6],e[8],e[6],e[10]].join("")),e[9]=",",e[11]=d.createArray(),g!==g?e[12]=(e[11].push(g),e[11]):0,d.nop(b("LSLogMebClientEvent.nop"),"issueMessageRemove",[e[7],e[9],e[8],e[9],e[10]].join(""),e[11],d.i64.cast([0,4]))},function(a){return a=[e[2],e[3]],f[0]=a[0],f[1]=a[1],a}])},function(a){return d.resolve(f)}])}d=a;g["default"]=d}),98);
__d("LSIssuePointQueryRestoreTask",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSBase64Encode.nop","LSBinaryToHex.nop","LSCreateDerivedKeys.nop","LSFlushDataTrace.nop","LSGetBlobFromInt64BE.nop","LSGetBlobFromString.nop","LSGetThreadTransportIdFromThreadId.nop","LSHmac_v2.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop","LSOcmfClientMap.nop","LSOpeEncrypt.nop","LSTruncateSortKey.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] Beginning execution."),a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,2512]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[1]=a[0],a})},function(a){return d[1]?d[2]=!0:d[2]=!1,d[2]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[13]=c.createArray(),f!==f?d[14]=(d[13].push(f),d[13]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[13],c.i64.cast([0,3]))):c.resolve()},function(e){return c.seq([function(a){return function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] Point query restore v2 is disabled"),c.islc(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var h=a.done;a=a.value;return h?(h=[f,f,f,f,f,c.i64.cast([0,1]),f,f,f,f,f,f,f,c.i64.cast([0,20])],d[13]=h[0],d[14]=h[1],d[15]=h[2],d[16]=h[3],d[17]=h[4],d[18]=h[5],d[19]=h[6],d[20]=h[7],d[21]=h[8],d[22]=h[9],d[23]=h[10],d[24]=h[11],d[25]=h[12],d[26]=h[13],h):(e=a.item,c.seq([function(a){return d[33]=e.backupTenancy,d[32]=e.encryptionVersion,c.i64.neq(f,f)?c.resolve(d[29]=f):c.seq([function(a){return d[34]=c.createArray(),c.sp(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[44]=(d[34].push(c.i64.cast([0,0])),d[34]):0,c.sp(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[36]=a[0],a})},function(a){return d[36]?d[44]=(d[34].push(c.i64.cast([0,2])),d[34]):0,c.sp(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[37]=a[0],a})},function(a){return d[37]?d[44]=(d[34].push(c.i64.cast([0,3])),d[34]):0,c.sp(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[38]=a[0],a})},function(a){return d[38]?d[44]=(d[34].push(c.i64.cast([0,4])),d[34]):0,d[39]=c.createArray(),d[40]=c.i64.of_int32(d[34].length),c.i64.gt(d[40],c.i64.cast([0,0]))?c.loopAsync(d[40],function(a){return d[44]=a,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[34],d[44]).then(function(a){return a=a,d[45]=a[0],d[46]=a[1],a})},function(a){return d[47]=(d[39].push(d[45]),d[39])}])}):c.resolve()},function(a){return c.seq([function(a){return d[44]=c.createArray(),d[45]=c.i64.of_int32(d[39].length),c.i64.gt(d[45],c.i64.cast([0,0]))?c.loopAsync(d[45],function(a){return d[47]=a,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[39],d[47]).then(function(a){return a=a,d[48]=a[0],d[49]=a[1],a})},function(a){return d[50]=(d[44].push(c.i64.to_string(d[48])),d[44])}])}):c.resolve()},function(a){return d[46]=d[44].join(","),d[41]=d[46]}])},function(a){return d[39].some(function(a){return c.i64.eq(d[32],a)})?d[42]=d[32]:d[42]=f,c.i64.neq(d[42],f)?d[43]=d[42]:d[43]=f,d[29]=d[43]}])},function(a){return c.i64.neq(d[29],f)?d[30]=d[29]:d[30]=c.i64.cast([0,0]),c.i64.neq(d[33],f)?d[31]=d[33]:d[31]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,d[30],d[31],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel],d[13]=a[0],d[14]=a[1],d[15]=a[2],d[16]=a[3],d[17]=a[4],d[18]=a[5],d[19]=a[6],d[20]=a[7],d[21]=a[8],d[22]=a[9],d[23]=a[10],d[24]=a[11],d[25]=a[12],d[26]=a[13],a}]))})},function(e){return c.i64.neq(d[13],f)?c.seq([function(e){return c.blobs.neq(d[16],f)?c.seq([function(e){return c.nop(b("LSGetBlobFromString.nop"),a[0]).then(function(a){return a=a,d[30]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.nop"),c.blob("dGhyZWFkX2lkX3Njb3Bl"),d[30]).then(function(a){return a=a,d[31]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.nop"),d[16],d[31]).then(function(a){return a=a,d[32]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.nop"),d[32]).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[54]=d[33]==null?"":d[33],c.nop(b("LSGetBlobFromString.nop"),c.i64.to_string(d[13])).then(function(a){return a=a,d[34]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.nop"),c.blob("bWFpbGJveF9pZF9zY29wZQ=="),d[34]).then(function(a){return a=a,d[35]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.nop"),d[16],d[35]).then(function(a){return a=a,d[36]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.nop"),d[36]).then(function(a){return a=a,d[37]=a[0],a})},function(e){return c.nop(b("LSGetBlobFromString.nop"),a[1]).then(function(a){return a=a,d[38]=a[0],a})},function(a){return c.nop(b("LSHmac_v2.nop"),c.blob("bWVzc2FnZV9pZF9zY29wZQ=="),d[38]).then(function(a){return a=a,d[39]=a[0],a})},function(a){return c.nop(b("LSOcmfClientMap.nop"),d[16],d[39]).then(function(a){return a=a,d[40]=a[0],a})},function(a){return c.nop(b("LSBase64Encode.nop"),d[40]).then(function(a){return a=a,d[41]=a[0],a})},function(e){return c.blobs.neq(d[15],f)?c.seq([function(e){return a[2]!==f?c.seq([function(e){return d[58]=c.createArray(),d[64]=(d[58].push(c.i64.cast([0,32])),d[58]),c.nop(b("LSGetBlobFromString.nop"),["thread_ope_key","_",a[0]].join("")).then(function(a){return a=a,d[59]=a[0],a})},function(a){return c.nop(b("LSCreateDerivedKeys.nop"),d[59],f,d[15],d[58]).then(function(a){return a=a,d[60]=a[0],a})},function(a){return d[60]?d[61]=!1:d[61]=!0,d[61]?c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Got null keys while deriving message list OPE key. Returning null blobish"),d[64]=c.createArray(),f!==f?d[65]=(d[64].push(f),d[64]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","Got null keys while deriving message list OPE key. Returning null blobish",d[64],c.i64.cast([0,3]))},function(a){return d[62]=f}]):c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[60],c.i64.cast([0,0])).then(function(a){return a=a,d[64]=a[0],d[65]=a[1],a})},function(a){return d[62]=d[64]}])},function(e){return c.blobs.neq(d[62],f)?c.seq([function(e){return c.nop(b("LSGetBlobFromInt64BE.nop"),c.i64.from_string(a[2])).then(function(a){return a=a,d[64]=a[0],a})},function(a){return c.nop(b("LSTruncateSortKey.nop"),d[64]).then(function(a){return a=a,d[65]=a[0],a})},function(a){return c.nop(b("LSOpeEncrypt.nop"),d[62],d[65],c.i64.cast([0,16])).then(function(a){return a=a,d[66]=a[0],a})},function(a){return c.nop(b("LSBinaryToHex.nop"),d[66]).then(function(a){return a=a,d[67]=a[0],a})},function(a){return d[63]=d[67]==null?"":d[67]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] OPE key is null"),d[64]=c.createArray(),f!==f?d[65]=(d[64].push(f),d[64]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","OPE key is null",d[64],c.i64.cast([0,3]))},function(a){return d[63]=f}])},function(a){return d[57]=d[63]}]):c.resolve(d[57]=f)},function(a){return d[42]=d[57]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBCryptoUtils] Mailbox root key is null"),d[57]=c.createArray(),f!==f?d[58]=(d[57].push(f),d[57]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBCryptoUtils","Mailbox root key is null",d[57],c.i64.cast([0,3]))},function(a){return d[42]=f}])},function(e){return a[0]!==f?c.seq([function(e){return c.nop(b("LSGetThreadTransportIdFromThreadId.nop"),a[0]).then(function(a){return a=a,d[57]=a[0],a})},function(a){return c.i64.neq(d[57],f)?c.seq([function(a){return c.db.table(173).fetch([[[d[57]]],"jid"]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[59]=f:(b=a.item,d[59]=c.i64.to_string(b.serverThreadKey))})},function(a){return d[58]=d[59]}]):c.seq([function(a){return function(a){c.logger(a).warn(a)}("[EncryptedBackups][MEBTableUtils] Failed to get server thread key, wa jid is null"),d[59]=c.createArray(),f!==f?d[60]=(d[59].push(f),d[59]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTableUtils","Failed to get server thread key, wa jid is null",d[59],c.i64.cast([0,2]))},function(a){return d[58]=f}])},function(a){return d[43]=d[58]}]):c.seq([function(a){return function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTableUtils] Failed to get server thread key, thread id is null"),d[57]=c.createArray(),f!==f?d[58]=(d[57].push(f),d[57]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTableUtils","Failed to get server thread key, thread id is null",d[57],c.i64.cast([0,3]))},function(a){return d[43]=f}])},function(e){return c.nop(b("LSGetThreadTransportIdFromThreadId.nop"),a[0]).then(function(a){return a=a,d[44]=a[0],a})},function(d){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,3604]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[45]=a[0],a})},function(a){return d[45]?d[46]=!0:d[46]=!1,d[46]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[57]=c.createArray(),f!==f?d[58]=(d[57].push(f),d[57]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[57],c.i64.cast([0,3]))):c.resolve()},function(a){return d[43]!==f?d[47]=d[43]:d[47]="",c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[57]=c.i64.of_float(Date.now()),d[48]=c.i64.add(d[57],c.i64.cast([0,0]))):d[48]=c.i64.cast([0,0]),c.sp(b("LSIssueNewTaskAndGetTaskID"),["encrypted_backups_restore",":",d[47]].join(""),c.i64.cast([0,50015]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,d[48]).then(function(a){return a=a,d[49]=a[0],a})},function(d){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,3601]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[50]=a[0],a})},function(a){return d[50]?d[51]=!0:d[51]=!1,d[51]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[57]=c.createArray(),f!==f?d[58]=(d[57].push(f),d[57]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[57],c.i64.cast([0,3]))):c.resolve()},function(b){return c.db.table(190).add({taskId:d[49],mailboxPartialId:d[37]==null?"":d[37],listId:d[54],numItems:c.i64.cast([0,1]),contentType:c.i64.cast([0,1]),startSortKey:d[42],traceId:a[3],isPointQuery:!0,messagePartialId:d[41]==null?"":d[41],newerNumItems:c.i64.cast([0,0]),unencryptedSortKey:a[2],messageId:a[1],serverThreadKey:d[43],waThreadId:d[44]})},function(d){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,3605]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[52]=a[0],a})},function(a){return d[52]?d[53]=!0:d[53]=!1,d[53]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[57]=c.createArray(),f!==f?d[58]=(d[57].push(f),d[57]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[57],c.i64.cast([0,3]))):c.resolve()},function(b){return c.db.table(180).add({taskId:d[49],listId:d[54],threadId:a[0]})},function(d){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,2513]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[55]=a[0],a})},function(a){return d[55]?d[56]=!0:d[56]=!1,d[56]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[57]=c.createArray(),f!==f?d[58]=(d[57].push(f),d[57]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[57],c.i64.cast([0,3]))):c.resolve()},function(a){return d[29]=d[49]}]):c.seq([function(e){return d[30]="Missing ocmf_client_state for IssuePointQueryRestoreTask",d[30]!==f?c.seq([function(e){return d[34]=["[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] ","",d[30]].join(""),function(a){c.logger(a).mustfix(a)}(d[34]),d[31]=c.createArray(),a[3]!==f?d[35]=(d[31].push(a[3]),d[31]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure",d[30],d[31],c.i64.cast([0,3]))},function(e){return a[3]!==f?c.seq([function(e){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,85]),c.i64.cast([0,2]),d[34],f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[35]=a[0],a})},function(a){return d[35]?d[36]=!0:d[36]=!1,d[36]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[37]=c.createArray(),f!==f?d[38]=(d[37].push(f),d[37]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[37],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[3]!==f?c.nop(b("LSFlushDataTrace.nop"),a[3]):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[32]?d[33]=!0:d[33]=!1,d[33]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[35]=c.createArray(),f!==f?d[36]=(d[35].push(f),d[35]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[35],c.i64.cast([0,3]))):c.resolve()}]):c.seq([function(e){return a[3]!==f?c.seq([function(d){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,85]),c.i64.cast([0,2]),["[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] ","",""].join(""),f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[33]=a[0],a})},function(a){return d[33]?d[34]=!0:d[34]=!1,d[34]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[35]=c.createArray(),f!==f?d[36]=(d[35].push(f),d[35]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[35],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[3]!==f?c.nop(b("LSFlushDataTrace.nop"),a[3]):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[31]?d[32]=!0:d[32]=!1,d[32]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[33]=c.createArray(),f!==f?d[34]=(d[33].push(f),d[33]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[33],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[29]=c.i64.cast([-1,4294967295])}])},function(a){return d[28]=d[29]}]):c.seq([function(e){return d[29]="Missing backup_id for IssuePointQueryRestoreTask",d[29]!==f?c.seq([function(e){return d[33]=["[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] ","",d[29]].join(""),function(a){c.logger(a).mustfix(a)}(d[33]),d[30]=c.createArray(),a[3]!==f?d[34]=(d[30].push(a[3]),d[30]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure",d[29],d[30],c.i64.cast([0,3]))},function(e){return a[3]!==f?c.seq([function(e){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,85]),c.i64.cast([0,2]),d[33],f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[34]=a[0],a})},function(a){return d[34]?d[35]=!0:d[35]=!1,d[35]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[36]=c.createArray(),f!==f?d[37]=(d[36].push(f),d[36]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[36],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[3]!==f?c.nop(b("LSFlushDataTrace.nop"),a[3]):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[31]?d[32]=!0:d[32]=!1,d[32]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[34]=c.createArray(),f!==f?d[35]=(d[34].push(f),d[34]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[34],c.i64.cast([0,3]))):c.resolve()}]):c.seq([function(e){return a[3]!==f?c.seq([function(d){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,85]),c.i64.cast([0,2]),["[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] ","",""].join(""),f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[32]?d[33]=!0:d[33]=!1,d[33]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[34]=c.createArray(),f!==f?d[35]=(d[34].push(f),d[34]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[34],c.i64.cast([0,3]))):c.resolve()}]):c.resolve()},function(d){return a[3]!==f?c.nop(b("LSFlushDataTrace.nop"),a[3]):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[30]=a[0],a})},function(a){return d[30]?d[31]=!0:d[31]=!1,d[31]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[32]=c.createArray(),f!==f?d[33]=(d[32].push(f),d[32]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[32],c.i64.cast([0,3]))):c.resolve()}])},function(a){return d[28]=c.i64.cast([-1,4294967295])}])},function(a){return d[3]=d[28]}])},function(d){return a[3]!==f?c.sp(b("LSAppendDataTraceAddon"),a[3],c.i64.cast([0,2513]),c.i64.cast([0,2]),f,f):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[4]=a[0],a})},function(a){return d[4]?d[5]=!0:d[5]=!1,d[5]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[13]=c.createArray(),f!==f?d[14]=(d[13].push(f),d[13]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[13],c.i64.cast([0,3]))):c.resolve()},function(a){return d[6]=c.i64.of_float(Date.now()),d[8]="Finishing execution. Execution time: ",d[9]=c.i64.to_string(c.i64.sub(d[6],d[0])),d[11]=" ms",d[7]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure] ",d[7],d[8],d[7],d[9],d[7],d[11]].join("")),d[10]=",",d[12]=c.createArray(),f!==f?d[13]=(d[12].push(f),d[12]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsIssuePointQueryRestoreTaskStoredProcedure",[d[8],d[10],d[9],d[10],d[11]].join(""),d[12],c.i64.cast([0,4]))},function(a){return e[0]=d[3]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSIssueThreadRemove",["LSArrayGetObjectAt","LSIsEncryptionVersionSecure","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop","LSWriteToPendingBackupsContext","gkx"],(function(a,b,c,d,e,f,g){function a(){var a=arguments,d=a[a.length-1];d.n;var e=[],f=[],g;return d.seq([function(h){return d.seq([function(f){return e[0]=d.i64.of_float(Date.now()),function(a){d.logger(a).info(a)}("[EncryptedBackups][issueThreadRemove] Beginning execution."),e[1]=d.i64.of_float(Date.now()),d.islc(d.ftr(d.db.table(168).fetch(),function(a){return d.i64.eq(a.authorityLevel,d.i64.cast([0,80]))||!1}),0,d.i64.to_float(d.i64.cast([0,1]))).next().then(function(f,i){var j=f.done;f=f.value;return j?(e[12]=d.createArray(),e[15]=(e[12].push("Skipping thread remove since EB is disabled. act thread id = "),e[12]),e[15]=(e[12].push(a[0]),e[12]),e[13]=e[12].join(g||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",e[13]].join("")),e[14]=new d.Map(),e[14].set("error_code",d.i64.cast([0,1])),e[14].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),e[14].set("error_message",""),j=[g,e[14]],e[2]=j[0],e[3]=j[1],j):(i=f.item,d.seq([function(a){return e[18]=i.backupTenancy,e[17]=i.encryptionVersion,d.i64.neq(g,g)?d.resolve(e[12]=g):d.seq([function(a){return e[19]=d.createArray(),d.sp(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,0])).then(function(a){return a=a,e[20]=a[0],a})},function(a){return e[20]?e[29]=(e[19].push(d.i64.cast([0,0])),e[19]):0,d.sp(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,2])).then(function(a){return a=a,e[21]=a[0],a})},function(a){return e[21]?e[29]=(e[19].push(d.i64.cast([0,2])),e[19]):0,d.sp(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,3])).then(function(a){return a=a,e[22]=a[0],a})},function(a){return e[22]?e[29]=(e[19].push(d.i64.cast([0,3])),e[19]):0,d.sp(b("LSIsEncryptionVersionSecure"),d.i64.cast([0,4])).then(function(a){return a=a,e[23]=a[0],a})},function(a){return e[23]?e[29]=(e[19].push(d.i64.cast([0,4])),e[19]):0,e[24]=d.createArray(),e[25]=d.i64.of_int32(e[19].length),d.i64.gt(e[25],d.i64.cast([0,0]))?d.loopAsync(e[25],function(a){return e[29]=a,d.seq([function(a){return d.ntop("Array",b("LSArrayGetObjectAt"),e[19],e[29]).then(function(a){return a=a,e[30]=a[0],e[31]=a[1],a})},function(a){return e[32]=(e[24].push(e[30]),e[24])}])}):d.resolve()},function(a){return d.seq([function(a){return e[29]=d.createArray(),e[30]=d.i64.of_int32(e[24].length),d.i64.gt(e[30],d.i64.cast([0,0]))?d.loopAsync(e[30],function(a){return e[32]=a,d.seq([function(a){return d.ntop("Array",b("LSArrayGetObjectAt"),e[24],e[32]).then(function(a){return a=a,e[33]=a[0],e[34]=a[1],a})},function(a){return e[35]=(e[29].push(d.i64.to_string(e[33])),e[29])}])}):d.resolve()},function(a){return e[31]=e[29].join(","),e[26]=e[31]}])},function(a){return e[24].some(function(a){return d.i64.eq(e[17],a)})?e[27]=e[17]:e[27]=g,d.i64.neq(e[27],g)?e[28]=e[27]:e[28]=g,e[12]=e[28]}])},function(f){return d.i64.neq(e[12],g)?e[13]=e[12]:e[13]=d.i64.cast([0,0]),d.i64.neq(e[18],g)?e[14]=e[18]:e[14]=d.i64.cast([0,1]),d.i64.neq(i.deviceId,g)?d.seq([function(f){return d.i64.eq(e[14],d.i64.cast([0,3]))?e[19]=d.i64.cast([0,4]):e[19]=d.i64.cast([0,0]),c("gkx")("8959")||c("gkx")("5604")?e[20]=d.i64.cast([0,1e3]):e[20]=d.i64.cast([0,0]),e[21]=d.i64.of_float(Date.now()),d.sp(b("LSIssueNewTaskAndGetTaskID"),["eb_upload",":",a[0]].join(""),d.i64.cast([0,50026]),"",g,g,d.i64.cast([0,0]),d.i64.cast([0,0]),d.i64.cast([0,93]),g,d.i64.le(e[20],d.i64.cast([0,0]))?d.i64.cast([0,0]):d.i64.add(e[21],d.i64.sub(e[20],d.i64.mod_(e[21],e[20])))).then(function(a){return a=a,e[22]=a[0],a})},function(c){return d.sp(b("LSWriteToPendingBackupsContext"),e[22],"",d.i64.cast([0,2]),d.i64.cast([0,2]),d.i64.cast([0,1]),a[0],a[0],a[1],g,a[3],g,g,a[2],a[4],g,g,g,g,g,e[19])},function(b){return d.i64.eq(d.i64.cast([0,2]),d.i64.cast([0,1]))?d.i64.eq(d.i64.cast([0,2]),d.i64.cast([0,1]))?(e[24]=d.createArray(),e[26]=(e[24].push("Successfully issued message backup task. act thread id = "),e[24]),e[26]=(e[24].push(a[0]),e[24]),e[26]=(e[24].push(", otid = "),e[24]),e[26]=(e[24].push(a[0]),e[24]),e[25]=e[24].join(g||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",e[25]].join(""))):(e[24]=d.createArray(),e[26]=(e[24].push("Successfully issued message remove task. act thread id = "),e[24]),e[26]=(e[24].push(a[0]),e[24]),e[26]=(e[24].push(", otid = "),e[24]),e[26]=(e[24].push(a[0]),e[24]),e[25]=e[24].join(g||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",e[25]].join(""))):(e[24]=d.createArray(),e[26]=(e[24].push("Successfully issued thread remove task. act thread id = "),e[24]),e[26]=(e[24].push(a[0]),e[24]),e[25]=e[24].join(g||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",e[25]].join(""))),e[23]=new d.Map(),e[23].set("task_id",e[22]),b=[e[23],g],e[15]=b[0],e[16]=b[1],b}]):d.resolve((e[19]=d.createArray(),e[22]=(e[19].push("Skipping thread remove since EB is disabled. act thread id = "),e[19]),e[22]=(e[19].push(a[0]),e[19]),e[20]=e[19].join(g||""),function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ","",e[20]].join("")),e[21]=new d.Map(),e[21].set("error_code",d.i64.cast([0,24])),e[21].set("stored_procedure","LSEncryptedBackupsIssueThreadRemoveStoredProcedure"),e[21].set("error_message",""),f=[g,e[21]],e[15]=f[0],e[16]=f[1],f))},function(a){return a=[e[15],e[16]],e[2]=a[0],e[3]=a[1],a}]))})},function(a){return e[5]=d.i64.of_float(Date.now()),e[7]="Finishing execution. Execution time: ",e[8]=d.i64.to_string(d.i64.sub(e[5],e[0])),e[10]=" ms",e[6]="",function(a){d.logger(a).info(a)}(["[EncryptedBackups][issueThreadRemove] ",e[6],e[7],e[6],e[8],e[6],e[10]].join("")),e[9]=",",e[11]=d.createArray(),g!==g?e[12]=(e[11].push(g),e[11]):0,d.nop(b("LSLogMebClientEvent.nop"),"issueThreadRemove",[e[7],e[9],e[8],e[9],e[10]].join(""),e[11],d.i64.cast([0,4]))},function(a){return a=[e[2],e[3]],f[0]=a[0],f[1]=a[1],a}])},function(a){return d.resolve(f)}])}d=a;g["default"]=d}),98);
__d("LSSerializeThreadListKey",["LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(g){return c.seq([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsSerializeThreadListKeyStoredProcedure] Beginning execution."),d[1]=c.createArray(),d[10]=(d[1].push(a[0]),d[1]),d[10]=(d[1].push(a[1]),d[1]),d[10]=(d[1].push(a[2]),d[1]),d[2]=c.toJSON(d[1]),d[3]=c.i64.of_float(Date.now()),d[5]="Finishing execution. Execution time: ",d[6]=c.i64.to_string(c.i64.sub(d[3],d[0])),d[8]=" ms",d[4]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsSerializeThreadListKeyStoredProcedure] ",d[4],d[5],d[4],d[6],d[4],d[8]].join("")),d[7]=",",d[9]=c.createArray(),f!==f?d[10]=(d[9].push(f),d[9]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsSerializeThreadListKeyStoredProcedure",[d[5],d[7],d[6],d[7],d[8]].join(""),d[9],c.i64.cast([0,4]))},function(a){return e[0]=d[2]}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUploadMessage",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSCreateDataTrace","LSCreateDataTraceID.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(a){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsUploadMessageStoredProcedure] Beginning execution."),c.islc(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,e){var g=a.done;a=a.value;return g?(g=[f,f,f,f,f,c.i64.cast([0,1]),f,f,f,f,f,f,f,c.i64.cast([0,20])],d[1]=g[0],d[2]=g[1],d[3]=g[2],d[4]=g[3],d[5]=g[4],d[6]=g[5],d[7]=g[6],d[8]=g[7],d[9]=g[8],d[10]=g[9],d[11]=g[10],d[12]=g[11],d[13]=g[12],d[14]=g[13],g):(e=a.item,c.seq([function(a){return d[27]=e.backupTenancy,d[26]=e.encryptionVersion,c.i64.neq(f,f)?c.resolve(d[23]=f):c.seq([function(a){return d[28]=c.createArray(),c.sp(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,0])).then(function(a){return a=a,d[29]=a[0],a})},function(a){return d[29]?d[38]=(d[28].push(c.i64.cast([0,0])),d[28]):0,c.sp(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,2])).then(function(a){return a=a,d[30]=a[0],a})},function(a){return d[30]?d[38]=(d[28].push(c.i64.cast([0,2])),d[28]):0,c.sp(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,3])).then(function(a){return a=a,d[31]=a[0],a})},function(a){return d[31]?d[38]=(d[28].push(c.i64.cast([0,3])),d[28]):0,c.sp(b("LSIsEncryptionVersionSecure"),c.i64.cast([0,4])).then(function(a){return a=a,d[32]=a[0],a})},function(a){return d[32]?d[38]=(d[28].push(c.i64.cast([0,4])),d[28]):0,d[33]=c.createArray(),d[34]=c.i64.of_int32(d[28].length),c.i64.gt(d[34],c.i64.cast([0,0]))?c.loopAsync(d[34],function(a){return d[38]=a,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[28],d[38]).then(function(a){return a=a,d[39]=a[0],d[40]=a[1],a})},function(a){return d[41]=(d[33].push(d[39]),d[33])}])}):c.resolve()},function(a){return c.seq([function(a){return d[38]=c.createArray(),d[39]=c.i64.of_int32(d[33].length),c.i64.gt(d[39],c.i64.cast([0,0]))?c.loopAsync(d[39],function(a){return d[41]=a,c.seq([function(a){return c.ntop("Array",b("LSArrayGetObjectAt"),d[33],d[41]).then(function(a){return a=a,d[42]=a[0],d[43]=a[1],a})},function(a){return d[44]=(d[38].push(c.i64.to_string(d[42])),d[38])}])}):c.resolve()},function(a){return d[40]=d[38].join(","),d[35]=d[40]}])},function(a){return d[33].some(function(a){return c.i64.eq(d[26],a)})?d[36]=d[26]:d[36]=f,c.i64.neq(d[36],f)?d[37]=d[36]:d[37]=f,d[23]=d[37]}])},function(a){return c.i64.neq(d[23],f)?d[24]=d[23]:d[24]=c.i64.cast([0,0]),c.i64.neq(d[27],f)?d[25]=d[27]:d[25]=c.i64.cast([0,1]),a=[e.backupId,e.deviceId,e.mailboxRootKeyBlob,e.ocmfClientStateBlob,d[24],d[25],e.epochAuthPublicKeyBlob,e.epochAuthPrivateKeyBlob,e.devicePublicKeyBlob,e.devicePrivateKeyBlob,e.epochStoragePublicKeyBlob,e.epochStoragePrivateKeyBlob,e.obliviousValidationTokenBlob,e.authorityLevel],d[1]=a[0],d[2]=a[1],d[3]=a[2],d[4]=a[3],d[5]=a[4],d[6]=a[5],d[7]=a[6],d[8]=a[7],d[9]=a[8],d[10]=a[9],d[11]=a[10],d[12]=a[11],d[13]=a[12],d[14]=a[13],a}]))})},function(e){return c.i64.neq(d[1],f)&&c.i64.neq(d[2],f)&&c.blobs.neq(d[4],f)&&!0?c.seq([function(e){return a[5]!==f?c.resolve(d[23]=a[5]):c.seq([function(a){return c.islc(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))&&c.i64.eq(a.backupTenancy,c.i64.cast([0,2]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){b=a.done;a=a.value;return b?d[25]=!1:(a.item,d[25]=!0)})},function(a){return d[25]?d[27]=c.i64.or_(c.i64.cast([0,72]),c.i64.cast([0,128])):d[27]=c.i64.cast([0,72]),c.nop(b("LSCreateDataTraceID.nop")).then(function(a){return a=a,d[28]=a[0],a})},function(a){return d[29]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBTraceUtils] ",d[29],"EncryptedBackups MCD Trace ID",d[29],c.i64.to_string(d[27])].join("")),c.sp(b("LSCreateDataTrace"),d[28],f,f,"backup_upload",d[27])},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[30]=a[0],a})},function(a){return d[30]?d[31]=!0:d[31]=!1,d[31]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[32]=c.createArray(),f!==f?d[33]=(d[32].push(f),d[32]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[32],c.i64.cast([0,3]))):c.resolve()},function(a){return d[23]=d[28]}])},function(e){return c.i64.eq(a[4],c.i64.cast([0,1]))?c.seq([function(a){return d[23]!==f?c.sp(b("LSAppendDataTraceAddon"),d[23],c.i64.cast([0,1427]),c.i64.cast([0,2]),f,["50004",",","10152"].join("")):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[25]?d[26]=!0:d[26]=!1,d[26]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[27]=c.createArray(),f!==f?d[28]=(d[27].push(f),d[27]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[27],c.i64.cast([0,3]))):c.resolve()}]):c.seq([function(a){return d[23]!==f?c.sp(b("LSAppendDataTraceAddon"),d[23],c.i64.cast([0,1427]),c.i64.cast([0,2]),f,["50004",",","10153"].join("")):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[25]=a[0],a})},function(a){return d[25]?d[26]=!0:d[26]=!1,d[26]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[27]=c.createArray(),f!==f?d[28]=(d[27].push(f),d[27]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[27],c.i64.cast([0,3]))):c.resolve()}])},function(a){return c.sp(b("LSIssueNewTaskAndGetTaskID"),"encrypted_backups_upload",c.i64.cast([0,50026]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,93]),f,c.i64.cast([0,0])).then(function(a){return a=a,d[24]=a[0],a})},function(e){return c.i64.eq(d[24],c.i64.cast([-1,4294967295]))?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsUploadMessageStoredProcedure] issueNewTaskAndGetTaskIdFromParams failed"),d[25]=c.createArray(),f!==f?d[26]=(d[25].push(f),d[25]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsUploadMessageStoredProcedure","issueNewTaskAndGetTaskIdFromParams failed",d[25],c.i64.cast([0,3]))):c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[24],persistentId:"",actionType:a[4],contentType:c.i64.cast([0,1]),backupStatus:c.i64.cast([0,1]),listKey:a[0],uniqueKey:a[1],sortKey:c.i64.to_string(a[2]),echoContent:a[3],lsTraceId:d[23]})}]):c.resolve()},function(a){return d[16]=c.i64.of_float(Date.now()),d[18]="Finishing execution. Execution time: ",d[19]=c.i64.to_string(c.i64.sub(d[16],d[0])),d[21]=" ms",d[17]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsUploadMessageStoredProcedure] ",d[17],d[18],d[17],d[19],d[17],d[21]].join("")),d[20]=",",d[22]=c.createArray(),f!==f?d[23]=(d[22].push(f),d[22]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsUploadMessageStoredProcedure",[d[18],d[20],d[19],d[20],d[21]].join(""),d[22],c.i64.cast([0,4]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSUploadThread",["LSAppendDataTraceAddon","LSCreateDataTrace","LSCreateDataTraceID.nop","LSIsMobileClient","LSIssueNewTaskAndGetTaskID","LSLogMebClientEvent.nop","LSSerializeThreadListKey"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(e){return d[0]=c.i64.of_float(Date.now()),function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsUploadThreadStoredProcedure] Beginning execution."),c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))}).next().then(function(e,g){var h=e.done;e=e.value;return h?function(a){c.logger(a).info(a)}("[EncryptedBackups][LSEncryptedBackupsUploadThreadStoredProcedure] backup_id is not available"):(g=e.item,c.seq([function(a){return c.islc(c.ftr(c.db.table(168).fetch(),function(a){return c.i64.eq(a.authorityLevel,c.i64.cast([0,80]))&&c.i64.eq(a.backupTenancy,c.i64.cast([0,2]))}),0,c.i64.to_float(c.i64.cast([0,1]))).next().then(function(a,b){b=a.done;a=a.value;return b?d[9]=!1:(a.item,d[9]=!0)})},function(a){return d[9]?d[11]=c.i64.or_(c.i64.cast([0,72]),c.i64.cast([0,128])):d[11]=c.i64.cast([0,72]),c.nop(b("LSCreateDataTraceID.nop")).then(function(a){return a=a,d[12]=a[0],a})},function(a){return d[13]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][MEBTraceUtils] ",d[13],"EncryptedBackups MCD Trace ID",d[13],c.i64.to_string(d[11])].join("")),c.sp(b("LSCreateDataTrace"),d[12],f,f,"backup_upload",d[11])},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[14]=a[0],a})},function(a){return d[14]?d[15]=!0:d[15]=!1,d[15]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[20]=c.createArray(),f!==f?d[21]=(d[20].push(f),d[20]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[20],c.i64.cast([0,3]))):c.resolve()},function(a){return d[12]!==f?c.sp(b("LSAppendDataTraceAddon"),d[12],c.i64.cast([0,1427]),c.i64.cast([0,2]),f,["50003"].join("")):c.resolve()},function(a){return c.sp(b("LSIsMobileClient")).then(function(a){return a=a,d[16]=a[0],a})},function(a){return d[16]?d[17]=!0:d[17]=!1,d[17]?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),d[20]=c.createArray(),f!==f?d[21]=(d[20].push(f),d[20]):0,c.nop(b("LSLogMebClientEvent.nop"),"MEBTraceUtils","LSDataTraceMciTraceLog native op not supported",d[20],c.i64.cast([0,3]))):c.resolve()},function(e){return c.sp(b("LSSerializeThreadListKey"),a[1],c.i64.to_string(g.backupId),a[2]).then(function(a){return a=a,d[18]=a[0],a})},function(a){return c.sp(b("LSIssueNewTaskAndGetTaskID"),"encrypted_backups_upload",c.i64.cast([0,50026]),"",f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),c.i64.cast([0,93]),f,c.i64.cast([0,0])).then(function(a){return a=a,d[19]=a[0],a})},function(e){return c.i64.eq(d[19],c.i64.cast([-1,4294967295]))?(function(a){c.logger(a).mustfix(a)}("[EncryptedBackups][LSEncryptedBackupsUploadThreadStoredProcedure] issueNewTaskAndGetTaskIdFromParams failed"),d[20]=c.createArray(),f!==f?d[21]=(d[20].push(f),d[20]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsUploadThreadStoredProcedure","issueNewTaskAndGetTaskIdFromParams failed",d[20],c.i64.cast([0,3]))):c.db.table(177).add({pk:void 0,pendingBackupTaskId:d[19],persistentId:"",actionType:a[5],contentType:c.i64.cast([0,2]),backupStatus:c.i64.cast([0,1]),listKey:d[18],uniqueKey:a[0],sortKey:c.i64.to_string(a[3]),echoContent:a[4],lsTraceId:d[12]})}]))})},function(a){return d[2]=c.i64.of_float(Date.now()),d[4]="Finishing execution. Execution time: ",d[5]=c.i64.to_string(c.i64.sub(d[2],d[0])),d[7]=" ms",d[3]="",function(a){c.logger(a).info(a)}(["[EncryptedBackups][LSEncryptedBackupsUploadThreadStoredProcedure] ",d[3],d[4],d[3],d[5],d[3],d[7]].join("")),d[6]=",",d[8]=c.createArray(),f!==f?d[9]=(d[8].push(f),d[8]):0,c.nop(b("LSLogMebClientEvent.nop"),"LSEncryptedBackupsUploadThreadStoredProcedure",[d[4],d[6],d[5],d[6],d[7]].join(""),d[8],c.i64.cast([0,4]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("EncryptedBackupsDYIPasswordReauthDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8728569200551000"}),null);
__d("EncryptedBackupsDYIPasswordReauthDialogQuery$Parameters",["EncryptedBackupsDYIPasswordReauthDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("EncryptedBackupsDYIPasswordReauthDialogQuery_facebookRelayOperation"),metadata:{},name:"EncryptedBackupsDYIPasswordReauthDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MAWBridgeTraceEvent",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["ReceivedReceipt","ReceivedSent","FlowEndForFailure","FlowEndForSuccess"]);c=a;f["default"]=c}),66);
__d("MAWBridgeIssuePointQueryHandler",["I64","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSIssuePointQueryRestoreTask","MAWEncryptedBackupUtils","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(a,e){return d("MAWEncryptedBackupUtils").getBackupTenancy(a).then(function(f){if(f==null)return b("Promise").resolve();if(!d("I64").equal(f,d("LSIntEnum").ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION)))return b("Promise").resolve();f=e.startSortKey;if(f!=null)return c("LSIssuePointQueryRestoreTask")(e.threadId,e.messageId,f,void 0,c("LSFactory")(a)).then(function(){});else return c("LSIssuePointQueryRestoreTask")(e.threadId,e.messageId,void 0,void 0,c("LSFactory")(a)).then(function(){})})}g.call=a}),98);
__d("MAWBridgeTraceUtils",["I64","Promise","ReQL"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,e){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("data_trace_meta")).filter(function(a){var b=a.contextThree;if(b!=null&&c===b&&d("I64").equal(a.traceType,e))return a.shouldFlush===!1;else return!1})).then(function(a){if(a.length!==0)return b("Promise").resolve(a[0].traceId);else return b("Promise").resolve()})}g.getTraceId=a}),98);
__d("MAWBridgeStartTraceHandler",["ArmadilloDataTraceCheckPoint.bs","ArmadilloDataTraceType.bs","I64","LSAppendDataTraceAddon","LSDataTraceTag.bs","LSFactory","LSRequestId","MAWAckLevel","MAWBridgeSendAndReceive","MAWBridgeTraceUtils","MAWMsg","MAWTimeUtils","Promise","gkx","killswitch","promiseDone","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,e){return a.table("data_trace_meta").add({contextOne:void 0,contextThree:b.externalId,contextTwo:void 0,foregroundTimestampMs:d("I64").zero,initTimestampMs:d("MAWTimeUtils").toTimestamp(b.ts),predefinedId:void 0,shouldFlush:!1,traceId:e,traceType:b.traceType}).then(function(){return c("LSAppendDataTraceAddon")(e,d("ArmadilloDataTraceCheckPoint.bs").traceCreated,d("I64").neg_one,void 0,void 0,c("LSFactory")(a))}).then(function(){if(b.threadKey==null||!c("gkx")("2517"))return;return c("LSAppendDataTraceAddon")(e,d("ArmadilloDataTraceCheckPoint.bs").armadilloTlcControlOpenThread,d("I64").neg_one,void 0,b.threadKey,c("LSFactory")(a))})}function a(a,e){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return b("Promise").resolve();var f=e.ack,g=e.traceType;return f===d("MAWAckLevel").ACK.clock?d("MAWBridgeTraceUtils").getTraceId(a,e.externalId,e.traceType).then(function(f){if(f!=null)return;var i=c("LSRequestId").generate();if(d("I64").equal(g,d("ArmadilloDataTraceType.bs").armadilloMessageSend))return h(a,e,i).then(function(){var b=e.isDS,f=e.openMessageOtid,g=e.openMessageParticipantCount,h=e.participantCount;if(b&&f!=null)if(e.threadType==="User")return c("LSAppendDataTraceAddon")(i,d("ArmadilloDataTraceCheckPoint.bs").advancedCryptoDualSend,d("I64").neg_one,void 0,f,c("LSFactory")(a));else if(g!=null&&h!=null)return c("LSAppendDataTraceAddon")(i,d("ArmadilloDataTraceCheckPoint.bs").advancedCryptoGroupDualSend,d("I64").neg_one,void 0,f+","+g+","+h,c("LSFactory")(a))}).then(function(){var f=e.isDS,g=e.threadJid;if(f){f=g;return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThreadIdByChatJid",{chatJid:f}).then(function(e){if(e==null){c("recoverableViolation")("Unable to find thread from jid","messenger_e2ee_sweb");return b("Promise").resolve()}else return d("MAWBridgeSendAndReceive").sendAndReceive("backend","getAllThreadDevicesCount",{threadKey:e}).then(function(b){return c("LSAppendDataTraceAddon")(i,d("ArmadilloDataTraceCheckPoint.bs").advancedCryptoMEMEncryptionDeviceCount,d("I64").neg_one,void 0,String(b),c("LSFactory")(a))})})}}).then(function(){var b=e.threadType;if(b==="User")return;return c("LSAppendDataTraceAddon")(i,d("ArmadilloDataTraceCheckPoint.bs").traceGroupMessage,d("I64").neg_one,void 0,void 0,c("LSFactory")(a))}).then(function(){if(e.isFirstMsg)return c("LSAppendDataTraceAddon")(i,d("ArmadilloDataTraceCheckPoint.bs").armadilloActMessageSend,d("I64").neg_one,void 0,"first_msg=1",c("LSFactory")(a))}).then(function(){var f=e.type_;f=f===d("MAWMsg").text?d("ArmadilloDataTraceCheckPoint.bs").traceTextMessage:f===d("MAWMsg").ptt||f===d("MAWMsg").image||f===d("MAWMsg").video||f===d("MAWMsg").gif?d("ArmadilloDataTraceCheckPoint.bs").traceMediaMessage:void 0;if(f==null)return b("Promise").resolve(f);c("promiseDone")(c("LSAppendDataTraceAddon")(i,f,d("I64").neg_one,void 0,void 0,c("LSFactory")(a)));return b("Promise").resolve(f)}).then(function(b){if(b==null)return;if(!d("I64").equal(b,d("ArmadilloDataTraceCheckPoint.bs").traceMediaMessage))return;b=e.type_;b=b===d("MAWMsg").image?d("LSDataTraceTag.bs").image:b===d("MAWMsg").ptt?d("LSDataTraceTag.bs").audio:b===d("MAWMsg").video?d("LSDataTraceTag.bs").video:b===d("MAWMsg").gif?d("LSDataTraceTag.bs").animatedImage:d("LSDataTraceTag.bs").none;return c("LSAppendDataTraceAddon")(i,d("ArmadilloDataTraceCheckPoint.bs").richMediaMediaSendAttachmentType,d("I64").neg_one,void 0,String(b),c("LSFactory")(a))});else return h(a,e,i)}):b("Promise").resolve()}g.call=a}),98);
__d("MAWMainTraceUtils",["I64","LSRequestId","Promise","killswitch"],(function(a,b,c,d,e,f,g){"use strict";function a(){return c("LSRequestId").generate()}function e(a,e,f,g,h,i,j){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return b("Promise").resolve();else return a.table("data_trace_meta").add({contextOne:h,contextThree:j,contextTwo:i,foregroundTimestampMs:d("I64").zero,initTimestampMs:e,predefinedId:void 0,shouldFlush:!1,traceId:f,traceType:g})}g.createTraceId=a;g.startTraceWithTxn=e}),98);
__d("MAWBridgeStartTraceWithTraceIdHandler",["MAWMainTraceUtils","MAWTimeUtils","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return d("MAWMainTraceUtils").startTraceWithTxn(a,d("MAWTimeUtils").toTimestamp(d("WATimeUtils").unixTime()),b.traceId,b.traceType,void 0,void 0,b.traceContext)}g.call=a}),98);
__d("EncryptedBackupsDYIPasswordReauthDialog.entrypoint",["EncryptedBackupsDYIPasswordReauthDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a=c("JSResourceForInteraction")("EncryptedBackupsDYIPasswordReauthDialog.react").__setRef("EncryptedBackupsDYIPasswordReauthDialog.entrypoint");b={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("EncryptedBackupsDYIPasswordReauthDialogQuery$Parameters"),variables:{}}}}},root:a};g["default"]=b}),98);
__d("useEncryptedBackupsDYIPasswordReauthDialog",["EncryptedBackupsDYIPasswordReauthDialog.entrypoint","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.onConfirm;a=c("useMWXEntryPointDialog")(c("EncryptedBackupsDYIPasswordReauthDialog.entrypoint"),{});var d=a[0];return function(){return d({onConfirm:b})}}g["default"]=a}),98);
__d("useMAWDYIRestoreThreadsFromOccamadillo",["MAWEBFrontendQPLLogger","react","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=c("requireDeferred")("MAWDYIRestoreThreadsFromOccamadillo.bs").__setRef("useMAWDYIRestoreThreadsFromOccamadillo");function a(){var a=c("useReStore")();return h(function(){var b=d("MAWEBFrontendQPLLogger").startDyiQplE2EUserFlow();i.onReady(function(c){return c.call(a,b)})},[a])}g["default"]=a}),98);
__d("useEncryptedBackupsDYIDownloader",["MAWBridgeSendAndReceive","MAWEBFrontendQPLLogger","Promise","asyncToGeneratorRuntime","promiseDone","requireDeferred","useEncryptedBackupsDYIPasswordReauthDialog","useMAWDYIRestoreThreadsFromOccamadillo"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("file-saver").__setRef("useEncryptedBackupsDYIDownloader"),i=c("requireDeferred")("jszip").__setRef("useEncryptedBackupsDYIDownloader");function j(a){return k.apply(this,arguments)}function k(){k=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){var c=(yield d("MAWBridgeSendAndReceive").sendAndReceive("backend","getAllThreadsAsJson")),e={};Object.keys(c).forEach(function(b){var d=c[b],f=d.messages,g=d.participants;d=d.stickers;f=f.map(function(a){var b=a.common;a.jsonType;a=babelHelpers.objectWithoutPropertiesLoose(a,["common","jsonType"]);return babelHelpers["extends"]({},b,a)});a.file("inbox/"+b+"/messages.json",JSON.stringify({messages:f,participants:g},null,4));["photos","videos","audio","gifs"].forEach(function(d){var e=c[b][d];Object.entries(e).forEach(function(c){var e=c[0];c=c[1];a.file("inbox/"+b+"/"+d+"/"+e,c)})});Object.entries(d).forEach(function(a){var b=a[0];a=a[1];e[b]=a})});Object.entries(e).forEach(function(b){var c=b[0];b=b[1];a.file("stickers_used/"+c,b)});return b("Promise").resolve(a)});return k.apply(this,arguments)}function l(a,b){h.onReady(function(c){c=c.saveAs;c(b,a)})}function a(a){i.onReady(function(b){b=b();c("promiseDone")(j(b).then(function(a){return a.generateAsync({compression:"DEFLATE",compressionOptions:{level:6},type:"blob"})}).then(function(a){return l("messages.zip",a)}).then(function(b){return d("MAWEBFrontendQPLLogger").endDyiE2ECompleted(a,!0)}))})}function e(){return c("useMAWDYIRestoreThreadsFromOccamadillo")()}function f(){return c("useEncryptedBackupsDYIPasswordReauthDialog")({onConfirm:c("useMAWDYIRestoreThreadsFromOccamadillo")()})}g.createFileAndDownload=a;g.useEncryptedBackupsDYIDownloader=e;g.useEncryptedBackupsDYIDownloaderWithReauthDialog=f}),98);
__d("MAWBridgeUpdateDyiStatus",["I64","LSIntEnum","MAWEBFrontendQPLLogger","useEncryptedBackupsDYIDownloader"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b){return a.table("encrypted_backups_dyi_backup_restore_status").put({currentStatus:b,pk:d("I64").zero})}function a(a,b){var c=b.qplInstanceKeyE2E;b=b.status;d("MAWEBFrontendQPLLogger").logDyiE2EDyiBackupRestoreCompleted(c,b);d("useEncryptedBackupsDYIDownloader").createFileAndDownload(c);if(b)return h(a,d("LSIntEnum").ofNumber(1));else return h(a,d("LSIntEnum").ofNumber(2))}g.call=a}),98);
__d("MAWBridgeUpdateTraceHandler",["ArmadilloDataTraceCheckPoint.bs","I64","LSAppendDataTraceAddon","LSDataTraceCheckPoint","LSFactory","LSFlushDataTrace.bs","LSIntEnum","MAWBridgeTraceEvent","Promise","ReQL","emptyFunction","killswitch"],(function(a,b,c,d,e,f,g){"use strict";function h(a,e,f){return d("ReQL").toArrayAsync(d("ReQL").fromTableAscending(a.table("data_trace_meta")).filter(function(a){var b=a.contextThree;if(b!=null&&e.externalIds.includes(b)&&d("I64").equal(a.traceType,e.traceType))return a.shouldFlush===!1;else return!1})).then(function(g){var h=[];return g.reduce(function(b,g){return b.then(function(){h.push(g.traceId);var b=e.errorMessage;if(b!=null)return c("LSAppendDataTraceAddon")(g.traceId,f,d("I64").neg_one,b,void 0,c("LSFactory")(a));else return c("LSAppendDataTraceAddon")(g.traceId,f,d("I64").neg_one,void 0,void 0,c("LSFactory")(a))})},b("Promise").resolve()).then(function(){return h})})}function i(a,c){return c.reduce(function(b,c){return b.then(function(){return d("LSFlushDataTrace.bs").updateAndFlushTrace(a,c)})},b("Promise").resolve())}function a(a,e){if(c("killswitch")("MESSENGER_WEB_DATA_TRACE_ID"))return b("Promise").resolve();var f=e.event;if(f===c("MAWBridgeTraceEvent").ReceivedReceipt)return h(a,e,d("ArmadilloDataTraceCheckPoint.bs").deliveryReceiptReceived).then(function(b){return i(a,b)});else if(f===c("MAWBridgeTraceEvent").ReceivedSent)return h(a,e,d("ArmadilloDataTraceCheckPoint.bs").advancedCryptoMEMSendTaskComplete).then(c("emptyFunction"));else if(f===c("MAWBridgeTraceEvent").FlowEndForFailure)return h(a,e,d("LSIntEnum").ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE)).then(function(b){return i(a,b)});else if(f===c("MAWBridgeTraceEvent").FlowEndForSuccess)return h(a,e,d("LSIntEnum").ofNumber(c("LSDataTraceCheckPoint").FLOW_END_AND_FLUSH)).then(function(b){return i(a,b)});else return b("Promise").resolve()}g.call=a}),98);
__d("LSMEBTaskCreationSource",[],(function(a,b,c,d,e,f){a=Object.freeze({TEST_ONLY:0,TAM:1,MEM:2,RETROACTIVE_BACKUP:3,TAM_WEB:4,ACT_MESSAGE_DELETE:5,ACT_THREAD_DELETE:6,ACT_UPDATE_ATTACHMENT:7,TAM_PERSISTENCE_TASK:8,TAM_XMA_TOMBSTONE:9,MEM_RECEIVE:10,MEM_SEND:11,MEM_PEER_SYNC:12,MEM_RECEIVE_PROTOBUF:13,MEM_SEND_PROTOBUF:14,MEM_PEER_SYNC_PROTOBUF:15,EB_ADD_DEVICE:21,OPTIMISTIC_THREAD_CREATE_VIA_SHIM:22,ACT_THREAD_INSERT_VIA_SHIM:23,MI_THREAD_INSERT_VIA_SHIM:24,POINT_QUERY_FROM_EB:25,MESSENGER_SEARCH:26,ACT_MESSAGE_RANGE_TASK_HANDLER:27,POINT_QUERY_ON_FULLY_LOADED_THREAD:28,THREAD_CUTOVER:29,HYBRID_THREAD_VERIFY_OR_CREATE_VIA_SHIM:30,BURNER_INTERNAL_LOAD_TESTING_FRAMEWORK:31,THREAD_GALLERY_RESTORE:32,ACT_SURROUNDING_QUERY:33});f["default"]=a}),66);
__d("MAWBridgeUploadMessageHandler",["I64","LSDataTraceCheckPoint","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSIssueMessageBackup","LSIssueMessageRemove","LSMEBTaskCreationSource","LSUploadMessage","MAWEBFrontendQPLLogger","MAWEncryptedBackupUtils","MAWTraceUtils","WALogger","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] uploadMessage.authTs is null for the message"]);h=function(){return a};return a}function a(a,b){return i.apply(this,arguments)}function i(){i=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){var e=b.traceId,f=(yield d("MAWEncryptedBackupUtils").getBackupTenancy(a,e));if(f==null||!d("I64").equal(f,d("LSIntEnum").ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION))){d("MAWEBFrontendQPLLogger").addPointAndEndFlowUploadMessageBackup(e,"user_device_not_enrolled_invalid_echo_request");d("MAWTraceUtils").recordCheckpointForTrace(b.traceId,d("LSIntEnum").ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_UPLOAD_USER_DEVICE_NOT_ENROLLED),[],!1);d("MAWTraceUtils").recordInvalidUploadRequestAndFlushTrace(b.traceId,d("LSIntEnum").ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_ECHO_MESSAGE_UPLOAD_INVALID_REQUEST),[]);return}f=b.echoDocument;if(c("gkx")("9108")){var g=b.authTs;if(g==null){d("WALogger").ERROR(h());return}if(b.actionType===1){var i,j=b.echoEncodingLatencyNs,k=b.errorCode,l=b.errorMessage;d("MAWEBFrontendQPLLogger").addPointUploadMessageBackup(b.traceId,"issuing_message_backup");yield c("LSIssueMessageBackup")(b.threadId,b.messageId,d("I64").of_float(g*1e3),d("LSIntEnum").ofNumber(c("LSMEBTaskCreationSource").TAM),(i=f)!=null?i:"",b.traceId,k!=null?d("LSIntEnum").ofNumber(k):void 0,j!=null?d("I64").of_float(j):void 0,l!=null?l:void 0,c("LSFactory")(a))}else b.actionType===2&&(yield c("LSIssueMessageRemove")(b.threadId,b.messageId,d("I64").of_float(g*1e3),d("LSIntEnum").ofNumber(c("LSMEBTaskCreationSource").TAM),b.traceId,void 0,c("LSFactory")(a)));return}d("MAWTraceUtils").recordCheckpointForTrace(e,d("LSIntEnum").ofNumber(c("LSDataTraceCheckPoint").LABYRINTH_WEB_UPLOAD_INVOKE_MESSAGE_UPLOAD_SPROC),[],!1);if(f!=null)return c("LSUploadMessage")(b.threadId,b.messageId,d("I64").of_float(b.sortOrderMs),f,d("LSIntEnum").ofNumber(1),b.traceId,c("LSFactory")(a));else return c("LSUploadMessage")(b.threadId,b.messageId,d("I64").of_float(b.sortOrderMs),void 0,d("LSIntEnum").ofNumber(2),b.traceId,c("LSFactory")(a))});return i.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeUploadMessageByBatchHandler",["MAWBridgeTraceRecordCheckpointHandler","MAWBridgeUploadMessageHandler","Promise","QPLUserFlow","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e){e.qpl.forEach(function(a){return c("QPLUserFlow").addPoint(a.event,a.action.name,{instanceKey:a.instanceKey,timestamp:a.timestamp})});for(var f of e.messages)yield d("MAWBridgeUploadMessageHandler").call(a,f);return b("Promise").all(e.checkPoint.map(function(b){return d("MAWBridgeTraceRecordCheckpointHandler").call(a,b)})).then(function(a){})});return h.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeUploadThreadHandler",["I64","LSEncryptedBackupsBackupTenancy","LSFactory","LSIntEnum","LSIssueThreadRemove","LSMEBTaskCreationSource","LSUploadThread","MAWEncryptedBackupUtils","MAWTimeUtils","asyncToGeneratorRuntime","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return h.apply(this,arguments)}function h(){h=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,b){if(b.actionType===2){var e=(yield d("MAWEncryptedBackupUtils").getBackupTenancy(a));if(e==null||!d("I64").equal(e,d("LSIntEnum").ofNumber(c("LSEncryptedBackupsBackupTenancy").PRODUCTION)))return;if(c("gkx")("9108")){yield c("LSIssueThreadRemove")(b.threadId,b.ts.toString(),d("LSIntEnum").ofNumber(c("LSMEBTaskCreationSource").TAM_WEB),void 0,void 0,c("LSFactory")(a));return}e=b.echoDocument;e==null?yield c("LSUploadThread")(b.threadId,b.folderType,b.transportKey,d("MAWTimeUtils").millisTimeToTimestamp(b.ts),void 0,d("LSIntEnum").ofNumber(2),c("LSFactory")(a)):yield c("LSUploadThread")(b.threadId,b.folderType,b.transportKey,d("MAWTimeUtils").millisTimeToTimestamp(b.ts),e,d("LSIntEnum").ofNumber(1),c("LSFactory")(a))}});return h.apply(this,arguments)}g.call=a}),98);
__d("MAWBridgeLoggingUtils",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b=[["appdata",a.appdata],["instruction",a.instruction],["messages",a.message],["notifications",a.notification],["receipt",a.receipt],["retryReceipt",a.retryReceipt]].filter(function(a){a[0];a=a[1];return a>0}).map(function(a){var b=a[0];a=a[1];return b.concat(": "+a)});return[""+a.count].concat(b).join(", ")}function b(a,b){var c=[["appdata",a.appdata,b.appdata],["instruction",a.instruction,b.instruction],["messages",a.message,b.message],["notifications",a.notification,b.notification],["receipt",a.receipt,b.receipt],["retryReceipt",a.retryReceipt,b.retryReceipt]].filter(function(a){a[0];a[1];a=a[2];return a>0}).map(function(a){var b=a[0],c=a[1];a=a[2];return b.concat(": "+c+" / "+a)});return[a.count+" / "+b.count].concat(c).join(", ")}f.stanzasCountStr=a;f.stanzasProgressCountStr=b}),66);
__d("MAWSetupBridgeOfflineConsumer",["InteractionTracingMetrics","MAWBridgeInitOfflineQueueSyncCompleteHandler","MAWBridgeLoggingUtils","MAWProtocolQueueConst","MAWTTRC","MWChatInteraction.bs","WATagsLogger","asyncToGeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats failed: ",""]);h=function(){return a};return a}function i(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats end: ",""]);i=function(){return a};return a}function j(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats: ",""]);j=function(){return a};return a}function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["Stats start: ",""]);k=function(){return a};return a}var l=d("WATagsLogger").TAGS(["ServerRPC","OfflineConsumer"]);function m(a){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a){yield a;return d("MAWBridgeInitOfflineQueueSyncCompleteHandler").call()});return n.apply(this,arguments)}function o(a){d("MAWTTRC").addIntAnnotation("offlineQueueSize",a);var b=d("MWChatInteraction.bs").get(d("MWChatInteraction.bs").MW_AUTO_CHAT_TAB_OPEN);b!=null&&c("InteractionTracingMetrics").addAnnotationInt(b,"offlineQueueSize",a)}function p(a,b){d("MAWTTRC").addIntAnnotation("offlineQueueExpectedAppData",a.appdata),d("MAWTTRC").addIntAnnotation("offlineQueueExpectedCount",a.count),d("MAWTTRC").addIntAnnotation("offlineQueueExpectedInstruction",a.instruction),d("MAWTTRC").addIntAnnotation("offlineQueueExpectedMessage",a.message),d("MAWTTRC").addIntAnnotation("offlineQueueExpectedNotification",a.notification),d("MAWTTRC").addIntAnnotation("offlineQueueExpectedReceipt",a.receipt),d("MAWTTRC").addIntAnnotation("offlineQueueExpectedRetryReceipt",a.retryReceipt),d("MAWTTRC").addIntAnnotation("offlineQueueAppDataDelta",a.appdata-b.appdata),d("MAWTTRC").addIntAnnotation("offlineQueueCountDelta",a.count-b.count),d("MAWTTRC").addIntAnnotation("offlineQueueInstructionDelta",a.instruction-b.instruction),d("MAWTTRC").addIntAnnotation("offlineQueueMessageDelta",a.message-b.message),d("MAWTTRC").addIntAnnotation("offlineQueueNotificationDelta",a.notification-b.notification),d("MAWTTRC").addIntAnnotation("offlineQueueReceiptDelta",a.receipt-b.receipt),d("MAWTTRC").addIntAnnotation("offlineQueueRetryReceiptDelta",a.retryReceipt-b.retryReceipt)}function a(a,c){return function(){var e=b("asyncToGeneratorRuntime").asyncToGenerator(function*(b){var e=b.chatJidStatus,f=b.expected,g=b.processed,n=b.status,q=b.timestamp,r=b.totalExpectedCount;b=b.totalProcessedCount;var s=n===d("MAWProtocolQueueConst").OfflineConsumerStatus.Initializing?d("MAWBridgeLoggingUtils").stanzasCountStr(f):d("MAWBridgeLoggingUtils").stanzasProgressCountStr(g,f);switch(n){case d("MAWProtocolQueueConst").OfflineConsumerStatus.Initializing:l.LOG(k(),s);o(r);c({tag:"InitOfflineQueueSyncStart",value:r});d("MAWTTRC").markEvent("worker_process_offline_queue_start",q);return d("MAWTTRC").markEvent("main_process_offline_queue_start");case d("MAWProtocolQueueConst").OfflineConsumerStatus.Processing:l.LOG(j(),s);c({tag:"InitOfflineQueueConsumerSyncProgress",value:{chatJidStatus:e,processed:b}});return;case d("MAWProtocolQueueConst").OfflineConsumerStatus.Complete:l.LOG(i(),s);c({tag:"InitOfflineQueueSyncComplete",value:e});yield m(a);d("MAWTTRC").markEvent("worker_process_offline_queue_end",q);d("MAWTTRC").markEvent("main_process_offline_queue_end");p(f,g);return;case d("MAWProtocolQueueConst").OfflineConsumerStatus.Failed:l.LOG(h(),s);d("MAWTTRC").markEvent("worker_process_offline_queue_failed");c({tag:"InitOfflineQueueSyncComplete",value:void 0});yield m(a);p(f,g);return}});return function(a){return e.apply(this,arguments)}}()}g["default"]=a}),98);
__d("MAWDYIRestoreThreadsFromOccamadillo.bs",["I64","LSFactory","LSIntEnum","LSThreadsRangesQuery","MAWBridgeFireAndForget","MAWEBFrontendQPLLogger","MAWJids","Promise","ReQL.bs","SortedAsyncIterable.bs","WALoggerDeferred","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["User not enrolled in Occamadillo, cannot restore threads and initiate DYI"]);h=function(){return a};return a}var i={contents:d("I64").zero},j={contents:d("I64").zero};function k(a,e){var f=[],g=[];d("MAWEBFrontendQPLLogger").logDyiE2EProcessThreadsFromOccamadillo(e);c("promiseDone")(d("ReQL.bs").toArray(d("ReQL.bs").fromTableAscending(a.table("mi_act_mapping_table"))).then(function(h){c("promiseDone")(h.reduce(function(b,c){return b.then(function(){return d("ReQL.bs").first(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(a.table("threads")),{hd:c.serverThreadKey,tl:0})).then(function(a){if(a==null)return;a=a.threadType;if(!d("I64").equal(a,d("I64").of_string("15"))){if(!d("I64").equal(a,d("I64").of_string("16")))return;f.push(d("MAWJids").toGroupJid(d("I64").to_string(c.jid)));return}g.push(d("MAWJids").toUserJid(d("I64").to_string(c.jid)))})})},b("Promise").resolve()).then(function(a){return d("MAWBridgeFireAndForget").fireAndForget("backend","dyiGetThreadList",{qplInstanceKeyE2E:(a=e)!=null?a:void 0,threadJids:f.concat(g)})}))}))}function l(a,e){var f=d("ReQL.bs").fromTableAscending(a.table("inbox_threads_ranges")),g={contents:function(){}};g.contents=d("SortedAsyncIterable.bs").subscribe(f,function(b,f){switch(f.TAG){case 1:var h=f._0;b=h.syncGroup;if(!d("I64").equal(b,d("I64").of_string("95")))return;else if(h.hasMoreBefore)if(!d("I64").equal(h.minThreadKey,i.contents)||!d("I64").equal(h.minLastActivityTimestampMs,j.contents)){i.contents=h.minThreadKey;j.contents=h.minLastActivityTimestampMs;c("promiseDone")(a.runInTransaction(function(a){return c("LSThreadsRangesQuery")(d("I64").zero,!0,!1,h.minThreadKey,d("I64").max_int,d("I64").max_int,h.minLastActivityTimestampMs,d("I64").zero,!1,c("LSFactory")(a))},"readwrite"));return}else return;else{g.contents();return k(a,e)}case 0:case 2:return}});return b("Promise").resolve()}function m(a,b){c("promiseDone")(d("ReQL.bs").toArray(d("ReQL.bs").fromTableAscending(a.table("inbox_threads_ranges"))).then(function(e){e.forEach(function(e){if(!d("I64").equal(e.syncGroup,d("I64").of_string("95")))return;else if(e.hasMoreBefore){c("promiseDone")(l(a,b).then(function(){i.contents=e.minThreadKey;j.contents=e.minLastActivityTimestampMs;return a.runInTransaction(function(a){return c("LSThreadsRangesQuery")(d("I64").zero,!0,!1,e.minThreadKey,d("I64").max_int,d("I64").max_int,e.minLastActivityTimestampMs,d("I64").zero,!1,c("LSFactory")(a))},"readwrite")}));return}return k(a,b)})}))}function a(a,b){if(c("gkx")("7006")){c("promiseDone")(a.runInTransaction(function(a){return a.table("encrypted_backups_dyi_backup_restore_status").put({currentStatus:d("LSIntEnum").ofNumber(0),pk:d("I64").zero})},"readwrite").then(function(){return m(a,b)}));return}c("promiseDone")(d("WALoggerDeferred").WARN(h()))}g.call=a}),98);
__d("ArmadilloCutoverClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("699");b=d("FalcoLoggerInternal").create("armadillo_cutover_client",a);e=b;g["default"]=e}),98);/*FB_PKG_DELIM*/
__d("LSOptimisticPseudoUnblock",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return c.seq([function(b){return c.db.table(7).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,0]):(b=a.item,d[0]=b.capabilities)})},function(b){return c.db.table(7).fetch([[[a[0]]]]).next().then(function(b,d){var e=b.done;b=b.value;return e?0:(d=b.item,c.fe(c.ftr(c.db.table(7).fetch([[[a[0]]]]),function(b){return c.i64.eq(b.id,a[0])&&c.i64.eq(c.i64.cast([0,1]),c.i64.cast([0,1]))}),function(a){var b=a.update;a.item;return b({capabilities:c.i64.and_(d.capabilities==null?c.i64.cast([0,0]):d.capabilities,c.i64.cast([-1,4227858431]))})}))})},function(e){return d[2]=new c.Map(),d[2].set("blockee_id",a[0]),d[2].set("request_id",a[1]),d[2].set("capabilities",d[0]==null?c.i64.cast([0,0]):d[0]),d[3]=c.toJSON(d[2]),c.sp(b("LSIssueNewTask"),"pseudo_unblock",c.i64.cast([0,194]),d[3],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("LSFetchMessageSeenCount",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1];c.n;var d=[],e=[],f;return c.seq([function(e){return d[0]=new c.Map(),d[0].set("thread_id",a[0]),d[0].set("message_id",a[1]),d[1]=d[0].get("thread_id"),d[0],d[2]=c.toJSON(d[0]),c.sp(b("LSIssueNewTask"),["cm_message_seen_count",c.i64.to_string(d[1])].join(""),c.i64.cast([0,540]),d[2],f,f,c.i64.cast([0,0]),c.i64.cast([0,0]),f,f,c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}c=a;f["default"]=c}),66);
__d("GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5852881248149646"}),null);
__d("GroupsCometGlobalChatCreationDialogQuery$Parameters",["GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometGlobalChatCreationDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometGlobalChatCreationDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometGlobalChatCreationDialog.entrypoint",["GroupsCometGlobalChatCreationDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("GroupsCometGlobalChatCreationDialogQuery$Parameters"),variables:{scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("GroupsCometGlobalChatCreationDialog.react").__setRef("GroupsCometGlobalChatCreationDialog.entrypoint")};g["default"]=a}),98);
__d("MWXButtonGroup.react",["cr:227","cr:258","cr:5023","cr:5028","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var c=a.align,d=a.direction;d=d===void 0?"backward":d;var e=a.expanding;e=e===void 0?!1:e;var f=a.paddingHorizontal;f=f===void 0?0:f;var g=a.primary;a=a.secondary;if(b("cr:258")!=null){var i,j=g.icon,k=g.loading,l=g.type,m=babelHelpers.objectWithoutPropertiesLoose(g,["icon","loading","type"]);l=l==="destructive"?"fdsOverride_negative":l;var n=f===10?8:f;return h.jsx(b("cr:258"),{align:(i=c)!=null?i:"end",direction:d,expanding:e,paddingHorizontal:n,primary:babelHelpers["extends"]({},m,{addOnPrimary:k===!0&&b("cr:5023")?h.jsx(b("cr:5023"),{color:"disabled",size:16}):void 0,icon:j,type:l}),secondary:a!=null?babelHelpers["extends"]({},a,{reduceEmphasis:!0,type:"secondary"}):null})}if(b("cr:227")!=null){i=g.loading;e=babelHelpers.objectWithoutPropertiesLoose(g,["loading"]);return h.jsx(b("cr:227"),{align:c,direction:d,paddingHorizontal:f,primary:babelHelpers["extends"]({},e,{addOnStart:i===!0&&b("cr:5028")?h.jsx(b("cr:5028"),{color:"grey",size:24}):void 0}),secondary:a})}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWXPopoverLoadingState.react",["cr:2518","react"],(function(a,b,c,d,e,f,g){"use strict";d("react"),g["default"]=b("cr:2518")}),98);
__d("useMAWGetUserVisibleErrors",["MAWIssueNewUserVisibleErrors","Promise","ReQL","ReQLSuspense","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useReStore")(),e=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableDescending(a.table("user_visible_errors")).filter(function(a){a=a.presentationStyle;return a==="banner"})},[a],f.id+":37"),g=h(function(){return e!=null&&e.errorId!=null?d("MAWIssueNewUserVisibleErrors").deleteUserVisibleError(a,e.errorId):b("Promise").resolve()},[a,e]);return[e,g]}g["default"]=a}),98);
__d("useBlockedUserInterstitial",["I64","JSResourceForInteraction","LSContactBitOffset","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSOptimisticPseudoUnblock","MWCMThreadTypes.react","MWPActor.react","Promise","ReQL.bs","WebStorage","getWarningCardStorageKey","gkx","promiseDone","react","recoverableViolation","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(){var a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatBlockWarningCardDialog.react").__setRef("useBlockedUserInterstitial")),e=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("MWChatPseudoBlockWarningCardDialog.react").__setRef("useBlockedUserInterstitial"));var f=a[0];a=c("useMWXLazyDialog")(c("JSResourceForInteraction")("RestrictedUserInterstitialDialog.react").__setRef("useBlockedUserInterstitial"));var g=a[0],i=c("useReStore")(),j=d("MWPActor.react").useActor();return h(function(a,h,k,l){if(h==null)return k();var m=d("MWCMThreadTypes.react").isBroadcastThread(h.threadType);c("promiseDone")(b("Promise").all([d("ReQL.bs").toArray(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(i.table("participants")),{hd:a,tl:0}),d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(i.table("contacts").index("blockedByViewerStatusId")),{hd:d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").MESSAGE_BLOCKED),tl:0})),function(a){var b=a[0];if(!d("I64").equal(a[1].id,j))if(!m||b.isAdmin===!0)return!0;else return b.isModerator===!0;else return!1}),function(a){return a[1]})),d("ReQL.bs").toArray(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(i.table("participants")),{hd:a,tl:0}),d("ReQL.bs").getKeyRange(d("ReQL.bs").fromIndexAscending(i.table("contacts").index("blockedByViewerStatusId")),{hd:d("LSIntEnum").ofNumber(c("LSContactBlockedByViewerStatus").FULLY_BLOCKED),tl:0})),function(a){var b=a[0];if(!d("I64").equal(a[1].id,j))if(!m||b.isAdmin===!0)return!0;else return b.isModerator===!0;else return!1}),function(a){return a[1]})),d("ReQL.bs").toArray(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(i.table("participants")),{hd:a,tl:0}),d("ReQL.bs").fromTableAscending(i.table("contacts"))),function(a){return!d("I64").equal(a[1].id,j)}),function(a){return a[1]})),d("ReQL.bs").first(d("ReQL.bs").map(d("ReQL.bs").filter(d("ReQL.bs").mergeJoin(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(i.table("participants")),{hd:a,tl:0}),d("ReQL.bs").fromTableAscending(i.table("contacts"))),function(a){return!d("I64").equal(a[1].id,j)}),function(a){return a[1]}))]),function(b){var j=b[3],m=b[2];b=b[1].concat(b[0]);var n=d("LSMessagingThreadTypeUtil").isOneToOne(h.threadType),o=d("LSMessagingThreadTypeUtil").isGroup(h.threadType),p=j!=null?d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(26),j):!1,q=c("WebStorage").getLocalStorage(),r=c("getWarningCardStorageKey")(a),s=q!=null?q.getItem(r):void 0;s=s!=null?s==="true":!1;n=n&&p;p=!s&&b.length>0&&o;if(n){n=function(a){if(j!=null){c("promiseDone")(i.runInTransaction(function(b){return c("LSOptimisticPseudoUnblock")(j.id,a,c("LSFactory")(b))},"readwrite"),function(){return k()},function(){return k()});return}};return f({contact:j,entryPoint:l,onClose:function(){},onOptIn:n,thread:h},function(){})}if(p){n=function(){var a=q!=null?c("WebStorage").setItemGuarded(q,r,"true"):void 0;a!=null&&c("recoverableViolation")("Unable to set item at path for BlockedUserInterstitial","messenger_web_product");return k()};return e({blockees:b,onOptIn:n,thread:h},function(){})}p=m.filter(function(a){return(a=d("LSContactBitOffset").has(d("LSIntEnum").ofNumber(66),a))!=null?a:!1});b=!s&&c("gkx")("735")&&p.length>0&&o;if(!b)return k();n=function(){var a=q!=null?c("WebStorage").setItemGuarded(q,r,"true"):void 0;a!=null&&c("recoverableViolation")("Unable to set item at path for RestrictedUserInterstitial","messenger_web_product");return k()};return g({onOptIn:n,restrictedUsers:p,thread:h},function(){})})},[j,i,e,f,g])}g["default"]=a}),98);
__d("isFacebookMessengerInboxURI",["isFacebookURI"],(function(a,b,c,d,e,f,g){function a(a){return c("isFacebookURI")(a)&&a.getPath().startsWith("/messages")}g["default"]=a}),98);
__d("useMWCMShouldGoToFullScreenChatHook",["getRequestConstUri","isFacebookMessengerInboxURI","isMessengerDotComURI"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("getRequestConstUri")();return c("isMessengerDotComURI")(a)||c("isFacebookMessengerInboxURI")(a)}g["default"]=a}),98);
__d("useMWAriaLabelForThread",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){var b=a.threadKey,e=a.threadName,g=a.threadType,i=d("MWPActor.react").useActor(),j=c("useReStore")(),k=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(j.table("participants")).getKeyRange(b),d("ReQL").fromTableAscending(j.table("contacts"))).take(8)},[j,b],f.id+":37");return d("Int64Hooks").useMemoInt64(function(){var a=e;if(a!=null)return h._("__JHASH__Hkglfueb2S7__JHASH__",[h._param("name of conversation",a)]);a=(a=d("MWPGetThreadTitle").computeThreadTitle(void 0,{threadName:e,threadType:g},k,i))!=null?a:"";return h._("__JHASH__Bc4odEiE4Gu__JHASH__",[h._param("participant list",a)])},[e,g,k,i])}g["default"]=a}),98);
__d("MWClickedMessageContext.react",["GroupsCometChatsEngagementLogger","I64","LSFactory","LSFetchMessageSeenCount","emptyFunction","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.createContext;var i=b.useCallback,j=b.useContext,k=b.useMemo,l=b.useState,m=e({clickedMessageId:null,fetchMessageSeenCount:c("emptyFunction"),hasError:!1,isLoading:!1,setClickedMessageId:c("emptyFunction")});function a(a){a=a.children;var b=l(null),e=b[0],f=b[1];b=l(!1);var g=b[0],j=b[1];b=l(!1);var n=b[0],o=b[1],p=c("useReStore")(),q=i(function(a,b,e){o(!0),f(b),p.runInTransaction(function(d){return c("LSFetchMessageSeenCount")(a,b,c("LSFactory")(d))},"readwrite").then(function(){o(!1);j(!1);if(e!=null){var c;d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:{mid:b},community_id:(c=d("I64").to_string(e.folderId))!=null?c:null,event:"seen_count_rendered",group_id:(c=d("I64").to_string(e.fbGroupId))!=null?c:null,source:"message_bubble",surface:"thread_view",thread_id:d("I64").to_string(a)})}})["catch"](function(){o(!1),j(!0)})},[p]);b=k(function(){return{clickedMessageId:e,fetchMessageSeenCount:q,hasError:g,isLoading:n,setClickedMessageId:f}},[e,q,g,n]);return h.jsx(m.Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";b={Provider:a,useHook:function(){return j(m)}};g["default"]=b}),98);
__d("MercuryTimestamp",["fbt","formatDate"],(function(a,b,c,d,e,f,g){a=864e5;var h=6*a,i={getFormatedTimestamp:function(a){var b=a/1e3;return i.getFormattedTimestampByBucket(b,i.getTimeBucket(a))},getAbsoluteTimestamp:function(a){if(a==null)return null;else{a=i.getFormatedTimestamp(a);return a.absolute}},getRelativeTimestamp:function(a){a=i.getFormatedTimestamp(a);return a.relative},getFormattedTimestampByBucket:function(a,c){switch(c){case 0:return{absolute:g._("__JHASH__EpdLnM9AeUo__JHASH__").toString(),relative:b("formatDate")(a,"g:ia")};case 1:return{absolute:b("formatDate")(a,"l"),relative:b("formatDate")(a,"D")};case 3:return{absolute:b("formatDate")(a,"F j"),relative:b("formatDate")(a,"M j")};default:return{absolute:b("formatDate")(a,"F j, Y"),relative:b("formatDate")(a,"n/j/y")}}},getTimeBucket:function(a){a=new Date(a);var b=new Date();b=new Date(b.getFullYear(),b.getMonth(),b.getDate());if(b<a)return 0;else if(b-h<a)return 1;else if(b.getFullYear()===a.getFullYear())return 3;else return 4},getPreciseTimestamp:function(a){return b("formatDate")(new Date(a),i.getPreciseFormat(a))},getPreciseFormat:function(a){a=i.getTimeBucket(a);switch(a){case 0:return"g:ia";case 1:return"l g:ia";case 3:return"F jS, g:ia";case 4:default:return"F j, Y g:i a"}}};e.exports=i}),null);
__d("MWMessageDeliveryStatus",["fbt","I64","LSIntEnum","MercuryTimestamp","getFBTSafeGenderFromGenderConst","intlList","intlSummarizeNumber"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){if(a.length!==1)return{heads:a,type:"MultipleSeenHeads"};a=a[0];return{head:a,type:"SingleSeenHead"}}function b(a,b){return{delivered:b,heads:a,type:"DeliveredAndRead"}}function e(a){return{count:a,type:"SeenCount"}}function i(a){return a.timestamp>0?h._("__JHASH__i65FoHjBJBT__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender)),h._param("seen time",d("MercuryTimestamp").getPreciseTimestamp(a.timestamp))]):h._("__JHASH__o0y2JESDXU1__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))])}function j(a,b){if(a.length===0)return"";if(b)return h._("__JHASH__xJFzJjmgrii__JHASH__").toString();b=a.map(function(a){return h._("__JHASH__anoMlIo0TA0__JHASH__",[h._name("full name",a.name,c("getFBTSafeGenderFromGenderConst")(a.gender))])});a=c("intlList")(b,c("intlList").CONJUNCTIONS.AND,c("intlList").DELIMITERS.COMMA);return h._("__JHASH__rtgGiNEWfHK__JHASH__",[h._param("full name",a)]).toString()}function k(a){a=c("intlSummarizeNumber")(a);return h._("__JHASH___KIWePVuuHb__JHASH__",[h._param("seen count",a)]).toString()}var l={delivered:h._("__JHASH__DGTdcv4yxEO__JHASH__"),error:h._("__JHASH__HWY7OcPbAjW__JHASH__"),loading:h._("__JHASH__ge1hq8iGlfw__JHASH__"),retriableError:h._("__JHASH__VG5ajSXV9DG__JHASH__"),sending:h._("__JHASH__-KPam8KdjJ8__JHASH__"),sent:h._("__JHASH__FdnMQ3ayYbi__JHASH__")};function f(a){switch(a.type){case"Sending":return l.sending;case"Sent":case"Delivered":return l.sent;case"Error":return l.error;case"SingleSeenHead":return i(a.head);case"NoneStatus":case"MultipleSeenHeads":return"";case"DeliveredAndRead":return j(a.heads,a.delivered);case"SeenCount":return k(a.count);case"Loading":return l.loading;case"RetriableError":return l.retriableError}}function m(a){switch(a.type){case"Sending":return l.sending;case"Sent":return l.sent;case"Delivered":return l.delivered;case"Error":return l.error;case"SingleSeenHead":return i(a.head);case"DeliveredAndRead":return j(a.heads,a.delivered);default:return""}}function n(a){if(d("I64").equal(a,d("LSIntEnum").ofNumber(1)))return{type:"Sending"};else if(d("I64").equal(a,d("LSIntEnum").ofNumber(2))||d("I64").equal(a,d("LSIntEnum").ofNumber(6)))return{type:"Sent"};else if(d("I64").equal(a,d("LSIntEnum").ofNumber(4))||d("I64").equal(a,d("LSIntEnum").ofNumber(5)))return{type:"Error"};else return{type:"NoneStatus"}}function o(a,b,c){var e=n(a.sendStatusV2);if(d("I64").equal(a.sendStatusV2,d("LSIntEnum").ofNumber(4))||d("I64").equal(a.sendStatusV2,d("LSIntEnum").ofNumber(5))||d("I64").equal(a.sendStatusV2,d("LSIntEnum").ofNumber(1)))return e;else if(!c&&d("I64").equal(a.sendStatusV2,d("LSIntEnum").ofNumber(2)))return{type:"NoneStatus"};else if(d("I64").ge(b,a.timestampMs))return{type:"Delivered"};else return e}function p(a){return["SingleSeenHead","Sending","MultipleSeenHeads","Error"].includes(a.type)}g.seenHead=a;g.deliveredAndRead=b;g.seenCount=e;g.getSingleSeenHead=i;g.getSeenCount=k;g.Titles=l;g.getBroadcastStatusTitle=f;g.getStatusTitle=m;g.getFromSendStatus=n;g.getDeliveryStatusForMessageSentByYou=o;g.isAlwaysShownStatus=p}),98);
__d("MWPMessageRowCalculateStatus.react",["GenderConst","I64","LSIntEnum","LSMediaUrl.bs","LSThreadBitOffset","MWClickedMessageContext.react","MWLSThread","MWMessageDeliveryStatus","MWPActor.react","QE2Logger","ReQL","ReQLSuspense","gkx","qex","react","useMWIsReadReceiptsDisabledForThread","useReStore"],(function(a,b,c,d,e,f,g){"use strict";d("react");var h=d("react").useState;function a(a){var b=a.children,e=a.isBroadcastThread,g=a.isLargeGroup,h=a.isSecureGroupThread,i=a.message,j=a.nextMessage,m=d("MWPActor.react").useActor(),n=c("useReStore")(),o=d("I64").equal(m,i.senderId),p=j!=null&&!d("I64").equal(m,j.senderId),q=i.isUnsent,r=Boolean(d("MWLSThread").useThread(i.threadKey,function(a){return d("LSThreadBitOffset").has(d("LSIntEnum").ofNumber(140),a)})),s=!i.isUnsent&&r,t=j==null;r=c("MWClickedMessageContext.react").useHook();var u=r.clickedMessageId,v=r.hasError;r=r.isLoading;var w=d("ReQLSuspense").useFirst(function(){return s?d("ReQL").fromTableAscending(n.table("community_chat_message_seen_count")).getKeyRange(i.threadKey,i.messageId):d("ReQL").empty()},[n,s,i.threadKey,i.messageId],f.id+":84"),x=k(a,function(a){return!t&&a.length===0},[t]),y=l(function(){return d("ReQL").fromTableDescending(n.table("participants").index("threadKeyReadWatermarkTimestampMs")).getKeyRange(i.threadKey).filter(function(a){return!d("I64").equal(a.contactId,m)}).take(1)},function(a){return a.length>0},[i.threadKey,m]).length>0,z=l(function(){return d("ReQL").fromTableDescending(n.table("participants").index("threadKeyReadWatermarkTimestampMs")).getKeyRange(i.threadKey).bounds({gte:{hd:i.timestampMs,tl:0}}).filter(function(a){return!d("I64").equal(a.contactId,m)}).take(1)},function(a){return y&&a.length>0},[i.timestampMs,i.threadKey,m,y]),A=z.length>0,B=l(function(){return d("ReQL").fromTableAscending(n.table("participants").index("threadKeyReadWatermarkTimestampMs")).getKeyRange(i.threadKey).bounds({lt:{hd:i.timestampMs,tl:0}}).filter(function(a){return!d("I64").equal(a.contactId,m)}).take(1)},function(a){return A&&a.length===0},[i.threadKey,A,i.timestampMs,m]).length===0&&A,C=l(function(){return d("ReQL").fromTableDescending(n.table("participants").index("threadKeyDeliveredWatermarkTimestampMs")).getKeyRange(i.threadKey).bounds({gte:{hd:i.timestampMs,tl:0}}).filter(function(a){return!d("I64").equal(a.contactId,m)}).take(1)},function(a){return a.length>0||A},[i.threadKey,i.timestampMs,A,m]).length>0,D=k(a,function(a){return A&&a.length===0},[A]);if(i.isAdminMessage)return b({type:"NoneStatus"});if(e)if(!s){if(!o||j!=null||q)return b({type:"NoneStatus"})}else{if(u!==i.messageId)return b({type:"NoneStatus"});if(r)return b({type:"Loading"});return v?b({type:"RetriableError"}):w!=null?b(d("MWMessageDeliveryStatus").seenCount(d("I64").to_int32(w.seenCount))):b({type:"Loading"})}if(!o)return h||g?b({type:"NoneStatus"}):x.length>0?a.children(d("MWMessageDeliveryStatus").seenHead(x)):a.children({type:"NoneStatus"});if(p&&h)return b({type:"NoneStatus"});if(d("I64").equal(i.sendStatusV2,d("I64").of_int32(0)))return b({type:"NoneStatus"});if(d("I64").equal(i.sendStatusV2,d("I64").of_int32(4))||d("I64").equal(i.sendStatusV2,d("I64").of_int32(5)))return b({type:"Error"});if(d("I64").equal(i.sendStatusV2,d("I64").of_int32(1)))return b({type:"Sending"});if(d("I64").equal(i.sendStatusV2,d("I64").of_int32(6)))return b({type:"Sent"});if(g)if(j!=null||q)return b({type:"NoneStatus"});else if(d("I64").equal(i.sendStatusV2,d("I64").of_int32(2)))return b({type:"Delivered"});if(A){e=!1;h&&(e=c("qex")._("891")===!0,d("QE2Logger").logExposureForUser("messenger_armadillo_web_message_states"));if(h&&!e){u=j==null||d("I64").compare(z[0].readWatermarkTimestampMs,j.timestampMs)<0;return u&&D.length>0?b(d("MWMessageDeliveryStatus").deliveredAndRead(D,B)):b({type:"NoneStatus"})}else return D.length>0?b(d("MWMessageDeliveryStatus").seenHead(D)):b({type:"NoneStatus"})}return C?b({type:"Delivered"}):b({type:"Sent"})}a.displayName=a.name+" [from "+f.id+"]";var i=10;function j(a){var b=a.message;a=a.nextMessage;var e=c("useReStore")(),g=(a==null?void 0:a.isAdminMessage)===!0,h=d("ReQLSuspense").useFirst(function(){return g?d("ReQL").fromTableAscending(e.table("messages").index("messageDisplayOrder")).getKeyRange(b.threadKey).bounds({gt:{hd:b.primarySortKey,tl:0}}).take(i).filter(function(a){return!a.isAdminMessage}):d("ReQL").empty()},[e,g,b.primarySortKey,b.threadKey],f.id+":389");return g?h:a}function k(a,b,e){var g=c("useReStore")(),h=d("MWPActor.react").useActor(),i=a.message,k=j(a);a=c("useMWIsReadReceiptsDisabledForThread")(i.threadKey)&&c("gkx")("8937");b=l(function(){var a=k!=null?{gte:{hd:i.timestampMs,tl:0},lt:{hd:k.timestampMs,tl:0}}:{gte:{hd:i.timestampMs,tl:0}};return d("ReQL").fromTableAscending(g.table("participants").index("threadKeyReadWatermarkTimestampMs")).getKeyRange(i.threadKey).bounds(a).filter(function(a){return!d("I64").equal(a.contactId,h)}).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.table("contacts")).getKeyRange(a.contactId),f.id+":457");return[a,b]})},b,[g,i.threadKey,i.timestampMs,k==null?void 0:k.timestampMs,k==null,h].concat(e));return a?[]:b.map(function(a){var b,e=a[0];a=a[1];if(a==null)return;return{gender:c("GenderConst").UNKNOWN_SINGULAR,id:d("I64").to_string(a.id),imageSrc:d("LSMediaUrl.bs").Contact.profilePictureUrl(a),name:(b=e.nickname)!=null?b:a.name,timestamp:d("I64").to_float(e.readActionTimestampMs)}}).filter(Boolean)}function l(a,b,c){var e=h(void 0),g=e[0];e=e[1];c=d("ReQLSuspense").useArray(function(){return g!=null?d("ReQL").empty():a()},[].concat(c,[g]),f.id+":511");b(c)&&g==null&&e(c);return g!=null?g:c}g["default"]=a}),98);
__d("FDSMWMessageDeliveryStatusIcons.bs",["MWMessageDeliveryStatus","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={disabled:{fill:"xsrhx6k",$$css:!0},negative:{fill:"x1i5740i",$$css:!0}};function j(a){switch(a){case 12:return"12px";case 14:return"14px";case 16:return"16px"}}function a(a){var b=a.size;a=a.xstyle;return h.jsxs("svg",{className:c("stylex")(i.disabled,a),height:j(b),role:"img",viewBox:"2 2 20 20",width:j(b),xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("title",{children:d("MWMessageDeliveryStatus").Titles.sending}),h.jsx("path",{d:"m12 2a10 10 0 1 0 10 10 10.011 10.011 0 0 0 -10-10zm0 18.5a8.5 8.5 0 1 1 8.5-8.5 8.51 8.51 0 0 1 -8.5 8.5z"})]})}a.displayName=a.name+" [from "+f.id+"]";function b(a){var b=a.size;a=a.xstyle;return h.jsxs("svg",{className:c("stylex")(i.disabled,a),"data-testid":void 0,height:j(b),role:"img",viewBox:"2 2 20 20",width:j(b),xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("title",{children:d("MWMessageDeliveryStatus").Titles.sent}),h.jsx("path",{d:"m12 2a10 10 0 1 0 10 10 10.011 10.011 0 0 0 -10-10zm0 18.5a8.5 8.5 0 1 1 8.5-8.5 8.51 8.51 0 0 1 -8.5 8.5z"}),h.jsx("path",{d:"m15.982 8.762-5.482 5.487-2.482-2.478a.75.75 0 0 0 -1.06 1.06l3.008 3.008a.748.748 0 0 0 1.06 0l6.016-6.016a.75.75 0 0 0 -1.06-1.061z"})]})}b.displayName=b.name+" [from "+f.id+"]";function e(a){var b=a.size;a=a.xstyle;return h.jsxs("svg",{className:c("stylex")(i.disabled,a),"data-testid":void 0,height:j(b),role:"img",viewBox:"2 2 20 20",width:j(b),xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("title",{children:d("MWMessageDeliveryStatus").Titles.delivered}),h.jsx("path",{d:"m12 2a10 10 0 1 0 10 10 10.011 10.011 0 0 0 -10-10zm5.219 8-6.019 6.016a1 1 0 0 1 -1.414 0l-3.005-3.008a1 1 0 1 1 1.419-1.414l2.3 2.3 5.309-5.31a1 1 0 1 1 1.41 1.416z"})]})}e.displayName=e.name+" [from "+f.id+"]";function k(a){var b=a.size,e=a.title;e=e===void 0?d("MWMessageDeliveryStatus").Titles.error.toString():e;a=a.xstyle;return h.jsxs("svg",{className:c("stylex")(i.negative,a),height:j(b),role:"img",viewBox:"2 2 20 20",width:j(b),xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("title",{children:e}),h.jsx("path",{d:"m12 2a10 10 0 1 0 10 10 10.011 10.011 0 0 0 -10-10zm0 15.139a1.125 1.125 0 1 1 1.125-1.125 1.127 1.127 0 0 1 -1.125 1.125zm.8-3.81a.75.75 0 0 1 -.75.685.852.852 0 0 1 -.847-.685l-.45-5.145c0-.022 0-.043 0-.065a1.254 1.254 0 1 1 2.5 0z"})]})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.size;a=a.xstyle;return h.jsx("svg",{className:c("stylex")(i.disabled,a),height:j(b),role:"img",viewBox:"0 0 16 16",width:j(b),xmlns:"http://www.w3.org/2000/svg",children:h.jsx("path",{clipRule:"evenodd",d:"M8 16A8 8 0 108 0a8 8 0 000 16zm.473-5.26a.5.5 0 00.08.605l.27.271a1 1 0 001.572-.205l3.379-5.818a1 1 0 00-1.73-1.004l-.974 1.678a.911.911 0 01-.034.06L8.473 10.74zm1.3-5.147A1 1 0 008.045 4.59L5.417 9.114a.15.15 0 01-.236.03L3.798 7.763a1 1 0 10-1.414 1.414l2.44 2.44a1 1 0 001.571-.205l3.379-5.818z",fillRule:"evenodd"})})}l.displayName=l.name+" [from "+f.id+"]";f={SendingIcon:a,SentIcon:b,DeliveredIcon:e,DeliveredAndReadIcon:l,ErrorIcon:k};a=f;g["default"]=a}),98);
__d("MWMessageDeliveryStatusIcons",["cr:151"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:151")}),98);
__d("CancellationToken.bs",["bs_caml_exceptions"],(function(a,b,c,d,e,f,g){"use strict";b=c("bs_caml_exceptions").create("CancellationToken.TokenCancelled");function a(){var a={contents:!1};return{cancel:function(){a.contents=!0},isCancelled:function(){return a.contents}}}g.TokenCancelled=b;g.CancellationToken=a}),98);
__d("CancellablePromise.bs",["CancellationToken.bs","Promise"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,e){return e.then(function(e){if(a.isCancelled())return b("Promise").reject({RE_EXN_ID:d("CancellationToken.bs").TokenCancelled});else return c(e)})}function c(a,c){return c["catch"](function(c){if(c.RE_EXN_ID===d("CancellationToken.bs").TokenCancelled)return b("Promise").resolve(a);else return b("Promise").reject(c)})}g.then_=a;g.ignoreFailed=c}),98);
__d("MessengerThreadTakedownState",[],(function(a,b,c,d,e,f){a=Object.freeze({TAKEN_DOWN:1,RESTORED:2,GEO_BLOCKED:3});f["default"]=a}),66);
__d("MDSColumn.react",["BaseView.react","MDSColumnContext","MDSColumnItem.react","MDSColumnItemContext","isIE11OrGreater","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useContext,j=b.useMemo,k={expanding:{flexBasis:"x1l7klhg",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minHeight:"x2lwn1j",$$css:!0},expandingIE11:{flexBasis:"xdl72j9",$$css:!0},inner:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0},root:{boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",maxWidth:"x193iq5w",$$css:!0}},l={0:{paddingTop:"xexx8yu",$$css:!0},4:{paddingTop:"x1iorvi4",$$css:!0},8:{paddingTop:"x1y1aw1k",$$css:!0},12:{paddingTop:"xz9dl7a",$$css:!0},16:{paddingTop:"xyamay9",$$css:!0},20:{paddingTop:"x1cnzs8",$$css:!0}},m={4:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",$$css:!0},8:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",$$css:!0},12:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},16:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",$$css:!0},20:{paddingTop:"x1cnzs8",paddingBottom:"xx6bls6",$$css:!0}},n={bottom:{justifyContent:"x13a6bvl",$$css:!0},center:{justifyContent:"xl56j7k",$$css:!0},"space-between":{justifyContent:"x1qughib",$$css:!0}};function a(a,b){var d=a.align,e=d===void 0?null:d;d=a.children;var f=a.expanding;f=f===void 0?!1:f;var g=a.hasDividers,o=g===void 0?!1:g;g=a.paddingHorizontal;var p=g===void 0?null:g;g=a.paddingTop;var q=a.paddingVertical;q=q===void 0?0:q;var r=a.spacing,t=r===void 0?null:r;r=a.verticalAlign;r=r===void 0?"top":r;var u=a.xstyle;a=babelHelpers.objectWithoutPropertiesLoose(a,["align","children","expanding","hasDividers","paddingHorizontal","paddingTop","paddingVertical","spacing","verticalAlign","xstyle"]);var v=i(c("MDSColumnContext")),w=j(function(){return{align:e,hasDividers:o,paddingHorizontal:p,spacing:t}},[e,o,p,t]);a=h.jsx(c("BaseView.react"),babelHelpers["extends"]({},a,{ref:b,xstyle:[k.root,f===!0&&[k.expanding,c("isIE11OrGreater")&&k.expandingIE11],m[q],g!=null&&l[g],u],children:h.jsx(c("BaseView.react"),{xstyle:[k.inner,r!=="top"&&n[r]],children:h.jsx(c("MDSColumnContext").Provider,{value:w,children:s(d)})})}));if(v!=null){return h.jsx(c("MDSColumnItem.react"),{expanding:(b=f)!=null?b:void 0,children:a})}return a}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);d=e;var o={isFirst:!0,isLast:!1},p={isFirst:!1,isLast:!0},q={isFirst:!0,isLast:!0},r={isFirst:!1,isLast:!1};function s(a){return h.Children.toArray(a).map(function(a,b,d){var e=b===0;d=b===d.length-1;e=e&&d?q:e?o:d?p:r;return h.jsx(c("MDSColumnItemContext").Provider,{value:e,children:a},b)})}g["default"]=d}),98);
__d("ReQLScrollAnchored.react",["BaseScrollableAreaContext","CometHeroHoldTrigger.react","gkx","intersectionObserverEntryIsIntersecting","react","stylex","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");e=b.forwardRef;var i=b.useCallback,j=b.useContext,aa=b.useEffect,ba=b.useImperativeHandle,ca=b.useLayoutEffect,k=b.useMemo,l=b.useRef,da=b.useState,m=function(b){babelHelpers.inheritsLoose(a,b);function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(a=c=b.call.apply(b,[this].concat(e))||this,c.render=function(){return c.props.children},a)||babelHelpers.assertThisInitialized(c)}var c=a.prototype;c.componentDidUpdate=function(a,b,c){b=a.children;this.props.componentDidUpdate(b,c)};c.getSnapshotBeforeUpdate=function(a){a=a.children;return this.props.getSnapshotBeforeUpdate(a)};return a}(h.PureComponent),n={content:{position:"x1n2onr6",$$css:!0},contentFooter:{bottom:"x1ey2m1c",height:"xjm9jq1",marginTop:"x1y332i5",pointerEvents:"x47corl",position:"x10l6tqk",$$css:!0},contentMinHeight:{minHeight:"x1us19tq",$$css:!0},disableScrollAnchoring:{overflowAnchor:"x1xzczws",$$css:!0},fallbackIframe:{borderTop:"x76ihet",borderEnd:"xwmqs3e",borderBottom:"x112ta8",borderStart:"xxxdfa6",height:"x5yr21d",marginBottom:"x1ty9z65",opacity:"xg01cxk",pointerEvents:"x47corl",position:"x10l6tqk",start:"x17qophe",top:"x1yhy09f",width:"xh8yej3",$$css:!0},scrollArea:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowAnchor:"x1xzczws",overflowX:"x6ikm8r",overflowY:"x1rife3k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},wrapper:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}},o=typeof ResizeObserver!=="undefined",p=[];function q(){for(var a=arguments.length,b=new Array(a),c=0;c<a;c++)b[c]=arguments[c];p.push(b);p.length>100&&p.shift()}function ea(a){var b=a.clientHeight;a=a.scrollTop;return a>b*2}function fa(a,b){return a-b.scrollTop>b.clientHeight*2}var ga=5,ha=3;function a(a,b){var d=a.hasReachedBottom,e=d===void 0?!0:d;d=a.hasReachedTop;var f=d===void 0?!0:d,g=a.initialAnchor,p=a.initialRenderComplete,r=a.onReachingBottom,s=a.onReachingTop,t=a.onScroll,u=a.onUserScroll;d=a.renderEmptyContent;var v=a.renderFooter,w=a.renderHeader,x=a.renderHeaderContentSpacer,y=a.renderLoadingAnimation,z=a.isSufficientContentLoadedAbove,A=z===void 0?ea:z;z=a.isSufficientContentLoadedBelow;var B=z===void 0?fa:z;z=a.snapThreshold;var C=z===void 0?5:z;z=a.xstyle;var D=a.elements,E=j(c("BaseScrollableAreaContext")),F=l();a=k(function(){return[].concat(E,[{getDOMNode:function(){return F==null?void 0:F.current}}])},[E]);var G=l(),H=l(),I=da(g),J=I[0],K=I[1],L=l(g),M=l(null),N=i(function(){var a=F.current,b=H.current;if(a==null||b==null||a.offsetParent===null||b.offsetParent===null)return;b=B(b.clientHeight,a);M.current=a.scrollTop;if(!b&&!e&&r!=null){r();return}b=A(a);M.current=a.scrollTop;!b&&!f&&s!=null&&s()},[e,f,A,B,r,s]);aa(N,[N,D.length]);var O=i(function(a){if(a.scrollHeight===a.clientHeight)return;var b=a.scrollHeight-a.clientHeight-a.scrollTop<C&&e?"bottom":"top";L.current!==b&&q("Updating scroll position from",L.current,"to",b,a.scrollHeight,a.clientHeight,a.scrollTop);K(L.current=b);M.current=a.scrollTop},[e,C]),P=i(function(){var a=F.current,b=H.current;if(a==null||b==null)return;g==="bottom"?(a.scrollTop=a.scrollHeight,t&&t(a)):f||(a.scrollTop=b.offsetTop,t&&t(a));e&&a.scrollHeight-a.clientHeight-a.scrollTop<C?K(L.current="bottom"):K(L.current=g);M.current=a.scrollTop},[e,f,g,t,C]),Q=l(!1);ca(function(){if(Q.current)return;P();Q.current=!0},[P]);var R=i(function(a){a===void 0&&(a=!1);var b=F.current;if(b==null)return;p&&b.scrollHeight>b.clientHeight&&p();if(L.current==="bottom"){var d=b.scrollTop;b.scrollTop=b.scrollHeight;var e=b.scrollTop;t&&t(b);e-d>0&&a&&c("gkx")("6494")&&(b.animate==null?void 0:b.animate([{transform:"translateY("+(e-d)+"px)"},{transform:"translateY(0)"}],{duration:150,easing:"ease-out",iterations:1}))}M.current=b.scrollTop},[p,t]);I=i(function(){var a=F.current;if(a==null)return;t&&t(a);if(a.scrollTop===M.current)return;q("User scroll",a.scrollTop,M.current);M.current=null;N();O(a);u&&u()},[N,t,u,O]);var S=i(function(){R(!1),N()},[R,N]),T=i(function(){return R(!0)},[R]),U=c("useResizeObserver")(T),V=c("useResizeObserver")(S);T=i(function(a){U(a),H.current=a},[U]);var ia=i(function(a){V(a),F.current=a},[V]),W=i(function(a,b){if(b!=null){a=b.element;var c=b.height;b=b.scrollAreaElement;a=a.clientHeight;M.current=b.scrollTop;a!==c&&!(a<=c&&L.current==="bottom")&&(q("Fixed scroll position"),b.scrollTop+=a-c,M.current=b.scrollTop,t&&t(b))}},[t]),X=i(function(){if(F.current!=null){var a=F.current;a.scrollTop=a.scrollHeight;M.current=a.scrollTop;t&&t(a)}K(L.current=e?"bottom":"top")},[e,t]);function ja(){if(F.current!=null){var a=F.current,b=a.scrollHeight-a.scrollTop-a.clientHeight<ga;M.current=a.scrollTop;return b}else return!1}var Y=l(null),Z=i(function(a,b){var d=Y.current,e=F.current;if(d!=null&&e!=null){var f=new IntersectionObserver(function(a){a=a[0];return b(c("intersectionObserverEntryIsIntersecting")(a))},{root:e,rootMargin:a+"px"});f.observe(d);return function(){return f.disconnect()}}},[]),$=i(function(){var a=F.current;if(a!=null){var b=a.scrollHeight-a.clientHeight>0;M.current=a.scrollTop;return b}return!1},[]);function ka(){var a=F.current;if(a==null)return null;var b={clientHeight:a.clientHeight,scrollHeight:a.scrollHeight,scrollTop:a.scrollTop};M.current=a.scrollTop;return b}ba(b,function(){return{doesContentFillScroll:$,getScrollAreaElement:function(){return F.current},getScrollerMeasurements:ka,isAtBottom:ja,onCloseToBottom:Z,resetScrollPosition:P,scrollToBottom:X}},[$,Z,P,X]);b=k(function(){return h.jsx(m,{componentDidUpdate:W,getSnapshotBeforeUpdate:function(a){var b=H.current,c=F.current;if(b!=null&&c!=null&&!(f&&c.scrollTop===0)&&(!a.length||D.length&&a[0].key!==D[0].key&&a.length!==D.length)){a=b.clientHeight;M.current=c.scrollTop;return{element:b,height:a,scrollAreaElement:c}}return null},children:D})},[D,W,f]);return h.jsx(c("BaseScrollableAreaContext").Provider,{value:a,children:h.jsx("div",{className:c("stylex")(z),children:h.jsx("div",{className:c("stylex")(n.wrapper,J==="bottom"&&n.disableScrollAnchoring),children:h.jsxs("div",{className:"x78zum5 xdt5ytf x1iyjqo2 xs83m0k x1xzczws x6ikm8r x1rife3k x1n2onr6 xh8yej3","data-testid":void 0,onScroll:I,ref:ia,children:[!o&&h.jsx("iframe",{className:"x76ihet xwmqs3e x112ta8 xxxdfa6 x5yr21d x1ty9z65 xg01cxk x47corl x10l6tqk x17qophe x1yhy09f xh8yej3",ref:function(a){a!=null&&(a.contentWindow.onresize=S)}}),h.jsx(c("CometHeroHoldTrigger.react"),{description:"ReQLListLoadingItems",hold:D.length<ha&&!f}),h.jsxs(m,{componentDidUpdate:W,getSnapshotBeforeUpdate:function(){if(J==="bottom"){var a=G.current,b=F.current;if(a!=null&&b!=null){var c=a.clientHeight;return{element:a,height:c,scrollAreaElement:b}}}return null},children:[h.jsx("div",{ref:G,children:f?w&&w():y&&y()}),d!=null?d():null]}),x!=null&&x(),h.jsx("div",{className:c("stylex")(D.length!==0&&!f&&!e&&n.contentMinHeight),children:h.jsxs("div",{className:"x1n2onr6",ref:T,children:[!o&&h.jsx("iframe",{className:"x76ihet xwmqs3e x112ta8 xxxdfa6 x5yr21d x1ty9z65 xg01cxk x47corl x10l6tqk x17qophe x1yhy09f xh8yej3",ref:function(a){a!=null&&(a.contentWindow.onresize=R)}}),b,h.jsx("div",{className:"x1ey2m1c xjm9jq1 x1y332i5 x47corl x10l6tqk",ref:Y}),e?v&&v():y&&y()]})})]})})})})}a.displayName=a.name+" [from "+f.id+"]";d=Object.assign(e(a),{logs:p});g.default=d}),98);
__d("useStableValue",["I64","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useRef;function a(a){return i(a,d("I64").equal)}function i(a,b){var c=h(a);b(c.current,a)||(c.current=a);return c.current}g.useStableI64=a;g.useStableValue=i}),98);
__d("useStableBounds",["deepEquals","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return d("useStableValue").useStableValue(a,c("deepEquals"))}g["default"]=a}),98);
__d("ReQLPaginatedList.react",["PromiseOrValue","ReQL","ReQLScrollAnchored.react","ReQLSuspense","SortedAsyncIterable","deepEquals","promiseDone","react","useMergeRefs","useStableBounds","useStableValue"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useLayoutEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=b.useTransition;function p(a,b){return b==null?a:a.bounds(b)}function q(a){if(a instanceof Promise)throw a;return a}function r(a){return{direction:a.direction,iterator:function(b,c){var e=a.iterator(b,c);return{next:function(a){return d("PromiseOrValue").map(e.next(a),function(a){return a.done?a:{done:!1,value:[a.value[0],a.value]}})}}},keyLength:a.keyLength,subscribe:function(b,c){return a.subscribe(async function(a,c,d){c.operation==="delete"?await b(a,c,d):c.operation==="add"?await b(a,{operation:"add",value:[a,c.value]},d):c.operation==="put"&&await b(a,{operation:"put",value:[a,c.value]},d)},c)}}}function s(a){var b=a.clientHeight;a=a.scrollTop;return a>b*2}function a(a){var b=a.bounds,e=a.direction,g=e===void 0?"asc":e;e=a.hasReachedBottom;var t=e===void 0?!0:e;e=a.hasReachedTop;var u=e===void 0?!0:e;e=a.imperativeRef;var v=a.initialAnchor,w=a.initialRenderComplete,x=a.onReachingBottom,y=a.onReachingTop,z=a.onScroll,A=a.onUserScroll,B=a.pageSize,C=B===void 0?15:B;B=a.renderEmptyContent;var aa=a.renderFooter,ba=a.renderHeader,ca=a.renderHeaderContentSpacer,D=a.renderItem,da=a.renderLoadingAnimation,E=a.isSufficientContentLoadedAbove;E=E===void 0?s:E;var ea=a.isSufficientContentLoadedBelow,F=a.snapThreshold;F=F===void 0?5:F;var G=a.data,H=G.ascending,I=G.descending;G=a.xstyle;a=o();a[0];var J=a[1],K=c("useStableBounds")(b);if(v!=null&&v!=="top"&&v!=="bottom"){a=p(I,K).bounds({lt:v}).iterator(new WeakMap()).next();if(a instanceof Promise)throw a;v=a.done?"top":a.value[0]}var L=d("useStableValue").useStableValue(v,c("deepEquals")),M=l(function(){var a,b;L==="top"||L==null?(a=d("ReQL").empty(),b=g==="asc"?H:I):L==="bottom"?(a=g==="asc"?I:H,b=d("ReQL").empty()):(a=g==="asc"?I.bounds({lt:L}):H.bounds({gt:L}),b=g==="asc"?H.bounds({gte:L}):I.bounds({lte:L}));return{after:b,before:a}},[L,H,I,g]),N=m(!1),O=l(function(){var a=q(d("SortedAsyncIterable").toArray(p(M.before,K).take(L==="bottom"?C:0),f.id+":194")).reverse(),b=q(d("SortedAsyncIterable").toArray(p(M.after,K).take(C),f.id+":201")),c=L==="bottom"?!0:b.length<C,e=L==="top"||L==null?!0:L==="bottom"?a.length<C:!1;return{firstKey:e?void 0:L==="bottom"?(e=a[0])==null?void 0:e[0]:(a=b[0])==null?void 0:a[0],lastKey:c?void 0:(e=b[b.length-1])==null?void 0:e[0]}},[L,K,M.after,M.before,C]);b=n(function(){return[O,[M,L]]});a=b[0];var P=b[1];v=a!=null&&a[1][0]===M&&a[1][1]===L;b=v?a[0]:O;var Q=b.firstKey,R=b.lastKey,S=d("ReQLSuspense").useArray(function(){return r(Q==null?p(M.before,K).take(C):p(M.before,K).bounds(g==="asc"?{gte:Q}:{lte:Q}))},[K,g,Q,M.before,C],f.id+":237"),T=l(function(){return[].concat(S).reverse()},[S]);j(function(){T.length===C&&Q==null&&J(function(){return P([{firstKey:T[0][0],lastKey:R},[M,L]])})},[T,Q,L,M,R,C]);var U=d("ReQLSuspense").useArray(function(){return r(R==null?p(M.after,K).take(C):p(M.after,K).bounds(g==="asc"?{lte:R}:{gte:R}))},[K,g,M.after,R,C],f.id+":263");j(function(){U.length===C&&R==null&&J(function(){return P([{firstKey:Q,lastKey:U[U.length-1][0]},[M,L]])})},[U,Q,L,M,R,C]);var V=l(function(){return[].concat(T,U)},[T,U]),W=d("ReQLSuspense").useFirst(function(){return V.length===0?d("ReQL").empty():p(M.before,K).bounds(g==="asc"?{lt:V[0][0]}:{gt:V[0][0]})},[V,K,g,M.before],f.id+":289")==null,X=d("ReQLSuspense").useFirst(function(){return V.length===0?d("ReQL").empty():p(M.after,K).bounds(g==="asc"?{gt:V[V.length-1][0]}:{lt:V[V.length-1][0]})},[V,K,g,M.after],f.id+":299")==null;v=i(function(){if(N.current)return;if(X){if(!t&&x!=null)return x()}else{N.current=!0;c("promiseDone")(Promise.resolve(d("SortedAsyncIterable").toArray(p(g==="asc"?H:I,K).bounds(g==="asc"?{gt:V[V.length-1][0]}:{lt:V[V.length-1][0]}).take(C),f.id+":323")),function(a){N.current=!1,J(function(){var b;return P([{firstKey:Q,lastKey:(b=(b=a[a.length-1])==null?void 0:b[0])!=null?b:V[V.length-1][0]},[M,L]])})});return}},[X,t,x,g,H,I,K,V,C,Q,M,L]);a=i(function(){if(N.current)return;if(W){if(!u&&y!=null)return y()}else{N.current=!0;c("promiseDone")(Promise.resolve(d("SortedAsyncIterable").toArray(p(g==="asc"?I:H,K).bounds(g==="asc"?{lt:V[0][0]}:{gt:V[0][0]}).take(C),f.id+":377")),function(a){N.current=!1,a.reverse(),J(function(){var b;return P([{firstKey:(b=(b=a[0])==null?void 0:b[0])!=null?b:V[0][0],lastKey:R},[M,L]])})});return}},[W,u,y,g,H,I,K,V,C,R,M,L]);var Y=W&&u?0:1,Z=V.length-(X&&t?0:1);b=l(function(){var a=new Array(Z>Y?Z-Y:0);for(var b=Y;b<Z;b++){var c;a[b-Y]=D(V[b][1],{nextItem:(c=V[b+1])==null?void 0:c[1],previousItem:(c=V[b-1])==null?void 0:c[1]})}return a},[V,Y,D,Z]);var $=m(null);e=c("useMergeRefs")($,e);k(function(){var a;(a=$.current)==null?void 0:a.resetScrollPosition()},[L]);return h.jsx(c("ReQLScrollAnchored.react"),{elements:b,hasReachedBottom:X&&t,hasReachedTop:W&&u,initialAnchor:L==="bottom"?"bottom":"top",initialRenderComplete:w,isSufficientContentLoadedAbove:E,isSufficientContentLoadedBelow:ea,onReachingBottom:v,onReachingTop:a,onScroll:z,onUserScroll:A,pageSize:C,ref:e,renderEmptyContent:B,renderFooter:aa,renderHeader:ba,renderHeaderContentSpacer:ca,renderLoadingAnimation:da,snapThreshold:F,xstyle:G})}a.displayName=a.name+" [from "+f.id+"]";g.default=a}),98);
__d("ReQLPaginatedList.shared",[],(function(a,b,c,d,e,f){"use strict";function a(a,b){return{ascending:a,descending:b}}f.fromIterables=a}),66);